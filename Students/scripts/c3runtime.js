// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa;"use strict";var Ba=this;
function Da(d){function a(g,l,q){var y=l[0],C=l[1],D=l[2];l=l[3];var F=q[0],H=q[1],J=q[2];q=q[3];g[0]=y*F+D*H;g[1]=C*F+l*H;g[2]=y*J+D*q;g[3]=C*J+l*q;return g}function b(g,l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];g[2]=l[2]-q[2];g[3]=l[3]-q[3];return g}function f(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4];l=l[5];var J=q[0],L=q[1],Q=q[2],R=q[3],X=q[4];q=q[5];g[0]=y*J+D*L;g[1]=C*J+F*L;g[2]=y*Q+D*R;g[3]=C*Q+F*R;g[4]=y*X+D*q+H;g[5]=C*X+F*q+l;return g}function c(g,l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];g[2]=l[2]-
q[2];g[3]=l[3]-q[3];g[4]=l[4]-q[4];g[5]=l[5]-q[5];return g}function e(){var g=new oa(9);oa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0);g[0]=1;g[4]=1;g[8]=1;return g}function k(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7];l=l[8];var R=q[0],X=q[1],U=q[2],da=q[3],ca=q[4],Z=q[5],sa=q[6],ma=q[7];q=q[8];g[0]=R*y+X*F+U*L;g[1]=R*C+X*H+U*Q;g[2]=R*D+X*J+U*l;g[3]=da*y+ca*F+Z*L;g[4]=da*C+ca*H+Z*Q;g[5]=da*D+ca*J+Z*l;g[6]=sa*y+ma*F+q*L;g[7]=sa*C+ma*H+q*Q;g[8]=sa*D+ma*J+q*l;
return g}function h(g,l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];g[2]=l[2]-q[2];g[3]=l[3]-q[3];g[4]=l[4]-q[4];g[5]=l[5]-q[5];g[6]=l[6]-q[6];g[7]=l[7]-q[7];g[8]=l[8]-q[8];return g}function m(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function n(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7],R=l[8],X=l[9],U=l[10],da=l[11],ca=l[12],Z=l[13],sa=l[14];l=l[15];var ma=q[0],qa=q[1],ra=q[2],pa=q[3];g[0]=ma*y+
qa*H+ra*R+pa*ca;g[1]=ma*C+qa*J+ra*X+pa*Z;g[2]=ma*D+qa*L+ra*U+pa*sa;g[3]=ma*F+qa*Q+ra*da+pa*l;ma=q[4];qa=q[5];ra=q[6];pa=q[7];g[4]=ma*y+qa*H+ra*R+pa*ca;g[5]=ma*C+qa*J+ra*X+pa*Z;g[6]=ma*D+qa*L+ra*U+pa*sa;g[7]=ma*F+qa*Q+ra*da+pa*l;ma=q[8];qa=q[9];ra=q[10];pa=q[11];g[8]=ma*y+qa*H+ra*R+pa*ca;g[9]=ma*C+qa*J+ra*X+pa*Z;g[10]=ma*D+qa*L+ra*U+pa*sa;g[11]=ma*F+qa*Q+ra*da+pa*l;ma=q[12];qa=q[13];ra=q[14];pa=q[15];g[12]=ma*y+qa*H+ra*R+pa*ca;g[13]=ma*C+qa*J+ra*X+pa*Z;g[14]=ma*D+qa*L+ra*U+pa*sa;g[15]=ma*F+qa*Q+ra*
da+pa*l;return g}function p(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=y+y,J=C+C,L=D+D;l=y*H;var Q=y*J;y*=L;var R=C*J;C*=L;D*=L;H*=F;J*=F;F*=L;g[0]=1-(R+D);g[1]=Q+F;g[2]=y-J;g[3]=0;g[4]=Q-F;g[5]=1-(l+D);g[6]=C+H;g[7]=0;g[8]=y+J;g[9]=C-H;g[10]=1-(l+R);g[11]=0;g[12]=q[0];g[13]=q[1];g[14]=q[2];g[15]=1;return g}function r(g,l){g[0]=l[12];g[1]=l[13];g[2]=l[14];return g}function v(g,l){var q=l[4],y=l[5],C=l[6],D=l[8],F=l[9],H=l[10];g[0]=Math.hypot(l[0],l[1],l[2]);g[1]=Math.hypot(q,y,C);g[2]=Math.hypot(D,
F,H);return g}function x(g,l){var q=new oa(3);v(q,l);var y=1/q[0],C=1/q[1],D=1/q[2],F=l[0]*y;q=l[1]*C;var H=l[2]*D,J=l[4]*y,L=l[5]*C,Q=l[6]*D;y*=l[8];C*=l[9];l=l[10]*D;D=F+L+l;0<D?(F=2*Math.sqrt(D+1),g[3]=.25*F,g[0]=(Q-C)/F,g[1]=(y-H)/F,g[2]=(q-J)/F):F>L&&F>l?(F=2*Math.sqrt(1+F-L-l),g[3]=(Q-C)/F,g[0]=.25*F,g[1]=(q+J)/F,g[2]=(y+H)/F):L>l?(F=2*Math.sqrt(1+L-F-l),g[3]=(y-H)/F,g[0]=(q+J)/F,g[1]=.25*F,g[2]=(Q+C)/F):(F=2*Math.sqrt(1+l-F-L),g[3]=(q-J)/F,g[0]=(y+H)/F,g[1]=(Q+C)/F,g[2]=.25*F);return g}function w(g,
l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];g[2]=l[2]-q[2];g[3]=l[3]-q[3];g[4]=l[4]-q[4];g[5]=l[5]-q[5];g[6]=l[6]-q[6];g[7]=l[7]-q[7];g[8]=l[8]-q[8];g[9]=l[9]-q[9];g[10]=l[10]-q[10];g[11]=l[11]-q[11];g[12]=l[12]-q[12];g[13]=l[13]-q[13];g[14]=l[14]-q[14];g[15]=l[15]-q[15];return g}function u(){var g=new oa(3);oa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);return g}function t(g){return Math.hypot(g[0],g[1],g[2])}function A(g,l,q){var y=new oa(3);y[0]=g;y[1]=l;y[2]=q;return y}function z(g,l,q){g[0]=l[0]-q[0];g[1]=
l[1]-q[1];g[2]=l[2]-q[2];return g}function E(g,l,q){g[0]=l[0]*q[0];g[1]=l[1]*q[1];g[2]=l[2]*q[2];return g}function G(g,l,q){g[0]=l[0]/q[0];g[1]=l[1]/q[1];g[2]=l[2]/q[2];return g}function I(g,l){return Math.hypot(l[0]-g[0],l[1]-g[1],l[2]-g[2])}function N(g,l){var q=l[0]-g[0],y=l[1]-g[1];g=l[2]-g[2];return q*q+y*y+g*g}function O(g){var l=g[0],q=g[1];g=g[2];return l*l+q*q+g*g}function P(g,l){var q=l[0],y=l[1],C=l[2];q=q*q+y*y+C*C;0<q&&(q=1/Math.sqrt(q));g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;return g}function S(g,
l){return g[0]*l[0]+g[1]*l[1]+g[2]*l[2]}function T(g,l,q){var y=l[0],C=l[1];l=l[2];var D=q[0],F=q[1];q=q[2];g[0]=C*q-l*F;g[1]=l*D-y*q;g[2]=y*F-C*D;return g}function Y(){var g=new oa(4);oa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0);return g}function ba(g){var l=new oa(4);l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];return l}function ea(g,l,q,y){var C=new oa(4);C[0]=g;C[1]=l;C[2]=q;C[3]=y;return C}function W(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];return g}function na(g,l,q,y,C){g[0]=l;g[1]=q;g[2]=
y;g[3]=C;return g}function ja(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];return g}function xa(g,l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];g[2]=l[2]-q[2];g[3]=l[3]-q[3];return g}function Ja(g,l,q){g[0]=l[0]*q[0];g[1]=l[1]*q[1];g[2]=l[2]*q[2];g[3]=l[3]*q[3];return g}function Va(g,l,q){g[0]=l[0]/q[0];g[1]=l[1]/q[1];g[2]=l[2]/q[2];g[3]=l[3]/q[3];return g}function Na(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;g[3]=l[3]*q;return g}function Wa(g,l){return Math.hypot(l[0]-g[0],l[1]-g[1],
l[2]-g[2],l[3]-g[3])}function Oa(g,l){var q=l[0]-g[0],y=l[1]-g[1],C=l[2]-g[2];g=l[3]-g[3];return q*q+y*y+C*C+g*g}function Ca(g){return Math.hypot(g[0],g[1],g[2],g[3])}function Aa(g){var l=g[0],q=g[1],y=g[2];g=g[3];return l*l+q*q+y*y+g*g}function Ka(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=q*q+y*y+C*C+l*l;0<D&&(D=1/Math.sqrt(D));g[0]=q*D;g[1]=y*D;g[2]=C*D;g[3]=l*D;return g}function Ha(g,l){return g[0]*l[0]+g[1]*l[1]+g[2]*l[2]+g[3]*l[3]}function Xa(g,l,q,y){var C=l[0],D=l[1],F=l[2];l=l[3];g[0]=C+
y*(q[0]-C);g[1]=D+y*(q[1]-D);g[2]=F+y*(q[2]-F);g[3]=l+y*(q[3]-l);return g}function Ya(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]}function Za(g,l){var q=g[0],y=g[1],C=g[2];g=g[3];var D=l[0],F=l[1],H=l[2];l=l[3];return Math.abs(q-D)<=1E-6*Math.max(1,Math.abs(q),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))}function La(){var g=new oa(4);oa!=Float32Array&&
(g[0]=0,g[1]=0,g[2]=0);g[3]=1;return g}function $a(g,l,q){q*=.5;var y=Math.sin(q);g[0]=y*l[0];g[1]=y*l[1];g[2]=y*l[2];g[3]=Math.cos(q);return g}function ab(g,l,q){var y=l[0],C=l[1],D=l[2];l=l[3];var F=q[0],H=q[1],J=q[2];q=q[3];g[0]=y*q+l*F+C*J-D*H;g[1]=C*q+l*H+D*F-y*J;g[2]=D*q+l*J+y*H-C*F;g[3]=l*q-y*F-C*H-D*J;return g}function bb(g,l,q){q*=.5;var y=l[0],C=l[1],D=l[2];l=l[3];var F=Math.sin(q);q=Math.cos(q);g[0]=y*q+l*F;g[1]=C*q+D*F;g[2]=D*q-C*F;g[3]=l*q-y*F;return g}function cb(g,l,q){q*=.5;var y=
l[0],C=l[1],D=l[2];l=l[3];var F=Math.sin(q);q=Math.cos(q);g[0]=y*q-D*F;g[1]=C*q+l*F;g[2]=D*q+y*F;g[3]=l*q-C*F;return g}function db(g,l,q){q*=.5;var y=l[0],C=l[1],D=l[2];l=l[3];var F=Math.sin(q);q=Math.cos(q);g[0]=y*q+C*F;g[1]=C*q-y*F;g[2]=D*q+l*F;g[3]=l*q-D*F;return g}function eb(g,l){var q=l[0],y=l[1],C=l[2],D=Math.sqrt(q*q+y*y+C*C);l=Math.exp(l[3]);var F=0<D?l*Math.sin(D)/D:0;g[0]=q*F;g[1]=y*F;g[2]=C*F;g[3]=l*Math.cos(D);return g}function fb(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=Math.sqrt(q*
q+y*y+C*C);D=0<D?Math.atan2(D,l)/D:0;g[0]=q*D;g[1]=y*D;g[2]=C*D;g[3]=.5*Math.log(q*q+y*y+C*C+l*l);return g}function Ma(g,l,q,y){var C=l[0],D=l[1],F=l[2];l=l[3];var H=q[0],J=q[1],L=q[2];q=q[3];var Q=C*H+D*J+F*L+l*q;0>Q&&(Q=-Q,H=-H,J=-J,L=-L,q=-q);if(1E-6<1-Q){var R=Math.acos(Q);var X=Math.sin(R);Q=Math.sin((1-y)*R)/X;y=Math.sin(y*R)/X}else Q=1-y;g[0]=Q*C+y*H;g[1]=Q*D+y*J;g[2]=Q*F+y*L;g[3]=Q*l+y*q;return g}function gb(g,l){var q=l[0]+l[4]+l[8];if(0<q)q=Math.sqrt(q+1),g[3]=.5*q,q=.5/q,g[0]=(l[5]-l[7])*
q,g[1]=(l[6]-l[2])*q,g[2]=(l[1]-l[3])*q;else{var y=0;l[4]>l[0]&&(y=1);l[8]>l[3*y+y]&&(y=2);var C=(y+1)%3,D=(y+2)%3;q=Math.sqrt(l[3*y+y]-l[3*C+C]-l[3*D+D]+1);g[y]=.5*q;q=.5/q;g[3]=(l[3*C+D]-l[3*D+C])*q;g[C]=(l[3*C+y]+l[3*y+C])*q;g[D]=(l[3*D+y]+l[3*y+D])*q}return g}function hb(g,l,q){var y=.5*q[0],C=.5*q[1];q=.5*q[2];var D=l[0],F=l[1],H=l[2];l=l[3];g[0]=D;g[1]=F;g[2]=H;g[3]=l;g[4]=y*l+C*H-q*F;g[5]=C*l+q*D-y*H;g[6]=q*l+y*F-C*D;g[7]=-y*D-C*F-q*H;return g}function ib(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];
g[3]=l[3];g[4]=l[4];g[5]=l[5];g[6]=l[6];g[7]=l[7];return g}function jb(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=q[4],J=q[5],L=q[6],Q=q[7],R=l[4],X=l[5],U=l[6];l=l[7];var da=q[0],ca=q[1],Z=q[2];q=q[3];g[0]=y*q+F*da+C*Z-D*ca;g[1]=C*q+F*ca+D*da-y*Z;g[2]=D*q+F*Z+y*ca-C*da;g[3]=F*q-y*da-C*ca-D*Z;g[4]=y*Q+F*H+C*L-D*J+R*q+l*da+X*Z-U*ca;g[5]=C*Q+F*J+D*H-y*L+X*q+l*ca+U*da-R*Z;g[6]=D*Q+F*L+y*J-C*H+U*q+l*Z+R*ca-X*da;g[7]=F*Q-y*H-C*J-D*L+l*q-R*da-X*ca-U*Z;return g}function kb(){var g=new oa(2);oa!=Float32Array&&
(g[0]=0,g[1]=0);return g}function lb(g,l,q){g[0]=l[0]-q[0];g[1]=l[1]-q[1];return g}function mb(g,l,q){g[0]=l[0]*q[0];g[1]=l[1]*q[1];return g}function nb(g,l,q){g[0]=l[0]/q[0];g[1]=l[1]/q[1];return g}function ob(g,l){return Math.hypot(l[0]-g[0],l[1]-g[1])}function pb(g,l){var q=l[0]-g[0];g=l[1]-g[1];return q*q+g*g}function qb(g){return Math.hypot(g[0],g[1])}function rb(g){var l=g[0];g=g[1];return l*l+g*g}var oa="undefined"!==typeof Float32Array?Float32Array:Array,ya=Math.random,vb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var g=0,l=arguments.length;l--;)g+=arguments[l]*arguments[l];return Math.sqrt(g)});var wb=Object.freeze({__proto__:null,EPSILON:1E-6,get nba(){return oa},Vga:ya,Ana:function(g){oa=g},Lna:function(g){return g*vb},Rc:function(g,l){return Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))}}),xb=Object.freeze({__proto__:null,create:function(){var g=new oa(4);oa!=Float32Array&&(g[1]=0,g[2]=0);g[0]=1;g[3]=1;return g},clone:function(g){var l=new oa(4);l[0]=g[0];l[1]=g[1];
l[2]=g[2];l[3]=g[3];return l},Aa:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];return g},jv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;return g},cf:function(g,l,q,y){var C=new oa(4);C[0]=g;C[1]=l;C[2]=q;C[3]=y;return C},set:function(g,l,q,y,C){g[0]=l;g[1]=q;g[2]=y;g[3]=C;return g},jS:function(g,l){if(g===l){var q=l[1];g[1]=l[2];g[2]=q}else g[0]=l[0],g[1]=l[2],g[2]=l[1],g[3]=l[3];return g},mr:function(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=q*l-C*y;if(!D)return null;D=1/D;g[0]=l*D;g[1]=-y*
D;g[2]=-C*D;g[3]=q*D;return g},vR:function(g,l){var q=l[0];g[0]=l[3];g[1]=-l[1];g[2]=-l[2];g[3]=q;return g},SH:function(g){return g[0]*g[3]-g[2]*g[1]},multiply:a,rotate:function(g,l,q){var y=l[0],C=l[1],D=l[2];l=l[3];var F=Math.sin(q);q=Math.cos(q);g[0]=y*q+D*F;g[1]=C*q+l*F;g[2]=y*-F+D*q;g[3]=C*-F+l*q;return g},scale:function(g,l,q){var y=l[1],C=l[2],D=l[3],F=q[0];q=q[1];g[0]=l[0]*F;g[1]=y*F;g[2]=C*q;g[3]=D*q;return g},zA:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=l;g[1]=q;g[2]=-q;g[3]=l;
return g},VH:function(g,l){g[0]=l[0];g[1]=0;g[2]=0;g[3]=l[1];return g},ol:function(g){return"mat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},UH:function(g){return Math.hypot(g[0],g[1],g[2],g[3])},gfa:function(g,l,q,y){g[2]=y[2]/y[0];q[0]=y[0];q[1]=y[1];q[3]=y[3]-g[2]*q[1];return[g,l,q]},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];return g},pl:b,Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]},Rc:function(g,l){var q=g[0],y=g[1],C=g[2];g=
g[3];var D=l[0],F=l[1],H=l[2];l=l[3];return Math.abs(q-D)<=1E-6*Math.max(1,Math.abs(q),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))},iI:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;g[3]=l[3]*q;return g},jI:function(g,l,q,y){g[0]=l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;g[3]=l[3]+q[3]*y;return g},Pm:a,sub:b}),yb=Object.freeze({__proto__:null,create:function(){var g=
new oa(6);oa!=Float32Array&&(g[1]=0,g[2]=0,g[4]=0,g[5]=0);g[0]=1;g[3]=1;return g},clone:function(g){var l=new oa(6);l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];l[4]=g[4];l[5]=g[5];return l},Aa:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];g[4]=l[4];g[5]=l[5];return g},jv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;return g},cf:function(g,l,q,y,C,D){var F=new oa(6);F[0]=g;F[1]=l;F[2]=q;F[3]=y;F[4]=C;F[5]=D;return F},set:function(g,l,q,y,C,D,F){g[0]=l;g[1]=q;g[2]=y;g[3]=C;g[4]=D;g[5]=
F;return g},mr:function(g,l){var q=l[0],y=l[1],C=l[2],D=l[3],F=l[4];l=l[5];var H=q*D-y*C;if(!H)return null;H=1/H;g[0]=D*H;g[1]=-y*H;g[2]=-C*H;g[3]=q*H;g[4]=(C*l-D*F)*H;g[5]=(y*F-q*l)*H;return g},SH:function(g){return g[0]*g[3]-g[1]*g[2]},multiply:f,rotate:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4];l=l[5];var J=Math.sin(q);q=Math.cos(q);g[0]=y*q+D*J;g[1]=C*q+F*J;g[2]=y*-J+D*q;g[3]=C*-J+F*q;g[4]=H;g[5]=l;return g},scale:function(g,l,q){var y=l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=q[0];q=q[1];
g[0]=l[0]*J;g[1]=y*J;g[2]=C*q;g[3]=D*q;g[4]=F;g[5]=H;return g},translate:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4];l=l[5];var J=q[0];q=q[1];g[0]=y;g[1]=C;g[2]=D;g[3]=F;g[4]=y*J+D*q+H;g[5]=C*J+F*q+l;return g},zA:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=l;g[1]=q;g[2]=-q;g[3]=l;g[4]=0;g[5]=0;return g},VH:function(g,l){g[0]=l[0];g[1]=0;g[2]=0;g[3]=l[1];g[4]=0;g[5]=0;return g},WH:function(g,l){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=l[0];g[5]=l[1];return g},ol:function(g){return"mat2d("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+")"},UH:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],1)},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];g[4]=l[4]+q[4];g[5]=l[5]+q[5];return g},pl:c,iI:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;g[3]=l[3]*q;g[4]=l[4]*q;g[5]=l[5]*q;return g},jI:function(g,l,q,y){g[0]=l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;g[3]=l[3]+q[3]*y;g[4]=l[4]+q[4]*y;g[5]=l[5]+q[5]*y;return g},Ii:function(g,l){return g[0]===
l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]&&g[4]===l[4]&&g[5]===l[5]},Rc:function(g,l){var q=g[0],y=g[1],C=g[2],D=g[3],F=g[4];g=g[5];var H=l[0],J=l[1],L=l[2],Q=l[3],R=l[4];l=l[5];return Math.abs(q-H)<=1E-6*Math.max(1,Math.abs(q),Math.abs(H))&&Math.abs(y-J)<=1E-6*Math.max(1,Math.abs(y),Math.abs(J))&&Math.abs(C-L)<=1E-6*Math.max(1,Math.abs(C),Math.abs(L))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(F-R)<=1E-6*Math.max(1,Math.abs(F),Math.abs(R))&&Math.abs(g-l)<=1E-6*Math.max(1,
Math.abs(g),Math.abs(l))},Pm:f,sub:c}),zb=Object.freeze({__proto__:null,create:e,Q$:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[4];g[4]=l[5];g[5]=l[6];g[6]=l[8];g[7]=l[9];g[8]=l[10];return g},clone:function(g){var l=new oa(9);l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];l[4]=g[4];l[5]=g[5];l[6]=g[6];l[7]=g[7];l[8]=g[8];return l},Aa:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];g[4]=l[4];g[5]=l[5];g[6]=l[6];g[7]=l[7];g[8]=l[8];return g},cf:function(g,l,q,y,C,D,F,H,J){var L=new oa(9);L[0]=
g;L[1]=l;L[2]=q;L[3]=y;L[4]=C;L[5]=D;L[6]=F;L[7]=H;L[8]=J;return L},set:function(g,l,q,y,C,D,F,H,J,L){g[0]=l;g[1]=q;g[2]=y;g[3]=C;g[4]=D;g[5]=F;g[6]=H;g[7]=J;g[8]=L;return g},jv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},jS:function(g,l){if(g===l){var q=l[1],y=l[2],C=l[5];g[1]=l[3];g[2]=l[6];g[3]=q;g[5]=l[7];g[6]=y;g[7]=C}else g[0]=l[0],g[1]=l[3],g[2]=l[6],g[3]=l[1],g[4]=l[4],g[5]=l[7],g[6]=l[2],g[7]=l[5],g[8]=l[8];return g},mr:function(g,l){var q=l[0],y=
l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=l[6],L=l[7];l=l[8];var Q=l*F-H*L,R=-l*D+H*J,X=L*D-F*J,U=q*Q+y*R+C*X;if(!U)return null;U=1/U;g[0]=Q*U;g[1]=(-l*y+C*L)*U;g[2]=(H*y-C*F)*U;g[3]=R*U;g[4]=(l*q-C*J)*U;g[5]=(-H*q+C*D)*U;g[6]=X*U;g[7]=(-L*q+y*J)*U;g[8]=(F*q-y*D)*U;return g},vR:function(g,l){var q=l[0],y=l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=l[6],L=l[7];l=l[8];g[0]=F*l-H*L;g[1]=C*L-y*l;g[2]=y*H-C*F;g[3]=H*J-D*l;g[4]=q*l-C*J;g[5]=C*D-q*H;g[6]=D*L-F*J;g[7]=y*J-q*L;g[8]=q*F-y*D;return g},SH:function(g){var l=
g[3],q=g[4],y=g[5],C=g[6],D=g[7],F=g[8];return g[0]*(F*q-y*D)+g[1]*(-F*l+y*C)+g[2]*(D*l-q*C)},multiply:k,translate:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7];l=l[8];var R=q[0];q=q[1];g[0]=y;g[1]=C;g[2]=D;g[3]=F;g[4]=H;g[5]=J;g[6]=R*y+q*F+L;g[7]=R*C+q*H+Q;g[8]=R*D+q*J+l;return g},rotate:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7];l=l[8];var R=Math.sin(q);q=Math.cos(q);g[0]=q*y+R*F;g[1]=q*C+R*H;g[2]=q*D+R*J;g[3]=q*F-R*y;g[4]=q*H-R*C;g[5]=
q*J-R*D;g[6]=L;g[7]=Q;g[8]=l;return g},scale:function(g,l,q){var y=q[0];q=q[1];g[0]=y*l[0];g[1]=y*l[1];g[2]=y*l[2];g[3]=q*l[3];g[4]=q*l[4];g[5]=q*l[5];g[6]=l[6];g[7]=l[7];g[8]=l[8];return g},WH:function(g,l){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=l[0];g[7]=l[1];g[8]=1;return g},zA:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=l;g[1]=q;g[2]=0;g[3]=-q;g[4]=l;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},VH:function(g,l){g[0]=l[0];g[1]=0;g[2]=0;g[3]=0;g[4]=l[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},
vla:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=0;g[3]=l[2];g[4]=l[3];g[5]=0;g[6]=l[4];g[7]=l[5];g[8]=1;return g},R$:function(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=q+q,F=y+y,H=C+C;q*=D;var J=y*D;y*=F;var L=C*D,Q=C*F;C*=H;D*=l;F*=l;l*=H;g[0]=1-y-C;g[3]=J-l;g[6]=L+F;g[1]=J+l;g[4]=1-q-C;g[7]=Q-D;g[2]=L-F;g[5]=Q+D;g[8]=1-q-y;return g},Fma:function(g,l){var q=l[0],y=l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=l[6],L=l[7],Q=l[8],R=l[9],X=l[10],U=l[11],da=l[12],ca=l[13],Z=l[14];l=l[15];var sa=q*H-y*F,ma=q*J-C*F,
qa=q*L-D*F,ra=y*J-C*H,pa=y*L-D*H,K=C*L-D*J,M=Q*ca-R*da,V=Q*Z-X*da;Q=Q*l-U*da;var aa=R*Z-X*ca;R=R*l-U*ca;X=X*l-U*Z;U=sa*X-ma*R+qa*aa+ra*Q-pa*V+K*M;if(!U)return null;U=1/U;g[0]=(H*X-J*R+L*aa)*U;g[1]=(J*Q-F*X-L*V)*U;g[2]=(F*R-H*Q+L*M)*U;g[3]=(C*R-y*X-D*aa)*U;g[4]=(q*X-C*Q+D*V)*U;g[5]=(y*Q-q*R-D*M)*U;g[6]=(ca*K-Z*pa+l*ra)*U;g[7]=(Z*qa-da*K-l*ma)*U;g[8]=(da*pa-ca*qa+l*sa)*U;return g},Uma:function(g,l,q){g[0]=2/l;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/q;g[5]=0;g[6]=-1;g[7]=1;g[8]=1;return g},ol:function(g){return"mat3("+
g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"},UH:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8])},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];g[4]=l[4]+q[4];g[5]=l[5]+q[5];g[6]=l[6]+q[6];g[7]=l[7]+q[7];g[8]=l[8]+q[8];return g},pl:h,iI:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;g[3]=l[3]*q;g[4]=l[4]*q;g[5]=l[5]*q;g[6]=l[6]*q;g[7]=l[7]*q;g[8]=l[8]*q;return g},jI:function(g,l,q,y){g[0]=
l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;g[3]=l[3]+q[3]*y;g[4]=l[4]+q[4]*y;g[5]=l[5]+q[5]*y;g[6]=l[6]+q[6]*y;g[7]=l[7]+q[7]*y;g[8]=l[8]+q[8]*y;return g},Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]&&g[4]===l[4]&&g[5]===l[5]&&g[6]===l[6]&&g[7]===l[7]&&g[8]===l[8]},Rc:function(g,l){var q=g[0],y=g[1],C=g[2],D=g[3],F=g[4],H=g[5],J=g[6],L=g[7];g=g[8];var Q=l[0],R=l[1],X=l[2],U=l[3],da=l[4],ca=l[5],Z=l[6],sa=l[7];l=l[8];return Math.abs(q-Q)<=1E-6*Math.max(1,Math.abs(q),
Math.abs(Q))&&Math.abs(y-R)<=1E-6*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(C-X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(D-U)<=1E-6*Math.max(1,Math.abs(D),Math.abs(U))&&Math.abs(F-da)<=1E-6*Math.max(1,Math.abs(F),Math.abs(da))&&Math.abs(H-ca)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ca))&&Math.abs(J-Z)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(L-sa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(sa))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))},Pm:k,sub:h}),Ab=Object.freeze({__proto__:null,
create:function(){var g=new oa(16);oa!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0);g[0]=1;g[5]=1;g[10]=1;g[15]=1;return g},clone:function(g){var l=new oa(16);l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];l[4]=g[4];l[5]=g[5];l[6]=g[6];l[7]=g[7];l[8]=g[8];l[9]=g[9];l[10]=g[10];l[11]=g[11];l[12]=g[12];l[13]=g[13];l[14]=g[14];l[15]=g[15];return l},Aa:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];g[4]=l[4];g[5]=l[5];g[6]=l[6];g[7]=l[7];g[8]=
l[8];g[9]=l[9];g[10]=l[10];g[11]=l[11];g[12]=l[12];g[13]=l[13];g[14]=l[14];g[15]=l[15];return g},cf:function(g,l,q,y,C,D,F,H,J,L,Q,R,X,U,da,ca){var Z=new oa(16);Z[0]=g;Z[1]=l;Z[2]=q;Z[3]=y;Z[4]=C;Z[5]=D;Z[6]=F;Z[7]=H;Z[8]=J;Z[9]=L;Z[10]=Q;Z[11]=R;Z[12]=X;Z[13]=U;Z[14]=da;Z[15]=ca;return Z},set:function(g,l,q,y,C,D,F,H,J,L,Q,R,X,U,da,ca,Z){g[0]=l;g[1]=q;g[2]=y;g[3]=C;g[4]=D;g[5]=F;g[6]=H;g[7]=J;g[8]=L;g[9]=Q;g[10]=R;g[11]=X;g[12]=U;g[13]=da;g[14]=ca;g[15]=Z;return g},jv:m,jS:function(g,l){if(g===l){var q=
l[1],y=l[2],C=l[3],D=l[6],F=l[7],H=l[11];g[1]=l[4];g[2]=l[8];g[3]=l[12];g[4]=q;g[6]=l[9];g[7]=l[13];g[8]=y;g[9]=D;g[11]=l[14];g[12]=C;g[13]=F;g[14]=H}else g[0]=l[0],g[1]=l[4],g[2]=l[8],g[3]=l[12],g[4]=l[1],g[5]=l[5],g[6]=l[9],g[7]=l[13],g[8]=l[2],g[9]=l[6],g[10]=l[10],g[11]=l[14],g[12]=l[3],g[13]=l[7],g[14]=l[11],g[15]=l[15];return g},mr:function(g,l){var q=l[0],y=l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=l[6],L=l[7],Q=l[8],R=l[9],X=l[10],U=l[11],da=l[12],ca=l[13],Z=l[14];l=l[15];var sa=q*H-y*F,ma=q*J-C*
F,qa=q*L-D*F,ra=y*J-C*H,pa=y*L-D*H,K=C*L-D*J,M=Q*ca-R*da,V=Q*Z-X*da,aa=Q*l-U*da,fa=R*Z-X*ca,ha=R*l-U*ca,ia=X*l-U*Z,ka=sa*ia-ma*ha+qa*fa+ra*aa-pa*V+K*M;if(!ka)return null;ka=1/ka;g[0]=(H*ia-J*ha+L*fa)*ka;g[1]=(C*ha-y*ia-D*fa)*ka;g[2]=(ca*K-Z*pa+l*ra)*ka;g[3]=(X*pa-R*K-U*ra)*ka;g[4]=(J*aa-F*ia-L*V)*ka;g[5]=(q*ia-C*aa+D*V)*ka;g[6]=(Z*qa-da*K-l*ma)*ka;g[7]=(Q*K-X*qa+U*ma)*ka;g[8]=(F*ha-H*aa+L*M)*ka;g[9]=(y*aa-q*ha-D*M)*ka;g[10]=(da*pa-ca*qa+l*sa)*ka;g[11]=(R*qa-Q*pa-U*sa)*ka;g[12]=(H*V-F*fa-J*M)*ka;g[13]=
(q*fa-y*V+C*M)*ka;g[14]=(ca*ma-da*ra-Z*sa)*ka;g[15]=(Q*ra-R*ma+X*sa)*ka;return g},vR:function(g,l){var q=l[0],y=l[1],C=l[2],D=l[3],F=l[4],H=l[5],J=l[6],L=l[7],Q=l[8],R=l[9],X=l[10],U=l[11],da=l[12],ca=l[13],Z=l[14];l=l[15];g[0]=H*(X*l-U*Z)-R*(J*l-L*Z)+ca*(J*U-L*X);g[1]=-(y*(X*l-U*Z)-R*(C*l-D*Z)+ca*(C*U-D*X));g[2]=y*(J*l-L*Z)-H*(C*l-D*Z)+ca*(C*L-D*J);g[3]=-(y*(J*U-L*X)-H*(C*U-D*X)+R*(C*L-D*J));g[4]=-(F*(X*l-U*Z)-Q*(J*l-L*Z)+da*(J*U-L*X));g[5]=q*(X*l-U*Z)-Q*(C*l-D*Z)+da*(C*U-D*X);g[6]=-(q*(J*l-L*Z)-
F*(C*l-D*Z)+da*(C*L-D*J));g[7]=q*(J*U-L*X)-F*(C*U-D*X)+Q*(C*L-D*J);g[8]=F*(R*l-U*ca)-Q*(H*l-L*ca)+da*(H*U-L*R);g[9]=-(q*(R*l-U*ca)-Q*(y*l-D*ca)+da*(y*U-D*R));g[10]=q*(H*l-L*ca)-F*(y*l-D*ca)+da*(y*L-D*H);g[11]=-(q*(H*U-L*R)-F*(y*U-D*R)+Q*(y*L-D*H));g[12]=-(F*(R*Z-X*ca)-Q*(H*Z-J*ca)+da*(H*X-J*R));g[13]=q*(R*Z-X*ca)-Q*(y*Z-C*ca)+da*(y*X-C*R);g[14]=-(q*(H*Z-J*ca)-F*(y*Z-C*ca)+da*(y*J-C*H));g[15]=q*(H*X-J*R)-F*(y*X-C*R)+Q*(y*J-C*H);return g},SH:function(g){var l=g[0],q=g[1],y=g[2],C=g[3],D=g[4],F=g[5],
H=g[6],J=g[7],L=g[8],Q=g[9],R=g[10],X=g[11],U=g[12],da=g[13],ca=g[14];g=g[15];return(l*F-q*D)*(R*g-X*ca)-(l*H-y*D)*(Q*g-X*da)+(l*J-C*D)*(Q*ca-R*da)+(q*H-y*F)*(L*g-X*U)-(q*J-C*F)*(L*ca-R*U)+(y*J-C*H)*(L*da-Q*U)},multiply:n,translate:function(g,l,q){var y=q[0],C=q[1];q=q[2];if(l===g)g[12]=l[0]*y+l[4]*C+l[8]*q+l[12],g[13]=l[1]*y+l[5]*C+l[9]*q+l[13],g[14]=l[2]*y+l[6]*C+l[10]*q+l[14],g[15]=l[3]*y+l[7]*C+l[11]*q+l[15];else{var D=l[0];var F=l[1];var H=l[2];var J=l[3];var L=l[4];var Q=l[5];var R=l[6];var X=
l[7];var U=l[8];var da=l[9];var ca=l[10];var Z=l[11];g[0]=D;g[1]=F;g[2]=H;g[3]=J;g[4]=L;g[5]=Q;g[6]=R;g[7]=X;g[8]=U;g[9]=da;g[10]=ca;g[11]=Z;g[12]=D*y+L*C+U*q+l[12];g[13]=F*y+Q*C+da*q+l[13];g[14]=H*y+R*C+ca*q+l[14];g[15]=J*y+X*C+Z*q+l[15]}return g},scale:function(g,l,q){var y=q[0],C=q[1];q=q[2];g[0]=l[0]*y;g[1]=l[1]*y;g[2]=l[2]*y;g[3]=l[3]*y;g[4]=l[4]*C;g[5]=l[5]*C;g[6]=l[6]*C;g[7]=l[7]*C;g[8]=l[8]*q;g[9]=l[9]*q;g[10]=l[10]*q;g[11]=l[11]*q;g[12]=l[12];g[13]=l[13];g[14]=l[14];g[15]=l[15];return g},
rotate:function(g,l,q,y){var C=y[0],D=y[1];y=y[2];var F=Math.hypot(C,D,y);if(1E-6>F)return null;F=1/F;C*=F;D*=F;y*=F;var H=Math.sin(q);var J=Math.cos(q);var L=1-J;q=l[0];F=l[1];var Q=l[2];var R=l[3];var X=l[4];var U=l[5];var da=l[6];var ca=l[7];var Z=l[8];var sa=l[9];var ma=l[10];var qa=l[11];var ra=C*C*L+J;var pa=D*C*L+y*H;var K=y*C*L-D*H;var M=C*D*L-y*H;var V=D*D*L+J;var aa=y*D*L+C*H;var fa=C*y*L+D*H;C=D*y*L-C*H;D=y*y*L+J;g[0]=q*ra+X*pa+Z*K;g[1]=F*ra+U*pa+sa*K;g[2]=Q*ra+da*pa+ma*K;g[3]=R*ra+ca*
pa+qa*K;g[4]=q*M+X*V+Z*aa;g[5]=F*M+U*V+sa*aa;g[6]=Q*M+da*V+ma*aa;g[7]=R*M+ca*V+qa*aa;g[8]=q*fa+X*C+Z*D;g[9]=F*fa+U*C+sa*D;g[10]=Q*fa+da*C+ma*D;g[11]=R*fa+ca*C+qa*D;l!==g&&(g[12]=l[12],g[13]=l[13],g[14]=l[14],g[15]=l[15]);return g},vI:function(g,l,q){var y=Math.sin(q);q=Math.cos(q);var C=l[4],D=l[5],F=l[6],H=l[7],J=l[8],L=l[9],Q=l[10],R=l[11];l!==g&&(g[0]=l[0],g[1]=l[1],g[2]=l[2],g[3]=l[3],g[12]=l[12],g[13]=l[13],g[14]=l[14],g[15]=l[15]);g[4]=C*q+J*y;g[5]=D*q+L*y;g[6]=F*q+Q*y;g[7]=H*q+R*y;g[8]=J*q-
C*y;g[9]=L*q-D*y;g[10]=Q*q-F*y;g[11]=R*q-H*y;return g},wI:function(g,l,q){var y=Math.sin(q);q=Math.cos(q);var C=l[0],D=l[1],F=l[2],H=l[3],J=l[8],L=l[9],Q=l[10],R=l[11];l!==g&&(g[4]=l[4],g[5]=l[5],g[6]=l[6],g[7]=l[7],g[12]=l[12],g[13]=l[13],g[14]=l[14],g[15]=l[15]);g[0]=C*q-J*y;g[1]=D*q-L*y;g[2]=F*q-Q*y;g[3]=H*q-R*y;g[8]=C*y+J*q;g[9]=D*y+L*q;g[10]=F*y+Q*q;g[11]=H*y+R*q;return g},xI:function(g,l,q){var y=Math.sin(q);q=Math.cos(q);var C=l[0],D=l[1],F=l[2],H=l[3],J=l[4],L=l[5],Q=l[6],R=l[7];l!==g&&(g[8]=
l[8],g[9]=l[9],g[10]=l[10],g[11]=l[11],g[12]=l[12],g[13]=l[13],g[14]=l[14],g[15]=l[15]);g[0]=C*q+J*y;g[1]=D*q+L*y;g[2]=F*q+Q*y;g[3]=H*q+R*y;g[4]=J*q-C*y;g[5]=L*q-D*y;g[6]=Q*q-F*y;g[7]=R*q-H*y;return g},WH:function(g,l){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=l[0];g[13]=l[1];g[14]=l[2];g[15]=1;return g},VH:function(g,l){g[0]=l[0];g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=l[1];g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=l[2];g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},
zA:function(g,l,q){var y=q[0],C=q[1];q=q[2];var D=Math.hypot(y,C,q);if(1E-6>D)return null;D=1/D;y*=D;C*=D;q*=D;D=Math.sin(l);l=Math.cos(l);var F=1-l;g[0]=y*y*F+l;g[1]=C*y*F+q*D;g[2]=q*y*F-C*D;g[3]=0;g[4]=y*C*F-q*D;g[5]=C*C*F+l;g[6]=q*C*F+y*D;g[7]=0;g[8]=y*q*F+C*D;g[9]=C*q*F-y*D;g[10]=q*q*F+l;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Bla:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=l;g[6]=q;g[7]=0;g[8]=0;g[9]=-q;g[10]=l;g[11]=0;g[12]=0;g[13]=0;g[14]=
0;g[15]=1;return g},Cla:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=l;g[1]=0;g[2]=-q;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=q;g[9]=0;g[10]=l;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Dla:function(g,l){var q=Math.sin(l);l=Math.cos(l);g[0]=l;g[1]=q;g[2]=0;g[3]=0;g[4]=-q;g[5]=l;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},S$:p,xla:function(g,l){var q=new oa(3),y=-l[0],C=-l[1],D=-l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7],R=y*y+C*C+D*D+F*F;0<R?(q[0]=
2*(H*F+Q*y+J*D-L*C)/R,q[1]=2*(J*F+Q*C+L*y-H*D)/R,q[2]=2*(L*F+Q*D+H*C-J*y)/R):(q[0]=2*(H*F+Q*y+J*D-L*C),q[1]=2*(J*F+Q*C+L*y-H*D),q[2]=2*(L*F+Q*D+H*C-J*y));p(g,l,q);return g},V$:r,Ola:v,Nla:x,yla:function(g,l,q,y){var C=l[0],D=l[1],F=l[2],H=l[3],J=C+C,L=D+D,Q=F+F;l=C*J;var R=C*L;C*=Q;var X=D*L;D*=Q;F*=Q;J*=H;L*=H;H*=Q;Q=y[0];var U=y[1];y=y[2];g[0]=(1-(X+F))*Q;g[1]=(R+H)*Q;g[2]=(C-L)*Q;g[3]=0;g[4]=(R-H)*U;g[5]=(1-(l+F))*U;g[6]=(D+J)*U;g[7]=0;g[8]=(C+L)*y;g[9]=(D-J)*y;g[10]=(1-(l+X))*y;g[11]=0;g[12]=
q[0];g[13]=q[1];g[14]=q[2];g[15]=1;return g},zla:function(g,l,q,y,C){var D=l[0],F=l[1],H=l[2],J=l[3],L=D+D,Q=F+F,R=H+H;l=D*L;var X=D*Q,U=D*R;D=F*Q;F*=R;var da=H*R;H=J*L;Q*=J;var ca=J*R,Z=y[0],sa=y[1];R=y[2];y=C[0];J=C[1];C=C[2];L=(1-(D+da))*Z;var ma=(X+ca)*Z;Z*=U-Q;X=(X-ca)*sa;da=(1-(l+da))*sa;sa*=F+H;U=(U+Q)*R;F=(F-H)*R;l=(1-(l+D))*R;g[0]=L;g[1]=ma;g[2]=Z;g[3]=0;g[4]=X;g[5]=da;g[6]=sa;g[7]=0;g[8]=U;g[9]=F;g[10]=l;g[11]=0;g[12]=q[0]+y-(L*y+X*J+U*C);g[13]=q[1]+J-(ma*y+da*J+F*C);g[14]=q[2]+C-(Z*y+sa*
J+l*C);g[15]=1;return g},R$:function(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=q+q,F=y+y,H=C+C;q*=D;var J=y*D;y*=F;var L=C*D,Q=C*F;C*=H;D*=l;F*=l;l*=H;g[0]=1-y-C;g[1]=J+l;g[2]=L-F;g[3]=0;g[4]=J-l;g[5]=1-q-C;g[6]=Q+D;g[7]=0;g[8]=L+F;g[9]=Q-D;g[10]=1-q-y;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},T$:function(g,l,q,y,C,D,F){var H=1/(q-l),J=1/(C-y),L=1/(D-F);g[0]=2*D*H;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*D*J;g[6]=0;g[7]=0;g[8]=(q+l)*H;g[9]=(C+y)*J;g[10]=(F+D)*L;g[11]=-1;g[12]=0;g[13]=0;g[14]=F*
D*2*L;g[15]=0;return g},perspective:function(g,l,q,y,C){l=1/Math.tan(l/2);g[0]=l/q;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=l;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!=C&&Infinity!==C?(q=1/(y-C),g[10]=(C+y)*q,g[14]=2*C*y*q):(g[10]=-1,g[14]=-2*y);return g},Pma:function(g,l,q,y){var C=Math.tan(l.Qna*Math.PI/180),D=Math.tan(l.ila*Math.PI/180),F=Math.tan(l.sma*Math.PI/180);l=Math.tan(l.kna*Math.PI/180);var H=2/(F+l),J=2/(C+D);g[0]=H;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=J;g[6]=0;g[7]=0;g[8]=
-((F-l)*H*.5);g[9]=(C-D)*J*.5;g[10]=y/(q-y);g[11]=-1;g[12]=0;g[13]=0;g[14]=y*q/(q-y);g[15]=0;return g},Nma:function(g,l,q,y,C,D,F){var H=1/(l-q),J=1/(y-C),L=1/(D-F);g[0]=-2*H;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*J;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*L;g[11]=0;g[12]=(l+q)*H;g[13]=(C+y)*J;g[14]=(F+D)*L;g[15]=1;return g},raa:function(g,l,q,y){var C=l[0],D=l[1];l=l[2];var F=y[0];var H=y[1];var J=y[2];var L=q[0];y=q[1];var Q=q[2];if(1E-6>Math.abs(C-L)&&1E-6>Math.abs(D-y)&&1E-6>Math.abs(l-Q))return m(g);
q=C-L;y=D-y;L=l-Q;var R=1/Math.hypot(q,y,L);q*=R;y*=R;L*=R;Q=H*L-J*y;J=J*q-F*L;F=F*y-H*q;(R=Math.hypot(Q,J,F))?(R=1/R,Q*=R,J*=R,F*=R):F=J=Q=0;H=y*F-L*J;var X=L*Q-q*F;var U=q*J-y*Q;(R=Math.hypot(H,X,U))?(R=1/R,H*=R,X*=R,U*=R):U=X=H=0;g[0]=Q;g[1]=H;g[2]=q;g[3]=0;g[4]=J;g[5]=X;g[6]=y;g[7]=0;g[8]=F;g[9]=U;g[10]=L;g[11]=0;g[12]=-(Q*C+J*D+F*l);g[13]=-(H*C+X*D+U*l);g[14]=-(q*C+y*D+L*l);g[15]=1;return g},Hna:function(g,l,q,y){var C=l[0],D=l[1];l=l[2];var F=y[0],H=y[1],J=y[2];y=C-q[0];var L=D-q[1];q=l-q[2];
var Q=y*y+L*L+q*q;0<Q&&(Q=1/Math.sqrt(Q),y*=Q,L*=Q,q*=Q);var R=H*q-J*L;J=J*y-F*q;F=F*L-H*y;Q=R*R+J*J+F*F;0<Q&&(Q=1/Math.sqrt(Q),R*=Q,J*=Q,F*=Q);g[0]=R;g[1]=J;g[2]=F;g[3]=0;g[4]=L*F-q*J;g[5]=q*R-y*F;g[6]=y*J-L*R;g[7]=0;g[8]=y;g[9]=L;g[10]=q;g[11]=0;g[12]=C;g[13]=D;g[14]=l;g[15]=1;return g},ol:function(g){return"mat4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"},UH:function(g){return Math.hypot(g[0],
g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];g[4]=l[4]+q[4];g[5]=l[5]+q[5];g[6]=l[6]+q[6];g[7]=l[7]+q[7];g[8]=l[8]+q[8];g[9]=l[9]+q[9];g[10]=l[10]+q[10];g[11]=l[11]+q[11];g[12]=l[12]+q[12];g[13]=l[13]+q[13];g[14]=l[14]+q[14];g[15]=l[15]+q[15];return g},pl:w,iI:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;g[3]=l[3]*q;g[4]=l[4]*q;g[5]=l[5]*q;g[6]=l[6]*q;g[7]=l[7]*q;g[8]=l[8]*
q;g[9]=l[9]*q;g[10]=l[10]*q;g[11]=l[11]*q;g[12]=l[12]*q;g[13]=l[13]*q;g[14]=l[14]*q;g[15]=l[15]*q;return g},jI:function(g,l,q,y){g[0]=l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;g[3]=l[3]+q[3]*y;g[4]=l[4]+q[4]*y;g[5]=l[5]+q[5]*y;g[6]=l[6]+q[6]*y;g[7]=l[7]+q[7]*y;g[8]=l[8]+q[8]*y;g[9]=l[9]+q[9]*y;g[10]=l[10]+q[10]*y;g[11]=l[11]+q[11]*y;g[12]=l[12]+q[12]*y;g[13]=l[13]+q[13]*y;g[14]=l[14]+q[14]*y;g[15]=l[15]+q[15]*y;return g},Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]&&
g[4]===l[4]&&g[5]===l[5]&&g[6]===l[6]&&g[7]===l[7]&&g[8]===l[8]&&g[9]===l[9]&&g[10]===l[10]&&g[11]===l[11]&&g[12]===l[12]&&g[13]===l[13]&&g[14]===l[14]&&g[15]===l[15]},Rc:function(g,l){var q=g[0],y=g[1],C=g[2],D=g[3],F=g[4],H=g[5],J=g[6],L=g[7],Q=g[8],R=g[9],X=g[10],U=g[11],da=g[12],ca=g[13],Z=g[14];g=g[15];var sa=l[0],ma=l[1],qa=l[2],ra=l[3],pa=l[4],K=l[5],M=l[6],V=l[7],aa=l[8],fa=l[9],ha=l[10],ia=l[11],ka=l[12],ta=l[13],va=l[14];l=l[15];return Math.abs(q-sa)<=1E-6*Math.max(1,Math.abs(q),Math.abs(sa))&&
Math.abs(y-ma)<=1E-6*Math.max(1,Math.abs(y),Math.abs(ma))&&Math.abs(C-qa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(qa))&&Math.abs(D-ra)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ra))&&Math.abs(F-pa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(pa))&&Math.abs(H-K)<=1E-6*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(J-M)<=1E-6*Math.max(1,Math.abs(J),Math.abs(M))&&Math.abs(L-V)<=1E-6*Math.max(1,Math.abs(L),Math.abs(V))&&Math.abs(Q-aa)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(aa))&&Math.abs(R-fa)<=1E-6*Math.max(1,Math.abs(R),
Math.abs(fa))&&Math.abs(X-ha)<=1E-6*Math.max(1,Math.abs(X),Math.abs(ha))&&Math.abs(U-ia)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(da-ka)<=1E-6*Math.max(1,Math.abs(da),Math.abs(ka))&&Math.abs(ca-ta)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(ta))&&Math.abs(Z-va)<=1E-6*Math.max(1,Math.abs(Z),Math.abs(va))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))},Pm:n,sub:w}),Pa=function(){var g=u();return function(l,q,y,C,D,F){q||(q=3);y||(y=0);for(C=C?Math.min(C*q+y,l.length):l.length;y<C;y+=
q)g[0]=l[y],g[1]=l[y+1],g[2]=l[y+2],D(g,g,F),l[y]=g[0],l[y+1]=g[1],l[y+2]=g[2];return l}}();Pa=Object.freeze({__proto__:null,create:u,clone:function(g){var l=new oa(3);l[0]=g[0];l[1]=g[1];l[2]=g[2];return l},length:t,cf:A,Aa:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];return g},set:function(g,l,q,y){g[0]=l;g[1]=q;g[2]=y;return g},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];return g},pl:z,multiply:E,fl:G,ceil:function(g,l){g[0]=Math.ceil(l[0]);g[1]=Math.ceil(l[1]);g[2]=Math.ceil(l[2]);
return g},floor:function(g,l){g[0]=Math.floor(l[0]);g[1]=Math.floor(l[1]);g[2]=Math.floor(l[2]);return g},min:function(g,l,q){g[0]=Math.min(l[0],q[0]);g[1]=Math.min(l[1],q[1]);g[2]=Math.min(l[2],q[2]);return g},max:function(g,l,q){g[0]=Math.max(l[0],q[0]);g[1]=Math.max(l[1],q[1]);g[2]=Math.max(l[2],q[2]);return g},round:function(g,l){g[0]=Math.round(l[0]);g[1]=Math.round(l[1]);g[2]=Math.round(l[2]);return g},scale:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*q;return g},yI:function(g,l,q,y){g[0]=
l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;return g},dv:I,hS:N,MA:O,TR:function(g,l){g[0]=-l[0];g[1]=-l[1];g[2]=-l[2];return g},inverse:function(g,l){g[0]=1/l[0];g[1]=1/l[1];g[2]=1/l[2];return g},normalize:P,Mm:S,RH:T,Ld:function(g,l,q,y){var C=l[0],D=l[1];l=l[2];g[0]=C+y*(q[0]-C);g[1]=D+y*(q[1]-D);g[2]=l+y*(q[2]-l);return g},Sla:function(g,l,q,y,C,D){var F=D*D,H=F*(2*D-3)+1,J=F*(D-2)+D,L=F*(D-1);D=F*(3-2*D);g[0]=l[0]*H+q[0]*J+y[0]*L+C[0]*D;g[1]=l[1]*H+q[1]*J+y[1]*L+C[1]*D;g[2]=l[2]*H+q[2]*J+y[2]*
L+C[2]*D;return g},Qka:function(g,l,q,y,C,D){var F=1-D,H=F*F,J=D*D,L=H*F;H*=3*D;F*=3*J;D*=J;g[0]=l[0]*L+q[0]*H+y[0]*F+C[0]*D;g[1]=l[1]*L+q[1]*H+y[1]*F+C[1]*D;g[2]=l[2]*L+q[2]*H+y[2]*F+C[2]*D;return g},random:function(g,l){l=l||1;var q=2*ya()*Math.PI,y=2*ya()-1,C=Math.sqrt(1-y*y)*l;g[0]=Math.cos(q)*C;g[1]=Math.sin(q)*C;g[2]=y*l;return g},GI:function(g,l,q){var y=l[0],C=l[1];l=l[2];var D=q[3]*y+q[7]*C+q[11]*l+q[15];D=D||1;g[0]=(q[0]*y+q[4]*C+q[8]*l+q[12])/D;g[1]=(q[1]*y+q[5]*C+q[9]*l+q[13])/D;g[2]=
(q[2]*y+q[6]*C+q[10]*l+q[14])/D;return g},dba:function(g,l,q){var y=l[0],C=l[1];l=l[2];g[0]=y*q[0]+C*q[3]+l*q[6];g[1]=y*q[1]+C*q[4]+l*q[7];g[2]=y*q[2]+C*q[5]+l*q[8];return g},eba:function(g,l,q){var y=q[0],C=q[1],D=q[2],F=l[0],H=l[1];l=l[2];var J=C*l-D*H,L=D*F-y*l,Q=y*H-C*F;q=2*q[3];g[0]=F+J*q+2*(C*Q-D*L);g[1]=H+L*q+2*(D*J-y*Q);g[2]=l+Q*q+2*(y*L-C*J);return g},vI:function(g,l,q,y){var C=[],D=[];C[0]=l[0]-q[0];C[1]=l[1]-q[1];C[2]=l[2]-q[2];D[0]=C[0];D[1]=C[1]*Math.cos(y)-C[2]*Math.sin(y);D[2]=C[1]*
Math.sin(y)+C[2]*Math.cos(y);g[0]=D[0]+q[0];g[1]=D[1]+q[1];g[2]=D[2]+q[2];return g},wI:function(g,l,q,y){var C=[],D=[];C[0]=l[0]-q[0];C[1]=l[1]-q[1];C[2]=l[2]-q[2];D[0]=C[2]*Math.sin(y)+C[0]*Math.cos(y);D[1]=C[1];D[2]=C[2]*Math.cos(y)-C[0]*Math.sin(y);g[0]=D[0]+q[0];g[1]=D[1]+q[1];g[2]=D[2]+q[2];return g},xI:function(g,l,q,y){var C=[],D=[];C[0]=l[0]-q[0];C[1]=l[1]-q[1];C[2]=l[2]-q[2];D[0]=C[0]*Math.cos(y)-C[1]*Math.sin(y);D[1]=C[0]*Math.sin(y)+C[1]*Math.cos(y);D[2]=C[2];g[0]=D[0]+q[0];g[1]=D[1]+q[1];
g[2]=D[2]+q[2];return g},angle:function(g,l){var q=g[0],y=g[1],C=g[2],D=l[0],F=l[1],H=l[2];g=(q=Math.sqrt(q*q+y*y+C*C)*Math.sqrt(D*D+F*F+H*H))&&S(g,l)/q;return Math.acos(Math.min(Math.max(g,-1),1))},pS:function(g){g[0]=0;g[1]=0;g[2]=0;return g},ol:function(g){return"vec3("+g[0]+", "+g[1]+", "+g[2]+")"},Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]},Rc:function(g,l){var q=g[0],y=g[1];g=g[2];var C=l[0],D=l[1];l=l[2];return Math.abs(q-C)<=1E-6*Math.max(1,Math.abs(q),Math.abs(C))&&Math.abs(y-
D)<=1E-6*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))},sub:z,Pm:E,GR:G,ER:I,gS:N,ur:t,LA:O,forEach:Pa});var Qa=function(){var g=Y();return function(l,q,y,C,D,F){q||(q=4);y||(y=0);for(C=C?Math.min(C*q+y,l.length):l.length;y<C;y+=q)g[0]=l[y],g[1]=l[y+1],g[2]=l[y+2],g[3]=l[y+3],D(g,g,F),l[y]=g[0],l[y+1]=g[1],l[y+2]=g[2],l[y+3]=g[3];return l}}();Qa=Object.freeze({__proto__:null,create:Y,clone:ba,cf:ea,Aa:W,set:na,add:ja,pl:xa,multiply:Ja,fl:Va,ceil:function(g,
l){g[0]=Math.ceil(l[0]);g[1]=Math.ceil(l[1]);g[2]=Math.ceil(l[2]);g[3]=Math.ceil(l[3]);return g},floor:function(g,l){g[0]=Math.floor(l[0]);g[1]=Math.floor(l[1]);g[2]=Math.floor(l[2]);g[3]=Math.floor(l[3]);return g},min:function(g,l,q){g[0]=Math.min(l[0],q[0]);g[1]=Math.min(l[1],q[1]);g[2]=Math.min(l[2],q[2]);g[3]=Math.min(l[3],q[3]);return g},max:function(g,l,q){g[0]=Math.max(l[0],q[0]);g[1]=Math.max(l[1],q[1]);g[2]=Math.max(l[2],q[2]);g[3]=Math.max(l[3],q[3]);return g},round:function(g,l){g[0]=Math.round(l[0]);
g[1]=Math.round(l[1]);g[2]=Math.round(l[2]);g[3]=Math.round(l[3]);return g},scale:Na,yI:function(g,l,q,y){g[0]=l[0]+q[0]*y;g[1]=l[1]+q[1]*y;g[2]=l[2]+q[2]*y;g[3]=l[3]+q[3]*y;return g},dv:Wa,hS:Oa,length:Ca,MA:Aa,TR:function(g,l){g[0]=-l[0];g[1]=-l[1];g[2]=-l[2];g[3]=-l[3];return g},inverse:function(g,l){g[0]=1/l[0];g[1]=1/l[1];g[2]=1/l[2];g[3]=1/l[3];return g},normalize:Ka,Mm:Ha,RH:function(g,l,q,y){var C=q[0]*y[1]-q[1]*y[0],D=q[0]*y[2]-q[2]*y[0],F=q[0]*y[3]-q[3]*y[0],H=q[1]*y[2]-q[2]*y[1],J=q[1]*
y[3]-q[3]*y[1];q=q[2]*y[3]-q[3]*y[2];y=l[0];var L=l[1],Q=l[2];l=l[3];g[0]=L*q-Q*J+l*H;g[1]=-(y*q)+Q*F-l*D;g[2]=y*J-L*F+l*C;g[3]=-(y*H)+L*D-Q*C;return g},Ld:Xa,random:function(g,l){l=l||1;do{var q=2*ya()-1;var y=2*ya()-1;var C=q*q+y*y}while(1<=C);do{var D=2*ya()-1;var F=2*ya()-1;var H=D*D+F*F}while(1<=H);C=Math.sqrt((1-C)/H);g[0]=l*q;g[1]=l*y;g[2]=l*D*C;g[3]=l*F*C;return g},GI:function(g,l,q){var y=l[0],C=l[1],D=l[2];l=l[3];g[0]=q[0]*y+q[4]*C+q[8]*D+q[12]*l;g[1]=q[1]*y+q[5]*C+q[9]*D+q[13]*l;g[2]=q[2]*
y+q[6]*C+q[10]*D+q[14]*l;g[3]=q[3]*y+q[7]*C+q[11]*D+q[15]*l;return g},eba:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=q[0],H=q[1],J=q[2];q=q[3];var L=q*y+H*D-J*C,Q=q*C+J*y-F*D,R=q*D+F*C-H*y;y=-F*y-H*C-J*D;g[0]=L*q+y*-F+Q*-J-R*-H;g[1]=Q*q+y*-H+R*-F-L*-J;g[2]=R*q+y*-J+L*-H-Q*-F;g[3]=l[3];return g},pS:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=0;return g},ol:function(g){return"vec4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},Ii:Ya,Rc:Za,sub:xa,Pm:Ja,GR:Va,ER:Wa,gS:Oa,ur:Ca,LA:Aa,forEach:Qa});var Ra=function(){var g=
u(),l=A(1,0,0),q=A(0,1,0);return function(y,C,D){var F=S(C,D);if(-.999999>F)return T(g,l,C),1E-6>t(g)&&T(g,q,C),P(g,g),$a(y,g,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;T(g,C,D);y[0]=g[0];y[1]=g[1];y[2]=g[2];y[3]=1+F;return Ka(y,y)}}(),Sa=function(){var g=La(),l=La();return function(q,y,C,D,F,H){Ma(g,y,F,H);Ma(l,C,D,H);Ma(q,g,l,2*H*(1-H));return q}}(),Ia=function(){var g=e();return function(l,q,y,C){g[0]=y[0];g[3]=y[1];g[6]=y[2];g[1]=C[0];g[4]=C[1];g[7]=C[2];g[2]=-q[0];g[5]=-q[1];
g[8]=-q[2];return Ka(l,gb(l,g))}}();Ra=Object.freeze({__proto__:null,create:La,jv:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g},yna:$a,Kla:function(g,l){var q=2*Math.acos(l[3]),y=Math.sin(q/2);1E-6<y?(g[0]=l[0]/y,g[1]=l[1]/y,g[2]=l[2]/y):(g[0]=1,g[1]=0,g[2]=0);return q},Ila:function(g,l){g=Ha(g,l);return Math.acos(2*g*g-1)},multiply:ab,vI:bb,wI:cb,xI:db,Rka:function(g,l){var q=l[0],y=l[1];l=l[2];g[0]=q;g[1]=y;g[2]=l;g[3]=Math.sqrt(Math.abs(1-q*q-y*y-l*l));return g},exp:eb,qaa:fb,pow:function(g,
l,q){fb(g,l);Na(g,g,q);eb(g,g);return g},Dna:Ma,random:function(g){var l=ya(),q=ya(),y=ya(),C=Math.sqrt(1-l);l=Math.sqrt(l);g[0]=C*Math.sin(2*Math.PI*q);g[1]=C*Math.cos(2*Math.PI*q);g[2]=l*Math.sin(2*Math.PI*y);g[3]=l*Math.cos(2*Math.PI*y);return g},mr:function(g,l){var q=l[0],y=l[1],C=l[2];l=l[3];var D=q*q+y*y+C*C+l*l;D=D?1/D:0;g[0]=-q*D;g[1]=-y*D;g[2]=-C*D;g[3]=l*D;return g},E$:function(g,l){g[0]=-l[0];g[1]=-l[1];g[2]=-l[2];g[3]=l[3];return g},wla:gb,ula:function(g,l,q,y){var C=.5*Math.PI/180;l*=
C;q*=C;y*=C;C=Math.sin(l);l=Math.cos(l);var D=Math.sin(q);q=Math.cos(q);var F=Math.sin(y);y=Math.cos(y);g[0]=C*q*y-l*D*F;g[1]=l*D*y+C*q*F;g[2]=l*q*F-C*D*y;g[3]=l*q*y+C*D*F;return g},ol:function(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},clone:ba,cf:ea,Aa:W,set:na,add:ja,Pm:ab,scale:Na,Mm:Ha,Ld:Xa,length:Ca,ur:Ca,MA:Aa,LA:Aa,normalize:Ka,Ii:Ya,Rc:Za,ona:Ra,Ena:Sa,xna:Ia});Sa=Object.freeze({__proto__:null,create:function(){var g=new oa(8);oa!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[4]=0,
g[5]=0,g[6]=0,g[7]=0);g[3]=1;return g},clone:function(g){var l=new oa(8);l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];l[4]=g[4];l[5]=g[5];l[6]=g[6];l[7]=g[7];return l},cf:function(g,l,q,y,C,D,F,H){var J=new oa(8);J[0]=g;J[1]=l;J[2]=q;J[3]=y;J[4]=C;J[5]=D;J[6]=F;J[7]=H;return J},Ala:function(g,l,q,y,C,D,F){var H=new oa(8);H[0]=g;H[1]=l;H[2]=q;H[3]=y;C*=.5;D*=.5;F*=.5;H[4]=C*y+D*q-F*l;H[5]=D*y+F*g-C*q;H[6]=F*y+C*l-D*g;H[7]=-C*g-D*l-F*q;return H},S$:hb,WH:function(g,l){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=.5*
l[0];g[5]=.5*l[1];g[6]=.5*l[2];g[7]=0;return g},zA:function(g,l){g[0]=l[0];g[1]=l[1];g[2]=l[2];g[3]=l[3];g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},Q$:function(g,l){var q=La();x(q,l);var y=new oa(3);r(y,l);hb(g,q,y);return g},Aa:ib,jv:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},set:function(g,l,q,y,C,D,F,H,J){g[0]=l;g[1]=q;g[2]=y;g[3]=C;g[4]=D;g[5]=F;g[6]=H;g[7]=J;return g},Mla:W,Lla:function(g,l){g[0]=l[4];g[1]=l[5];g[2]=l[6];g[3]=l[7];return g},Bna:W,zna:function(g,
l){g[4]=l[0];g[5]=l[1];g[6]=l[2];g[7]=l[3];return g},V$:function(g,l){var q=l[4],y=l[5],C=l[6],D=l[7],F=-l[0],H=-l[1],J=-l[2];l=l[3];g[0]=2*(q*l+D*F+y*J-C*H);g[1]=2*(y*l+D*H+C*F-q*J);g[2]=2*(C*l+D*J+q*H-y*F);return g},translate:function(g,l,q){var y=l[0],C=l[1],D=l[2],F=l[3],H=.5*q[0],J=.5*q[1];q=.5*q[2];var L=l[4],Q=l[5],R=l[6];l=l[7];g[0]=y;g[1]=C;g[2]=D;g[3]=F;g[4]=F*H+C*q-D*J+L;g[5]=F*J+D*H-y*q+Q;g[6]=F*q+y*J-C*H+R;g[7]=-y*H-C*J-D*q+l;return g},vI:function(g,l,q){var y=-l[0],C=-l[1],D=-l[2],F=
l[3],H=l[4],J=l[5],L=l[6],Q=l[7],R=H*F+Q*y+J*D-L*C,X=J*F+Q*C+L*y-H*D,U=L*F+Q*D+H*C-J*y;H=Q*F-H*y-J*C-L*D;bb(g,l,q);y=g[0];C=g[1];D=g[2];F=g[3];g[4]=R*F+H*y+X*D-U*C;g[5]=X*F+H*C+U*y-R*D;g[6]=U*F+H*D+R*C-X*y;g[7]=H*F-R*y-X*C-U*D;return g},wI:function(g,l,q){var y=-l[0],C=-l[1],D=-l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7],R=H*F+Q*y+J*D-L*C,X=J*F+Q*C+L*y-H*D,U=L*F+Q*D+H*C-J*y;H=Q*F-H*y-J*C-L*D;cb(g,l,q);y=g[0];C=g[1];D=g[2];F=g[3];g[4]=R*F+H*y+X*D-U*C;g[5]=X*F+H*C+U*y-R*D;g[6]=U*F+H*D+R*C-X*y;g[7]=H*F-
R*y-X*C-U*D;return g},xI:function(g,l,q){var y=-l[0],C=-l[1],D=-l[2],F=l[3],H=l[4],J=l[5],L=l[6],Q=l[7],R=H*F+Q*y+J*D-L*C,X=J*F+Q*C+L*y-H*D,U=L*F+Q*D+H*C-J*y;H=Q*F-H*y-J*C-L*D;db(g,l,q);y=g[0];C=g[1];D=g[2];F=g[3];g[4]=R*F+H*y+X*D-U*C;g[5]=X*F+H*C+U*y-R*D;g[6]=U*F+H*D+R*C-X*y;g[7]=H*F-R*y-X*C-U*D;return g},mna:function(g,l,q){var y=q[0],C=q[1],D=q[2];q=q[3];var F=l[0],H=l[1],J=l[2],L=l[3];g[0]=F*q+L*y+H*D-J*C;g[1]=H*q+L*C+J*y-F*D;g[2]=J*q+L*D+F*C-H*y;g[3]=L*q-F*y-H*C-J*D;F=l[4];H=l[5];J=l[6];L=l[7];
g[4]=F*q+L*y+H*D-J*C;g[5]=H*q+L*C+J*y-F*D;g[6]=J*q+L*D+F*C-H*y;g[7]=L*q-F*y-H*C-J*D;return g},nna:function(g,l,q){var y=l[0],C=l[1],D=l[2];l=l[3];var F=q[0],H=q[1],J=q[2],L=q[3];g[0]=y*L+l*F+C*J-D*H;g[1]=C*L+l*H+D*F-y*J;g[2]=D*L+l*J+y*H-C*F;g[3]=l*L-y*F-C*H-D*J;F=q[4];H=q[5];J=q[6];L=q[7];g[4]=y*L+l*F+C*J-D*H;g[5]=C*L+l*H+D*F-y*J;g[6]=D*L+l*J+y*H-C*F;g[7]=l*L-y*F-C*H-D*J;return g},lna:function(g,l,q,y){if(1E-6>Math.abs(y))return ib(g,l);var C=Math.hypot(q[0],q[1],q[2]);y*=.5;var D=Math.sin(y),F=D*
q[0]/C,H=D*q[1]/C;q=D*q[2]/C;y=Math.cos(y);C=l[0];D=l[1];var J=l[2],L=l[3];g[0]=C*y+L*F+D*q-J*H;g[1]=D*y+L*H+J*F-C*q;g[2]=J*y+L*q+C*H-D*F;g[3]=L*y-C*F-D*H-J*q;C=l[4];D=l[5];J=l[6];l=l[7];g[4]=C*y+l*F+D*q-J*H;g[5]=D*y+l*H+J*F-C*q;g[6]=J*y+l*q+C*H-D*F;g[7]=l*y-C*F-D*H-J*q;return g},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];g[2]=l[2]+q[2];g[3]=l[3]+q[3];g[4]=l[4]+q[4];g[5]=l[5]+q[5];g[6]=l[6]+q[6];g[7]=l[7]+q[7];return g},multiply:jb,Pm:jb,scale:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;g[2]=l[2]*
q;g[3]=l[3]*q;g[4]=l[4]*q;g[5]=l[5]*q;g[6]=l[6]*q;g[7]=l[7]*q;return g},Mm:Ha,Ld:function(g,l,q,y){var C=1-y;0>Ha(l,q)&&(y=-y);g[0]=l[0]*C+q[0]*y;g[1]=l[1]*C+q[1]*y;g[2]=l[2]*C+q[2]*y;g[3]=l[3]*C+q[3]*y;g[4]=l[4]*C+q[4]*y;g[5]=l[5]*C+q[5]*y;g[6]=l[6]*C+q[6]*y;g[7]=l[7]*C+q[7]*y;return g},mr:function(g,l){var q=Aa(l);g[0]=-l[0]/q;g[1]=-l[1]/q;g[2]=-l[2]/q;g[3]=l[3]/q;g[4]=-l[4]/q;g[5]=-l[5]/q;g[6]=-l[6]/q;g[7]=l[7]/q;return g},E$:function(g,l){g[0]=-l[0];g[1]=-l[1];g[2]=-l[2];g[3]=l[3];g[4]=-l[4];
g[5]=-l[5];g[6]=-l[6];g[7]=l[7];return g},length:Ca,ur:Ca,MA:Aa,LA:Aa,normalize:function(g,l){var q=Aa(l);if(0<q){q=Math.sqrt(q);var y=l[0]/q,C=l[1]/q,D=l[2]/q,F=l[3]/q,H=l[4],J=l[5],L=l[6];l=l[7];var Q=y*H+C*J+D*L+F*l;g[0]=y;g[1]=C;g[2]=D;g[3]=F;g[4]=(H-y*Q)/q;g[5]=(J-C*Q)/q;g[6]=(L-D*Q)/q;g[7]=(l-F*Q)/q}return g},ol:function(g){return"quat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+")"},Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]&&g[2]===l[2]&&g[3]===l[3]&&
g[4]===l[4]&&g[5]===l[5]&&g[6]===l[6]&&g[7]===l[7]},Rc:function(g,l){var q=g[0],y=g[1],C=g[2],D=g[3],F=g[4],H=g[5],J=g[6];g=g[7];var L=l[0],Q=l[1],R=l[2],X=l[3],U=l[4],da=l[5],ca=l[6];l=l[7];return Math.abs(q-L)<=1E-6*Math.max(1,Math.abs(q),Math.abs(L))&&Math.abs(y-Q)<=1E-6*Math.max(1,Math.abs(y),Math.abs(Q))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(D-X)<=1E-6*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(F-U)<=1E-6*Math.max(1,Math.abs(F),Math.abs(U))&&Math.abs(H-da)<=1E-6*
Math.max(1,Math.abs(H),Math.abs(da))&&Math.abs(J-ca)<=1E-6*Math.max(1,Math.abs(J),Math.abs(ca))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))}});Ia=function(){var g=kb();return function(l,q,y,C,D,F){q||(q=2);y||(y=0);for(C=C?Math.min(C*q+y,l.length):l.length;y<C;y+=q)g[0]=l[y],g[1]=l[y+1],D(g,g,F),l[y]=g[0],l[y+1]=g[1];return l}}();Ia=Object.freeze({__proto__:null,create:kb,clone:function(g){var l=new oa(2);l[0]=g[0];l[1]=g[1];return l},cf:function(g,l){var q=new oa(2);q[0]=g;q[1]=l;return q},
Aa:function(g,l){g[0]=l[0];g[1]=l[1];return g},set:function(g,l,q){g[0]=l;g[1]=q;return g},add:function(g,l,q){g[0]=l[0]+q[0];g[1]=l[1]+q[1];return g},pl:lb,multiply:mb,fl:nb,ceil:function(g,l){g[0]=Math.ceil(l[0]);g[1]=Math.ceil(l[1]);return g},floor:function(g,l){g[0]=Math.floor(l[0]);g[1]=Math.floor(l[1]);return g},min:function(g,l,q){g[0]=Math.min(l[0],q[0]);g[1]=Math.min(l[1],q[1]);return g},max:function(g,l,q){g[0]=Math.max(l[0],q[0]);g[1]=Math.max(l[1],q[1]);return g},round:function(g,l){g[0]=
Math.round(l[0]);g[1]=Math.round(l[1]);return g},scale:function(g,l,q){g[0]=l[0]*q;g[1]=l[1]*q;return g},yI:function(g,l,q,y){g[0]=l[0]+q[0]*y;g[1]=l[1]+q[1]*y;return g},dv:ob,hS:pb,length:qb,MA:rb,TR:function(g,l){g[0]=-l[0];g[1]=-l[1];return g},inverse:function(g,l){g[0]=1/l[0];g[1]=1/l[1];return g},normalize:function(g,l){var q=l[0],y=l[1];q=q*q+y*y;0<q&&(q=1/Math.sqrt(q));g[0]=l[0]*q;g[1]=l[1]*q;return g},Mm:function(g,l){return g[0]*l[0]+g[1]*l[1]},RH:function(g,l,q){l=l[0]*q[1]-l[1]*q[0];g[0]=
g[1]=0;g[2]=l;return g},Ld:function(g,l,q,y){var C=l[0];l=l[1];g[0]=C+y*(q[0]-C);g[1]=l+y*(q[1]-l);return g},random:function(g,l){l=l||1;var q=2*ya()*Math.PI;g[0]=Math.cos(q)*l;g[1]=Math.sin(q)*l;return g},Nna:function(g,l,q){var y=l[0];l=l[1];g[0]=q[0]*y+q[2]*l;g[1]=q[1]*y+q[3]*l;return g},Ona:function(g,l,q){var y=l[0];l=l[1];g[0]=q[0]*y+q[2]*l+q[4];g[1]=q[1]*y+q[3]*l+q[5];return g},dba:function(g,l,q){var y=l[0];l=l[1];g[0]=q[0]*y+q[3]*l+q[6];g[1]=q[1]*y+q[4]*l+q[7];return g},GI:function(g,l,q){var y=
l[0];l=l[1];g[0]=q[0]*y+q[4]*l+q[12];g[1]=q[1]*y+q[5]*l+q[13];return g},rotate:function(g,l,q,y){var C=l[0]-q[0];l=l[1]-q[1];var D=Math.sin(y);y=Math.cos(y);g[0]=C*y-l*D+q[0];g[1]=C*D+l*y+q[1];return g},angle:function(g,l){var q=g[0];g=g[1];var y=l[0];l=l[1];var C=Math.sqrt(q*q+g*g)*Math.sqrt(y*y+l*l);return Math.acos(Math.min(Math.max(C&&(q*y+g*l)/C,-1),1))},pS:function(g){g[0]=0;g[1]=0;return g},ol:function(g){return"vec2("+g[0]+", "+g[1]+")"},Ii:function(g,l){return g[0]===l[0]&&g[1]===l[1]},Rc:function(g,
l){var q=g[0];g=g[1];var y=l[0];l=l[1];return Math.abs(q-y)<=1E-6*Math.max(1,Math.abs(q),Math.abs(y))&&Math.abs(g-l)<=1E-6*Math.max(1,Math.abs(g),Math.abs(l))},ur:qb,sub:lb,Pm:mb,GR:nb,ER:ob,gS:pb,LA:rb,forEach:Ia});d.il=wb;d.xma=xb;d.yma=yb;d.zma=zb;d.Qo=Ab;d.Wma=Ra;d.Xma=Sa;d.Una=Ia;d.QA=Pa;d.Ir=Qa;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Da(exports):"function"===typeof define&&define.Jka?define(["exports"],Da):(Ba=Ba||self,Da(Ba.il={}));
{"use strict";function d(w,u,t,A){var z=u[0]-w[0];u=u[1]-w[1];var E=A[0]-t[0],G=A[1]-t[1];if(0===E*u-G*z)return!1;A=(z*(t[1]-w[1])+u*(w[0]-t[0]))/(E*u-G*z);w=(E*(w[1]-t[1])+G*(t[0]-w[0]))/(G*z-E*u);return 0<=A&&1>=A&&0<=w&&1>=w}function a(w,u,t){return(u[0]-w[0])*(t[1]-w[1])-(t[0]-w[0])*(u[1]-w[1])}function b(w,u,t){return 0<a(w,u,t)}function f(w,u,t){return 0<=a(w,u,t)}function c(w,u,t){return 0>=a(w,u,t)}var Ea=[],Fa=[];function e(w,u){var t=u[0]-w[0];w=u[1]-w[1];return t*t+w*w}function k(w,u){var t=
w.length;return w[0>u?u%t+t:u%t]}function h(w,u,t,A){for(;t<A;t++)w.push(u[t])}function m(w,u){var t=k(w,u-1),A=k(w,u);w=k(w,u+1);return 0>a(t,A,w)}var Ga=[],Ta=[];function n(w,u,t,A){A=A||[];A.length=0;if(u<t)for(var z=u;z<=t;z++)A.push(w[z]);else{for(z=0;z<=t;z++)A.push(w[z]);for(z=u;z<w.length;z++)A.push(w[z])}return A}function p(w){for(var u=[],t,A,z=[],E=Number.MAX_VALUE,G=0;G<w.length;++G)if(m(w,G))for(var I=0;I<w.length;++I){a:{A=w;var N=G,O=I;if(f(k(A,N+1),k(A,N),k(A,O))&&c(k(A,N-1),k(A,N),
k(A,O)))t=!1;else{t=e(k(A,N),k(A,O));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==N&&P!==N&&f(k(A,N),k(A,O),k(A,P+1))&&c(k(A,N),k(A,O),k(A,P))){Ga[0]=k(A,N);Ga[1]=k(A,O);Ta[0]=k(A,P);Ta[1]=k(A,P+1);var S=[0,0];var T=Ga[1][1]-Ga[0][1];var Y=Ga[0][0]-Ga[1][0];var ba=T*Ga[0][0]+Y*Ga[0][1];var ea=Ta[1][1]-Ta[0][1];var W=Ta[0][0]-Ta[1][0];var na=ea*Ta[0][0]+W*Ta[0][1];var ja=T*W-ea*Y;0>=Math.abs(ja-0)||(S[0]=(W*ba-Y*na)/ja,S[1]=(T*na-ea*ba)/ja);ja=S;if(e(k(A,N),ja)<t){t=!1;break a}}t=!0}}if(t){t=p(n(w,
G,I,z));A=p(n(w,I,G,z));for(N=0;N<A.length;N++)t.push(A[N]);t.length<E&&(u=t,E=t.length,u.push([k(w,G),k(w,I)]))}}return u}function r(w,u){if(0===u.length)return[w];if(u instanceof Array&&u.length&&u[0]instanceof Array&&2===u[0].length&&u[0][0]instanceof Array){w=[w];for(var t=0;t<u.length;t++)for(var A=u[t],z=0;z<w.length;z++){var E=r(w[z],A);if(E){w.splice(z,1);w.push(E[0],E[1]);break}}return w}A=u;t=w.indexOf(A[0]);z=w.indexOf(A[1]);return-1!==t&&-1!==z?[n(w,t,z),n(w,z,t)]:!1}function v(w,u,t,
A,z){var E=u[1]-w[1];u=w[0]-u[0];w=E*w[0]+u*w[1];var G=A[1]-t[1];A=t[0]-A[0];t=G*t[0]+A*t[1];var I=E*A-G*u;return Math.abs(I-0)<=(z||0)?[0,0]:[(A*w-u*t)/I,(E*t-G*w)/I]}function x(w,u,t,A,z,E,G){E=E||100;G=G||0;z=z||25;u="undefined"!==typeof u?u:[];t=t||[];A=A||[];var I=[0,0],N=[0,0],O=[0,0],P,S=0,T=0,Y=0,ba=[],ea=[];if(3>w.length)return u;G++;if(G>E)return console.warn("quickDecomp: max level ("+E+") reached."),u;for(var W=0;W<w.length;++W)if(m(w,W)){t.push(w[W]);var na=P=Number.MAX_VALUE;for(var ja=
0;ja<w.length;++ja){if(b(k(w,W-1),k(w,W),k(w,ja))&&c(k(w,W-1),k(w,W),k(w,ja-1))){O=v(k(w,W-1),k(w,W),k(w,ja),k(w,ja-1));var xa=k(w,W+1);var Ja=k(w,W);0>a(xa,Ja,O)&&(xa=e(w[W],O),xa<P&&(P=xa,N=O,T=ja))}b(k(w,W+1),k(w,W),k(w,ja+1))&&c(k(w,W+1),k(w,W),k(w,ja))&&(O=v(k(w,W+1),k(w,W),k(w,ja),k(w,ja+1)),b(k(w,W-1),k(w,W),O)&&(xa=e(w[W],O),xa<na&&(na=xa,I=O,S=ja)))}if(T===(S+1)%w.length)O[0]=(N[0]+I[0])/2,O[1]=(N[1]+I[1])/2,A.push(O),W<S?(h(ba,w,W,S+1),ba.push(O),ea.push(O),0!==T&&h(ea,w,T,w.length),h(ea,
w,0,W+1)):(0!==W&&h(ba,w,W,w.length),h(ba,w,0,S+1),ba.push(O),ea.push(O),h(ea,w,T,W+1));else{T>S&&(S+=w.length);I=Number.MAX_VALUE;if(S<T)return u;for(ja=T;ja<=S;++ja)if(f(k(w,W-1),k(w,W),k(w,ja))&&c(k(w,W+1),k(w,W),k(w,ja))){xa=e(k(w,W),k(w,ja));if(T=xa<I)a:{T=w;N=W;O=ja;for(na=0;na!==T.length;++na)if(na!==N&&na!==O&&(na+1)%T.length!==N&&(na+1)%T.length!==O&&d(k(T,N),k(T,O),k(T,na),k(T,na+1))){T=!1;break a}T=!0}T&&(I=xa,Y=ja%w.length)}W<Y?(h(ba,w,W,Y+1),0!==Y&&h(ea,w,Y,w.length),h(ea,w,0,W+1)):(0!==
W&&h(ba,w,W,w.length),h(ba,w,0,Y+1),h(ea,w,Y,W+1))}ba.length<ea.length?(x(ba,u,t,A,z,E,G),x(ea,u,t,A,z,E,G)):(x(ea,u,t,A,z,E,G),x(ba,u,t,A,z,E,G));return u}u.push(w);return u}self.Sma={gla:function(w){var u=p(w);return 0<u.length?r(w,u):[w]},Yma:x,Zla:function(w){var u;for(u=0;u<w.length-1;u++)for(var t=0;t<u-1;t++)if(d(w[u],w[u+1],w[t],w[t+1]))return!1;for(u=1;u<w.length-2;u++)if(d(w[0],w[w.length-1],w[u],w[u+1]))return!1;return!0},cna:function(w,u){for(var t=0,A=w.length-1;3<w.length&&0<=A;--A){var z=
k(w,A-1);var E=k(w,A),G=k(w,A+1),I=u;I?(Ea[0]=E[0]-z[0],Ea[1]=E[1]-z[1],Fa[0]=G[0]-E[0],Fa[1]=G[1]-E[1],z=Math.acos((Ea[0]*Fa[0]+Ea[1]*Fa[1])/(Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1])*Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])))<I):z=0===a(z,E,G);z&&(w.splice(A%w.length,1),t++)}return t},dna:function(w,u){for(var t=w.length-1;1<=t;--t)for(var A=w[t],z=t-1;0<=z;--z){var E=A,G=w[z],I=u;Math.abs(E[0]-G[0])<=(I||0)&&Math.abs(E[1]-G[1])<=(I||0)&&w.splice(t,1)}},wma:function(w){for(var u=0,t=1;t<w.length;++t)if(w[t][1]<
w[u][1]||w[t][1]===w[u][1]&&w[t][0]>w[u][0])u=t;if(b(k(w,u-1),k(w,u),k(w,u+1)))return!1;u=[];t=w.length;for(var A=0;A!==t;A++)u.push(w.pop());for(A=0;A!==t;A++)w[A]=u[A];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.nr=!1;d.cI=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.lh={}}
{"use strict";const d=self.B;d.oL=class{constructor(a){this.X9=a;this.Ga=new Map;this.n6()}n6(){var a=this.X9;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.o6(b)}o6(a){if(a)if(a.includes("=")){var b=a.indexOf("="),f=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Ga.set(f,a)}else this.Ga.set(a,null)}Bw(a){return this.Ga.has(a)}$(a){a=this.Ga.get(a);return"undefined"===typeof a?null:a}};d.DC=new d.oL(location.search);d.vfa=
new d.oL(location.hash);d.DC.$("mode")}
{"use strict";const d=self.B,a=navigator.userAgent;let b={paa:/linux|openbsd|freebsd|netbsd/i.test(a),B$:/CrOS/.test(a),RA:/trident|iemobile|msie|tizen/i.test(a),Hla:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),yR:/bb10/i.test(a),P$:/edge\//i.test(a),lS:/trident/i.test(a),webkit:/webkit/i.test(a),Naa:/safari\//i.test(a),A$:/chrome\//i.test(a),C$:/chromium\//i.test(a),F$:/crosswalk|xwalk/i.test(a),Gma:/nwjs/i.test(a),q$:/amazonwebappplatform/i.test(a),kba:/wv\)/.test(a),r$:/android/i.test(a),
zaa:/nokiabrowser\/[0-9.]+/i.test(a)};var Ua=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),sb=/android\s+[0-9.]+/i.exec(a),tb=/OPR\/[0-9.]+/.exec(a),ub=/tizen\s+[0-9.]+/i.exec(a),Bb=/iphone\s+os\s+[0-9_]+/i.exec(a),Cb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Db=/windows\s+phone\s+[0-9.]+/i.exec(a),Eb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Fb=/chrome\/[0-9.]+/i.exec(a),Gb=/chromium\/[0-9.]+/i.exec(a),Hb=/nwjs\/[0-9.]+/i.exec(a),Ib=/firefox\/[0-9.]+/i.exec(a),Jb=/msie\s+[0-9.]+/i.exec(a),Kb=/edge\/[0-9.]+/i.exec(a),
Lb=/edg\/[0-9.]+/i.exec(a),Mb=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",c="(unknown)",e="(unknown)",k="(unknown)",h="(unknown)",m="browser",n=!1,p=!1,r=new Map;function v(w,u,t){!0===u?(t(),r.set(w,!0)):u&&u.length&&(t(u[0]),r.set(w,!0))}v("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),w=>{f="Windows";if(w=w.split(" ")[2])switch(w){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});v("isOSX",Ua,w=>{f="Mac OS X";(w=w.split(" ")[3])&&(c=w.replace("_","."))});v("isLinux",b.paa,()=>{f="Linux"});v("isChromeOS",b.B$,()=>{f="Chrome OS"});v("isAndroid",!b.RA&&sb,w=>{f="Android";(w=w.split(" ")[1])&&(c=w)});v("isTizen",ub,w=>{f="Tizen";(w=w.split(" ")[1])&&(c=w)});v("isIPhone",!b.RA&&Bb,w=>{f="iOS";(w=w.split(" ")[2])&&(c=w.replace("_","."))});v("isIPad",!b.RA&&Cb,w=>{f="iOS";(w=w.split(" ")[3])&&(c=w.replace("_","."))});v("isWindowsPhone",Db,w=>{f="Windows Phone";
(w=w.split(" ")[2])&&(c=w)});v("isWindowsPhoneOS",Eb,w=>{f="Windows Phone";(w=w.split(" ")[3])&&(c=w)});v("isBlackberry",b.yR,()=>{f="Blackberry";c="10";e="stock";h="webkit"});v("isChrome",!b.P$&&!b.opera&&Fb,w=>{e="Chrome";h="Chromium";(w=w.split("/")[1])&&(k=w)});v("isOpera",tb,w=>{e="Opera";h="Chromium";(w=w.split("/")[1])&&(k=w)});v("isChromium",Gb,w=>{h=e="Chromium";(w=w.split("/")[1])&&(k=w)});v("isFirefox",Ib,w=>{e="Firefox";h="Gecko";(w=w.split("/")[1])&&(k=w)});v("isInternetExplorer",Jb,
w=>{e="Internet Explorer";h="Trident";(w=w.split(" ")[1])&&(k=w)});v("isTrident","Internet Explorer"!==e&&b.lS,()=>{h="Trident";var w=/rv:[0-9.]+/i.exec(a);w&&w.length&&(e="Internet Explorer",(w=w[0].split(":")[1])&&(k=w))});v("isEdge",Kb,w=>{h=e="Edge";(w=w.split("/")[1])&&(k=w)});v("isEdgeChromium",Lb,w=>{e="Edge";h="Chromium";(w=w.split("/")[1])&&(k=w)});v("isSafari",b.Naa&&!b.zaa&&!b.A$&&!b.C$&&!b.Gla&&!b.yR,()=>{e="Safari";h="WebKit";var w=/version\/[0-9.]+/i.exec(a),u=/crios\/[0-9.]+/i.exec(a),
t=/fxios\/[0-9.]+/i.exec(a);w&&w.length&&(w=w[0].split("/")[1])&&(k=w);u&&u.length&&(e="Chrome for iOS",(u=u[0].split("/")[1])&&(k=u));t&&t.length&&(e="Firefox for iOS",(t=t[0].split("/")[1])&&(k=t))});v("isSilk",Mb,w=>{e="Silk";(w=w.split("/")[1])&&(k=w)});v("isCrosswalk",b.F$,()=>m="crosswalk");v("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>m="cordova");v("isNWJS",Hb,w=>{m="nwjs";e="NW.js";h="Chromium";(w=w.split("/")[1])&&(k=w)});v("isAmazonWebApp",b.q$,()=>m="webapp");
v("isHomeScreenWebApp","nwjs"!==m&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>m="webapp");v("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");v("isAndroidWebview","Chrome"===e&&"browser"===m&&b.kba,()=>m="webview");v("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");v("isAndroidFallback","(unknown)"===f&&!b.RA&&b.r$,()=>f="Android");v("isTridentFallback",
"(unknown)"===f&&b.lS,()=>h="Trident");v("isWebkitFallback","(unknown)"===f&&b.webkit,()=>h="WebKit");v("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===m,()=>n=!0);p="nwjs"===m;const x="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;x&&(f="iOS",c=k,p=n=!1);d.Hb={zg:f,Rfa:c,Tc:e,dca:k,bB:parseFloat(k),Dv:h,hB:m,pea:n,Kw:!n,qea:p,kea:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),gea:"Mac OS X"===f||"iOS"===f,xea:x,Bea:"Linux"===f}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(x){return new Promise((w,u)=>{x.onsuccess=()=>w(x.result);x.onerror=()=>u(x.error)})}function c(x){return new Promise((w,u)=>{x.oncomplete=()=>w();x.onerror=()=>u(x.error);x.onabort=()=>u(x.error)})}function e(x,w){return h(x,w)}function k(x,w){return h(x,w,!0)}async function h(x,w,u=!1,
t=!0){const A=await m(x);try{const z=A.transaction(["keyvaluepairs"],u?"readwrite":"readonly");return w(z)}catch(z){if(t&&"InvalidStateError"===z.name)return d.delete(x),h(x,w,u,!1);throw z;}}function m(x){p(x);let w=d.get(x);w instanceof Promise||(w=n(x),d.set(x,w),w.catch(()=>d.delete(x)));return w}async function n(x){p(x);const w=indexedDB.open(x,2);w.addEventListener("upgradeneeded",u=>{try{u.target.result.createObjectStore("keyvaluepairs")}catch(t){console.error(`Failed to create objectstore for database ${x}`,
t)}});return f(w)}function p(x){if("string"!==typeof x)throw new TypeError("expected string");}function r(x,w){const u=x.objectStore("keyvaluepairs").openCursor();return new Promise(t=>{const A=[];u.onsuccess=z=>{if(z=z.target.result){switch(w){case "entries":A.push([z.key,z.value]);break;case "keys":A.push(z.key);break;case "values":A.push(z.value)}z.continue()}else t(A)}})}class v{constructor(x){p(x);this.name=x}async ready(){await m(this.name)}set(x,w){p(x);return k(this.name,async u=>{var t=u.objectStore("keyvaluepairs").put(w,
x);t=f(t);u=c(u);await Promise.all([u,t])})}get(x){p(x);return e(this.name,async w=>{var u=w.objectStore("keyvaluepairs").get(x);u=f(u);w=c(w);[,w]=await Promise.all([w,u]);return w})}delete(x){p(x);return k(this.name,async w=>{var u=w.objectStore("keyvaluepairs").delete(x);u=f(u);w=c(w);await Promise.all([w,u])})}clear(){return k(this.name,async x=>{var w=x.objectStore("keyvaluepairs").clear();w=f(w);x=c(x);await Promise.all([x,w])})}keys(){return e(this.name,async x=>{if(b){var w=x.objectStore("keyvaluepairs").getAllKeys();
w=f(w)}else w=r(x,"keys");x=c(x);[,x]=await Promise.all([x,w]);return x})}values(){return e(this.name,async x=>{if(a){var w=x.objectStore("keyvaluepairs").getAll();w=f(w)}else w=r(x,"values");x=c(x);[,x]=await Promise.all([x,w]);return x})}entries(){return e(this.name,async x=>{var w=r(x,"entries");x=c(x);[,w]=await Promise.all([x,w]);return w})}}self.mY=v}"use strict";
{const d=self.mY,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(m){throw Error(`"${m}" is not implemented`);
}function e(m){if("function"===typeof m)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(m){return"object"===typeof m?new Promise(n=>{const {port1:p,port2:r}=new MessageChannel;r.onmessage=v=>n(v.data);p.postMessage(m)}):Promise.resolve(m)}class h{constructor(m){this.ka=m;b.set(this,new Map)}bt(m){if(!f)for(const n of a)if(m&&n.test(m.message)){console.error("Unable to use local storage, reverting to in-memory store: ",m,m.message);f=!0;break}}async BP(m){m=
b.get(this).get(m);m=await k(m);return"undefined"===typeof m?null:m}async XQ(m,n){n=await k(n);b.get(this).set(m,n)}SQ(m){b.get(this).delete(m)}dP(){b.get(this).clear()}hQ(){return Array.from(b.get(this).keys())}async getItem(m,n){e(n);if(f)return await this.BP(m);let p;try{p=await this.ka.get(m)}catch(r){this.bt(r);if(f)return await this.BP(m);console.error(`Error reading '${m}' from storage, returning null: `,r);return null}return"undefined"===typeof p?null:p}async setItem(m,n,p){e(p);"undefined"===
typeof n&&(n=null);if(f)await this.XQ(m,n);else try{await this.ka.set(m,n)}catch(r){if(this.bt(r),f)await this.XQ(m,n);else throw r;}}async removeItem(m,n){e(n);if(f)this.SQ(m);else try{await this.ka.delete(m)}catch(p){this.bt(p),f?this.SQ(m):console.error(`Error removing '${m}' from storage: `,p)}}async clear(m){e(m);if(f)this.dP();else try{await this.ka.clear()}catch(n){this.bt(n),f?this.dP():console.error("Error clearing storage: ",n)}}async keys(m){e(m);if(f)return this.hQ();m=[];try{m=await this.ka.keys()}catch(n){this.bt(n);
if(f)return this.hQ();console.error("Error getting storage keys: ",n)}return m}ready(m){e(m);return f?Promise.resolve(!0):this.ka.ready()}QH(m){if("object"!==typeof m)throw new TypeError("invalid options object");m=m.name;if("string"!==typeof m)throw new TypeError("invalid store name");m=new d(m);return new h(m)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.B;d.Qb={};d.Qb.ska=(()=>{try{if("Safari"===d.Hb.Tc||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Qb.ada="undefined"!==typeof HTMLDialogElement;d.Qb.jha=!!self.requestIdleCallback;d.Qb.ImageBitmap=!!self.createImageBitmap;d.Qb.ImageBitmapOptions=!1;if(d.Qb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Qb.ImageBitmapOptions=!0}).catch(()=>{d.Qb.ImageBitmapOptions=!1})}catch(a){d.Qb.ImageBitmapOptions=!1}d.Qb.rca=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Hb.Tc);d.Qb.pga=!(!navigator.permissions||!navigator.permissions.query);d.Qb.nL="undefined"!==typeof Proxy;d.Qb.eda="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Qb.Fv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Qb.oda="function"===typeof fetch;d.Qb.rga=!!(self.isSecureContext&&"Opera"!==d.Hb.Tc&&navigator.storage&&navigator.storage.persist);d.Qb.Dja=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Nb;if("undefined"===typeof document||"iOS"===d.Hb.zg)Nb=!1;else{var Ob=document.documentElement;Nb=!!(Ob.requestFullscreen||Ob.msRequestFullscreen||Ob.mozRequestFullScreen||Ob.webkitRequestFullscreen)}d.Qb.yda=Nb;d.Qb.Vda="undefined"!==typeof self.ImageDecoder;d.Qb.Lfa=!!self.showOpenFilePicker;
d.Qb.Mfa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Pr(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,f){return b.reduce((c,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,f-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,c)=>a({usage:f,quota:c}),b))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(a){for(var b=a.length,f=-1,c=new Uint8Array(3*b),e,k,h=0;h!==b;){e=a.charCodeAt(h);h+=1;if(55296<=e&&56319>=e){if(h===b){c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;break}k=a.charCodeAt(h);if(56320<=k&&57343>=k){if(e=1024*(e-55296)+k-56320+65536,h+=1,65535<e){c[f+=1]=240|
e>>>18;c[f+=1]=128|e>>>12&63;c[f+=1]=128|e>>>6&63;c[f+=1]=128|e&63;continue}}else{c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;continue}}127>=e?c[f+=1]=0|e:(2047>=e?c[f+=1]=192|e>>>6:(c[f+=1]=224|e>>>12,c[f+=1]=128|e>>>6&63),c[f+=1]=128|e&63)}return new Uint8Array(c.buffer.slice(0,f+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function a(c){const e=c[Symbol.iterator]();return{next:()=>e.next(),[Symbol.iterator](){return this}}}
function b(c){c=c.next();if(c.done)throw Error("unexpected end of input");if(0!=(c.value&192^128))throw Error("invalid byte");return c.value&63}const f=new Map;f.set("utf-8",(c,e)=>{if(c.buffer)var k=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);else if(k instanceof ArrayBuffer)k=new Uint8Array(c);else throw Error("Invalid parameter");c=a(k);k=[];try{for(const h of c){let m;if(127>h)m=h&127;else if(223>h)m=(h&31)<<6|b(c);else if(239>h)m=(h&15)<<12|b(c)<<6|b(c);else if(247>h)m=(h&7)<<18|b(c)<<
12|b(c)<<6|b(c);else throw Error("Invalid character");k.push(String.fromCodePoint(m))}}catch(h){if(e)throw h;k.push("\ufffd")}return k.join("")});f.set("utf8",f.get("utf-8"));f.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(c="utf-8",e={}){const k=f.get(c);if(!k)throw Error(`TextDecoder polyfill does not support "${c}"`);Object.defineProperty(this,"fatal",{value:!0===e.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:k,writable:!1});
Object.defineProperty(this,"encoding",{value:c,writable:!1})}decode(c){return this._decoder(c,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.aw())}}
{"use strict";const d=self.B,a=self.lh;d.Fl=function(f){return"number"===typeof f};d.Cl=function(f){return d.Fl(f)&&isFinite(f)};d.pf=function(f){if(!d.Fl(f))throw new TypeError("expected number");};d.wL=function(){};d.Gha=function(f,c,e){if(!d.Fl(f)||isNaN(f)||c>f||e<f)throw new RangeError("number outside of range");};d.sha=function(...f){for(let c of f);};d.kk=function(f){if(!d.Cl(f))throw new TypeError("expected finite number");};d.tL=function(){};d.pha=function(...f){for(let c of f);};d.Ah=function(f){return"string"===
typeof f};d.le=function(f){if(!d.Ah(f))throw new TypeError("expected string");};d.yL=function(){};d.uha=function(...f){for(let c of f);};d.EK=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.Tha=function(f){if(!d.EK(f))throw new TypeError("expected simple object");};d.Qha=function(f){if(!d.Nd(f)&&!d.EK(f))throw new TypeError("expected simple object");};d.DK=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.rL=function(f){if(!d.DK(f))throw new TypeError("expected object");
};d.xL=function(){};d.tha=function(...f){for(let c of f);};d.lC=function(f){return d.Dl(f,Blob)&&"string"===typeof f.name};d.Eha=function(f){if(!d.lC(f))throw new TypeError("expected file");};d.Oha=function(){};d.ln=function(f){return Array.isArray(f)};d.KC=function(f){if(!d.ln(f))throw new TypeError("expected array");};d.sL=function(){};d.oha=function(...f){for(let c of f);};d.PX=function(f){return d.ln(f)?f.length?d.ln(f[0])?!0:!1:!0:!1};d.nha=function(f){if(!d.PX(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.ln(c))throw new TypeError("expected 2d array");};d.Hha=function(){};d.mC=function(f){return"function"===typeof f};d.cj=function(f,c){if(!d.mC(f))throw new TypeError("expected function");if(!d.Nd(c)&&f!==c)throw new TypeError("expected same function reference");};d.uL=function(){};d.qha=function(...f){for(let c of f);};d.wha=function(f,...c){if(!d.mC(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let e of c)if(!d.Nd(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.Iha=function(...f){if(!d.Nd(f))for(let c of f);};d.Dl=function(f,c){return f instanceof c};d.BK=function(f,...c){for(let e of c)if(d.Dl(f,e))return!0;return!1};d.LC=function(f,c){if(!d.Dl(f,c))throw new TypeError("unexpected type");};d.vL=function(){};d.rha=function(f,...c){for(let e of c);};d.xha=function(f,...c){if(!d.BK(f,...c))throw new TypeError("unexpected type");};d.yha=function(f,...c){if(!d.Nd(f)&&!d.BK(f,...c))throw new TypeError("unexpected type");
};d.hea=function(f,c){for(let e of f)if(!d.Dl(e,c))return!1;return!0};d.iea=function(f){for(let c of f)if(!d.Cl(c))return!1;return!0};d.zha=function(f){for(let c of f);};d.Jha=function(f){if(!d.Nd(f))for(let c of f);};d.Aha=function(f){for(let c of f);};d.Kha=function(f){if(!d.Nd(f))for(let c of f);};d.mea=function(f,c){return d.Nd(f)||!d.Ah(f.nodeName)?!1:!c||d.Nm(f.nodeName,c)};d.Bha=function(f,c){if(d.Nd(f)||!d.Ah(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Nm(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Lha=function(){};d.nC=function(f,c){return d.Nd(f)||!d.Ah(f.tagName)?!1:!c||d.Nm(f.tagName,c)};d.Fha=function(f,c){if(d.Nd(f)||!d.Ah(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.Nm(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Pha=function(){};d.uK=function(f){return d.nC(f,"img")||d.nC(f,"canvas")||d.nC(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.Cha=function(f){if(!d.uK(f))throw new TypeError("expected drawable");
};d.Mha=function(){};d.vK=function(f){return f instanceof ImageData?!0:d.uK(f)};d.Dha=function(f){if(!d.vK(f))throw new TypeError("expected drawable or image data");};d.Nha=function(f){if(!d.Nd(f)&&!d.vK(f))throw new TypeError("expected drawable or image data");};d.gY=function(f){return"string"===typeof f||f instanceof d.cC||f instanceof d.rl};d.Uha=function(f){if(!d.gY(f))throw new TypeError("expected string-like");};d.Rha=function(){};d.vha=function(...f){for(let c of f);};d.Sha=function(){throw Error("must be overridden");
};d.Qfa=function(){throw Error("not yet implemented");};d.oea=function(f,...c){if("undefined"===typeof f)return!1;for(let e of c){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.Nd=function(f){return"undefined"===typeof f||null===f};d.Pba=function(f){let c=f[0].constructor;for(let e of f)if(e.constructor!==c)return!1;return c};d.Qba=function(f,c){for(let e of f)if(!(e instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.$ea=function(f){return d.Dl(f,b)};d.Vha=function(){};
d.rka=function(f){d.B1(f,b)};d.qka=function(f,...c){if(!d.A1(f,...c))throw new TypeError("unexpected type");};d.A1=function(f,...c){for(const e of c)if(d.yM(f,e))return!0;return!1};d.B1=function(f,c){if(!d.yM(f,c))throw new TypeError("unexpected type");};d.yM=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};a.pf=d.pf;a.wL=d.wL;a.kk=d.kk;a.tL=d.tL;a.le=d.le;a.yL=d.yL;a.rL=d.rL;a.xL=d.xL;a.KC=d.KC;a.sL=d.sL;a.cj=d.cj;a.uL=d.uL;a.LC=d.LC;a.vL=d.vL;a.Nd=
d.Nd}
{"use strict";const d=self.B,a=new Map;d.Wga=function(r,...v){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...v);a.set(r,-1)}))};d.aw=function(){return Error().stack};d.Yca=function(){debugger};d.Wka=function(r,v){return r&&r instanceof v?r:null};d.Kj=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.Fl(r)?"<number>":d.Ah(r)?"<string>":d.ln(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.mC(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.AA=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,v){if(!isFinite(Math.abs(r-v)))throw Error("Invalid parameters");if(r>v)for(--r;r>=v;r--)yield r;else for(;r<v;r++)yield r};let b=new Map,f=new Map,c=new WeakMap,e=new WeakMap;d.bp={};const k=
new Set(["then","splice"]);function h(r){console.warn("[Defence] "+r+" @",d.aw())}d.bp.get=function(r,v){v in r||"symbol"===typeof v||k.has(v)||h(`Accessed missing property '${v}' from defended object '${d.Kj(r)}', returning undefined`);e.has(r)&&"symbol"!==typeof v&&!k.has(v)&&h(`Accessed property '${v}' on a released object '${d.Kj(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);return r[v]};d.bp.set=function(r,v,x){v in r||b.has(r)||h(`Set non-existent property '${v}' to '${x}' on defended object '${d.Kj(r)}'`);
{var w=d.AA(r[v]);let u=d.AA(x);w="null"===w||"null"===u?!0:"undefined"===w||"undefined"===u?!1:w===u}w||b.has(r)||h(`Set '${d.AA(r[v])}' property '${v}' to type '${d.AA(x)}' on defended object '${d.Kj(r)}'`);e.has(r)&&h(`Set property '${v}' on a released object '${d.Kj(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);r[v]=x;return!0};d.bp.deleteProperty=function(r,v){throw new ReferenceError(`Cannot delete property '${v}' from defended object '${d.Kj(r)}'`);};d.bp.defineProperty=
function(r,v){throw new ReferenceError(`Cannot define property '${v}' on defended object '${d.Kj(r)}'`);};d.bp.kla=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.Kj(r)}'`);};let m=-1;function n(){m=-1;if(0<b.size||0<f.size){let r=[...new Set([...b.keys()].map(v=>d.Kj(v)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
f.clear()}}d.da=class{constructor(){if(d.cI&&d.Qb.nL){var r=new.target;r=Object.create(r.prototype);var v=new Proxy(r,d.bp);b.set(r,v);f.set(v,r);c.set(v,r);-1===m&&(m=requestAnimationFrame(n));return v}}};d.H$=function(r){if(d.cI&&d.Qb.nL&&r instanceof d.da){if(!f.has(r))return r;let v=f.get(r);f.delete(r);b.delete(v);return r}return d.nr?Object.seal(r):r};d.A=function(r,...v){let x;try{x=new r(...v)}catch(t){throw f.clear(),b.clear(),t;}if(d.cI){v=x;var w=new Set;for(u in v)w.add(u);var u=w;if(v=
p.get(r)){w=[];for(let t of v.values())u.has(t)?u.delete(t):w.push(t);d.Oo(w,[...u]);w.length&&console.warn(`[Defence] '${d.Kj(r)}' constructor creates inconsistent properties: ${w.join(", ")}`)}else p.set(r,u)}return d.H$(x)};d.j=function(r){(r=c.get(r))&&e.set(r,d.aw())};d.qx=function(){let r=c.get(void 0);return r?!!e.get(r):!1};let p=new Map;d.oga=class{constructor(r){this.Y="";r&&this.start(r)}start(r){this.Y=r;performance.mark(this.Y+"-Start")}end(){performance.mark(this.Y+"-End");performance.measure(this.Y,
this.Y+"-Start",this.Y+"-End")}next(r){this.end();this.Y=r;performance.mark(this.Y+"-Start")}}}
{"use strict";const d=self.B,a=2*Math.PI,b=Math.PI/180,f=180/Math.PI;d.wrap=function(e,k,h){e=Math.floor(e);k=Math.floor(k);h=Math.floor(h);return e<k?(e=h-(k-e)%(h-k),e===h?0:e):k+(e-k)%(h-k)};d.taa=function(e,k,h,m){return(e-k)*(m-0)/(h-k)};d.normalize=function(e,k,h){return(e-k)/(h-k)};d.fa=function(e,k,h){return e<k?k:e>h?h:e};d.ae=function(e){e%=a;0>e&&(e+=a);return e};d.qb=function(e){return e*b};d.ih=function(e){return e*f};d.jr=function(e,k,h,m){return Math.hypot(h-e,m-k)};d.FR=function(e,
k,h,m){e=h-e;k=m-k;return e*e+k*k};d.KH=function(e,k,h,m){return Math.atan2(m-k,h-e)};d.gr=function(e,k){if(e===k)return 0;e=Math.sin(e)*Math.sin(k)+Math.cos(e)*Math.cos(k);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.JH=function(e,k,h){let m=Math.sin(e),n=Math.cos(e),p=Math.sin(k),r=Math.cos(k);return Math.acos(m*p+n*r)>h?0<n*p-m*r?d.ae(e+h):d.ae(e-h):d.ae(k)};d.Ye=function(e,k){return 0>=Math.cos(e)*Math.sin(k)-Math.sin(e)*Math.cos(k)};d.IH=function(e,k,h,m=0){let n=d.gr(e,k);m*=a;return d.Ye(k,
e)?d.ae(e+(n+m)*h):d.ae(e-(n+m)*h)};d.t$=function(e,k,h,m=0){const n=d.gr(e,k);m*=a;return d.Ye(k,e)?d.ae(e+(n+m)*h):d.ae((a-n+m)*h)};d.s$=function(e,k,h,m=0){const n=d.gr(e,k);m*=a;return d.Ye(k,e)?d.ae((-a+n-m)*h):d.ae(e-(n+m)*h)};d.Ld=function(e,k,h){return e+h*(k-e)};d.PA=function(e,k,h){return e===k?0:(h-e)/(k-e)};d.Jaa=function(e,k,h,m){return d.Ld(0,m,d.PA(e,k,h))};d.IA=function(e,k,h,m){return d.Ld(d.Ld(e,k,m),d.Ld(k,h,m),m)};d.DR=function(e,k,h,m,n){return d.Ld(d.IA(e,k,h,n),d.IA(k,h,m,n),
n)};d.CR=function(e,k,h){return(e+k+(e-k)*Math.cos(h*Math.PI))/2};d.Lj=function(e){return 0<e&&0===(e-1&e)};d.kI=function(e){--e;for(let k=1;32>k;k<<=1)e|=e>>k;return e+1};d.pna=function(e,k){return Math.round(e*k)/k};d.rla=function(e,k){return Math.floor(e*k)/k};d.$R=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,k){e=e.toFixed(k);for(k=e.length-1;0<=k&&"0"===e.charAt(k);--k);0<=k&&"."===e.charAt(k)&&--k;return 0>k?e:e.substr(0,k+1)};d.OZ=function(e,k,h){return d.fa(e,0,255)|d.fa(k,
0,255)<<8|d.fa(h,0,255)<<16};d.Uw=function(e,k,h,m){e=d.fa(Math.floor(1024*e),-8192,8191);k=d.fa(Math.floor(1024*k),-8192,8191);h=d.fa(Math.floor(1024*h),-8192,8191);m=d.fa(Math.floor(1023*m),0,1023);0>e&&(e+=16384);0>k&&(k+=16384);0>h&&(h+=16384);return-(274877906944*e+16777216*k+1024*h+m)};d.hL=function(e,k,h){return d.Uw(e,k,h,1)};d.TB=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.JB=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.vB=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.nV=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.Y$=function(e,k){e=Math.floor(e);for(k=Math.floor(k);0!==k;){let h=k;k=e%k;e=h}return e};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Jla=function(e,k){e=Math.floor(e);k=Math.floor(k);if(e===k)return[1,1];for(var h of c){let m=
e/h[0]*h[1];if(1>Math.abs(k-m))return h.slice(0);m=e/h[1]*h[0];if(1>Math.abs(k-m))return[h[1],h[0]]}h=d.Y$(e,k);return[e/h,k/h]};d.wna=function(e,k,h,m,n,p,r,v){var x=Math.min(e,h),w=Math.max(n,r);if(Math.max(e,h)<Math.min(n,r)||x>w)return!1;x=Math.min(k,m);w=Math.max(p,v);if(Math.max(k,m)<Math.min(p,v)||x>w)return!1;x=n-e+r-h;w=p-k+v-m;e=h-e;k=m-k;n=r-n;p=v-p;v=Math.abs(k*n-p*e);return Math.abs(n*w-p*x)>v?!1:Math.abs(e*w-k*x)<=v};d.ll=function(e,k,h,m,n,p,r,v,x,w,u,t){const A=Math.max(x,u);if(p<
Math.min(x,u)||n>A)return!1;n=Math.max(w,t);if(v<Math.min(w,t)||r>n)return!1;r=x-e+u-h;v=w-k+t-m;e=h-e;k=m-k;x=u-x;w=t-w;t=Math.abs(k*x-w*e);return Math.abs(x*v-w*r)>t?!1:Math.abs(e*v-k*r)<=t};d.JA=function(e,k,h,m,n){const p=Math.min(e,h),r=Math.max(e,h),v=Math.min(k,m),x=Math.max(k,m),w=n.zb,u=n.Ab,t=n.hc,A=n.ic,z=n.cc,E=n.dc,G=n.$b;n=n.ac;return d.ll(e,k,h,m,p,r,v,x,w,u,t,A)||d.ll(e,k,h,m,p,r,v,x,t,A,z,E)||d.ll(e,k,h,m,p,r,v,x,z,E,G,n)||d.ll(e,k,h,m,p,r,v,x,G,n,w,u)};d.vna=function(e,k,h,m,n){const p=
Math.min(e,h),r=Math.max(e,h),v=Math.min(k,m),x=Math.max(k,m);let w=0;for(let u=n.length-4;w<=u;w+=2)if(d.ll(e,k,h,m,p,r,v,x,n[w],n[w+1],n[w+2],n[w+3]))return!0;return d.ll(e,k,h,m,p,r,v,x,n[w],n[w+1],n[0],n[1])};d.Iaa=function(e,k,h,m,n,p,r,v){h-=e;p=v-p;const x=h*p-(m-k)*(r-n);if(0===x)return 2;m=((k-m)*(r-e)+h*(v-k))/x;return 0<m&&1.000001>m?(p*(r-e)+(n-r)*(v-k))/x:2};d.rv=function(e,k,h,m,n,p,r,v,x){const w=(r-n)*x;x*=v-p;return d.Iaa(e,k,h,m,n-w,p-x,r+w,v+x)};d.iaa=function(e,k,h,m,n,p,r,v){n-=
h;p-=m;r-=h;v-=m;e-=h;h=k-m;k=n*n+p*p;m=n*r+p*v;n=n*e+p*h;p=r*r+v*v;r=r*e+v*h;v=1/(k*p-m*m);p=(p*n-m*r)*v;n=(k*r-m*n)*v;return 0<=p&&0<=n&&1>=p+n};d.hba=function(e,k,h,m,n,p,r,v){n-=h;p-=m;r-=h;v-=m;e-=h;const x=k-m;k=n*n+p*p;m=n*r+p*v;h=r*r+v*v;n=e*n+x*p;p=e*r+x*v;r=k*h-m*m;v=(h*n-m*p)/r;n=(k*p-m*n)/r;return[1-v-n,v,n]};d.gba=function(e,k,h,m,n,p,r,v,x){return[e*m+k*p+h*v,e*n+k*r+h*x]}}
{"use strict";const d=self.B;let a=null,b="";if("undefined"!==typeof document){a=document;const m=document.querySelector("base");if(b=m&&m.hasAttribute("href")?m.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Ada=function(){return b};d.wB=function(){if(!a)return"";const m=a.location;return d.rW(m.origin+m.pathname)+b};d.rW=function(m){if(!m.length||m.endsWith("/")||m.endsWith("\\"))return m;const n=Math.max(m.lastIndexOf("/"),m.lastIndexOf("\\"));return-1===
n?"":m.substr(0,n+1)};d.Dda=function(m){if(!m.length)return m;if(m.endsWith("/")||m.endsWith("\\"))return"";const n=Math.max(m.lastIndexOf("/"),m.lastIndexOf("\\"));return-1===n?m:m.substr(n+1)};d.MV=function(m){let n=m.lastIndexOf(".");return 1>n?"":m.substr(n)};d.gw=function(m){let n=m.lastIndexOf(".");return 1>n?m:m.substr(0,n)};d.MY=function(m){return m.replace(/\\/g,"/")};d.sea=function(m,n){return n===(m?d.MV(m).slice(1):"")};d.pda=function(m,n){let p,r;d.lC(m)&&(p=d.gw(m.name));d.Ah(m)&&(p=
d.gw(m));d.lC(n)&&(r=d.gw(n.name));d.Ah(n)&&(r=d.gw(n));return p===r};d.mga=function(m){m=d.MY(m);let n=/^\w:\//.exec(m);n?(n=n[0],m=m.slice(3),"/"!==m[0]&&(m="/"+m)):n="";m=m.replace(/\/{2,}/g,"/");1<m.length&&"/"===m.slice(-1)&&(m=m.slice(0,-1));var p=m.lastIndexOf("/")+1;let r="",v=m,x="";0<p&&(r=m.slice(0,p),v=m.slice(p));m=v;p=v.lastIndexOf(".");0<p&&(x=v.slice(p),m=v.slice(0,-x.length));return{dir:r,Pka:v,name:m,root:n,ext:x,Ela:n+r+v}};d.sD=function(m,n){return new Promise(p=>{self.setTimeout(p,
m,n)})};d.Gna=function(m){try{m()}catch(n){d.nr&&console.warn("Swallowed exception: ",n)}};d.Ema=function(){};d.Nm=function(m,n){return"string"!==typeof m||"string"!==typeof n?!1:m===n||m.normalize().toLowerCase()===n.normalize().toLowerCase()};d.lla=function(m,n){return"string"!==typeof m||"string"!==typeof n?!1:m===n?!0:m.normalize()===n.normalize()};d.iba=function(m,n){var p=0;m[p++]=n[0];m[p++]=n[1];m[p++]=n[2];m[p++]=n[3];m[p++]=n[4];m[p++]=n[5];m[p++]=n[6];m[p++]=n[7];m[p++]=n[8];m[p++]=n[9];
m[p++]=n[10];m[p++]=n[11];m[p++]=n[12];m[p++]=n[13];m[p++]=n[14];m[p]=n[15]};d.Ee=function(m,n){m.length=n};d.D=function(m){m&&0!==m.length&&d.Ee(m,0)};d.D$=function(m){if(m){for(let n=0;n<m.length;n++)d.Ee(m[n],0);d.Ee(m,0)}};d.yA=function(m,n,p){n|=0;var r=m.length;if(!(n<=r))for(;r<n;++r)m.push(p)};d.ZR=function(m){var n=4;const p=m.length;n<p?d.Ee(m,n):n>p&&d.yA(m,n,"0")};d.cd=function(m,n){d.D(m);d.Oo(m,n)};d.Oo=function(m,n){if(1E4>n.length)m.push(...n);else for(let p=0,r=n.length;p<r;++p)m.push(n[p])};
d.w$=function(m,n){n=Math.floor(n);if(!(0>n||n>=m.length)){for(var p=m.length-1;n<p;++n)m[n]=m[n+1];d.Ee(m,p)}};d.Po=function(m,n){n=m.indexOf(n);0<=n&&m.splice(n,1)};d.Oka=function(m,n){let p=m.length;if(n.length!==p)return!1;for(let r=0;r<p;++r)if(m[r]!==n[r])return!1;return!0};d.v$=function(m,n){let p=[],r=0;for(let v=0,x=m.length;v<x;++v){let w=m[v];n(w)?p.push(w):(m[r]=w,++r)}d.Ee(m,r);return p};d.pg=function(m,n){const p=m.length;let r=0;for(let v=0,x=m.length;v<x;++v){let w=m[v];n.has(w)||
(m[r++]=w)}d.Ee(m,r);return p-r};d.faa=function(m,n){return m!==Math.floor(m)?!1:0<=m&&m<n.length};d.Tna=function(m,n){if(!d.faa(m,n))throw new RangeError("array index out of bounds");};d.PH=function(m){return m.slice()};d.I$=function(m,n){let p=[];for(let r of m)if(d.DK(r)){m=n(r);if(!m)throw Error("missing clone");if(m.constructor!==r.constructor)throw Error("object is not a clone");p.push(m)}else d.ln(r)?p.push(d.I$(r,n)):p.push(r);return p};d.Xka=function(m){let n=[];for(let p of m)n.push(p.slice());
return n};d.Ama=function(m,n){return new Set([...m,...n])};d.Bma=function(m,n){for(const p of n)m.add(p);return m};d.first=function(m){for(let n of m)return n;return null};d.xor=function(m,n){return!m!==!n};d.compare=function(m,n,p){switch(n){case 0:return m===p;case 1:return m!==p;case 2:return m<p;case 3:return m<=p;case 4:return m>p;case 5:return m>=p;default:return!1}};d.Rla=function(m){for(let n in m)if(m.hasOwnProperty(n))return!0;return!1};d.YZ=function(m,n){return m.length?new Promise((p,
r)=>{const v=[];let x=0,w=!1;for(let u=0,t=m.length;u<t;++u)v.push(void 0),m[u].then(A=>{w||(v[u]=A,++x,x===m.length?p(v):n(x,m.length))}).catch(A=>{w=!0;r(A)})}):Promise.resolve([])};let f=[];d.Dba=function(m){f.push(m)};d.Cda=function(){let m=0;for(let n of f){let p=n();m+=p}return Math.floor(m)};let c=1;const e=new Map,k=new MessageChannel;k.port2.onmessage=function(m){m=m.data;const n=e.get(m);e.delete(m);n&&n(performance.now())};d.JC=function(m){const n=c++;e.set(n,m);k.port1.postMessage(n);
return n};d.dT=function(m){e.delete(m)};d.UZ=d.JC;d.y1=function(){return new Promise(m=>d.UZ(m))};const h=new Set;d.lha=function(m){const n=self.requestAnimationFrame(async p=>{await d.y1();h.has(n)&&(h.delete(n),m(p))});h.add(n);return n};d.lca=function(m){h.has(m)&&(self.cancelAnimationFrame(m),h.delete(m))}}
{"use strict";const d=self.B;d.iC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.tC=function(a){return!d.iC(a)};d.e1=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Zv=function(a){return fetch(a,void 0).then(b=>{d.e1(b);return b})};d.Rr=function(a){return d.Zv(a).then(b=>b.text())};d.vJ=function(a){return d.Zv(a).then(b=>b.json())};d.Qj=function(a){return d.Zv(a).then(b=>b.blob())};d.Qr=function(a){return d.Zv(a).then(b=>
b.arrayBuffer())};d.gV=function(a){return new Promise((b,f)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>f(e);c.src=a})};d.WS=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(a)})};d.SI=function(a){return"function"===typeof a.text?a.text():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsText(a)})};d.$ba=function(a){return d.SI(a).then(b=>
JSON.parse(b))};d.XS=async function(a){a=URL.createObjectURL(a);try{const b=await d.gV(a);URL.revokeObjectURL(a);a="";"function"===typeof b.decode&&await b.decode();return b}finally{a&&URL.revokeObjectURL(a)}};d.qg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=b;return f}return new OffscreenCanvas(a,b)};d.Fv=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,f)):a.convertToBlob?a.convertToBlob({type:b,quality:f}):d.Nj(()=>d.$I(a,b,f))};d.$I=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return d.JT(a.toDataURL(b,f))};d.JT=function(a){a=d.PZ(a);return d.VS(a.data,a.uaa)};d.PZ=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var f=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];f="base64"===b[1]||"base64"===c?atob(f):decodeURIComponent(f);return{uaa:a,data:f}};d.VS=function(a,b){var f=a.length;let c=f>>2,e=new Uint8Array(f),k=new Uint32Array(e.buffer,0,c),h,m;for(m=h=0;h<c;++h)k[h]=a.charCodeAt(m++)|a.charCodeAt(m++)<<8|a.charCodeAt(m++)<<16|a.charCodeAt(m++)<<24;for(f&=3;f--;)e[m]=a.charCodeAt(m),++m;return b?new Blob([e],{type:b}):new Blob([e])};d.mJ=function(a){const b=d.qg(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.Fv(b,void 0,void 0)};d.Uda=
function(a,b,f){const c=d.qg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.$I(c,b,f)};d.iX=function(a){if(d.Qb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.mJ(b));if(d.Qb.ImageBitmap)return createImageBitmap(a).then(b=>d.mJ(b));{const b=d.qg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Fv(b,void 0,void 0)}};d.yT=function(a,b){a.clear();for(const f of b)a.add(f)};d.Afa=function(a){const b=Object.create(null);for(const [f,
c]of a.entries())b[f]=c;return b};d.Sfa=function(a,b){b.clear();for(const [f,c]of Object.entries(a))b.set(f,c)};d.qD=function f(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>f(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [e,k]of Object.entries(b))c[e]=f(k);return c}}return b};d.sB=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
c(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],c(e[1])]));{const e=Object.create(null);for(const [k,h]of Object.entries(f))e[k]=c(h);return e}}return f};d.$S=function(f){let c="",e=!1;for(const k of f)"-"===k?e=!0:e?(c+=k.toUpperCase(),e=!1):c+=k;return c};d.El=function(f){return"object"===typeof f&&"function"===typeof f.next};d.DY=function(f){const c=[];for(let e=0;e<f;++e)c.push(0);return c}}
{"use strict";const d=self.B;d.Xa=class{constructor(a,b,f,c){this.Sa=this.Ta=this.Ua=this.Ra=0;a instanceof d.Xa?this.set(a):this.Rm(a||0,b||0,f||0,c||0)}Br(a,b,f){this.Ra=+a;this.Ua=+b;this.Ta=+f;this.fa()}Rm(a,b,f,c){this.Ra=+a;this.Ua=+b;this.Ta=+f;this.Sa=+c;this.fa()}set(a){this.Ra=a.Ra;this.Ua=a.Ua;this.Ta=a.Ta;this.Sa=a.Sa;return this}Aa(a){return this.set(a)}add(a){this.Ra+=a.Ra;this.Ua+=a.Ua;this.Ta+=a.Ta;this.Sa+=a.Sa;this.fa()}uR(a,b,f){this.Ra+=+a;this.Ua+=+b;this.Ta+=+f;this.Sa+=0;this.fa()}Jj(a){this.Ra=
a.Ra;this.Ua=a.Ua;this.Ta=a.Ta}dS(a){this.Ra=d.fa(+a,0,1)}Raa(a){this.Ua=d.fa(+a,0,1)}Oaa(a){this.Ta=d.fa(+a,0,1)}vv(a){this.Sa=d.fa(+a,0,1)}clone(){return d.A(d.Xa,this.Ra,this.Ua,this.Ta,this.Sa)}toArray(){return[this.Ra,this.Ua,this.Ta,this.Sa]}jh(a,b){a[b++]=this.Ra;a[b++]=this.Ua;a[b++]=this.Ta;a[b]=this.Sa}Rc(a){return this.Ra===a.Ra&&this.Ua===a.Ua&&this.Ta===a.Ta&&this.Sa===a.Sa}hl(a){return this.Ra===a.Ra&&this.Ua===a.Ua&&this.Ta===a.Ta}gv(a,b,f,c){return this.Ra===a&&this.Ua===b&&this.Ta===
f&&this.Sa===c}multiply(a){this.Ra*=a.Ra;this.Ua*=a.Ua;this.Ta*=a.Ta;this.Sa*=a.Sa}sI(){this.Ra*=this.Sa;this.Ua*=this.Sa;this.Ta*=this.Sa}fa(){this.Ra=d.fa(this.Ra,0,1);this.Ua=d.fa(this.Ua,0,1);this.Ta=d.fa(this.Ta,0,1);this.Sa=d.fa(this.Sa,0,1);return this}Ar(a){this.Ra=d.TB(a);this.Ua=d.JB(a);this.Ta=d.vB(a);this.Sa=d.nV(a)}U$(){return`rgb(${100*(d.Cl(void 0)?NaN:this.Ra)}%, ${100*(d.Cl(void 0)?NaN:this.Ua)}%, ${100*(d.Cl(void 0)?NaN:this.Ta)}%)`}VR(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var b=a.split(",");if(!(3>b.length)){a=parseInt(b[0].trim(),10)/255;var f=parseInt(b[1].trim(),10)/255;b=parseInt(b[2].trim(),10)/255;isFinite(a)&&this.dS(a);isFinite(f)&&this.Raa(f);isFinite(b)&&this.Oaa(b);this.vv(1)}}}toJSON(){return[this.Ra,this.Ua,this.Ta,this.Sa]}ml(a){!Array.isArray(a)||3>a.length||(this.Ra=a[0],this.Ua=a[1],this.Ta=a[2],this.Sa=4<=a.length?a[3]:1)}set r(a){this.dS(a)}get r(){return this.Ra}set No(a){this.vv(a)}get No(){return this.Sa}static nB(a,b){return d.fa(Math.max(a,
b)-Math.min(a,b),0,1)}};d.Xa.vka=Object.freeze(d.A(d.Xa,1,1,1,1));d.Xa.Zba=Object.freeze(d.A(d.Xa,0,0,0,1));d.Xa.$ja=Object.freeze(d.A(d.Xa,0,0,0,0))}
{"use strict";const d=self.B;d.Ps=class{constructor(a,b){this.K=this.O=0;a instanceof d.Ps?this.Aa(a):this.set(a||0,b||0)}set(a,b){this.O=+a;this.K=+b}Aa(a){this.O=a.O;this.K=a.K}Rc(a){return this.O===a.O&&this.K===a.K}toArray(){return[this.O,this.K]}jh(a,b){a[b++]=this.O;a[b]=this.K}offset(a,b){this.O+=+a;this.K+=+b}scale(a,b){this.O*=a;this.K*=b}fl(a,b){this.O/=a;this.K/=b}round(){this.O=Math.round(this.O);this.K=Math.round(this.K)}floor(){this.O=Math.floor(this.O);this.K=Math.floor(this.K)}ceil(){this.O=
Math.ceil(this.O);this.K=Math.ceil(this.K)}angle(){return d.KH(0,0,this.O,this.K)}oaa(){return this.O*this.O+this.K*this.K}length(){return Math.sqrt(this.oaa())}Laa(a,b){const f=this.O*b-this.K*a;this.K=this.K*b+this.O*a;this.O=f}rotate(a){0!==a&&this.Laa(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.O+=Math.cos(a)*b,this.K+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.O/=a,this.K/=a)}fa(a,b){this.O=d.fa(this.O,a,b);this.K=d.fa(this.K,a,b)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(a,b,f,c){this.T=this.Z=this.M=this.N=0;a instanceof d.Rect?this.Aa(a):this.set(a||0,b||0,f||0,c||0)}set(a,b,f,c){this.N=+a;this.M=+b;this.Z=+f;this.T=+c}hh(a,b,f,c){a=+a;b=+b;this.N=a;this.M=b;this.Z=a+ +f;this.T=b+ +c}Aa(a){this.N=+a.N;this.M=+a.M;this.Z=+a.Z;this.T=+a.T}clone(){return new d.Rect(this.N,this.M,this.Z,this.T)}Rc(a){return this.N===a.N&&this.M===a.M&&this.Z===a.Z&&this.T===a.T}toArray(){return[this.N,this.M,this.Z,this.T]}Zaa(){new DOMRect(this.N,
this.M,this.width(),this.height())}jh(a,b){a[b++]=this.N;a[b++]=this.M;a[b++]=this.Z;a[b]=this.T}lba(a,b){a[b++]=this.N;a[b++]=this.M;a[b++]=this.Z;a[b++]=this.M;a[b++]=this.Z;a[b++]=this.T;a[b++]=this.N;a[b]=this.T}width(){return this.Z-this.N}height(){return this.T-this.M}xr(){return(this.N+this.Z)/2}yr(){return(this.M+this.T)/2}offset(a,b){a=+a;b=+b;this.N+=a;this.M+=b;this.Z+=a;this.T+=b}offsetLeft(a){this.N+=+a}offsetTop(a){this.M+=+a}Baa(a){this.Z+=+a}Aaa(a){this.T+=+a}CA(a,b){a=+a;b=+b;this.N-=
a;this.M-=b;this.Z+=a;this.T+=b}multiply(a,b){this.N*=a;this.M*=b;this.Z*=a;this.T*=b}fl(a,b){this.N/=a;this.M/=b;this.Z/=a;this.T/=b}Xaa(){const a=this.N;this.N=this.Z;this.Z=a}So(){const a=this.M;this.M=this.T;this.T=a}AI(a){const b=this.M;this.M=+a-this.T;this.T=+a-b}round(){this.N=Math.round(this.N);this.M=Math.round(this.M);this.Z=Math.round(this.Z);this.T=Math.round(this.T)}Maa(){this.N=Math.floor(this.N);this.M=Math.floor(this.M);this.Z=Math.ceil(this.Z);this.T=Math.ceil(this.T)}floor(){this.N=
Math.floor(this.N);this.M=Math.floor(this.M);this.Z=Math.floor(this.Z);this.T=Math.floor(this.T)}ceil(){this.N=Math.ceil(this.N);this.M=Math.ceil(this.M);this.Z=Math.ceil(this.Z);this.T=Math.ceil(this.T)}fa(a,b,f,c){this.N<a&&(this.N=+a);this.M<b&&(this.M=+b);this.Z>f&&(this.Z=+f);this.T>c&&(this.T=+c)}BR(){0>this.N&&(this.N=0);1<this.M&&(this.M=1);1<this.Z&&(this.Z=1);0>this.T&&(this.T=0)}normalize(){this.N>this.Z&&this.Xaa();this.M>this.T&&this.So()}DA(a){return!(a.Z<this.N||a.T<this.M||a.N>this.Z||
a.M>this.T)}eaa(a,b,f){return!(a.Z+b<this.N||a.T+f<this.M||a.N+b>this.Z||a.M+f>this.T)}$e(a,b){return a>=this.N&&a<=this.Z&&b>=this.M&&b<=this.T}}}
{"use strict";const d=self.B;d.Ed=class{constructor(a,b,f,c,e,k,h,m){this.ac=this.$b=this.dc=this.cc=this.ic=this.hc=this.Ab=this.zb=0;a instanceof d.Ed?this.Aa(a):this.set(a||0,b||0,f||0,c||0,e||0,k||0,h||0,m||0)}set(a,b,f,c,e,k,h,m){this.zb=+a;this.Ab=+b;this.hc=+f;this.ic=+c;this.cc=+e;this.dc=+k;this.$b=+h;this.ac=+m}eS(a,b,f,c){this.set(a,b,f,b,f,c,a,c)}Aa(a){this.zb=a.zb;this.Ab=a.Ab;this.hc=a.hc;this.ic=a.ic;this.cc=a.cc;this.dc=a.dc;this.$b=a.$b;this.ac=a.ac}Rc(a){return this.zb===a.zb&&this.Ab===
a.Ab&&this.hc===a.hc&&this.ic===a.ic&&this.cc===a.cc&&this.dc===a.dc&&this.$b===a.$b&&this.ac===a.ac}toArray(){return[this.zb,this.Ab,this.hc,this.ic,this.cc,this.dc,this.$b,this.ac]}jh(a,b){a[b++]=this.zb;a[b++]=this.Ab;a[b++]=this.hc;a[b++]=this.ic;a[b++]=this.cc;a[b++]=this.dc;a[b++]=this.$b;a[b]=this.ac}mba(a,b,f){a[b++]=this.zb;a[b++]=this.Ab;a[b++]=f;a[b++]=this.hc;a[b++]=this.ic;a[b++]=f;a[b++]=this.cc;a[b++]=this.dc;a[b++]=f;a[b++]=this.$b;a[b++]=this.ac;a[b]=f}offset(a,b){a=+a;b=+b;this.zb+=
a;this.Ab+=b;this.hc+=a;this.ic+=b;this.cc+=a;this.dc+=b;this.$b+=a;this.ac+=b}round(){this.zb=Math.round(this.zb);this.Ab=Math.round(this.Ab);this.hc=Math.round(this.hc);this.ic=Math.round(this.ic);this.cc=Math.round(this.cc);this.dc=Math.round(this.dc);this.$b=Math.round(this.$b);this.ac=Math.round(this.ac)}floor(){this.zb=Math.floor(this.zb);this.Ab=Math.floor(this.Ab);this.hc=Math.floor(this.hc);this.ic=Math.floor(this.ic);this.cc=Math.floor(this.cc);this.dc=Math.floor(this.dc);this.$b=Math.floor(this.$b);
this.ac=Math.floor(this.ac)}ceil(){this.zb=Math.ceil(this.zb);this.Ab=Math.ceil(this.Ab);this.hc=Math.ceil(this.hc);this.ic=Math.ceil(this.ic);this.cc=Math.ceil(this.cc);this.dc=Math.ceil(this.dc);this.$b=Math.ceil(this.$b);this.ac=Math.ceil(this.ac)}nl(a){this.zb=a.N;this.Ab=a.M;this.hc=a.Z;this.ic=a.M;this.cc=a.Z;this.dc=a.T;this.$b=a.N;this.ac=a.T}Qaa(a,b){0===b?this.nl(a):this.cS(a,Math.sin(b),Math.cos(b))}cS(a,b,f){const c=a.N*b,e=a.M*b,k=a.Z*b;b*=a.T;const h=a.N*f,m=a.M*f,n=a.Z*f;a=a.T*f;this.zb=
h-e;this.Ab=m+c;this.hc=n-e;this.ic=m+k;this.cc=n-b;this.dc=a+k;this.$b=h-b;this.ac=a+c}YH(a){a.set(Math.min(this.zb,this.hc,this.cc,this.$b),Math.min(this.Ab,this.ic,this.dc,this.ac),Math.max(this.zb,this.hc,this.cc,this.$b),Math.max(this.Ab,this.ic,this.dc,this.ac))}$e(a,b){var f=this.hc-this.zb,c=this.ic-this.Ab;const e=this.cc-this.zb,k=this.dc-this.Ab;a-=this.zb;b-=this.Ab;var h=f*f+c*c;let m=f*e+c*k;c=f*a+c*b;const n=e*e+k*k,p=e*a+k*b;let r=1/(h*n-m*m);f=(n*c-m*p)*r;h=(h*p-m*c)*r;if(0<=f&&0<
h&&1>f+h)return!0;f=this.$b-this.zb;c=this.ac-this.Ab;h=f*f+c*c;m=f*e+c*k;c=f*a+c*b;r=1/(h*n-m*m);f=(n*c-m*p)*r;h=(h*p-m*c)*r;return 0<=f&&0<h&&1>f+h}xr(){return(this.zb+this.hc+this.cc+this.$b)/4}yr(){return(this.Ab+this.ic+this.dc+this.ac)/4}aI(a){var b=a.xr(),f=a.yr();if(this.$e(b,f))return!0;b=this.xr();f=this.yr();if(a.$e(b,f))return!0;b=this.zb;f=this.Ab;const c=this.hc,e=this.ic,k=this.cc,h=this.dc,m=this.$b,n=this.ac;return d.JA(b,f,c,e,a)||d.JA(c,e,k,h,a)||d.JA(k,h,m,n,a)||d.JA(m,n,b,f,a)}}}
{"use strict";const d=self.B,a=[0,0,1,0,1,1,0,1],b=d.A(d.Ed);d.Um=class extends d.da{constructor(f,c=!0){super();f||(f=a);this.Ad=Float64Array.from(f);this.fy=new d.Rect;this.jo=!0;this.$f=c}j(){}WR(){return this.Ad.length/2}KA(f){this.Ad.length===f.length?this.Ad.set(f):this.Ad=Float64Array.from(f);this.jo=!0}Paa(){this.KA(a)}Aa(f){this.KA(f.Ad)}bS(){this.jo=!0}i$(){if(this.jo){var f=this.Ad,c=f[0],e=f[1],k=c,h=e;for(let m=0,n=f.length;m<n;m+=2){const p=f[m],r=f[m+1];p<c&&(c=p);p>k&&(k=p);r<e&&(e=
r);r>h&&(h=r)}this.fy.set(c,e,k,h);this.jo=!1}}nl(f){let c=this.Ad;8!==c.length&&(this.Ad=c=new Float64Array(8));c[0]=f.N-NaN;c[1]=f.M-NaN;c[2]=f.Z-NaN;c[3]=f.M-NaN;c[4]=f.Z-NaN;c[5]=f.T-NaN;c[6]=f.N-NaN;c[7]=f.T-NaN;this.fy.Aa(f);this.fy.offset(NaN,NaN);this.jo=!1}zI(f,c,e){b.Aa(f);b.offset(c,e);this.KA(b.toArray());this.jo=!0}transform(f,c,e){let k=0,h=1;0!==e&&(k=Math.sin(e),h=Math.cos(e));this.HI(f,c,k,h)}HI(f,c,e,k){const h=this.Ad;for(let m=0,n=h.length;m<n;m+=2){const p=m+1,r=h[m]*f,v=h[p]*
c;h[m]=r*k-v*e;h[p]=v*k+r*e}this.jo=!0}offset(f,c){const e=this.Ad;for(let k=0,h=e.length;k<h;k+=2)e[k]+=f,e[k+1]+=c}$e(f,c){const e=this.Ad;if(f===e[0]&&c===e[1])return!0;this.i$();var k=this.fy;const h=k.N-110,m=k.M-101,n=k.Z+131;k=k.T+120;let p,r,v,x,w,u,t,A;h<f?(p=h,v=f):(p=f,v=h);m<c?(r=m,x=c):(r=c,x=m);n<f?(w=n,t=f):(w=f,t=n);k<c?(u=k,A=c):(u=c,A=k);let z=0,E=0;for(let I=0,N=e.length;I<N;I+=2){var G=(I+2)%N;const O=e[I],P=e[I+1],S=e[G];G=e[G+1];d.ll(h,m,f,c,p,v,r,x,O,P,S,G)&&++z;d.ll(n,k,f,
c,w,t,u,A,O,P,S,G)&&++E}return 1===z%2||1===E%2}kv(f,c,e){const k=f.Ad,h=this.Ad;if(this.$e(k[0]+c,k[1]+e)||f.$e(h[0]-c,h[1]-e))return!0;for(let n=0,p=h.length;n<p;n+=2){var m=(n+2)%p;f=h[n];const r=h[n+1],v=h[m];m=h[m+1];let x,w,u,t;f<v?(x=f,u=v):(x=v,u=f);r<m?(w=r,t=m):(w=m,t=r);for(let A=0,z=k.length;A<z;A+=2){const E=(A+2)%z;if(d.ll(f,r,v,m,x,u,w,t,k[A]+c,k[A+1]+e,k[E]+c,k[E+1]+e))return!0}}return!1}qn(){return this.$f}}}
{"use strict";const d=self.B;d.vs=class extends d.da{constructor(a){super();this.rj=new Map;if(a)for(const [b,f,c]of a)this.Set(b,f,c)}j(){this.Ic();this.rj=null}Ic(){const a=this.rj;for(const b of a.values())b.clear();a.clear()}Set(a,b,f){const c=this.rj;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,f)}$(a,b){return(a=this.rj.get(a))?a.get(b):a}Bw(a){return(a=this.rj.get(a))?a.has(void 0):!1}Vm(a,b){const f=this.rj,c=f.get(a);c&&c.delete(b)&&0===c.size&&f.delete(a)}lJ(a){const b=this.rj,f=b.get(a);
f&&(f.clear(),b.delete(a));for(const [c,e]of b.entries())e.delete(a)&&0===e.size&&b.delete(c)}zl(){let a=0;for(const b of this.rj.values())a+=b.size;return a}*values(){for(const a of this.rj.values())yield*a.values()}*entries(){for(const [a,b]of this.rj.entries())for(const [f,c]of b.entries())yield[a,f,c]}}}
{"use strict";const d=self.B;d.ZA=class extends d.da{constructor(){super();this.vm=new Set;this.dy=[];this.ou=!1}j(){this.Ic()}Ic(){this.vm.clear();d.D(this.dy);this.ou=!1}vc(a){this.vm.has(a)||(this.vm.add(a),this.ou||this.dy.push(a))}Bw(a){return this.vm.has(a)}Vm(a){this.vm.delete(a)&&(this.ou=!0)}zl(){return this.vm.size}pn(){return 0===this.vm.size}uB(){this.ou&&(this.w6(),this.ou=!1);return this.dy}w6(){const a=this.dy;d.D(a);for(const b of this.vm)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,f=new Map,c=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.Or=class k{constructor(){}static $X(h){this.AD();return[...a.keys()].includes(h)}static b4(h){const m=e.get(h);if(m)return d.get(m);if(k.$X(h))return d.get(h);if(c.has(h))return c.get(h)}static cn(h){this.AD();const m=k.b4(h);return m?m:f.get(h)}static AD(){0===d.size&&(this.rb("default",()=>{}),this.rb("noease",this.LY),this.rb("easeinsine",this.NU),this.rb("easeoutsine",
this.WU),this.rb("easeinoutsine",this.JU),this.rb("easeinelastic",this.yU),this.rb("easeoutelastic",this.RU),this.rb("easeinoutelastic",this.EU),this.rb("easeinback",this.vU),this.rb("easeoutback",this.OU),this.rb("easeinoutback",this.AU),this.rb("easeinbounce",this.nJ),this.rb("easeoutbounce",this.pB),this.rb("easeinoutbounce",this.BU),this.rb("easeincubic",this.xU),this.rb("easeoutcubic",this.QU),this.rb("easeinoutcubic",this.DU),this.rb("easeinquad",this.KU),this.rb("easeoutquad",this.TU),this.rb("easeinoutquad",
this.GU),this.rb("easeinquart",this.LU),this.rb("easeoutquart",this.UU),this.rb("easeinoutquart",this.HU),this.rb("easeinquint",this.MU),this.rb("easeoutquint",this.VU),this.rb("easeinoutquint",this.IU),this.rb("easeincirc",this.wU),this.rb("easeoutcirc",this.PU),this.rb("easeinoutcirc",this.CU),this.rb("easeinexpo",this.zU),this.rb("easeoutexpo",this.SU),this.rb("easeinoutexpo",this.FU),this.GM("cubicbezier",this.uU),this.GM("spline",this.XU))}static rb(h,m){k.vD(h,m,"predefined")}static GM(h,m){k.vD(h,
m,"private")}static tS(h,m){this.AD();k.vD(h,m,"custom",void 0)}static vD(h,m,n,p){switch(n){case "predefined":d.set(h,m);a.set(h,m);break;case "custom":p?(b.has(p)||b.set(p,new Map),b.get(p).set(h,m)):f.set(h,m);break;case "private":d.set(h,m);c.set(h,m);break;default:throw Error("unexpected ease mode");}}static LY(h,m,n,p){return n*h/p+m}static KU(h,m,n,p){return n*(h/=p)*h+m}static TU(h,m,n,p){return-n*(h/=p)*(h-2)+m}static GU(h,m,n,p){return 1>(h/=p/2)?n/2*h*h+m:-n/2*(--h*(h-2)-1)+m}static xU(h,
m,n,p){return n*(h/=p)*h*h+m}static QU(h,m,n,p){return n*((h=h/p-1)*h*h+1)+m}static DU(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h+m:n/2*((h-=2)*h*h+2)+m}static LU(h,m,n,p){return n*(h/=p)*h*h*h+m}static UU(h,m,n,p){return-n*((h=h/p-1)*h*h*h-1)+m}static HU(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+m:-n/2*((h-=2)*h*h*h-2)+m}static MU(h,m,n,p){return n*(h/=p)*h*h*h*h+m}static VU(h,m,n,p){return n*((h=h/p-1)*h*h*h*h+1)+m}static IU(h,m,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+m:n/2*((h-=2)*h*h*h*h+2)+m}static NU(h,
m,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+m}static WU(h,m,n,p){return n*Math.sin(h/p*(Math.PI/2))+m}static JU(h,m,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+m}static zU(h,m,n,p){return 0===h?m:n*Math.pow(2,10*(h/p-1))+m}static SU(h,m,n,p){return h===p?m+n:n*(-Math.pow(2,-10*h/p)+1)+m}static FU(h,m,n,p){return 0===h?m:h===p?m+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+m:n/2*(-Math.pow(2,-10*--h)+2)+m}static wU(h,m,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+m}static PU(h,m,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+m}static CU(h,m,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+m:n/2*(Math.sqrt(1-(h-=2)*h)+1)+m}static yU(h,m,n,p){let r=0,v=n;if(0===h)return m;if(1===(h/=p))return m+n;r||(r=.3*p);v<Math.abs(n)?(v=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/v);return-(v*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/r))+m}static RU(h,m,n,p){let r,v=0,x=n;if(0===h)return m;if(1===(h/=p))return m+n;v||(v=.3*p);x<Math.abs(n)?(x=n,r=v/4):r=v/(2*Math.PI)*Math.asin(n/x);return x*Math.pow(2,-10*h)*Math.sin(2*(h*p-r)*
Math.PI/v)+n+m}static EU(h,m,n,p){let r,v=0,x=n;if(0===h)return m;if(2===(h/=p/2))return m+n;v||(v=.3*p*1.5);x<Math.abs(n)?(x=n,r=v/4):r=v/(2*Math.PI)*Math.asin(n/x);return 1>h?-.5*x*Math.pow(2,10*--h)*Math.sin(2*(h*p-r)*Math.PI/v)+m:x*Math.pow(2,-10*--h)*Math.sin(2*(h*p-r)*Math.PI/v)*.5+n+m}static vU(h,m,n,p,r){void 0===r&&(r=1.70158);return n*(h/=p)*h*((r+1)*h-r)+m}static OU(h,m,n,p,r){void 0===r&&(r=1.70158);return n*((h=h/p-1)*h*((r+1)*h+r)+1)+m}static AU(h,m,n,p,r){void 0===r&&(r=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((r*=1.525)+1)*h-r)+m:n/2*((h-=2)*h*(((r*=1.525)+1)*h+r)+2)+m}static nJ(h,m,n,p){return n-k.pB(p-h,0,n,p)+m}static pB(h,m,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+m:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+m:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+m:n*(7.5625*(h-=2.625/2.75)*h+.984375)+m}static BU(h,m,n,p){return h<p/2?.5*k.nJ(2*h,0,n,p)+m:.5*k.pB(2*h-p,0,n,p)+.5*n+m}static uU(h,m,n,p,r){return m+3*h*(n-m)+3*h**2*(m+p-2*n)+h**3*(r-m+3*n-3*p)}static XU(h,m,n,p,r,v,x,w,u,t){if(p===
r&&v===x)return h;if(1==h)h=1;else{for(var A=0,z=1,E=t[z];10!=z&&E<=h;)z++,E=t[z],A+=.1;z--;E=t[z];t=A+(h-E)/(t[z+1]-E)*.1;w=w-3*v+3*p-m;v=3*v-6*p+3*m;m=3*(p-m);p=3*w*t*t+2*v*t+m;if(0!==p)if(.02<=p)for(A=0;4>A;++A)t-=(((w*t+v)*t+m)*t-h)/(3*w*t*t+2*v*t+m);else{p=A;A+=.1;z=0;let G;do t=p+(A-p)/2,E=((w*t+v)*t+m)*t-h,0<E?A=t:p=t,E=1E-7<Math.abs(E),G=10>++z;while(E&&G)}h=t}return(((u-3*x+3*r-n)*h+(3*x-6*r+3*n))*h+3*(r-n))*h}static tV(h,m,n,p){const r=[];p=p-3*n+3*m-h;n=3*n-6*m+3*h;h=3*(m-h);for(let v=
0;11>v;++v)m=.1*v,r.push(((p*m+n)*m+h)*m);return r}}}{"use strict";const d=self.B;d.Oga=class{constructor(){this.eQ=[]}j(){this.Ic();this.eQ=null}Ic(){d.D$(this.eQ)}}}"use strict";
self.B.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.gaa=this.tI=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.gaa)throw Error(`cannot stop async event '${this.type}' propagation`);this.tI=!0}};
{"use strict";const d=self.B;d.Event.IW=class extends d.da{constructor(a){super();this.ya=a;this.Oe=[];this.Vp=new Set;this.Ue=[];this.uq=new Set;this.Et=0;this.vu=[];this.Iq=[];this.Jq=[]}j(){0<this.Et||(d.D(this.Oe),this.Vp.clear(),d.D(this.Ue),this.uq.clear(),d.D(this.vu),d.D(this.Iq),d.D(this.Jq),d.j(this))}EM(a,b){this.GN()?this.vu.push([a,b]):b?this.Vp.has(a)||(this.Oe.push(a),this.Vp.add(a)):this.uq.has(a)||(this.Ue.push(a),this.uq.add(a))}K6(a,b){this.GN()?b?this.Iq.push(a):this.Jq.push(a):
b?this.Vp.has(a)&&(this.Vp.delete(a),d.Po(this.Oe,a)):this.uq.has(a)&&(this.uq.delete(a),d.Po(this.Ue,a))}M4(){return!this.Oe.length&&!this.Ue.length}GN(){return 0<this.Et}t6(){for(var a of this.vu)this.EM(...a);d.D(this.vu);for(const b of this.Jq)this.uq.delete(b);for(const b of this.Iq)this.Vp.delete(b);a=new Set(this.Iq);d.pg(this.Ue,new Set(this.Jq));d.pg(this.Oe,a);d.D(this.Iq);d.D(this.Jq)}O3(a){this.Pp();let b=!1;for(let f=0,c=this.Oe.length;f<c;++f)if(this.Oe[f](a),a.tI){b=!0;break}if(!b)for(let f=
0,c=this.Ue.length;f<c&&(this.Ue[f](a),!a.tI);++f);this.Np();return!a.defaultPrevented}Q3(a){this.Pp();for(let b=0,f=this.Oe.length;b<f;++b)this.Oe[b](a);for(let b=0,f=this.Ue.length;b<f;++b)this.Ue[b](a);this.Np();return!0}Pp(){this.Et++}Np(){this.Et--;0===this.Et&&(this.vu.length||this.Iq.length||this.Jq.length)&&this.t6()}Cp(a){a?this.Pp():this.Np()}fN(a){const b=[];this.Pp();for(let c=0,e=this.Oe.length;c<e;++c){var f=this.Oe[c](a);f instanceof Promise&&b.push(f)}for(let c=0,e=this.Ue.length;c<
e;++c)f=this.Ue[c](a),f instanceof Promise&&b.push(f);this.Np();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async L3(a){return await this.fN(a)}async M3(a){this.Pp();for(let f=0,c=this.Oe.length;f<c;++f){var b=this.Oe[f](a);b instanceof Promise&&await b}for(let f=0,c=this.Ue.length;f<c;++f)b=this.Ue[f](a),b instanceof Promise&&await b;this.Np();return!a.defaultPrevented}*N3(a){this.Pp();for(let f=0,c=this.Oe.length;f<c;++f){var b=this.Oe[f](a);d.El(b)&&(yield*b)}for(let f=
0,c=this.Ue.length;f<c;++f)b=this.Ue[f](a),d.El(b)&&(yield*b);this.Np()}}}
{"use strict";const d=self.B;d.Event.Eb=class extends d.da{constructor(){super();this.Wn=new Map;this.hF=!1}j(){if(this.hF)throw Error("already released");this.jT();this.hF=!0;d.j(this)}qx(){return this.hF}jT(){for(let a of this.Wn.values())a.j();this.Wn.clear()}Fn(a,b){let f=this.Wn.get(a);return f?f:b?(f=d.A(d.Event.IW,a),this.Wn.set(a,f),f):null}YB(a){return this.Wn.has(a)}addEventListener(a,b,f){this.Fn(a,!0).EM(b,!!f)}removeEventListener(a,b,f){let c=this.Fn(a,!1);c&&(c.K6(b,!!f),c.M4()&&this.Wn.delete(a))}dispatchEvent(a){const b=
this.Fn(a.type,!1);return b?a.cancelable?b.O3(a):b.Q3(a):!0}async TH(a){const b=this.Fn(a.type,!1);return b?await b.L3(a):!0}N$(a){const b=this.Fn(a.type,!1);return b?b.fN(a):!0}async M$(a){const b=this.Fn(a.type,!1);b&&await b.M3(a)}O$(a){const b=this.Fn(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.N3(a)}Cp(a){for(const b of this.Wn.values())b.Cp(a)}}}
{"use strict";const d=self.B,a="undefined"!==typeof requestIdleCallback;let b=[],f=-1,c=0;function e(n){f=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){f=-1;if(b.length){var p=performance.now(),r=0;do{h(b.shift());var v=performance.now();++r;var x=(v-p)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?x<n.timeRemaining():12>v-p+x));-1===f&&b.length&&e(Math.max(16-(v-p),4))}}function h(n){let p;try{p=n.XH()}catch(r){n.reject(r);return}n.resolve(p)}let m=d.DC.Bw("disable-asyncify");
m&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Nj=function(n){let p=null;d.nr&&(p=d.aw());return new Promise((r,v)=>{b.push({XH:n,resolve:r,reject:v,stack:p});m?h(b.pop()):-1===f&&e(16)})};d.Nj.QL=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let a=-1;function b(){a=-1}d.Yv=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let f=-1,c=-1,e=new Set;function k(){c=f=-1;let h=Date.now();for(let m of e)if(m.r2(h)){let n=m.Sn;if(-1===c||n<c)c=n}else e.delete(m);-1!==c&&(f=self.setTimeout(k,Math.max(c-h+100,1E3)))}d.hX=class{constructor(h,m){this.Up=h;this.hA=1E3*m;this.Sn=0;this.xb=!1}kd(){let h=d.Yv();this.Sn=h+this.hA;this.xb||(e.add(this),this.xb=!0);-1===f?(c=this.Sn,f=self.setTimeout(k,this.hA+
100)):this.Sn<c&&c>h+1E3&&(self.clearTimeout(f),c=this.Sn,f=self.setTimeout(k,this.hA+100))}r2(h){return h>=this.Sn?this.Up()?(this.Sn=h+this.hA,!0):this.xb=!1:!0}cT(){this.xb&&(e.delete(this),this.xb=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}j(){this.cT();this.Up=null}}}
{"use strict";const d=self.B;d.dd=class a{constructor(b){this.hq=!1;this.iF=b}Uv(){this.hq||(this.hq=!0,this.iF&&(this.iF(),this.iF=null))}j(){this.Uv()}static j(b){return new a(()=>b.j())}static fe(b,f,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const k=new d.Nv;for(let h of f)b.addEventListener(h,c,e),k.vc(d.A(d.dd,()=>b.removeEventListener(h,c,e)));return k}b.addEventListener(f,
c,e);return d.A(d.dd,()=>b.removeEventListener(f,c,e))}};d.Mja=class extends d.dd{};d.Nv=class extends d.dd{constructor(...a){super();this.qe=new Set;for(let b of a)this.vc(b)}vc(...a){if(this.hq)throw Error("already disposed");for(let b of a)this.qe.add(b)}Bg(a){if(this.hq)throw Error("already disposed");this.qe.delete(a)}Uv(){if(this.hq)throw Error("already disposed");this.hq=!0;for(let a of this.qe)a.Uv();this.qe.clear();this.qe=null}j(){this.Uv()}}}
{"use strict";const d=self.B;d.ss=class extends d.da{constructor(){super();this.Pq=this.Ju=this.K=this.iy=0}vc(a){this.K=+a-this.iy;this.Ju=this.Pq+this.K;this.iy=this.Ju-this.Pq-this.K;this.Pq=this.Ju}$(){return this.Pq}kd(){this.Pq=this.Ju=this.K=this.iy=0}Set(a){this.Ju=this.K=this.iy=0;this.Pq=+a}j(){}}}
{"use strict";const d=self.B,a={FC:function(b){this.kS=b;this.left=this.right=this.kS.jb;this.parent=null;this.color=!1;this.key=null},vn:function(b){this.size=0;this.jb=new a.FC(this);this.jb.color=!1;this.root=this.jb;this.root.parent=this.jb;this.compare=b||this.J$}};wa=a.vn.prototype;wa.J$=function(b,f){return b<f?-1:f<b?1:0};wa.clone=function(){var b=new a.vn(this.compare);b.aaa(this);return b};wa.clear=function(){this.size=0;this.jb=new a.FC(this);this.jb.color=!1;this.root=this.jb;this.root.parent=
this.jb};wa.lv=function(b){var f=b.right;b.right=f.left;f.left!=this.jb&&(f.left.parent=b);f.parent=b.parent;b.parent==this.jb?this.root=f:b==b.parent.left?b.parent.left=f:b.parent.right=f;f.left=b;b.parent=f};wa.tv=function(b){var f=b.left;b.left=f.right;f.right!=this.jb&&(f.right.parent=b);f.parent=b.parent;b.parent==this.jb?this.root=f:b==b.parent.right?b.parent.right=f:b.parent.left=f;f.right=b;b.parent=f};wa.kr=function(b){if(this.contains(b))this.hv(b).key=b;else{var f=new a.FC(this);f.key=
b;b=this.jb;for(var c=this.root;c!=this.jb;)b=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=b;b==this.jb?this.root=f:0>this.compare(f.key,b.key)?b.left=f:b.right=f;f.left=this.jb;f.right=this.jb;f.color=!0;this.baa(f);this.size++}};wa.baa=function(b){for(;b!=this.jb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var f=b.parent.parent.right;1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.lv(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.jb&&this.tv(b.parent.parent))}else f=b.parent.parent.left,1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.tv(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.jb&&this.lv(b.parent.parent));this.root.color=!1};wa.L$=function(b){var f=b.left==this.jb||b.right==this.jb?b:this.Sm(b);var c=f.left!=this.jb?f.left:f.right;c.parent=f.parent;f.parent==
this.jb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=b&&(b.key=f.key);0==f.color&&this.K$(c);this.size--};wa.K$=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var f=b.parent.right;1==f.color&&(f.color=!1,b.parent.color=!0,this.lv(b.parent),f=b.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,b=b.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.tv(f),f=b.parent.right),f.color=b.parent.color,b.parent.color=!1,f.right.color=!1,this.lv(b.parent),
b=this.root)}else f=b.parent.left,1==f.color&&(f.color=!1,b.parent.color=!0,this.tv(b.parent),f=b.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,b=b.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.lv(f),f=b.parent.left),f.color=b.parent.color,b.parent.color=!1,f.left.color=!1,this.tv(b.parent),b=this.root);b.color=!1};wa.remove=function(b){b=this.hv(b);if(b!=this.jb){var f=b.key;this.L$(b);return f}return null};wa.min=function(b){for(;b.left!=this.jb;)b=b.left;return b};wa.max=
function(b){for(;b.right!=this.jb;)b=b.right;return b};wa.Sm=function(b){if(b.right!=this.jb)return this.min(b.right);for(var f=b.parent;f!=this.jb&&b==f.right;)b=f,f=f.parent;return f};wa.hv=function(b){for(var f=this.root;f!=this.jb&&0!=this.compare(f.key,b);)f=0>this.compare(b,f.key)?f.left:f.right;return f};wa.contains=function(b){return null!=this.hv(b).key};wa.ZH=function(){var b=[];this.forEach(function(f){b.push(f)});return b};wa.aaa=function(b){if("array"==a.II(b))for(var f=0;f<b.length;f++)this.kr(b[f]);
else if("function"==a.II(b.forEach))b.forEach(this.kr,this);else if("function"==a.II(b.ZH))for(b=b.ZH(),f=0;f<b.length;f++)this.kr(b[f]);else if("object"==a.II(b))for(f in b)this.kr(b[f])};wa.range=function(b,f){var c=[];this.fba(function(e){c.push(e)},b,f);return c};wa.fba=function(b,f,c){if(!this.pr())for(f=this.hv(f),c=this.hv(c);f!=c&&!b.call(void 0,f.key,this);)f=this.Sm(f)};wa.forEach=function(b,f){if(!this.pr())for(var c=this.min(this.root);c!=this.jb;c=this.Sm(c))b.call(f,c.key,c.key,this)};
wa.some=function(b,f){if(this.pr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.Sm(c))if(b.call(f,c.key,c.key,this))return!0;return!1};wa.every=function(b,f){if(this.pr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.Sm(c))if(!b.call(f,c.key,c.key,this))return!1;return!0};wa.map=function(b,f){var c=[];if(this.pr())return c;for(var e=this.min(this.root);e!=this.jb;e=this.Sm(e))c.push(b.call(f,e.key,e.key,this));return c};wa.filter=function(b,f){var c=[];if(this.pr())return c;
for(var e=this.min(this.root);e!=this.jb;e=this.Sm(e))b.call(f,e.key,e.key,this)&&c.push(e.key);return c};wa.pr=function(){return 0==this.size};d.vn=class extends d.da{constructor(b){super();this.gg=new a.vn(b);this.kq=!1;this.zo=new Set;this.Ao=new Set}vc(b){this.kq?this.gg.contains(b)?this.Ao.delete(b):this.zo.add(b):this.gg.kr(b)}Bg(b){this.kq?this.gg.contains(b)?this.Ao.add(b):this.zo.delete(b):this.gg.remove(b)}Bw(b){return this.kq?this.zo.has(b)?!0:!this.Ao.has(b)&&this.gg.contains(b):this.gg.contains(b)}Ic(){this.gg.clear();
this.zo.clear();this.Ao.clear()}toArray(){if(this.kq)throw Error("cannot be used in queueing mode");return this.gg.ZH()}zl(){return this.gg.size+this.zo.size-this.Ao.size}pn(){return 0===this.zl()}Cg(b){b=!!b;if(this.kq!==b&&(this.kq=b,!b)){for(const f of this.Ao)this.gg.remove(f);this.Ao.clear();for(const f of this.zo)this.gg.kr(f);this.zo.clear()}}yJ(b){this.gg.forEach(b)}*values(){if(!this.pn()){var b=this.gg;for(let f=b.min(b.root);f!=b.jb;f=b.Sm(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.kL=class{constructor(a=d.hardwareConcurrency){this.J9=a;this.SG=[];this.CE=0}vc(a){return new Promise((b,f)=>{this.SG.push({XH:a,resolve:b,reject:f});this.RN()})}async RN(){if(this.SG.length&&!(this.CE>=this.J9)){this.CE++;var a=this.SG.shift();try{const b=await a.XH();a.resolve(b)}catch(b){a.reject(b)}this.CE--;this.RN()}}}}
{"use strict";const d=self.B;d.e_=class{constructor(a,b,f){this.Up=a;this.u9=b;this.v9=f||2*b;this.Vq=-1;this.oz=-Infinity;this.mR=()=>this.f6();this.d9=this.HF=!1;this.wt=null}g4(){return"undefined"!==typeof d.TS&&d.TS.Jea()?this.v9:this.u9}bT(){var a=[];if(-1===this.Vq){this.wt=a;a=d.Yv();var b=a-this.oz,f=this.g4();b>=f&&this.d9?(this.oz=a,this.oO()):this.Vq=self.setTimeout(this.mR,Math.max(f-b,4))}}oO(){this.HF=!0;const a=this.wt;this.wt=null;a?this.Up(...a):this.Up();this.HF=!1}kd(){this.HF||
(this.LM(),this.wt=null,this.oz=d.Yv())}f6(){this.Vq=-1;this.oz=d.Yv();this.oO()}LM(){-1!==this.Vq&&(self.clearTimeout(this.Vq),this.Vq=-1)}j(){this.LM();this.mR=this.wt=this.Up=null}}}"use strict";function Pb(d,a){if(!d.AP)throw Error("no get base size callback set");return d.AP(a)}function Qb(d){if(!d.PQ)throw Error("no redraw callback set");d.PQ()}self.B.lia=class{constructor(){this.r9=new Map;this.PQ=this.RQ=this.AP=null}};"use strict";
self.B.kia=class{constructor(d,a){this.zq=d;this.g9=a;this.qc=0;Pb(this.zq,a).then(()=>{Qb(this.zq)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);Qb(this.zq)});this.TG=null}j(){if(0>=this.qc)throw Error("already released");this.qc--;0===this.qc&&this.et()}et(){if(this.TG){var d=this.zq;if(!d.RQ)throw Error("no release result callback set");d.RQ(this.TG);this.TG=null}this.zq.r9.delete(this.g9);this.zq=null}};
{"use strict";const d=self.B;d.eka="\ufeff";const a=new Set([..."0123456789"]);d.aY=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Nw=function(n){return b.has(n)};d.qda=function(n){return[...n].filter(p=>!d.Nw(p)).join("")};d.vC=function(n){for(const p of n)if(!d.Nw(p))return!1;return!0};d.kY=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.iV=function(n){return[...n].filter(p=>
!d.kY(p)).join("")};const f=new Set([..."0123456789.+-e"]);d.Zea=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!a.has(p))return!1;for(let r of n)if(!f.has(r))return!1;return!0};d.o_=function(n){let p=n.length;for(;0<p&&d.aY(n.charAt(p-1));)--p;return n.substr(0,p)};d.aea=function(n){let p=d.o_(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(n){return c.get(n)}
const k=/[&<>"']/g;d.aV=function(n){return n.replace(k,e)};d.gda=function(n){n=d.Eh(n,"\\","\\\\");n=d.Eh(n,'"','\\"');n=d.Eh(n,"\t","\\t");n=d.Eh(n,"\r","");return d.Eh(n,"\n","\\n")};d.hda=function(n){n=d.Eh(n,"&","&amp;");n=d.Eh(n,"<","&lt;");n=d.Eh(n,">","&gt;");return d.Eh(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Pr=function(n){return n.replace(h,"\\$&")};d.rda=function(n,p,r=!1){if(!p)return[];r||(n=n.toLowerCase(),p=p.toLowerCase());r=p.length;var v=0;let x=[];for(;-1<(v=n.indexOf(p,
v));)x.push(v),v+=r;return x};d.Eh=function(n,p,r){return n.replaceAll(p,()=>r)};d.gha=function(n,p,r){return n.replace(new RegExp(d.Pr(p),"gi"),()=>r)};d.Hia=function(n,p){"string"===typeof p?n.textContent=p:p.$P?n.textContent=p.toString():(n.innerHTML=p.EI(),p instanceof d.rl&&p.x$(n))};d.Hja=function(n,p){return n instanceof d.cC||n instanceof d.rl?n.Rc(p):p instanceof d.cC||p instanceof d.rl?p.Rc(n):n===p};d.Ija=function(n,...p){let r=n;for(let v=0,x=p.length;v<x;++v){const w=`{${v}}`;if(!n.includes(w))throw Error(`missing placeholder '${w}' in string substitution`);
r=r.replace(w,p[v].toString())}return r};d.Jja=function(n,...p){let r=n,v=-1,x=-1;for(let w=0,u=p.length;w<u;++w){const t=`{${w}}`;n.includes(t)?(x=w,r=r.replace(t,p[w].toString())):-1===v&&(v=w)}if(0<=v&&0<=x&&v<x)throw Error(`missing placeholder '${v}' in string substitution`);return r};d.Kja=function(n,p){for(let [r,v]of Object.entries(p))n=n.replaceAll(r,v.toString());return n};d.vja=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.vda=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const r=self.ama;if(1024>n)return r(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(p+"terabytes",n)};const m={u$:!1,G$:!0,$$:!0,vaa:!0,aS:!0};d.wda=function(n,p){p=Object.assign({},
m,p);d.nY.Tga("common.time");const r=[],v=self.lang,x=self.$la;if(p.G$){var w=Math.floor(n/86400);0<w&&(n-=86400*w,r.push(x(".days",null,w)))}p.$$&&(w=Math.floor(n/3600),0<w||r.length)&&(n-=3600*w,r.push(x(".hours",null,w)));p.vaa&&(w=Math.floor(n/60),0<w||r.length||!p.aS)&&(n-=60*w,r.push(x(".minutes",null,w)));p.aS&&r.push(x(".seconds",null,Math.floor(n%60)));n=(p.u$?v(".approx-prefix"):"")+r.join(v(".separator"));d.nY.Lga();return n};d.Fka=function(n,p){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let v=0;v<p;++v)r+="0";return r+n};d.Lja=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Ica=function(n,p){n=n.split(".").map(r=>r.trim());p=p.split(".").map(r=>r.trim());d.ZR(n);d.ZR(p);n=n.map(r=>parseInt(r,10));p=p.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const v=n[r]-p[r];if(0!==v)return 0>v?-1:1}return 0};d.Vca=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.Fja=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let r=0;for(let v=0,x=n.length;v<x;++v)n.charAt(v)!==p.charAt(v)&&++r;return r};d.Gja=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let r,v,x,w;if(n.length>p.length){var u=n;n=p;p=u}w=Array(n.length+1);for(u=0;u<=n.length;u++)w[u]=u;for(u=1;u<=p.length;u++){v=u;for(r=1;r<=n.length;r++)x=p[u-1]===n[r-1]?w[r-1]:Math.min(w[r-1]+1,Math.min(v+1,w[r]+1)),w[r-1]=v,v=x;w[n.length]=v}return w[n.length]}}
{"use strict";const d=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,e=0;function k(m,n,p){var r=a.get(p);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return m=r[0],r=r[1],n?"</"+m+">":`<${m} class="${r}">`}else return"class"===p?n?"</span>":
`<span class="bbclass${e++}">`:m}const h=/\n/g;d.rl=class{constructor(m,n){this.Ig=n&&n.yaa?m:d.aV(m);this.GF="";this.eP=!1;this.hu=[];if(n&&(this.eP=!!n.Yka,n.links)){if(9<n.links.length)throw Error("too many links");this.hu=n.links}this.FP=this.Ig.includes("[");this.DQ=this.eP&&this.Ig.includes("\n");this.$P=!this.FP&&!this.DQ&&!this.Ig.includes("&");this.JP=!1;this.Ft=[]}toString(){return this.Ig}valueOf(){return this.Ig}EI(){if(this.$P)return this.Ig;if(!this.GF&&this.Ig){let m=this.Ig;this.FP&&
(e=0,c=this.hu,m=m.replace(b,k),c=null);this.DQ&&(m=m.replace(h,"<br>"));this.GF=m}return this.GF}x$(m){if(this.hu.length)for(let n=0,p=this.hu.length;n<p;++n){const r=this.hu[n];if("function"!==typeof r)continue;const v=m.querySelector(".bblink"+n);if(!v)throw Error("unable to attach BBString link handler");v.onclick=r}}Rc(m){return m instanceof d.cC?this.EI()===m.EI():m instanceof d.rl?this.Ig===m.Ig:this.Ig===m}$aa(){if(this.JP)return this.Ft;const m=this.Ig,n=[];let p=f.lastIndex=0;for(var r;null!==
(r=f.exec(m));){var v=r.index;if(0<v&&"\\"===m.charAt(v-1))continue;var x=r[1],w=r[2];const u=m.substring(p,v);p=v+r[0].length;u&&this.Ft.push({text:u,Sc:n.slice(0)});if(w)if(x)for(w=w.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===w){n.splice(r,1);break}}else r=w,v=null,x=w.indexOf("="),-1!==x?(r=w.substring(0,x).toLowerCase(),v=w.substring(x+1)):r=r.toLowerCase(),n.push({tag:r,Mj:v})}p<m.length&&this.Ft.push({text:m.substring(p),Sc:n.slice(0)});for(const u of this.Ft)u.text=this.s6(u.text);
this.JP=!0;return this.Ft}s6(m){m=d.Eh(m,"\\[","[");return d.Eh(m,"\\\\","\\")}static lM(m){return m.replace(f,"")}}}
{"use strict";const d=self.B;d.uD=class{constructor(){this.om=[]}TN(a,b){let f=0,c=0,e=0,k=0,h=0;for(const m of a)-1===m.width&&(a=b(m.text,m.Sc),m.width=a.width,m.height=a.height,m.Ff=a.Ff||0,m.bf=a.bf||0,m.df=a.df||0),f+=m.width,c=Math.max(c,m.height),e=Math.max(e,m.Ff),k=Math.max(k,m.bf),h=Math.max(h,m.df);return{width:f,height:c,Ff:e,bf:k,df:h}}tx(a,b,f,c,e,k){this.om.push({JR:a,width:b,height:f,Ff:c,bf:e,df:k})}uD(a,b,f,c,e){"string"===typeof a&&(a=[{text:a,Sc:[]}]);d.D(this.om);if(!(!a.length||
1===a.length&&!a[0].text.length||2>f)){if(1===a.length){var k=a[0];const h=k.text;k=k.Sc;if(100>=h.length&&!h.includes("\n")){let {width:m,height:n,Ff:p,bf:r,df:v}=b(h,k);m+=e;p=p||0;r=r||0;v=v||0;if(m<=f){this.tx([{text:h,Sc:k,width:m,height:n,Ff:p,bf:r,df:v}],m,n,p,r,v);return}}}if("word"===c)c=this.r8(a);else{c=[];for(const h of a)d.Oo(c,[...h.text].map(m=>[{text:m,Sc:h.Sc}]))}this.L8(c,b,f,e)}}r8(a){const b=[];let f=[],c=!1;for(const k of a){var e=k.text;a=k.Sc;for(const h of e)"\n"===h?(0<f.length&&
b.push(f),b.push([{text:"\n",Sc:a}]),f=[]):0===f.length?(f.push({text:h,Sc:a}),c=d.Nw(h)):(e=d.Nw(h),e===c?(e=f[f.length-1],e.Sc===a?e.text+=h:f.push({text:h,Sc:a})):(b.push(f),f=[],f.push({text:h,Sc:a}),c=e))}0<f.length&&b.push(f);return b}u2(a){return a.map(b=>({text:b.text,Sc:b.Sc,width:b.width,height:b.height,Ff:b.Ff,bf:b.bf,df:b.df}))}JM(a,b){var f=a.length?a[a.length-1]:null;let c=0;f&&b[0].Sc===f.Sc&&(f.text+=b[0].text,f.width=-1,f.height=-1,f.Ff=-1,f.bf=-1,f.df=-1,c=1);for(f=b.length;c<f;++c){const e=
b[c];a.push({text:e.text,Sc:e.Sc,width:-1,height:-1,Ff:-1,bf:-1,df:-1})}}L8(a,b,f,c){let e=[],k=0,h=0,m=0,n=0;var p=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===h&&(p=b(" ",r[0].Sc),h=p.height,m=p.Ff||0,n=p.bf||0,p=p.df||0);this.tx(e,k,h,m,n,p);e=[];p=n=m=h=k=0;continue}a=this.u2(e);this.JM(a,r);const v=this.TN(a,b),x=v.width;x>=f?(0<e.length&&this.tx(e,k,h,m,n,p),e=[],d.vC(r[0].text)?p=n=m=h=k=0:(this.JM(e,r),p=this.TN(e,b),k=p.width,h=p.height,m=p.Ff,n=p.bf,p=p.df)):(e=a,k=x,h=v.height,
m=v.Ff,n=v.bf,p=v.df)}0<e.length&&this.tx(e,k,h,m,n,p);this.u8(b,c)}u8(a,b){for(const c of this.om){const e=c.JR;if(!e.length)continue;let k=e[e.length-1];var f=k.text;const h=f.trimEnd();if(!h)c.width-=k.width,e.pop();else if(h.length<f.length){f=a(h,k.Sc).width;const m=k.width-f;k.width=f;k.text=h;c.width-=m}0!==b&&0<e.length&&(k=e[e.length-1],k.width+=b,c.width+=b)}}Ic(){d.D(this.om)}lW(){return this.om.reduce((a,b)=>Math.max(a,b.width),0)}AW(){return this.om.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.B,a=self.il,b=a.QA,f=a.Ir,c=a.Qo,e=b.create(),k=b.create(),h=b.create(),m=f.create(),n=c.create(),p=b.create(),r=b.create(),v=b.create(),x=b.create(),w=b.create(),u=b.create(),t=b.create(),A=b.create(),z=f.cf(0,0,1,1);d.U={XZ(I,N,O,P,S,T,Y){const ba=P[0]*I+P[4]*N+P[8]*O+P[12],ea=P[1]*I+P[5]*N+P[9]*O+P[13];var W=P[2]*I+P[6]*N+P[10]*O+P[14];O=P[3]*I+P[7]*N+P[11]*O+P[15];I=S[0]*ba+S[4]*ea+S[8]*W+S[12]*O;N=S[1]*ba+S[5]*ea+S[9]*W+S[13]*O;S=S[2]*ba+S[6]*ea+S[10]*W+S[14]*O;W=-W;
if(0===W)return!1;W=1/W;Y[0]=(I*W*.5+.5)*T[2]+T[0];Y[1]=(N*W*.5+.5)*T[3]+T[1];Y[2]=.5*(1+S*W);return!0},fj(I,N,O,P,S,T,Y){c.multiply(n,S,P);if(null===c.mr(n,n))return!1;m[0]=(I-T[0])/T[2]*2-1;m[1]=(N-T[1])/T[3]*2-1;m[2]=2*O-1;m[3]=1;f.GI(m,m,n);if(0===m[3])return!1;m[3]=1/m[3];Y[0]=m[0]*m[3];Y[1]=m[1]*m[3];Y[2]=m[2]*m[3];return!0},o1(I,N,O,P,S,T,Y){if(!d.U.fj(I,N,0,P,S,T,e)||!d.U.fj(I,N,1,P,S,T,k))return!1;b.pl(k,k,e);b.set(h,0,0,1);I=-O;N=b.Mm(h,k);O=0;if(0===N){if(0!==b.Mm(h,e)+I)return!1}else if(O=
-(b.Mm(e,h)+I)/N,0>O)return!1;b.yI(Y,e,k,O);return!0}};function E(I,N,O,P){b.pl(e,O,N);b.pl(k,I,N);b.RH(h,e,k);b.normalize(h,h);P[0]=h[0];P[1]=h[1];P[2]=h[2];P[3]=b.Mm(I,h)}function G(I,N,O,P,S,T,Y){const ba=Y[0],ea=Y[1],W=Y[2];Y=Y[3];let na;0<ba?(na=ba*I,I=ba*P):(na=ba*P,I*=ba);0<ea?(na+=ea*N,I+=ea*S):(na+=ea*S,I+=ea*N);0<W?(na+=W*O,I+=W*T):(na+=W*T,I+=W*O);return na>=Y||I>Y}d.U.w1=class{constructor(){this.rQ=f.create();this.nR=f.create();this.UQ=f.create();this.aP=f.create();this.CQ=f.create();
this.tP=f.create()}aT(I,N){d.U.fj(0,1,0,I,N,z,p);d.U.fj(1,1,0,I,N,z,r);d.U.fj(0,0,0,I,N,z,v);d.U.fj(1,0,0,I,N,z,x);d.U.fj(0,1,1,I,N,z,w);d.U.fj(1,1,1,I,N,z,u);d.U.fj(0,0,1,I,N,z,t);d.U.fj(1,0,1,I,N,z,A);E(v,p,w,this.rQ);E(p,r,u,this.nR);E(r,x,A,this.UQ);E(x,v,t,this.aP);E(t,w,u,this.tP);E(x,r,p,this.CQ)}wT(I,N,O,P,S,T){return G(I,N,O,P,S,T,this.rQ)&&G(I,N,O,P,S,T,this.nR)&&G(I,N,O,P,S,T,this.UQ)&&G(I,N,O,P,S,T,this.aP)&&G(I,N,O,P,S,T,this.CQ)&&G(I,N,O,P,S,T,this.tP)}}}
{"use strict";const d=self.B,a=self.il,b=a.QA,f=a.Ir,c=a.Qo,e=c.create(),k=b.cf(0,0,0),h=b.cf(0,0,0),m=b.cf(0,0,0),n=b.cf(0,1,0);f.cf(0,0,0,0);new d.Ed;new d.Rect;const p=new d.Ed(0,0,1,0,1,1,0,1);d.U.r_=class{constructor(){this.P=this.S=0;this.o9=d.qb(45);this.jR=Math.tan(this.o9/2);this.Bz=c.create();this.tG=c.create();this.Ln=[];this.Uz=new Map;this.eH=this.Yz=this.Zz=null;this.Hu=new Map;this.ci=null;this.TE=[];this.BQ=new Map;this.Ct=this.pt=0;this.F9=this.G9=1;this.pG=.5;this.Og=0;this.jq=!0}hV(r){let v=
0,x=r.length,w=0;for(;v<x;)r[v++]=w,r[v++]=w+1,r[v++]=w+2,r[v++]=w,r[v++]=w+2,r[v++]=w+3,w+=4}NM(){this.Ct=this.pt=0;this.eH=this.Yz=this.Zz=null;this.s2()}Gw(){this.NM();this.ci=null}cZ(){for(const r of this.Ln)r.j();this.NM()}ca(){return this.S}ba(){return this.P}cB(r,v,x=.5,w=.5){x=1-x;const u=1*this.jR;v*=u;c.T$(r,(2*x-2)*v,2*x*v,(2*w-2)*u,2*w*u,1,1E4)}WI(r,v,x,w,u=this.UB()){u=200*self.devicePixelRatio*this.jR/u;b.set(m,u,-u,1);b.multiply(k,v,m);b.multiply(h,x,m);c.raa(r,k,h,w||n);c.scale(r,
r,m)}Lr(r,v,x,w,u,t){b.set(k,r,v,x);b.set(h,w,u,0);this.WI(e,k,h,n,t);return e}a2(r){this.Ln.push(r);this.Uz.set(r.Y,r)}M6(r){const v=this.Ln.indexOf(r);-1!==v&&this.Ln.splice(v,1);this.Uz.delete(r.Y)}s2(){d.D(this.Ln);this.Uz.clear()}cK(r){return this.Uz.get(r)||null}Kh(){this.Sl(this.Zz)}IL(){this.Sl(this.eH)}F7(r){this.ci=r}qS(r,v,x,w){const u=d.U.nD.MK(r,v,x,w);let t=this.Hu.get(u);t||(t=d.A(d.U.nD,this,r,v,x,w),this.Hu.set(u,t));t.ES();return t}qL(r){r.ST();0===r.qc&&(this.ci===r&&(this.ci=null),
this.Hu.delete(r.dW()),r.j())}x4(r){d.D(this.TE);this.BQ.clear();for(const v of r){r=v[0];const x=v[1],w=v[2];this.TE.push([x,w]);this.BQ.set(r,{Fna:x,hla:w})}}Z3(r){return this.TE[r]}$w(r){this.pt=r}Pl(r){this.Ct=r;this.ci=null}Qw(r,v,x,w,u,t){var A=this.pG;r=r+A-t;v=v+A-u;x=x+A+t;w=w+A+u;A=2*t;const z=2*u;this.Vw(r+u,v-t,0,x+u,w-t,0,x-u-A,w+t-z,0,r-u+A,v+t+z,0,p)}Pw(r,v,x,w,u,t){const A=this.pG;r=r+A-t;v=v+A-u;x=x+A+t;w=w+A+u;this.Vw(r+u,v-t,0,x+u,w-t,0,x-u,w+t,0,r-u,v+t,0,p)}Ow(r,v,x,w,u,t){const A=
this.pG;r+=A;v+=A;x+=A;w+=A;this.Vw(r+u,v-t,0,x+u,w-t,0,x-u,w+t,0,r-u,v+t,0,p)}qY(r,v,x,w){const u=.5*this.G9,t=this.F9;2===t?this.T4(r,v,x,w,u):1===t?this.S4(r,v,x,w,u):this.R4(r,v,x,w,u)}T4(r,v,x,w,u){this.Qw(r,v,x,v,0,u);this.Qw(x,v,x,w,u,0);this.Qw(x,w,r,w,0,-u);this.Qw(r,w,r,v,-u,0)}S4(r,v,x,w,u){this.Pw(r,v,x,v,0,u);this.Pw(x,v,x,w,u,0);this.Pw(x,w,r,w,0,-u);this.Pw(r,w,r,v,-u,0)}R4(r,v,x,w,u){this.Ow(r,v,x,v,0,u);this.Ow(x,v,x,w,u,0);this.Ow(x,w,r,w,0,-u);this.Ow(r,w,r,v,-u,0)}HK(r){this.qY(r.N,
r.M,r.Z,r.T)}Sr(){this.ph();this.Og++}lX(){this.Og++}ZC(r){this.jq=!!r}Mw(){return!1}}}
{"use strict";const d=self.B;d.U.nD=class{constructor(a,b,f,c,e){this.ta=a;this.qc=0;this.eb=null;this.Bu="";this.dm=f;this.$a=d.A(d.Xa);this.$a.set(c);this.Gc=e;"string"===typeof b?this.Bu=b:(this.eb=b,this.Bu=this.eb.Y)}j(){if(0<this.qc)throw Error("releasing state group still in use");this.eb=this.ta=null;this.Bu=""}LS(){const a=this.ta;a.Sl(this.eb);a.qf(this.dm);a.Nl(this.$a);a.Pl(this.Gc);a.F7(this)}dW(){return d.U.nD.MK(this.Bu,this.dm,this.$a,this.Gc)}ES(){++this.qc}ST(){--this.qc}ik(){this.eb=
null}BC(a){this.eb=a.cK(this.Bu);if(!this.eb)throw Error("failed to restore shader program");}static MK(a,b,f,c){return("string"===typeof a?a:a.Y)+","+b+","+f.Ra+","+f.Ua+","+f.Ta+","+f.Sa+","+c}}}
{"use strict";const d=self.B,a=d.A(d.Ed);function b(f,c,e){const k=e.zb,h=e.Ab;return[k+(e.hc-k)*f+(e.$b-k)*c,h+(e.ic-h)*f+(e.ac-h)*c]}d.U.IY=class{constructor(f){this.xG=f;this.og=this.mg=this.Gc=this.K=this.O=0}Rh(f,c,e,k){this.O=f;this.K=c;this.mg=e;this.og=k}na(){return this.O}Dg(f){this.O!==f&&(this.O=f,this.xG.mE())}oa(){return this.K}Mh(f){this.K!==f&&(this.K=f,this.xG.mE())}bb(){return this.Gc}Ne(f){this.Gc!==f&&(this.Gc=Math.max(f,0),this.xG.mE())}fD(f){this.mg=f}gD(f){this.og=f}J4(f,c,e){[this.O,
this.K]=b(f.O,f.K,c);this.Gc=f.Gc;this.mg=d.Ld(e.N,e.Z,f.mg);this.og=d.Ld(e.M,e.T,f.og)}I4(f,c,e){[this.O,this.K]=b(f.O,f.K,c);this.Gc=f.Gc;[this.mg,this.og]=b(f.mg,f.og,e)}ud(){return{x:this.na(),y:this.oa(),z:this.bb(),u:this.mg,v:this.og}}hd(f){this.Dg(f.x);this.Mh(f.y);f.hasOwnProperty("z")&&this.Ne(f.z);this.fD(f.u);this.gD(f.v)}};d.U.PK=class{constructor(f,c,e){if(2>f||2>c)throw Error("invalid mesh size");this.sj=f;this.Ej=c;this.Ob=e||null;this.um=[];this.yQ=this.xQ=0;this.vQ=this.uQ=1;this.MG=
!1;e=f-1;const k=c-1;for(let h=0;h<c;++h){const m=[];for(let n=0;n<f;++n){const p=d.A(d.U.IY,this,n,h),r=n/e,v=h/k;p.Rh(r,v,r,v);m.push(p)}this.um.push(m)}}j(){d.D(this.um)}mE(){this.MG=!0}Hx(){if(this.MG){var f=Infinity,c=Infinity,e=-Infinity,k=-Infinity;for(const h of this.um)for(const m of h){const n=m.na(),p=m.oa();f=Math.min(f,n);c=Math.min(c,p);e=Math.max(e,n);k=Math.max(k,p);m.bb()}this.xQ=f;this.yQ=c;this.uQ=e;this.vQ=k;this.MG=!1}}oW(){this.Hx();return this.xQ}pW(){this.Hx();return this.yQ}mW(){this.Hx();
return this.uQ}nW(){this.Hx();return this.vQ}ip(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.sj||0>c||c>=this.Ej?null:this.um[c][f]}XI(f,c,e){const k=e instanceof d.Rect;if(f.sj!==this.sj||f.Ej!==this.Ej)throw Error("source mesh wrong size");f=f.um;const h=this.um;for(let m=0,n=h.length;m<n;++m){const p=f[m],r=h[m];for(let v=0,x=r.length;v<x;++v){const w=p[v],u=r[v];k?u.J4(w,c,e):u.I4(w,c,e)}}}ff(f){const c=this.um;let e=c[0];for(let k=1,h=c.length;k<h;++k){const m=c[k];let n=e[0],p=m[0];
for(let r=1,v=m.length;r<v;++r){const x=e[r],w=m[r];a.set(n.mg,n.og,x.mg,x.og,w.mg,w.og,p.mg,p.og);f.Vw(n.na(),n.oa(),n.bb(),x.na(),x.oa(),x.bb(),w.na(),w.oa(),w.bb(),p.na(),p.oa(),p.bb(),a);n=x;p=w}e=m}}MX(f){f=f.Ad;const c=[],e=this.sj-1,k=this.Ej-1,h=1/e,m=1/k,n=e-1,p=k-1;let r=f[0],v=f[1],x=d.fa(Math.floor(r*e),0,n),w=d.fa(Math.floor(v*k),0,p),u=0,t=0,A=0;var z=-1;const E=()=>{r=d.fa(d.Ld(r,u,A),0,1);v=d.fa(d.Ld(v,t,A),0,1);c.push(r,v)};for(let G=0,I=f.length;G<I;G+=2)for(r=f[G],v=f[G+1],c.push(r,
v),x=d.fa(Math.floor(r*e),0,n),w=d.fa(Math.floor(v*k),0,p),z=(G+2)%I,u=f[z],t=f[z+1],z=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const N=x*h,O=w*m,P=(x+1)*h,S=(w+1)*m;if(0!==z&&(A=d.rv(r,v,u,t,N,O,P,S,-.001),0<=A&&.99999999>=A)){E();z=0;continue}if(0<w&&2!==z&&(A=d.rv(r,v,u,t,N,O,P,O,.001),0<=A&&.99999999>=A)){E();w--;z=4;continue}if(x<n&&3!==z&&(A=d.rv(r,v,u,t,P,O,P,S,.001),0<=A&&.99999999>=A)){E();x++;z=1;continue}if(0<x&&1!==z&&(A=d.rv(r,v,u,t,N,O,N,S,.001),0<=A&&.99999999>=
A)){E();x--;z=3;continue}if(w<p&&4!==z&&(A=d.rv(r,v,u,t,N,S,P,S,.001),0<=A&&.99999999>=A)){E();w++;z=2;continue}break}return d.A(d.Um,c)}j1(f,c){f=this.s8(f);this.k8(f);c.KA(f)}s8(f){const c=[];f=f.Ad;for(let e=0,k=f.length;e<k;e+=2){const [h,m]=this.qM(f[e],f[e+1]);c.push(h,m)}return c}qM(f,c){var e=this.sj-1,k=this.Ej-1;const h=1/e,m=1/k;e=d.fa(Math.floor(f*e),0,e-1);const n=d.fa(Math.floor(c*k),0,k-1);k=e*h;const p=n*m,r=(e+1)*h,v=(n+1)*m,x=this.ip(e,n),w=this.ip(e+1,n+1),u=d.iaa(f,c,k,p,r,p,r,
v);e=this.ip(e+(u?1:0),n+(u?0:1));const [t,A,z]=d.hba(f,c,k,p,u?k+h:k,u?p:p+m,r,v);return d.gba(t,A,z,x.na(),x.oa(),e.na(),e.oa(),w.na(),w.oa())}k8(f){const c=[];let e=f[0],k=f[1],h=e-f[f.length-2],m=k-f[f.length-1];for(let p=0,r=f.length;p<r;p+=2){var n=(p+2)%r;const v=f[n];n=f[n+1];const x=v-e,w=n-k,u=1E-7>Math.abs(w)&&1E-7>Math.abs(m)&&Math.sign(x)===Math.sign(h);(!(1E-7>Math.abs(x)&&1E-7>Math.abs(h)&&Math.sign(w)===Math.sign(m)||u)&&1E-7<Math.abs(x/h-w/m)||0==x&&0===w)&&c.push(e,k);e=v;k=n;h=
x;m=w}6<=c.length&&c.length<f.length&&d.cd(f,c)}ud(){return{cols:this.sj,rows:this.Ej,points:this.um.map(f=>f.map(c=>c.ud()))}}hd(f){const c=this.sj,e=this.Ej;if(f.cols!==c||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let k=0;k<e;++k){const h=f[k];for(let m=0;m<c;++m)this.ip(m,k).hd(h[m])}}}}
{"use strict";const d=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(n,p){let r,v;switch(n){case "rgba8":n=p.RGBA8;v=r=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;v=r=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;v=r=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;v=r=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;v=r=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{BI:n,lr:r,format:v,type:p}}const k={SA:"clamp-to-edge",TA:"clamp-to-edge",Ji:"trilinear",xR:0,oI:"rgba8",EA:!0,ov:"default",premultiplyAlpha:!0,PR:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},m=new Set;d.U.rx=class{constructor(n){this.ta=n;this.kb=null;this.P=this.S=0;this.Qg=!0;this.fr=this.er="clamp-to-edge";this.$c="trilinear";this.JE=0;this.fg="rgba8";this.Hk=!1;this.uo=
"default";this.qc=0}J2(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},k,p);if(this.kb)throw Error("already created texture");this.er=p.SA;this.fr=p.TA;
this.$c=p.Ji;this.JE=p.xR;this.fg=p.oI;this.Hk=!!p.EA&&this.ta.jq;this.uo=p.ov;if(!c.has(this.er)||!c.has(this.fr))throw Error("invalid wrap mode");if(!b.has(this.$c))throw Error("invalid sampling");if(!a.has(this.fg))throw Error("invalid pixel format");if(!f.has(this.uo))throw Error("invalid mipmap quality");this.Qg=!0;if(n instanceof ArrayBuffer||null===n||p.PR){if(this.S=p.width,this.P=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.S*this.P*4)throw Error("ArrayBuffer wrong size");}else this.S=
n.width,this.P=n.height;if(0>=this.S||0>=this.P)throw Error("invalid texture data size");if(p.PR){var r=d.qg(this.S,this.P);r.getContext("2d").drawImage(n,0,0,this.S,this.P);n=r}var v=d.Lj(this.S)&&d.Lj(this.P);r=this.ta.Cz;if(this.S>r||this.P>r)throw Error("texture data exceeds maximum texture size");r=this.ta.V;var x=this.ta.bd;this.kb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.kb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
p=e(this.fg,r);if(this.ta.Cn()||v||!this.SD())2<=x?(r.texStorage2D(r.TEXTURE_2D,this.Hk?Math.floor(Math.log2(Math.max(this.S,this.P))+1):1,p.BI,this.S,this.P),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.S,this.P,p.format,p.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,p.lr,this.S,this.P,0,p.format,p.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,p.lr,this.S,this.P,0,p.format,
p.type,null):r.texImage2D(r.TEXTURE_2D,0,p.lr,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.S,this.P));n instanceof ImageData&&(v=d.qg(this.S,this.P),v.getContext("2d").putImageData(n,0,0),n=v);v=d.qg(d.kI(this.S),d.kI(this.P));x=v.getContext("2d");x.imageSmoothingEnabled="nearest"!==this.$c;x.drawImage(n,0,0,this.S,this.P,0,0,v.width,v.height);
r.texImage2D(r.TEXTURE_2D,0,p.lr,p.format,p.type,v)}null!==n&&this.DO(r);r.bindTexture(r.TEXTURE_2D,null);this.ta.dE();this.qc=1;m.add(this)}w2(n,p,r){r=Object.assign({},k,r);if(this.kb)throw Error("already created texture");this.er=r.SA;this.fr=r.TA;this.$c=r.Ji;this.fg=r.oI;this.Hk=!!r.EA&&this.ta.jq;this.uo=r.ov;if(!c.has(this.er)||!c.has(this.fr))throw Error("invalid wrap mode");if(!b.has(this.$c))throw Error("invalid sampling");if(!a.has(this.fg))throw Error("invalid pixel format");if(!f.has(this.uo))throw Error("invalid mipmap quality");
this.Qg=!1;this.S=Math.floor(n);this.P=Math.floor(p);n=d.Lj(this.S)&&d.Lj(this.P);p=this.ta.Cz;if(0>=this.S||0>=this.P)throw Error("invalid texture size");if(this.S>p||this.P>p)throw Error("texture exceeds maximum texture size");if(!this.ta.Cn()&&this.SD()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ta.V;p=this.ta.bd;this.kb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.kb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=e(this.fg,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?r.BI:r.lr,this.S,this.P,0,r.format,r.type,null);this.DO(n);n.bindTexture(n.TEXTURE_2D,null);this.ta.dE();this.qc=1;m.add(this)}PD(n){if("default"===this.uo)return this.Qg?n.NICEST:n.FASTEST;if("low"===this.uo)return n.FASTEST;if("high"===this.uo)return n.NICEST;throw Error("invalid mipmap quality");}SD(){return"clamp-to-edge"!==this.er||"clamp-to-edge"!==this.fr}wN(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}DO(n){var p=d.Lj(this.S)&&d.Lj(this.P);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wN(n,this.er));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wN(n,this.fr));"nearest"===this.$c?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Hk=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ta.Cn())&&this.Hk?(n.hint(n.GENERATE_MIPMAP_HINT,
this.PD(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.$c||this.ta.EF?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Hk=!1));(p=this.ta.lt)&&0<this.JE&&"nearest"!==this.$c&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.JE,this.ta.vG))}NO(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.kb||0>=this.qc)throw Error("texture not created");if(this.Qg)throw Error("cannot update static texture");p=Object.assign({},h,p);const r=n.width||n.videoWidth,v=n.height||n.videoHeight;var x=this.ta.bd;
const w=this.ta.V;w.bindTexture(w.TEXTURE_2D,this.kb);w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=e(this.fg,w);x=2<=x?p.BI:p.lr;try{if(this.S===r&&this.P===v){const u=d.Lj(this.S)&&d.Lj(this.P);w.texSubImage2D(w.TEXTURE_2D,0,0,0,p.format,p.type,n);(u||this.ta.Cn())&&this.Hk&&(w.hint(w.GENERATE_MIPMAP_HINT,this.PD(w)),w.generateMipmap(w.TEXTURE_2D))}else{this.S=r;this.P=v;const u=d.Lj(this.S)&&d.Lj(this.P);if(!this.ta.Cn()&&this.SD()&&
!u)throw Error("non-power-of-two tiled textures not supported");w.texImage2D(w.TEXTURE_2D,0,x,p.format,p.type,n);(u||this.ta.Cn())&&this.Hk&&(w.hint(w.GENERATE_MIPMAP_HINT,this.PD(w)),w.generateMipmap(w.TEXTURE_2D))}}catch(u){console.error("Error updating WebGL texture: ",u)}w.bindTexture(w.TEXTURE_2D,null);this.ta.dE()}HD(){if(0<this.qc)throw Error("texture still has references");if(!this.kb)throw Error("already deleted texture");m.delete(this);this.ta.V.deleteTexture(this.kb);this.kb=null}Gb(){return this.ta}c1(){if(0>=
this.qc)throw Error("no more references");this.qc--}ca(){return this.S}ba(){return this.P}CB(){let n=this.S*this.P;switch(this.fg){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Hk&&(n+=Math.floor(n/3));return n}static ik(){m.clear()}static p$(){return m.values()}}}
{"use strict";const d=self.B,a=self.il.Qo,b=new Set(["nearest","bilinear","trilinear"]),f={Ji:"trilinear",alpha:!0,depth:!1,dI:!0,NR:!0,waa:0},c=new Set;d.U.tD=class{constructor(e){this.ta=e;this.Vk=this.kb=this.ii=null;this.P=this.S=0;this.Tt=!0;this.$c="trilinear";this.Tp=!0;this.di=!1;this.Wt=!0;this.Pk=0;this.tu=a.create()}v2(e,k,h){h=Object.assign({},f,h);const m=this.ta.bd;if(this.kb||this.Vk)throw Error("already created render target");this.$c=h.Ji;this.Tp=!!h.alpha;this.di=!!h.depth;this.Wt=
!!h.dI;this.Tt=!!h.NR;this.Pk=h.waa;if(!b.has(this.$c))throw Error("invalid sampling");if(0<this.Pk&&(2>m||this.Wt))throw Error("invalid use of multisampling");2>m&&(this.Wt=!0);this.S=e;this.P=k;if(0>=this.S||0>=this.P)throw Error("invalid render target size");this.KM();e=this.ta.V;this.ii=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,this.ii);this.Wt?(this.kb=this.ta.gJ(this.S,this.P,{Ji:this.$c,oI:this.Tp?"rgba8":"rgb8",EA:!1}),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.kb.kb,0)):(this.Vk=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.Vk),k=this.Tp?e.RGBA8:e.RGB8,0<this.Pk&&((h=e.getInternalformatParameter(e.RENDERBUFFER,k,e.SAMPLES))&&h[0]?(h=h[0],this.Pk>h&&(this.Pk=h)):this.Pk=0),0===this.Pk?e.renderbufferStorage(e.RENDERBUFFER,k,this.S,this.P):e.renderbufferStorageMultisample(e.RENDERBUFFER,this.Pk,k,this.S,this.P),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.Vk),e.bindRenderbuffer(e.RENDERBUFFER,null));
k=this.ta.Tn;this.di&&k&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,k);e.bindFramebuffer(e.FRAMEBUFFER,null);c.add(this)}kO(e,k){if(this.S!==e||this.P!==k)this.S=e,this.P=k,this.KM(),e=this.ta.V,e.bindFramebuffer(e.FRAMEBUFFER,this.ii),this.kb?this.kb.NO(new ImageData(this.S,this.P)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Vk),e.renderbufferStorage(e.RENDERBUFFER,this.Tp?e.RGBA8:e.RGB8,this.S,this.P),e.bindRenderbuffer(e.RENDERBUFFER,null)),k=this.ta.Tn,this.di&&k&&
e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,k),e.bindFramebuffer(e.FRAMEBUFFER,null)}HD(){if(!this.kb&&!this.Vk)throw Error("already deleted render target");c.delete(this);const e=this.ta.V;e.bindFramebuffer(e.FRAMEBUFFER,this.ii);this.kb?(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this.ta.Li(this.kb),this.kb=null):this.Vk&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),e.deleteRenderbuffer(this.Vk),
this.Vk=null);e.bindFramebuffer(e.FRAMEBUFFER,null);2<=this.ta.bd&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null));e.deleteFramebuffer(this.ii);this.ii=this.ta.Zb.Km=null}KM(){this.ta.cB(this.tu,this.S/this.P)}Gb(){return this.ta}Md(){return this.kb}qC(){return"nearest"!==this.$c}ca(){return this.S}ba(){return this.P}VX(e){e=Object.assign({},f,e);return"nearest"!==e.Ji!==this.qC()||!!e.alpha!==this.Tp||!!e.depth!==this.di||2<=this.ta.bd&&!!e.dI!==this.Wt?!1:
"number"===typeof e.width||"number"===typeof e.height?!this.Tt&&this.ca()===e.width&&this.ba()===e.height:this.Tt}CB(){return this.kb?this.kb.CB():this.S*this.P*(this.Tp?4:3)}static async LT(e,k){e=await e.f_(k);return await d.iX(e)}static ik(){c.clear()}}}
{"use strict";const d=self.B;d.U.Qs=class{static async tT(a,b,f,c){const e=a.V,k=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(k,b);e.compileShader(k);b=e.createShader(e.VERTEX_SHADER);e.shaderSource(b,f);e.compileShader(b);const h=e.createProgram();e.attachShader(h,k);e.attachShader(h,b);e.bindAttribLocation(h,0,"aPos");e.bindAttribLocation(h,1,"aTex");e.bindAttribLocation(h,2,"aPoints");e.linkProgram(h);const m=a.KG;m?await a.I8(()=>e.getProgramParameter(h,m.COMPLETION_STATUS_KHR)):await d.sD(5);
if(!e.getShaderParameter(k,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(k),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!e.getShaderParameter(b,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(b),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!e.getProgramParameter(h,e.LINK_STATUS))throw c=e.getProgramInfoLog(h),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(h),Error("Error linking shader program: "+
c);(a=d.iV(e.getProgramInfoLog(h)||"").trim())&&!d.vC(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);e.deleteShader(k);e.deleteShader(b);return h}static async Pa(a,b,f,c){f=await d.U.Qs.tT(a,b.src,f,c);return new d.U.Qs(a,f,b,c)}constructor(a,b,f,c){const e=a.V;var k=a.Zb;a.ph();e.useProgram(b);this.V=e;this.ta=a;this.Y=c;this.eb=b;this.Yy="<default-device-transform>"===c;c=e.getAttribLocation(b,"aPos");const h=e.getAttribLocation(b,"aTex");b=e.getAttribLocation(b,"aPoints");
-1!==c&&(e.bindBuffer(e.ARRAY_BUFFER,a.qA),e.vertexAttribPointer(c,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(c));-1!==h&&(e.bindBuffer(e.ARRAY_BUFFER,a.fA),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(h));-1!==b&&(e.bindBuffer(e.ARRAY_BUFFER,a.Kz),e.vertexAttribPointer(b,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(b));e.bindBuffer(e.ARRAY_BUFFER,null);this.uH=new d.U.Yb(this,"matP","mat4");this.tH=new d.U.Yb(this,"matMV","mat4");this.Jo=new d.U.Yb(this,"color","vec4");this.h$=
new d.U.Yb(this,"samplerFront","sampler");this.xH=new d.U.Yb(this,"pointTexStart","vec2");this.wH=new d.U.Yb(this,"pointTexEnd","vec2");this.AH=new d.U.Yb(this,"zElevation","float");this.yH=new d.U.Yb(this,"tileSize","vec2");this.zH=new d.U.Yb(this,"tileSpacing","vec2");this.sH=new d.U.Yb(this,"color2_","vec4");this.vH=new d.U.Yb(this,"outlineThickness","float");this.Zq=new d.U.Yb(this,"samplerBack","sampler");this.bl=new d.U.Yb(this,"destStart","vec2");this.al=new d.U.Yb(this,"destEnd","vec2");this.Di=
new d.U.Yb(this,"srcStart","vec2");this.cl=new d.U.Yb(this,"srcEnd","vec2");this.el=new d.U.Yb(this,"srcOriginStart","vec2");this.dl=new d.U.Yb(this,"srcOriginEnd","vec2");this.ng=new d.U.Yb(this,"pixelSize","vec2");this.Gm=new d.U.Yb(this,"seconds","float");this.Dm=new d.U.Yb(this,"layerScale","float");this.Cm=new d.U.Yb(this,"layerAngle","float");this.Fm=new d.U.Yb(this,"layoutStart","vec2");this.Em=new d.U.Yb(this,"layoutEnd","vec2");this.GP=!!(this.ng.X||this.Gm.X||this.Zq.X||this.bl.X||this.al.X||
this.Di.X||this.cl.X||this.el.X||this.dl.X||this.Dm.X||this.Cm.X||this.Fm.X||this.Em.X);this.qP=f.mla||0;this.rP=f.nla||0;this.dF=!!f.$ka;this.L9=!!f.Cma;this.Hq=!!f.Tma;this.$x=!!f.Nka;a=f.parameters||[];this.Ko=[];this.Uu=this.bl.X||this.al.X;this.j$=this.ng.X||this.Di.X||this.cl.X||this.el.X||this.dl.X;this.N9=this.dF||this.Uu||0!==this.qP||0!==this.rP;this.BF=this.CF=!1;this.Jo.oK();this.sH.oK();this.h$.nK(0);this.Zq.nK(1);this.xH.Mf(0,0);this.wH.Mf(1,1);this.AH.np(0);this.yH.Mf(0,0);this.zH.Mf(0,
0);this.bl.Mf(0,0);this.al.Mf(1,1);this.Di.Mf(0,0);this.cl.Mf(0,0);this.el.Mf(0,0);this.dl.Mf(0,0);this.ng.Mf(0,0);this.Dm.np(1);this.Cm.np(0);this.Gm.np(0);this.Fm.Mf(0,0);this.Em.Mf(0,0);this.vH.np(1);for(const m of a)a=m[2],f=new d.U.Yb(this,m[0],a),"color"===a?f.mX():f.np(0),this.Ko.push(f);this.Yy?this.SO(k.bv):(this.mx(k.bv,!0),this.lx(k.wA,!0));k=k.fh;e.useProgram(k?k.eb:null)}j(){this.V.deleteProgram(this.eb);this.eb=null;this.ta.M6(this);this.ta=this.V=null}Hl(){return this.L9}pw(a){return this.Ko[a].ya}MS(a){for(let b=
0,f=a.length;b<f;++b)if(!this.Ko[b].eY(a[b]))return!1;return!0}W_(a){for(let b=0,f=a.length;b<f;++b)this.Ko[b].S_(a[b])}NS(a,b,f,c,e,k,h,m,n){return this.Zq.X||this.ng.X&&!this.ng.gk(e,k)||this.bl.X&&!this.bl.gk(a.N,a.M)||this.al.X&&!this.al.gk(a.Z,a.T)||this.Dm.X&&!this.Dm.uC(h)||this.Cm.X&&!this.Cm.uC(m)||this.Di.X&&!this.Di.gk(b.N,b.M)||this.cl.X&&!this.cl.gk(b.Z,b.T)||this.el.X&&!this.el.gk(f.N,f.M)||this.dl.X&&!this.dl.gk(f.Z,f.T)||this.Fm.X&&!this.Fm.gk(c.N,c.M)||this.Em.X&&!this.Em.gk(c.M,
c.T)||this.Gm.X&&!this.Gm.uC(n)?!1:!0}r0(a,b,f,c,e,k,h,m,n){this.Zq.X||(this.ng.X&&this.ng.lk(e,k),this.bl.X&&this.bl.lk(a.N,a.M),this.al.X&&this.al.lk(a.Z,a.T),this.Dm.X&&this.Dm.SC(h),this.Cm.X&&this.Cm.SC(m),this.Di.X&&this.Di.lk(b.N,b.M),this.cl.X&&this.cl.lk(b.Z,b.T),this.el.X&&this.el.lk(f.N,f.M),this.dl.X&&this.dl.lk(f.Z,f.T),this.Fm.X&&this.Fm.lk(c.N,c.M),this.Em.X&&this.Em.lk(c.M,c.T),this.Gm.X&&this.Gm.SC(n))}mx(a,b){this.CF&&!b||this.Yy||(this.uH.X&&this.uH.nx(a),this.CF=!0)}q0(){this.CF=
!1}lx(a,b){this.BF&&!b||this.Yy||(this.tH.X&&this.tH.nx(a),this.BF=!0)}p0(){this.BF=!1}SO(a){if(!this.Yy)throw Error("not device transform shader");this.uH.nx(a);a=this.ta;const b=a.ca()/2,f=a.ba()/2;a=a.Lr(b,f,100*self.devicePixelRatio,b,f);this.tH.nx(a)}r1(a){this.Jo.X&&this.Jo.kx(a[0],a[1],a[2],a[3])}static AB(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,a=self.il.Qo,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.U.Yb=class{constructor(f,c,e){if(!b.has(e))throw Error("invalid uniform type");this.Ob=f;this.V=this.Ob.V;this.Y=c;this.ya=e;this.SF="color"===this.ya;this.Sg=this.V.getUniformLocation(this.Ob.eb,c);this.X=!!this.Sg;f=b.get(e);this.Kb=new Float32Array(f);this.si=new Float32Array(f)}j(){this.Sg=this.V=this.Ob=null}np(f){this.X&&(this.Kb[0]=f,this.si.set(this.Kb),
this.V.uniform1f(this.Sg,f))}nK(f){this.X&&(this.Kb[0]=f,this.si.set(this.Kb),this.V.uniform1i(this.Sg,f))}Mf(f,c){this.X&&(this.Kb[0]=f,this.Kb[1]=c,this.si.set(this.Kb),this.V.uniform2f(this.Sg,f,c))}mX(){this.X&&(this.Kb[0]=0,this.Kb[1]=0,this.Kb[2]=0,this.si.set(this.Kb),this.V.uniform3f(this.Sg,0,0,0))}oK(){this.X&&(this.Kb[0]=1,this.Kb[1]=1,this.Kb[2]=1,this.Kb[3]=1,this.si.set(this.Kb),this.V.uniform4f(this.Sg,1,1,1,1))}Lp(f){f=Math.fround(f);const c=this.Kb;c[0]!==f&&(c[0]=f,this.V.uniform1f(this.Sg,
f))}oe(f,c){f=Math.fround(f);c=Math.fround(c);const e=this.Kb;if(e[0]!==f||e[1]!==c)e[0]=f,e[1]=c,this.V.uniform2f(this.Sg,f,c)}p1(f,c,e){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);const k=this.Kb;if(k[0]!==f||k[1]!==c||k[2]!==e)k[0]=f,k[1]=c,k[2]=e,this.V.uniform3f(this.Sg,f,c,e)}kx(f,c,e,k){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);k=Math.fround(k);const h=this.Kb;if(h[0]!==f||h[1]!==c||h[2]!==e||h[3]!==k)h[0]=f,h[1]=c,h[2]=e,h[3]=k,this.V.uniform4f(this.Sg,f,c,e,k)}nx(f){const c=
this.Kb;a.Ii(c,f)||(d.iba(c,f),this.V.uniformMatrix4fv(this.Sg,!1,f))}eY(f){const c=this.si;return this.SF?c[0]===Math.fround(f.Ra)&&c[1]===Math.fround(f.Ua)&&c[2]===Math.fround(f.Ta):c[0]===Math.fround(f)}S_(f){const c=this.si;this.SF?(c[0]=f.Ra,c[1]=f.Ua,c[2]=f.Ta):c[0]=f}uC(f){return this.si[0]===Math.fround(f)}gk(f,c){const e=this.si;return e[0]===Math.fround(f)&&e[1]===Math.fround(c)}SC(f){this.si[0]=f}lk(f,c){const e=this.si;e[0]=f;e[1]=c}}}
{"use strict";const d=self.B,a=self.il,b=a.Ir,f=a.Qo;d.U.SS=class{constructor(c){this.De=c;this.wA=f.create();this.bv=f.create();this.Km=null;this.vA=b.cf(1,1,1,1);this.fh=null;this.pI=new d.Rect;this.clearColor=d.A(d.Xa,0,0,0,0)}};d.U.C1=class{constructor(c){const e=new ArrayBuffer(96);this.ya=0;this.Zb=c;this.V=c.De.V;this.eo=this.jg=0;this.xe=null;this.Wd=new Float32Array(e,0,16);this.Qn=new Float32Array(e,64,4);this.eR=new Float32Array(e,80,4);this.Tz=[]}zX(c){this.ya=1;this.jg=c;this.eo=6}eU(){const c=
this.V;c.drawElements(c.TRIANGLES,this.eo,c.UNSIGNED_SHORT,this.jg)}HX(c){this.ya=2;this.xe=c}qU(){const c=this.V,e=this.xe;c.bindTexture(c.TEXTURE_2D,e?e.kb:null)}fC(c){this.ya=3;c.jh(this.Qn,0)}gU(){const c=this.Qn,e=this.Zb;b.Aa(e.vA,c);e.fh.r1(c)}jU(){const c=this.Qn,e=this.Zb.fh;e.sH.X&&e.sH.kx(c[0],c[1],c[2],c[3])}AX(c,e){this.ya=4;this.jg=c;this.eo=e}fU(){this.V.blendFunc(this.jg,this.eo)}IX(c,e){this.ya=5;const k=this.Qn;k[0]=0;k[1]=0;k[2]=c;k[3]=e}sU(){const c=this.Qn;this.V.viewport(c[0],
c[1],c[2],c[3])}FX(c){this.ya=6;f.Aa(this.Wd,c)}oU(){const c=this.Zb,e=c.De.Ln,k=c.fh,h=this.Wd;for(let m=0,n=e.length;m<n;++m){const p=e[m];p===k?p.mx(h,!0):p.q0()}f.Aa(c.bv,h)}CX(c){this.ya=7;f.Aa(this.Wd,c)}kU(){const c=this.Zb,e=c.De.Ln,k=c.fh,h=this.Wd;for(let m=0,n=e.length;m<n;++m){const p=e[m];p===k?p.lx(h,!0):p.p0()}f.Aa(c.wA,h)}GX(c){this.ya=8;this.xe=c}pU(){const c=this.V;var e=this.xe;const k=this.Zb;e?(e=e.ii,k.Km=e,c.bindFramebuffer(c.FRAMEBUFFER,e)):(k.Km=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}sX(c){this.ya=9;c.jh(this.Wd,0)}tX(){this.ya=9;const c=this.Wd;c[0]=0;c[1]=0;c[2]=0;c[3]=0}aU(){const c=this.V;var e=this.Wd,k=this.Zb;const h=k.clearColor;(k=k.De.no&&d.nr)&&c.disable(c.SCISSOR_TEST);const m=e[0],n=e[1],p=e[2];e=e[3];h.gv(m,n,p,e)||(c.clearColor(m,n,p,e),h.Rm(m,n,p,e));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}rX(c,e,k,h){this.ya=10;const m=this.Wd;m[0]=c;m[1]=e;m[2]=k;m[3]=h;m[4]=0;m[5]=0;m[6]=0;m[7]=0}$T(){const c=this.V;var e=this.Wd,k=this.Zb;const h=k.De;
k=k.clearColor;h.no||c.enable(c.SCISSOR_TEST);c.scissor(e[0],e[1],e[2],e[3]);const m=e[4],n=e[5],p=e[6];e=e[7];k.gv(m,n,p,e)||(c.clearColor(m,n,p,e),k.Rm(m,n,p,e));c.clear(c.COLOR_BUFFER_BIT);h.no?c.scissor(0,0,h.Yu,h.Xu):c.disable(c.SCISSOR_TEST)}lU(){const c=this.Wd;this.Zb.pI.set(c[0],c[1],c[2],c[3])}dU(){const c=this.V,e=this.Zb,k=e.De.Yz;c.useProgram(k.eb);k.mx(e.bv,!1);k.lx(e.wA,!1);var h=e.pI;k.xH.X&&k.xH.oe(h.N,h.M);k.wH.X&&k.wH.oe(h.Z,h.T);h=this.Wd[0];k.AH.X&&k.AH.Lp(h);k.Jo.X&&(h=e.vA,
k.Jo.kx(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.jg/4,this.eo);c.useProgram(e.fh.eb)}DX(c){this.ya=12;this.xe=c}mU(){var c=this.V;const e=this.Zb,k=this.xe;e.fh=k;c.useProgram(k.eb);k.mx(e.bv,!1);k.lx(e.wA,!1);k.Jo.X&&(c=e.vA,k.Jo.kx(c[0],c[1],c[2],c[3]))}EX(){this.ya=13}nU(){const c=this.Zb.fh;c.GP&&this.q3(c);c.Ko.length&&this.r3(c)}q3(c){const e=this.V,k=this.Wd,h=this.Qn,m=this.eR;if(c.Zq.X){const n=this.Zb.De,p=this.xe;n.nm!==p&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,
p?p.kb:null),n.nm=p,e.activeTexture(e.TEXTURE0))}c.ng.X&&c.ng.oe(k[0],k[1]);c.bl.X&&c.bl.oe(k[2],k[3]);c.al.X&&c.al.oe(k[4],k[5]);c.Dm.X&&c.Dm.Lp(k[6]);c.Cm.X&&c.Cm.Lp(k[7]);c.Di.X&&c.Di.oe(k[12],k[13]);c.cl.X&&c.cl.oe(k[14],k[15]);c.el.X&&c.el.oe(m[0],m[1]);c.dl.X&&c.dl.oe(m[2],m[3]);c.Fm.X&&c.Fm.oe(h[0],h[1]);c.Em.X&&c.Em.oe(h[2],h[3]);c.Gm.X&&c.Gm.Lp(this.jg)}r3(c){c=c.Ko;const e=this.Tz;for(let k=0,h=c.length;k<h;++k){const m=c[k],n=e[k];m.SF?m.p1(n.Ra,n.Ua,n.Ta):m.Lp(n)}}vX(c){this.ya=14;this.xe=
c}cU(){const c=this.V,e=this.xe,k=this.Zb.Km;e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,e);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}nX(c,e){this.ya=17;var k=this.Wd;const h=this.Zb.De;k[0]=c.ca();k[1]=c.ba();k[2]=e?e.ca():h.ca();k[3]=e?e.ba():h.ba();k[4]=c.qC()?1:0;k[5]=!0;k=this.Tz;d.D(k);k.push(c.ii);k.push(e?e.ii:null)}YT(){var c=this.Wd,e=this.Tz;const k=this.V;var h=c[0],m=c[1],n=c[2];const p=c[3],r=0!==c[4];c=0!==c[5];const v=e[1];k.bindFramebuffer(k.READ_FRAMEBUFFER,
e[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,v);c?k.blitFramebuffer(0,0,h,m,0,0,n,p,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(e=Math.min(h,n),h=Math.min(m,p),n=Math.max(m-p,0),m=Math.max(p-m,0),k.blitFramebuffer(0,n,e,h+n,0,m,e,h+m,k.COLOR_BUFFER_BIT,k.NEAREST))}KX(c){this.ya=18;this.xe=c}tU(){this.xe.$A();this.xe=null}uX(c){this.ya=19;this.xe=c}bU(){this.xe.qB();this.xe=null}iU(){const c=this.Zb.fh,e=this.Wd;c.ng.X&&c.ng.oe(e[0],e[1]);c.vH.X&&c.vH.Lp(e[2])}rU(){const c=this.Zb.fh,e=this.Wd;c.Di.X&&
c.Di.oe(e[0],e[1]);c.ng.X&&c.ng.oe(e[4],e[5]);c.yH.X&&c.yH.oe(e[6],e[7]);c.zH.X&&c.zH.oe(e[8],e[9])}qX(){this.ya=22}ZT(){const c=this.V;c.clear(c.DEPTH_BUFFER_BIT)}BX(c){this.ya=23;this.jg=c?1:0}hU(){const c=this.V;0===this.jg?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}ma(){switch(this.ya){case 1:this.eU();break;case 2:this.qU();break;case 3:this.gU();break;case 4:this.fU();break;case 5:this.sU();break;case 6:this.oU();break;case 7:this.kU();break;case 8:this.pU();
break;case 9:this.aU();break;case 10:this.$T();break;case 11:this.dU();break;case 12:this.mU();break;case 13:this.nU();break;case 14:this.cU();break;case 15:this.lU();break;case 16:this.rU();break;case 17:this.YT();break;case 18:this.tU();break;case 19:this.bU();break;case 20:this.iU();break;case 21:this.jU();break;case 22:this.ZT();break;case 23:this.hU()}}}}
{"use strict";const d=self.B,a={timeout:60},b=new d.Xa(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),e=new Set(["word","character"]),k=new Set;d.kV&&d.kV.addEventListener("fontload",p=>{p=p.font.Y;for(const r of k)(r.Pg||d.Nm(r.Fy,p))&&r.kj()});function h(p,r,v,x,w,u){r?"Gecko"===d.Hb.Dv?p.strokeText(v,x,w,u):p.strokeText(v,x,w):"Gecko"===d.Hb.Dv?p.fillText(v,x,w,u):p.fillText(v,x,w)}let m=!1,n=!1;d.U.IC=class{constructor(p,r){r=Object.assign({},a,r);this.ta=p;
this.Fy="Arial";this.Gy=16;this.Hy=1;this.to=0;this.Se=this.Re=!1;this.bF="black";this.Pg=!1;this.mI=null;this.IE=new Set;this.Pe="left";this.Ce="top";this.Oc="";this.tt=null;this.Im=d.A(d.uD);this.GH="word";this.eG=this.gA=!1;this.Rt=!0;this.Un=-1;this.P=this.S=this.eF=this.aq=this.iq=0;this.eh=1;this.$E=!1;this.mu=this.Ok=this.Jd=this.Eo=null;this.iQ=this.jQ=-1;this.qz=this.lQ=this.iG="";this.jG=this.kG=1;this.wQ=(v,x)=>this.UN(v,x);this.kb=null;this.Ku=this.Mu=0;this.xi=new d.Rect;this.yu=1;this.BG=
!1;this.oH=new d.hX(()=>{this.Dh();this.CO(8,8)},r.timeout);this.FA=null;this.Zu=!1;k.add(this)}j(){this.mI=null;this.IE.clear();this.wQ=this.mu=this.Ok=this.Jd=this.Eo=this.tt=null;this.oH.j();this.FA=null;this.Dh();this.Im.Ic();this.ta=this.Im=null;this.Zu=!0;k.delete(this)}Hn(){this.$E=!0}kj(){this.Hn();this.Im.Ic();this.gA=!0}UL(){this.Rt=!1}Nf(){return this.Rt}R_(p){p=!!p;this.Pg!==p&&(p=(this.Pg=p)?"alphabetic":"top",this.Jd&&(this.Jd.textBaseline=p),this.Ok&&(this.Ok.textBaseline=p),this.kj())}VC(p){p||
(p="serif");this.Fy!==p&&(this.Fy=p,this.kj())}dx(p){.1>p&&(p=.1);this.Gy!==p&&(this.Gy=p,this.kj())}g0(p){this.Hy!==p&&(this.Hy=p,this.kj())}YL(p){this.to!==p&&(this.to=p,this.Hn())}HL(p){p=!!p;this.Re!==p&&(this.Re=p,this.kj())}WL(p){p=!!p;this.Se!==p&&(this.Se=p,this.kj())}UC(p){p=Math.floor(p);this.Un!==p&&(this.Un=p,this.Hn())}hj(p,r){for(let v=p.length-1;0<=v;--v){const x=p[v];if(x.tag===r)return x}return null}Op(p,r){return!!this.hj(p,r)}oN(p,r){let v=[];(this.Re||this.Op(r,"b"))&&v.push("bold");
(this.Se||this.Op(r,"i"))&&v.push("italic");var x=this.hj(r,"size");x=(x?parseFloat(x.Mj):this.Gy)*this.Hy;p?v.push(x+"pt"):v.push(x*this.yu*this.eh*self.devicePixelRatio+"pt");p=this.Fy;(r=this.hj(r,"font"))&&r.Mj&&(p=r.Mj,this.mI&&!this.IE.has(p)&&(this.mI(p),this.IE.add(p)));p&&v.push('"'+p+'"');return v.join(" ")}Nl(p){p instanceof d.Xa&&(p=p.U$());this.bF!==p&&(this.bF=p,this.Hn())}JL(p,r,v){b.Br(p,r,v);this.Nl(b)}RL(p){if(!f.has(p))throw Error("invalid horizontal alignment");this.Pe!==p&&(this.Pe=
p,this.Hn())}gM(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Ce!==p&&(this.Ce=p,this.Hn())}N0(p){if(!e.has(p))throw Error("invalid word wrap mode");this.GH!==p&&(this.GH=p,this.kj())}Ms(p){this.Oc!==p&&(this.Oc=p,this.kj())}Kc(p,r,v){"undefined"===typeof v&&(v=1);if(!(0>=p||0>=p||this.aq===p&&this.eF===r&&this.eh===v)){1===this.eh!==(1===v)&&(this.BG=!0);var x=this.aq,w=this.eh;this.aq=p;this.eF=r;this.eh=v;p=self.devicePixelRatio;this.S=this.aq*this.eh*p;this.P=this.eF*this.eh*
p;p=Math.max(this.S,this.P);r=Math.min(this.ta.Cz,2048);v=1;p>r&&(v=r/p,this.S=Math.min(this.S*v,r),this.P=Math.min(this.P*v,r));this.yu=v;0<this.Mu&&0<this.Ku&&this.eh===w&&this.xi.set(0,0,this.S/this.Mu,this.P/this.Ku);this.aq!==x?this.kj():this.Hn()}}ca(){return this.S}ba(){return this.P}yW(){this.ZD();return this.Im.lW()}xW(){this.ZD();return this.Im.AW()+this.Im.om.length*(this.to+4)-this.to}Md(){this.oH.kd();this.w5();return this.kb}w5(){this.kb&&!this.$E&&!this.gA||this.eG||0>=this.S||0>=this.P||
(this.$E=!1,this.eG=!0,this.Rt?d.Nj(()=>this.ZM()):this.ZM())}ZM(){this.Zu||(this.CO(Math.ceil(this.S),Math.ceil(this.P)),this.ZD(),this.E3(),this.D8(),this.oH.kd(),this.eG=!1)}CO(p,r){this.Eo||(this.Eo=d.qg(16,16));let v=!1;if(this.jQ!==p||this.iQ!==r)this.jQ=p,this.iQ=r,this.Eo.width=p,this.Eo.height=r,v=!0;this.Jd||(this.Jd=this.Eo.getContext("2d"),v=!0);v?(this.Jd.textBaseline=this.Pg?"alphabetic":"top",this.Jd.font=this.iG,this.Jd.fillStyle=this.qz,this.Jd.strokeStyle=this.qz,this.Jd.globalAlpha=
this.kG,this.Jd.lineWidth=this.jG):this.Jd.clearRect(0,0,p,r)}NN(){this.Ok||(this.Ok=d.qg(16,16).getContext("2d"),this.mu=d.qg(16,16).getContext("2d"),this.Ok.textBaseline=this.Pg?"alphabetic":"top",this.mu.textBaseline="top")}X7(p){this.lQ!==p&&(this.lQ=p,this.Ok.font=p,this.mu.font=p)}KO(){if(!m){m=!0;this.NN();const p=this.Ok.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}ZD(){this.gA&&(this.NN(),!this.Pg||this.tt&&this.tt.toString()===
this.Oc||(this.tt=new d.rl(this.Oc,{yaa:!0})),this.Im.uD(this.Pg?this.tt.$aa():this.Oc,this.wQ,this.aq,this.GH,0),this.gA=!1)}UN(p,r){this.X7(this.oN(!0,r));r=this.hj(r,"size");r=(r?parseFloat(r.Mj):this.Gy)*this.Hy;const v=this.Ok.measureText(p);let x=0;this.Pg&&this.KO()&&(x=v.fontBoundingBoxAscent-this.mu.measureText(p).fontBoundingBoxAscent);return{width:v.width,height:4/3*r,Ff:v.fontBoundingBoxAscent||0,bf:v.fontBoundingBoxDescent||0,df:x}}I7(p){this.iG!==p&&(this.iG=p,this.Jd.font=p)}lE(p){this.qz!==
p&&(this.qz=p,this.Jd.fillStyle=p,this.Jd.strokeStyle=p)}H7(p){this.kG!==p&&(this.kG=p,this.Jd.globalAlpha=p)}xO(p){this.jG!==p&&(this.jG=p,this.Jd.lineWidth=p)}E3(){this.iq=0;const p=this.yu*this.eh*self.devicePixelRatio,r=(4+this.to)*p;var v=0;const x=this.Im.om;if(0!==x.length){var w=this.Pg&&this.KO(),u=x[0].height*p;"center"===this.Ce?(v=x.reduce((t,A)=>t+A.height*p+r,0)-r,v=Math.max(this.P/2-v/2,0),w&&(u=x[0].df*p)):"bottom"===this.Ce&&(v=x.reduce((t,A)=>t+A.height*p+r,0)-this.to*p,v=this.P-
v-(w?x[x.length-1].bf*p:0)-2);for(let t=0,A=x.length;t<A;++t){w=x[t];const z=w.height*p,E=v;if(this.Pg){if(v+=0===t?u:z,0<t&&v>this.P-4*p)break}else if(0<t&&v>=this.P-z)break;0<=E&&this.D3(w,v,p);this.Pg||(v+=z);v+=r}}}D3(p,r,v){let x=0;"center"===this.Pe?x=(this.S-p.width*v)/2:"right"===this.Pe&&(x=this.S-p.width*v);for(const w of p.JR)this.C3(w,x,r,v,p.height),x+=w.width*v}C3(p,r,v,x,w){const u=this.Jd;var t=w/16;w=p.width*x;var A=p.height*x;const z=p.height/16;var E=(4+this.to)*x;const G=p.Sc;
p=p.text;if(-1!==this.Un){if(this.iq>=this.Un)return;this.iq+p.length>this.Un&&(p=p.substr(0,this.Un-this.iq),w=this.UN(p,G).width*x);this.iq+=p.length}var I=this.hj(G,"background"),N=this.Op(G,"u"),O=this.Op(G,"s");if((!d.vC(p)||I||N||O)&&!this.Op(G,"hide")){var P=this.hj(G,"offsetx");r+=P?parseFloat(P.Mj)*x:0;P=this.hj(G,"offsety");v+=P?parseFloat(P.Mj)*x:0;I&&(this.lE(I.Mj),u.fillRect(r,v-A,w,A+E));E=this.hj(G,"color");this.lE(E?E.Mj:this.bF);E=this.hj(G,"opacity");this.H7(E?parseFloat(E.Mj)/100:
1);(E=this.Op(G,"stroke"))&&this.xO(z*this.yu*this.eh);N&&(N=r,I=v+x*t,P=w,t*=x,E?u.strokeRect(N,I,P,t):u.fillRect(N,I,P,t));O&&(t=r,A=v-A/4,O=w,x*=z,E?u.strokeRect(t,A,O,x):u.fillRect(t,A,O,x));this.I7(this.oN(!1,G));h(u,E,p,r,v,w);!E&&(this.xO(z*this.yu*this.eh),x=this.hj(G,"outline"))&&(this.lE(x.Mj),h(u,!0,p,r,v,w))}}D8(){this.ta.mn()||(this.Mu=Math.ceil(this.S),this.Ku=Math.ceil(this.P),this.xi.set(0,0,this.S/this.Mu,this.P/this.Ku),this.BG&&(this.Dh(),this.BG=!1),this.kb||(this.kb=this.ta.gJ(this.Mu,
this.Ku,{EA:1===this.eh,ov:"high"})),this.ta.u1(this.Eo,this.kb),this.FA&&this.FA())}Xi(){return this.xi}Dh(){this.kb&&(this.ta.mn()||this.ta.Li(this.kb),this.kb=null)}static ik(){for(const p of k)p.Dh()}}}
{"use strict";const d=self.B;class a{constructor(b){this.V=b.V;this.bd=b.bd;this.qd=b.qd;this.Vg=null;this.It=this.xb=!1;this.Rz=0;this.Vg=1===this.bd?this.qd.createQueryEXT():this.V.createQuery()}j(){this.VM();this.qd=this.V=null;this.It=!1}VM(){this.Vg&&(1===this.bd?this.qd.deleteQueryEXT(this.Vg):this.V.deleteQuery(this.Vg),this.Vg=null)}$A(){if(this.xb)throw Error("query already active");1===this.bd?this.qd.beginQueryEXT(this.qd.TIME_ELAPSED_EXT,this.Vg):this.V.beginQuery(this.qd.TIME_ELAPSED_EXT,
this.Vg);this.xb=!0}qB(){if(!this.xb)throw Error("query not active");1===this.bd?this.qd.endQueryEXT(this.qd.TIME_ELAPSED_EXT):this.V.endQuery(this.qd.TIME_ELAPSED_EXT);this.xb=!1}fB(){if(this.Vg&&!this.It&&!this.xb){var b=1===this.bd?this.qd.getQueryObjectEXT(this.Vg,this.qd.QUERY_RESULT_AVAILABLE_EXT):this.V.getQueryParameter(this.Vg,this.V.QUERY_RESULT_AVAILABLE);var f=this.V.getParameter(this.qd.GPU_DISJOINT_EXT);b&&!f&&(this.Rz=1===this.bd?this.qd.getQueryObjectEXT(this.Vg,this.qd.QUERY_RESULT_EXT):
this.V.getQueryParameter(this.Vg,this.V.QUERY_RESULT),this.Rz/=1E9,this.It=!0);(b||f)&&this.VM()}}Dw(){return this.It}rw(){if(!this.It)throw Error("no result available");return this.Rz}}d.U.E1=class{constructor(b){this.ta=b;this.Og=b.Og;this.xb=!1;this.rm=null;this.mo=!1;this.Kq=null;this.yo=[]}j(){for(const b of this.yo)b instanceof a&&b.j();d.D(this.yo);this.ta=this.Kq=this.rm=null}$A(){if(this.xb)throw Error("query already active");const b=this.ta.lR;0<b.length?(this.mo=!0,this.rm=b[b.length-1],
this.rm.bN(),this.rm.yo.push(this)):(this.mo=!1,this.rm=null);this.xb=!0;b.push(this);this.IO()}qB(){if(!this.xb)throw Error("query not active");if(this.ta.lR.pop()!==this)throw Error("can only end most nested query");this.xb=!1;this.bN();this.rm&&(this.rm.IO(),this.rm=null)}IO(){this.Kq=d.A(a,this.ta);this.yo.push(this.Kq);this.Kq.$A()}bN(){this.Kq.qB();this.Kq=null}fB(){for(const b of this.yo)b.fB()}Dw(){return this.yo.every(b=>b.Dw())}rw(){return this.yo.reduce((b,f)=>b+f.rw(),0)}}}
{"use strict";const d=self.B;d.U.zM=class{constructor(a,b=1E3){this.ta=a;this.K9=b;this.nj=[];this.ta.Z1(this)}j(){this.Ic();this.ta.L6(this);this.ta=null}Ic(){for(const a of this.nj)a.j();d.D(this.nj)}OI(){const a=new d.U.E1(this.ta);this.nj.push(a);this.nj.length>this.K9&&this.nj.shift().j();return a}hT(a){for(const b of this.nj){if(b.Og>=a)break;if(b.mo)break;b.fB()}}MJ(a,b){if(b<=a)return NaN;let f=0;for(const c of this.nj){if(c.Og>=b)break;if(!(c.Og<a))if(c.Dw())f+=c.rw();else return NaN}return f}kJ(a){for(let b=
0,f=this.nj.length;b<f;++b){const c=this.nj[b];if(c.Og<a)c.j();else{0<b&&this.nj.splice(0,b);break}}}}}
{"use strict";const d=self.B,a=self.il,b=a.Ir,f=a.Qo,c={powerPreference:"default",IR:!0,alpha:!1,eI:!1,depth:!1,fI:2},e=new Set(["default","low-power","high-performance"]),k=new d.Ed(0,0,1,0,1,1,0,1),h=f.create(),m=f.create(),n=new d.Ed,p=new d.Rect;let r=null;d.nr&&(self.ela=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.fla=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const v=new Set;let x=-1;function w(){x=-1;for(const t of v)t.y$()&&
(t.resolve(),v.delete(t));0<v.size&&(x=self.requestAnimationFrame(w))}function u(t,A,z){if(2<=z&&(z=t.getContext("webgl2",A)))return{BA:z,version:2};z=t.getContext("webgl",A);return{BA:z,version:1}}d.U.D1=class extends d.U.r_{constructor(t,A){super();A=Object.assign({},c,A);if(!e.has(A.powerPreference))throw Error("invalid power preference");let z=!1;const E={alpha:!!A.alpha,depth:!1,antialias:!1,powerPreference:A.powerPreference,failIfMajorPerformanceCaveat:!0};A.eI&&(E.desynchronized=!0,E.preserveDrawingBuffer=
!0);let G=u(t,E,A.fI);G.BA||(z=!0,E.failIfMajorPerformanceCaveat=!1,G=u(t,E,A.fI));if(!G.BA)throw Error("failed to initialise WebGL context");this.V=t=G.BA;this.ZO=t.getContextAttributes();A.eI&&!this.ZO.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");t.getParameter(t.VERSION);this.bd=G.version;this.rd=b.create();this.OE=f.create();this.TF=this.Hm=!!A.depth;this.Tn=null;this.RF=!0;this.fP=this.gP=0;this.Kz=this.RP=this.fA=this.qA=null;this.Wu=new Float32Array(24E3);
this.SP=new Uint16Array(12E3);this.Sq=new Float32Array(16E3);this.KQ=new Float32Array(32E3);this.mQ=this.Lz=this.Cf=this.dh=0;this.xm=this.ro=null;this.qt=[];this.tc=this.am=0;this.md=null;this.Zb=d.A(d.U.SS,this);this.gu=d.A(d.Xa,1,1,1,1);this.nm=this.Lk=null;this.fG=this.hG=0;this.no=!1;this.Xu=this.Yu=-1;this.D9=new d.Rect;this.Cz=-1;this.wG=0;this.$q="(unavailable)";this.EF=z;this.WF=!1;this.lt=this.KG=null;this.vG=0;this.A9=!!A.IR;this.qd=null;this.Zx=new Set;this.lR=[];this.hV(this.SP)}Mw(){return!0}async Gw(){super.Gw();
var t=this.V;this.gu.Rm(1,1,1,1);this.nm=this.Lk=null;this.Lz=this.dh=0;this.mQ=23988;d.D(this.qt);this.tc=this.am=0;this.md=this.ro=null;this.D9.set(0,0,1,1);var A=this.Zb;A.fh=null;A.Km=null;b.set(A.vA,1,1,1,1);A.clearColor.Rm(0,0,0,0);A.pI.set(0,0,1,1);t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT);t.enable(t.BLEND);t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);this.hG=t.ONE;this.fG=t.ONE_MINUS_SRC_ALPHA;this.y4(t);t.disable(t.CULL_FACE);t.disable(t.STENCIL_TEST);t.disable(t.DITHER);this.Hm?(t.enable(t.DEPTH_TEST),
t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1));this.TF=this.Hm;this.Kz=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.Kz);t.bufferData(t.ARRAY_BUFFER,this.KQ.byteLength,t.DYNAMIC_DRAW);this.qA=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.qA);t.bufferData(t.ARRAY_BUFFER,this.Wu.byteLength,t.DYNAMIC_DRAW);this.fA=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.fA);t.bufferData(t.ARRAY_BUFFER,this.Sq.byteLength,t.DYNAMIC_DRAW);this.RP=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,
this.RP);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.SP,t.STATIC_DRAW);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,null);this.Cz=t.getParameter(t.MAX_TEXTURE_SIZE);this.wG=t.getParameter(t.ALIASED_POINT_SIZE_RANGE)[1];2048<this.wG&&(this.wG=2048);if(A=t.getExtension("WEBGL_debug_renderer_info"))t.getParameter(A.UNMASKED_VENDOR_WEBGL),this.$q=t.getParameter(A.UNMASKED_RENDERER_WEBGL);this.KG=t.getExtension("KHR_parallel_shader_compile");d.nr&&(r=t.getExtension("WEBGL_lose_context"));if(this.A9)if(1===
this.bd){if("Chromium"!==d.Hb.Dv||81<=d.Hb.bB||"undefined"!==typeof document)this.qd=t.getExtension("EXT_disjoint_timer_query")}else this.qd=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query");this.vG=(this.lt=t.getExtension("EXT_texture_filter_anisotropic"))?t.getParameter(this.lt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;t=d.U.Qs;A=t.AB(!1);t=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
A,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",A,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",A,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
A,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",A,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
A,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",A,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
t.AB(!0),"<tilemap>"]].map(z=>this.hJ({src:z[0]},z[1],z[2])));this.Zz=t[0];this.xm=t[1];this.Yz=t[2];this.eH=t[3];this.Kh()}async hJ(t,A,z){t=await d.U.Qs.Pa(this,t,A,z);this.a2(t);return t}x_(){this.ro=null}Kc(t,A,z){if(this.S!==t||this.P!==A||z){this.ph();z=this.V;var E=this.Zb;this.S=t;this.P=A;t=this.YJ();A=this.UB();this.FO(t,A);this.cB(this.OE,t/A);this.ix(this.OE);this.xm&&(z.useProgram(this.xm.eb),this.xm.SO(this.Bz),this.ro=this.xm,this.Zb.fh=this.xm);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.nm=this.Lk=null;this.Hm&&this.RF&&this.kE(this.S,this.P);this.md&&this.md.kO(this.S,this.P);z.bindFramebuffer(z.FRAMEBUFFER,null);this.md=null;E.Km=null}}kE(t,A){const z=this.V;if(this.Tn){if(this.gP===t&&this.fP===A)return;z.deleteRenderbuffer(this.Tn)}this.Tn=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Tn);z.renderbufferStorage(z.RENDERBUFFER,2<=this.bd?z.DEPTH_COMPONENT24:z.DEPTH_COMPONENT16,t,A);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.gP=t;this.fP=A}f0(t,A){this.Hm&&(this.RF=!1,this.kE(t,A))}Q_(){this.Hm&&(this.RF=!0,this.kE(this.S,this.P))}YJ(){return this.no?this.Yu:this.ca()}UB(){return this.no?this.Xu:this.ba()}FO(t,A){const z=this.rd;if(0!==z[0]||0!==z[1]||z[2]!==t||z[3]!==A)this.Wc().IX(t,A),b.set(z,0,0,t,A),this.tc=0}ix(t){f.Ii(this.Bz,t)||(this.Wc().FX(t),f.Aa(this.Bz,t),this.tc=0)}NL(){let t,A;var z=this.md;null===z||z.Tt&&this.no?(t=this.OE,A=this.YJ(),z=this.UB()):(t=z.tu,A=z.ca(),z=z.ba());this.ix(t);this.FO(A,
z)}Fp(t){f.Ii(this.tG,t)||(this.Wc().CX(t),f.Aa(this.tG,t),this.tc=0)}Wc(){const t=this.qt;this.am===t.length&&t.push(new d.U.C1(this.Zb));return t[this.am++]}ph(){0===this.am||this.mn()||(this.M8(),this.H3(),this.tc=this.Lz=this.Cf=this.dh=this.am=0)}M8(){const t=this.V;0<this.Lz&&(t.bindBuffer(t.ARRAY_BUFFER,this.Kz),t.bufferSubData(t.ARRAY_BUFFER,0,this.KQ.subarray(0,this.Lz)));0<this.dh&&(t.bindBuffer(t.ARRAY_BUFFER,this.qA),t.bufferSubData(t.ARRAY_BUFFER,0,this.Wu.subarray(0,this.dh)),t.bindBuffer(t.ARRAY_BUFFER,
this.fA),t.bufferSubData(t.ARRAY_BUFFER,0,this.Sq.subarray(0,this.Cf)))}H3(){const t=this.qt;for(let A=0,z=this.am;A<z;++A)t[A].ma()}Je(){return this.gu.Sa}Me(t,A,z,E){const G=this.gu;G.gv(t,A,z,E)||(G.Rm(t,A,z,E),this.Wc().fC(G),this.tc=0,this.ci=null)}nk(t){const A=this.gu;A.Sa!==t&&(A.vv(t),this.Wc().fC(A),this.tc=0,this.ci=null)}Nl(t){const A=this.gu;A.Rc(t)||(A.set(t),this.Wc().fC(A),this.tc=0,this.ci=null)}yp(){this.Me(1,1,1,1)}sf(t){t!==this.Lk&&(this.Wc().HX(t),this.Lk=t,this.tc=0)}dE(){this.Lk=
null}qf(t){t=this.Z3(t);this.jE(t[0],t[1])}jE(t,A){if(t!==this.hG||A!==this.fG)this.Wc().AX(t,A),this.hG=t,this.fG=A,this.tc=0,this.ci=null}RC(){this.jE(this.V.ONE,this.V.ONE_MINUS_SRC_ALPHA)}LL(){this.jE(this.V.ONE,this.V.ZERO)}Rect(t){this.pL(t.N,t.M,t.Z,t.T)}pL(t,A,z,E){this.b_(t,A,z,A,z,E,t,E)}yx(){let t=this.dh;t>=this.mQ&&(this.ph(),t=0);1===this.tc?this.qt[this.am-1].eo+=6:(this.Wc().zX(t),this.tc=1)}VO(t){t.mba(this.Wu,this.dh,this.pt+this.Ct);this.dh+=12}Ed(t){this.yx();this.VO(t);k.jh(this.Sq,
this.Cf);this.Cf+=8}b_(t,A,z,E,G,I,N,O){this.yx();const P=this.Wu;let S=this.dh;const T=this.pt+this.Ct;P[S++]=t;P[S++]=A;P[S++]=T;P[S++]=z;P[S++]=E;P[S++]=T;P[S++]=G;P[S++]=I;P[S++]=T;P[S++]=N;P[S++]=O;P[S++]=T;this.dh=S;k.jh(this.Sq,this.Cf);this.Cf+=8}Jl(t,A){this.yx();this.VO(t);A.lba(this.Sq,this.Cf);this.Cf+=8}Vw(t,A,z,E,G,I,N,O,P,S,T,Y,ba){this.yx();const ea=this.Wu;let W=this.dh;const na=this.pt+this.Ct;ea[W++]=t;ea[W++]=A;ea[W++]=na+z;ea[W++]=E;ea[W++]=G;ea[W++]=na+I;ea[W++]=N;ea[W++]=O;
ea[W++]=na+P;ea[W++]=S;ea[W++]=T;ea[W++]=na+Y;this.dh=W;ba.jh(this.Sq,this.Cf);this.Cf+=8}mV(t,A){f.Aa(h,this.Bz);f.Aa(m,this.tG);this.NL();if(this.no){t=this.Lr(0,0,100*self.devicePixelRatio,0,0);this.Fp(t);t=this.Yu/2;var z=this.Xu/2;p.set(-t,z,-t+this.Yu,z-this.Xu);n.nl(p);p.set(0,0,this.Yu/this.S,this.Xu/this.P);this.Jl(n,p)}else{const [I,N]=this.XJ(this.md);z=this.Lr(0,0,100*self.devicePixelRatio,0,0,N);this.Fp(z);if("crop"===t&&this.md&&A){t=this.S/2;z=this.P/2;const O=A.ca();A=A.ba();var E=
this.md.ca(),G=this.md.ba();E=Math.min(E,O);const P=Math.min(G,A),S=Math.max(A-G,0);G=Math.max(G-A,0);p.set(-t,z-G,-t+E,z-P-G);n.nl(p);p.set(0,S,E,P+S);p.fl(O,A);this.Jl(n,p)}else t=I/2,z=N/2,this.pL(-t,z,t,-z)}this.ix(h);this.Fp(m)}Sl(t){this.ro!==t&&(this.Wc().DX(t),this.ro=t,this.tc=0,this.ci=null)}Y_(){this.Sl(this.xm)}Ip(t,A,z,E,G,I,N,O,P,S,T){const Y=this.ro;var ba=Y.GP;const ea=!!T.length;if(ba&&!Y.NS(A,z,E,G,I,N,O,P,S)||ea&&!Y.MS(T)){var W=this.Wc();W.EX();ba&&(Y.r0(A,z,E,G,I,N,O,P,S),ba=
W.Wd,ba[0]=I,ba[1]=N,A.jh(ba,2),ba[6]=O,ba[7]=P,z.jh(ba,12),A=W.Qn,G.jh(A,0),G=A[1],A[1]=A[3],A[3]=G,E.jh(W.eR,0),W.jg=S,W.xe=Y.Zq.X?t?t.Md():null:null);ea&&(Y.W_(T),d.cd(W.Tz,T));this.tc=0}}Kv(){this.Wc().tX();this.tc=0}Ic(t){this.Wc().sX(t);this.tc=0}gB(t){this.mT(t.N,t.M,t.width(),t.height())}mT(t,A,z,E){0>z||0>E||(this.Wc().rX(t,A,z,E),this.tc=0)}Os(){}Sr(){super.Sr();this.V.flush()}iT(){this.Hm&&this.md&&this.md.di&&(this.Wc().qX(),this.tc=0)}bx(t){t=!!t;this.TF!==t&&this.Hm&&(this.TF=t,this.Wc().BX(t),
this.tc=0)}gT(){for(const t of this.Zx)t.hT(this.Og)}mn(){return!this.V||this.V.isContextLost()||this.WF}ik(){super.cZ();d.U.rx.ik();d.U.tD.ik();d.U.IC.ik();for(const t of this.Zx)t.Ic();this.lt=this.KG=this.qd=null;this.vG=0;this.$q="(unavailable)";this.Tn=this.xm=this.ro=null;for(const t of this.Hu.values())t.ik()}async BC(){this.WF=!0;await this.Gw();this.WF=!1;for(const t of this.Hu.values())t.BC(this);this.Kc(this.S,this.P,!0)}Ov(t,A){if(this.mn())throw Error("context lost");this.ph();const z=
d.A(d.U.rx,this);z.J2(t,A);return z}Pv(t,A){if(this.mn())return Promise.reject("context lost");A=Object.assign({},A);const z=A.SA&&"clamp-to-edge"!==A.SA||A.TA&&"clamp-to-edge"!==A.TA;if(!d.Qb.ImageBitmapOptions||!this.Cn()&&z)return d.Qb.ImageBitmap?createImageBitmap(t).then(E=>d.Nj(()=>this.Ov(E,A))):t instanceof Blob?d.XS(t).then(E=>this.Pv(E,A)):"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement&&"function"===typeof t.decode?t.decode().then(()=>d.Nj(()=>this.Ov(t,A))):d.Nj(()=>
this.Ov(t,A));A.premultiplyAlpha=!1;return createImageBitmap(t,{premultiplyAlpha:"premultiply"}).then(E=>d.Nj(()=>this.Ov(E,A)))}gJ(t,A,z){this.ph();const E=d.A(d.U.rx,this);E.w2(t,A,z);return E}u1(t,A){this.ph();A.NO(t,void 0)}Li(t){t&&(t.c1(),0<t.qc||(this.ph(),t===this.Lk&&(this.V.bindTexture(this.V.TEXTURE_2D,null),this.Lk=null),t===this.nm&&(this.V.activeTexture(this.V.TEXTURE1),this.V.bindTexture(this.V.TEXTURE_2D,null),this.V.activeTexture(this.V.TEXTURE0),this.nm=null),t.HD()))}HT(t){let A=
this.S,z=this.P,E=!0;t&&("number"===typeof t.width&&(A=t.width,E=!1),"number"===typeof t.height&&(z=t.height,E=!1));if(0>=A||0>=z)throw Error("invalid size");this.ph();const G=d.A(d.U.tD,this);G.v2(A,z,Object.assign({NR:E},t));this.md=null;this.Zb.Km=null;return G}me(t){t!==this.md&&(t&&t.Tt&&t.kO(this.S,this.P),this.Wc().GX(t),this.md=t,this.tc=0,this.NL())}hs(){return this.md}XJ(t){return t?[t.ca(),t.ba()]:[this.S,this.P]}iB(t){2>this.bd||this.md&&0<this.md.Pk?(this.LL(),this.yp(),this.Nr(t,"stretch")):
(this.Wc().nX(t,this.md),this.tc=0)}Nr(t,A="stretch"){t=t.Md();if(!t)throw Error("not a texture-backed render target");this.sf(t);this.mV(A,t)}kn(t){2>this.bd||(this.Wc().vX(t.ii),this.tc=0)}WT(t){this.me(null);this.ph();const A=t.Md();A===this.Lk&&(this.V.bindTexture(this.V.TEXTURE_2D,null),this.Lk=null);A===this.nm&&(this.V.activeTexture(this.V.TEXTURE1),this.V.bindTexture(this.V.TEXTURE_2D,null),this.V.activeTexture(this.V.TEXTURE0),this.nm=null);t.HD()}async f_(t){this.ph();const A=this.md;if(t){var z=
t.ca();var E=t.ba();t=t.ii}else z=this.ca(),E=this.ba(),t=null;const G=this.V;G.bindFramebuffer(G.FRAMEBUFFER,t);t=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(t.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.md=null;this.Zb.Km=null;this.me(A)})();return t}kM(t){this.Nh()&&(this.Wc().KX(t),this.tc=0)}qJ(t){this.Nh()&&(this.Wc().uX(t),this.tc=0)}I8(t){const A=new Promise(z=>v.add({resolve:z,y$:t}));-1===x&&(x=self.requestAnimationFrame(w));return A}XX(){return!!this.ZO.desynchronized}EV(){let t=
0;for(const A of d.U.rx.p$())t+=A.CB();return t}Cn(){return 2<=this.bd}Nh(){return!!this.qd}Z1(t){this.Zx.add(t)}L6(t){this.Zx.delete(t)}y4(t){this.x4([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",
t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.cX=class{constructor(f){d=f;Object.defineProperties(this,{X$:{value:{},writable:!1},storage:{value:new self.eX(d),writable:!1},Xla:{value:d.Vd,writable:!1}});d.Kd.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Kd.addEventListener("keyup",c=>a.delete(c.key));d.Eb().addEventListener("window-blur",()=>a.clear());d.Vd&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}A4(f){Object.defineProperties(this.X$,f)}addEventListener(f,c){d.Kd.addEventListener(f,c)}removeEventListener(f,c){d.Kd.removeEventListener(f,c)}get HR(){return d.ds()}random(){return d.wp()}get Gf(){return d.Fb().Lt}get keyboard(){const f=d.yt.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get SR(){const f=d.yt.SR;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get FI(){const f=d.yt.FI;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.un("runtime","alert",{message:f+(d.Vd?" [via Web Worker]":"")})}}}"use strict";self.XW=class{constructor(){}};{"use strict";const d=self.lh;self.eX=class{constructor(a){this.Iu=a.l4()}getItem(a){d.le(a);return this.Iu.getItem(a)}setItem(a,b){d.le(a);return this.Iu.setItem(a,b)}removeItem(a){d.le(a);return this.Iu.removeItem(a)}clear(){return this.Iu.clear()}keys(){return this.Iu.keys()}}}
{"use strict";const d=self.lh,a=new WeakMap;self.eC=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Y,writable:!1}});b.G().LN(this,b)}addEventListener(b,f){d.le(b);d.cj(f);a.get(this).Kd.addEventListener(b,f)}removeEventListener(b,f){d.le(b);d.cj(f);a.get(this).Kd.removeEventListener(b,f)}*MR(){for(const b of a.get(this).ia())yield b.vg()}QH(b){d.pf(void 0);d.pf(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var f=
a.get(this),c=f.G();b=c.Fb().ea(b);if(!b)throw Error("invalid layer");f=c.kB(f,b,void 0,void 0,void 0);c=c.ga();c.de(!0);f.Tx();c.de(!1);return f.vg()}}}
{"use strict";const d=self.lh,a=new WeakMap;self.bX=class{constructor(b){a.set(this,b);const f=[],c=b.Na,e=c.Jf().length;for(let k=0;k<e;++k)f.push(new self.dC(c,k));Object.defineProperties(this,{name:{value:b.Y,writable:!1},index:{value:b.Da(),writable:!1}})}addEventListener(b,f){d.le(b);d.cj(f);a.get(this).Kd.addEventListener(b,f)}removeEventListener(b,f){d.le(b);d.cj(f);a.get(this).Kd.removeEventListener(b,f)}get width(){return a.get(this).ca()}set width(b){a.get(this).Lh(b)}get height(){return a.get(this).ba()}set height(b){a.get(this).Fh(b)}set scale(b){d.kk(b);
a.get(this).$C(b)}get scale(){return a.get(this).Ec}set angle(b){d.kk(b);a.get(this).vd(b)}get angle(){return a.get(this).Ha()}set scrollX(b){d.pf(b);a.get(this).Hh(b)}get scrollX(){return a.get(this).jf()}set scrollY(b){d.pf(b);a.get(this).Ih(b)}get scrollY(){return a.get(this).kf()}scrollTo(b,f){d.pf(b);d.pf(f);const c=a.get(this);c.Hh(b);c.Ih(f)}}}
{"use strict";const d=self.B,a=self.lh,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.A(d.Xa);self.aX=class{constructor(c){b.set(this,c);const e=[],k=c.Na,h=k.Jf().length;for(let m=0;m<h;++m)e.push(new self.dC(k,m));Object.defineProperties(this,{name:{value:c.Y,writable:!1},index:{value:c.Da(),writable:!1},
Gf:{value:c.Uc().Lt,writable:!1}})}get isVisible(){return b.get(this).gd()}set isVisible(c){b.get(this).Tf(c)}get opacity(){return b.get(this).Je()}set opacity(c){c=d.fa(+c,0,1);isNaN(c)||b.get(this).nk(c)}set scale(c){a.kk(c);b.get(this).aM(c)}get scale(){return b.get(this).Ec}set angle(c){a.kk(c);b.get(this).vd(c)}get angle(){return b.get(this).Rd}set zv(c){a.kk(c);b.get(this).Ne(c)}get zv(){return b.get(this).bb()}set backgroundColor(c){a.KC(c);if(3>c.length)throw Error("expected 3 elements");
f.Br(c[0],c[1],c[2]);c=b.get(this);const e=c.wk;e.hl(f)||(e.Jj(f),c.G().aa())}get backgroundColor(){const c=b.get(this).wk;return[c.Ra,c.Ua,c.Ta]}set scrollX(c){a.pf(c);const e=b.get(this);e.Fs(!0);e.Hh(c)}get scrollX(){return b.get(this).jf()}set scrollY(c){a.pf(c);const e=b.get(this);e.Fs(!0);e.Ih(c)}get scrollY(){return b.get(this).kf()}scrollTo(c,e){a.pf(c);a.pf(e);const k=b.get(this);k.Fs(!0);k.Hh(c);k.Ih(e)}}}
{"use strict";const d=self.B,a=self.lh,b=new WeakMap,f=new WeakMap;function c(k){let h=f.get(k);if(h)return h;h=d.A(d.Event.Eb);f.set(k,h);return h}let e=null;self.qs=class{constructor(){b.set(this,e);const k={jc:{value:e.G().mi,writable:!1},lI:{value:e.H().Mt,writable:!1},uid:{value:e.Fc,writable:!1}};e.d4(k);e.Y3(k);Object.defineProperties(this,k);e.G().LN(this,e)}static Rh(k){e=k}static Vs(){return e}et(){const k=f.get(this);k&&(k.j(),f.delete(this));b.delete(this)}addEventListener(k,h,m){a.le(k);
a.cj(h);c(this).addEventListener(k,h,m)}removeEventListener(k,h,m){a.le(k);a.cj(h);c(this).removeEventListener(k,h,m)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.B,a=self.lh,b=self.qs,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.Xa);self.Ew=class c extends b{constructor(){super();var e=b.Vs();f.set(this,e);const k=[];var h=e.m();if(e=h.Td){h=h.H().Na.Jf().length;for(let m=0;m<h;++m)k.push(new self.dC(e,m))}}get Gf(){return f.get(this).m().Uc().Lt}get Cd(){return f.get(this).m().ea().q9}get x(){return f.get(this).m().na()}set x(e){e=
+e;const k=f.get(this).m();isNaN(e)||k.na()===e||(k.Dg(e),k.Za())}get y(){return f.get(this).m().oa()}set y(e){e=+e;const k=f.get(this).m();isNaN(e)||k.oa()===e||(k.Mh(e),k.Za())}get zv(){return f.get(this).m().bb()}set zv(e){e=+e;const k=f.get(this),h=k.m();isNaN(e)||h.bb()===e||(h.Ne(e),k.G().aa())}get width(){return f.get(this).m().ca()}set width(e){e=+e;const k=f.get(this).m();isNaN(e)||k.ca()===e||(k.Lh(e),k.Za())}get height(){return f.get(this).m().ba()}set height(e){e=+e;const k=f.get(this).m();
isNaN(e)||k.ba()===e||(k.Fh(e),k.Za())}get angle(){return f.get(this).m().Ha()}set angle(e){e=d.ae(+e);const k=f.get(this).m();isNaN(e)||k.Ha()===e||(k.vd(e),k.Za())}YH(){f.get(this).m().xc().Zaa()}get isVisible(){return f.get(this).m().gd()}set isVisible(e){e=!!e;const k=f.get(this),h=k.m();h.gd()!==e&&(h.Tf(e),k.G().aa())}get opacity(){return f.get(this).m().Je()}set opacity(e){e=d.fa(+e,0,1);const k=f.get(this),h=k.m();isNaN(e)||h.Je()===e||(h.nk(e),k.G().aa())}get zIndex(){return f.get(this).m().Yi()}$e(e,
k){a.pf(e);a.pf(k);return f.get(this).m().Mr(+e,+k)}getParent(){const e=f.get(this).za();return e?e.vg():null}*pv(){for(const e of f.get(this).pv())yield e.vg()}*children(){for(const e of f.get(this).children())yield e.vg()}*Jm(){for(const e of f.get(this).Jm())yield e.vg()}removeChild(e){a.LC(e,c);const k=f.get(this);e=f.get(e);k.bj(e)}}}{"use strict";const d=new WeakMap;self.Sda=class extends self.Ew{constructor(){super();d.set(this,self.qs.Vs())}focus(){d.get(this).qa.xJ()}blur(){d.get(this).qa.TI()}}}
{"use strict";const d=self.B,a=self.lh,b=new WeakMap,f=new WeakMap;function c(k){let h=f.get(k);if(h)return h;h=d.A(d.Event.Eb);f.set(k,h);return h}let e=null;self.ZW=class{constructor(){b.set(this,e);const k={jc:{value:e.G().mi,writable:!1},behavior:{value:e.tl().WV(),writable:!1}};Object.defineProperties(this,k)}static Rh(k){e=k}static Vs(){return e}get instance(){return b.get(this).ka.vg()}et(){const k=f.get(this);k&&(k.j(),f.delete(this));b.delete(this)}addEventListener(k,h,m){a.le(k);a.cj(h);
c(this).addEventListener(k,h,m)}removeEventListener(k,h,m){a.le(k);a.cj(h);c(this).removeEventListener(k,h,m)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.YW=class{constructor(a){d.set(this,a);Object.defineProperties(this,{jc:{value:a.G().mi,writable:!1}})}}}
{"use strict";const d=self.B,a=self.lh,b=new WeakMap;self.dC=class{constructor(f,c){b.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Jf()[this.index].Y}getParameter(f){a.kk(f);f=Math.floor(+f);const c=b.get(this).Kf(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.Xa?[f.Ra,f.Ua,f.Ta]:f}}}
{"use strict";const d=self.B,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.RS=class extends d.da{constructor(f,c){super();var e=c.exportType;this.g=f;this.yz=new Map;this.yq=new Map;this.I9=new Map;this.Xy="cordova"===e;this.dQ=!!c.isiOSCordova;this.Ut=!!c.isFileProtocol;this.e$=c.supportedAudioFormats||{};this.T8=
new Map;this.MP=this.vP="";this.ty="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.EE=[];this.NE=new Map;this.FH=[];this.wz=[];this.HP=!1;this.pz=this.ME=this.Qu=0;this.DF=!1;this.H9=d.A(d.e_,()=>this.gN(),50);this.QG=new d.kL(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(e=c.previewProjectFileBlobs)&&Object.assign(f,e);(e=c.projectData)&&(f["data.json"]=e);for(const [k,h]of Object.entries(f))this.yz.set(k.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [k,
h]of Object.entries(c))this.I9.set(k,h);new self.XW(this)}j(){this.yz.clear();for(const f of this.yq.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.yq.clear();for(const f of this.EE)f.j();d.D(this.EE);this.NE.clear();d.D(this.wz);this.g=null}G(){return this.g}M7(f){this.vP=f}R7(f){this.MP=f}RD(f){return this.yz.has(f.toLowerCase())}Cx(f){return this.yz.get(f.toLowerCase())||null}RJ(f){if(!this.RD(f))return f;f=f.toLowerCase();var c=this.yq.get(f);c||(c=this.Cx(f),c=URL.createObjectURL(c),
this.yq.set(f,c));return c}Qj(f,c){c=c||this.ty;const e=this.Cx(f);if(e)return Promise.resolve(e);if(d.tC(f)){const k=f.toLowerCase();return this.Xy&&this.Ut?this.fJ(k):"local"===c?this.QG.vc(()=>d.Qj(k)):d.Qj(k)}return d.Qj(f)}Qr(f){const c=this.Cx(f);if(c)return d.WS(c);if(d.tC(f)){const e=f.toLowerCase();return this.Xy&&this.Ut?this.eJ(e):"local"===this.ty?this.QG.vc(()=>d.Qr(e)):d.Qr(e)}return d.Qr(f)}Rr(f){const c=this.Cx(f);if(c)return d.SI(c);if(d.tC(f)){const e=f.toLowerCase();return this.Xy&&
this.Ut?this.AT(e):"local"===this.ty?this.QG.vc(()=>d.Rr(e)):d.Rr(e)}return d.Rr(f)}async vJ(f){f=await this.Rr(f);return JSON.parse(f)}yD(f,c){return this.g.un("runtime","cordova-fetch-local-file",{filename:f,as:c})}AT(f){return this.yD(f,"text")}async fJ(f){const c=await this.yD(f,"buffer");f?(f=f.split("."),f=2>f.length?"":b.get(f[f.length-1].toLowerCase())||""):f="";return new Blob([c],{type:f})}async zT(f){f=f.toLowerCase();var c=this.yq.get(f);if(c)return c;c=await this.fJ(f);c=URL.createObjectURL(c);
this.yq.set(f,c);return c}eJ(f){return this.yD(f,"buffer")}QB(f,c=""){if(d.iC(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.RD(f)?Promise.resolve(this.RJ(f)):this.Xy&&this.Ut?this.zT(c+f):Promise.resolve(c+f.toLowerCase())}Rw(f){if(f.mv&&!a.has(f.mv))throw Error("invalid load policy");let c=this.NE.get(f.url);if(c)return c;c=d.A(d.mK,this,{url:f.url,size:f.size||0,mv:f.mv||this.ty});this.EE.push(c);this.NE.set(c.Ei,c);this.HP||(this.Qu+=c.zl(),
this.wz.push(c.IK().then(()=>this.FM(c.zl()))));return c}async xM(){try{await Promise.all(this.wz),this.pz=1}catch(f){console.error("Error loading: ",f),this.DF=!0,this.gN()}}k0(){this.HP=!0}FM(f){this.ME+=f;this.H9.bT()}gN(){const f=d.A(d.Event,"loadingprogress");this.pz=d.fa(this.ME/this.Qu,0,1);f.progress=this.pz;this.g.Eb().dispatchEvent(f)}f8(f){d.cd(this.FH,f);this.FH.length&&this.wz.push(this.o5())}o5(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [c,e,k]of this.FH)this.Qu+=
k,f.push(this.n5(c,e).then(()=>this.FM(k)));return Promise.all(f)}async n5(f,c){try{const e=await this.QB(c,this.vP),k=new FontFace(f,`url('${e}')`);this.g.Vd?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}RX(){return!!this.e$["audio/webm; codecs=opus"]}A7(f){for(const [c,e,k]of f)this.T8.set(c,{fileName:c,sla:e.map(h=>({type:h[0],ola:h[1],Fla:c+h[1],fileSize:h[2]})),Yla:k})}async LK(f){f=await this.QB(f);return await this.g.un("runtime",
"add-stylesheet",{url:f})}}}
{"use strict";const d=self.B;d.QS=class extends d.da{constructor(a,b){super();this.Mc=a;this.g=a.G();this.Ei=b.url;this.Bo=b.size;this.qG=b.mv;this.ut=null;this.ZF=!1;this.pm=null}j(){this.ut=this.g=this.Mc=this.pm=null}zl(){return this.Bo}IK(){return"local"===this.qG||this.ut?(this.ZF=!0,Promise.resolve()):this.pm?this.pm:this.pm=this.Mc.Qj(this.Ei,this.qG).then(a=>{this.ZF=!0;this.pm=null;return this.ut=a}).catch(a=>console.error("Error loading resource: ",a))}rC(){return this.ZF}uV(){return this.ut?Promise.resolve(this.ut):
this.pm?this.pm:this.Mc.Qj(this.Ei,this.qG)}}}
{"use strict";const d=self.B,a=new d.kL,b=new Set;d.mK=class extends d.QS{constructor(f,c){super(f,c);this.Fj=this.Fo=null;this.qc=0;this.OP=this.QP=-1;b.add(this)}j(){this.Dh();if(0!==this.qc)throw Error("released image asset which still has texture references");this.Fo=null;b.delete(this);super.j()}static up(){for(const f of b)f.Fo=null,f.Fj=null,f.qc=0}ts(f,c){c=c||{};this.qc++;if(this.Fj)return Promise.resolve(this.Fj);if(this.Fo)return this.Fo;c.xR=this.g.L.kR;return this.Fo=this.uV().then(e=>
a.vc(()=>f.Pv(e,c).then(k=>{this.Fo=null;if(0===this.qc)return f.Li(k),null;this.Fj=k;this.QP=k.ca();this.OP=k.ba();return this.Fj}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}Dh(){if(0>=this.qc)throw Error("texture released too many times");this.qc--;0===this.qc&&this.Fj&&(this.Fj.Gb().Li(this.Fj),this.Fj=null)}Md(){return this.Fj}ca(){return this.QP}ba(){return this.OP}}}
{"use strict";const d=self.B;function a(b,f){return b.m().Ij-f.m().Ij}d.p_=class extends d.da{constructor(b,f,c){super();this.O=f;this.K=c;this.F=[];this.Yt=!0;this.ti=new Set;this.Qt=!1}j(){d.D(this.F);this.ti.clear()}kd(){d.D(this.F);this.Yt=!0;this.ti.clear();this.Qt=!1}U_(){this.Yt=!1}pn(){if(!this.F.length)return!0;if(this.F.length>this.ti.size)return!1;this.OD();return!0}gC(b){this.ti.has(b)?(this.ti.delete(b),0===this.ti.size&&(this.Qt=!1)):(this.F.push(b),this.Yt=1===this.F.length)}Bg(b){this.ti.add(b);
this.Qt=!0;50<=this.ti.size&&this.OD()}OD(){this.Qt&&(this.F.length===this.ti.size?this.kd():(d.pg(this.F,this.ti),this.ti.clear(),this.Qt=!1))}G3(){this.Yt||(this.F.sort(a),this.Yt=!0)}oB(b){this.OD();this.G3();this.F.length&&b.push(this.F)}}}
{"use strict";const d=self.B;d.q_=class extends d.da{constructor(a,b){super();this.ZE=a;this.YE=b;this.Yh=d.A(d.vs)}j(){this.Yh.j();this.Yh=null}ul(a,b,f){let c=this.Yh.$(a,b);return c?c:f?(c=d.A(d.p_,this,a,b),this.Yh.Set(a,b,c),c):null}Oh(a){return Math.floor(a/this.ZE)}Ph(a){return Math.floor(a/this.YE)}pk(a,b,f){if(b)for(let c=b.N,e=b.Z;c<=e;++c)for(let k=b.M,h=b.T;k<=h;++k){if(f&&f.$e(c,k))continue;const m=this.ul(c,k,!1);m&&(m.Bg(a),m.pn()&&this.Yh.Vm(c,k))}if(f)for(let c=f.N,e=f.Z;c<=e;++c)for(let k=
f.M,h=f.T;k<=h;++k)b&&b.$e(c,k)||this.ul(c,k,!0).gC(a)}Ww(a,b){let f=this.Oh(a.N);const c=this.Ph(a.M),e=this.Oh(a.Z);for(a=this.Ph(a.T);f<=e;++f)for(let k=c;k<=a;++k){const h=this.ul(f,k,!1);h&&h.oB(b)}}EY(a){let b=a.N;const f=a.M,c=a.Z;for(a=a.T;b<=c;++b)for(let e=f;e<=a;++e){const k=this.ul(b,e,!1);k&&k.U_()}}}}
{"use strict";const d=self.B,a=new d.Rect,b=new d.Ed,f=[],c=new d.Rect,e=new d.Rect,k=self.il,h=k.QA,m=k.Ir,n=k.Qo;n.create();const p=h.create(),r=m.create(),v=h.create(),x=h.create(),w=h.create(),u=d.A(d.Ps);function t(z,E){return z.m().Ij-E.m().Ij}function A(z,E){return z.m().bb()-E.m().bb()}d.wC=class extends d.da{constructor(z,E,G){super();this.Mk=z;this.g=z.G();this.Y=G[0];this.Qa=E;this.cb=G[2];this.nz=!!G[3];this.wk=d.A(d.Xa);this.wk.ml(G[4].map(I=>I/255));this.mm=!!G[5];this.ue=G[6];this.ve=
G[7];this.$a=d.A(d.Xa,1,1,1,G[8]);this.Mz=d.A(d.Xa);this.UF=G[9];this.UG=G[17];this.Lo=G[10];this.yi=G[11];this.dm=G[12];this.gm=null;this.Ec=1;this.Gc=G[16];this.Zg=this.Yg=this.Rd=0;this.Ek=!1;this.rd=d.A(d.Rect);this.tR=d.A(d.Rect);this.tu=n.create();this.cG=!0;this.AQ=n.create();this.$F=!0;this.sR=d.A(d.U.w1);this.mz=!0;this.gR=[];this.uj=[];this.qy=[];this.TP=new Map;this.F=[];this.Mn=this.HH=!1;this.Na=d.A(d.Oj,this,G[15]);this.Lq=null;this.gG=[];this.fz=!1;this.E9=d.A(d.Rect,0,0,-1,-1);this.f9=
d.A(d.Rect,0,0,-1,-1);this.q9=new self.aX(this);this.TO();this.Lo&&(this.Lq=d.A(d.q_,this.g.eg,this.g.dg));for(const I of G[14])z=this.g.Ie(I[1]),this.Mk.DM(z),z.fq||z.ML(I),this.uj.push(I),this.TP.set(I[2],I);d.cd(this.gR,this.uj)}static Pa(z,E,G){return d.A(d.wC,z,E,G)}j(){this.g=this.Mk=null}ZV(z){return this.TP.get(z)}DT(z){const E=this.Mk.lo;let G=0;const I=this.uj;for(let O=0,P=I.length;O<P;++O){var N=I[O];const S=this.g.Ie(N[1]);let T=!0;if(!S.aC()||E)N=this.g.oh(N,this,!0),z.push(N),S.Of()&&
(T=!1,this.qy.push(N.Fc));T&&(I[G]=I[O],++G)}d.Ee(I,G);this.g.Dd();this.Uf()}Fg(z,E){const G=z.m();if(G.ea()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==G.bb()&&(this.Mn=!0);E&&this.Lo&&z.m().Za();this.Uf()}s5(z){this.F.includes(z)||(this.F.push(z),0!==z.m().bb()&&(this.Mn=!0),this.Uf())}r6(z){const E=z.m();if(E.ea()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==E.bb()&&(this.Mn=!0);this.Uf()}Yl(z,E){const G=this.F.indexOf(z);0>G||(E&&this.Lo&&
z.m().hO(),this.F.splice(G,1),this.Uf(),this.QN())}wO(){this.Mn=!0}QN(){0===this.F.length&&(this.Mn=!1)}qE(z){if(z){z=new Set;for(var E of this.F){var G=E.m().Ij;0<=G&&z.add(G)}E=-1;for(const I of this.F)if(G=I.m(),!(0<=G.Ij)){for(++E;z.has(E);)++E;G.Rx(E)}}this.F.sort(t)}F3(){for(const z of this.F)z.H().Of()||this.g.Wm(z);this.g.Dd();d.D(this.F);this.Mn=!1;this.Uf()}ys(z,E,G,I,N){const O=this.g.ga(),P=this.g.zc,S=z.Va,T=[];for(const ea of this.uj){var Y=ea[0];if(E.$e(Y[0],Y[1])){Y=P[ea[1]];if(Y!==
z)if(S){if(!z.uJ(Y))continue}else continue;Y=this;var ba=this.g.Ja();this.Uc()!==ba&&((Y=ba.QJ(this.Y))||(Y=ba.lw(this.Da())));ba=this.g.oh(ea,Y,!1,void 0,void 0,!1,N);Y.jD(ba);Y=ba.m();Y.Sw(G,I);Y.Za();O.de(!0);ba.Tx();O.de(!1);T.push(ba)}}return T}Uc(){return this.Mk}Da(){return this.Qa}G(){return this.g}Rj(){return this.g.Rj()}w0(){this.fz=!1}gd(){return this.nz}Tf(z){z=!!z;this.nz!==z&&(this.nz=z,this.g.aa())}Fs(z){z=!!z;if(this.Ek!==z){if(this.Ek=z)z=this.Uc(),this.Yg=z.jf(),this.Zg=z.kf();this.jj();
this.g.aa()}}Hh(z){var E=this.Uc();const G=E.$J();E=E.aK();z>E&&(z=E);z<G&&(z=G);this.Yg!==z&&(this.Yg=z,this.Ek&&(this.jj(),this.g.aa()))}Ih(z){var E=this.Uc();const G=E.bK();E=E.ZJ();z>E&&(z=E);z<G&&(z=G);this.Zg!==z&&(this.Zg=z,this.Ek&&(this.jj(),this.g.aa()))}jf(){return this.Ek?this.Yg:this.Uc().jf()}kf(){return this.Ek?this.Zg:this.Uc().kf()}QD(){if(this.UG){const z=this.Uc();return[z.br,z.cr]}return[.5,.5]}iK(z,E){var G=this.tR;if(0===z)E.Aa(G);else{let P=G.xr(),S=G.yr();var I=this.zJ(z);
const T=G.width()/I;G=G.height()/I;const [Y,ba]=this.QD();if(.5!==Y||.5!==ba){const ea=this.bw();var N=this.g,O=100/ea;I=(Y-.5)*N.Ef/O;N=(ba-.5)*N.Df/O;O=this.Ha();0!==O&&(u.set(I,N),u.rotate(O),I=u.O,N=u.K);z=d.PA(ea,0,z);P+=d.Ld(I,0,z);S+=d.Ld(N,0,z)}E.set(P-T/2,S-G/2,P+T/2,S+G/2)}}Je(){return this.$a.Sa}nk(z){z=d.fa(z,0,1);this.$a.Sa!==z&&(this.$a.vv(z),this.TO(),this.g.aa())}TO(){this.Mz.Aa(this.$a);this.Mz.sI()}PB(){return this.Mz}Al(){return this.$a.gv(1,1,1,1)}x0(z){this.yi!==z&&(this.yi=z,
this.jj(),this.g.aa())}t0(z,E){if(this.ue!==z||this.ve!==E)if(this.ue=z,this.ve=E,this.jj(),this.g.aa(),1!==this.ue||1!==this.ve)for(const G of this.F)G.H().iE(!0)}Ne(z){this.Gc!==z&&(this.Gc=z,this.g.aa())}bb(){return this.Gc}vd(z){z=d.ae(z);this.Rd!==z&&(this.Rd=z,this.jj(),this.g.aa())}Ha(){return d.ae(this.Mk.Ha()+this.Rd)}QW(){return 0<this.F.length}I0(z){z=!!z;this.mm!==z&&(this.mm=z,this.g.aa())}h0(z){z=!!z;this.UF!==z&&(this.UF=z,this.g.aa())}s_(){return!this.G().Dj||!this.UG}qf(z){this.dm!==
z&&(this.dm=z,this.g.aa())}qh(){return this.dm}jY(z){return this===z||this.ue===z.ue&&this.ve===z.ve&&this.Ec===z.Ec&&this.yi===z.yi&&this.Rd===z.Rd&&this.jf()===z.jf()&&this.kf()===z.kf()}E6(z){0!==z.size&&0<d.pg(this.F,z)&&(this.QN(),this.Uf())}Uf(){this.fz=this.HH=!1}Vx(){if(!this.HH){this.F.sort(A);if(this.Lo)for(let z=0,E=this.F.length;z<E;++z){const G=this.F[z].m();G.Rx(z);this.Lq.EY(G.wu)}else for(let z=0,E=this.F.length;z<E;++z)this.F[z].m().Rx(z);this.HH=!0}}JY(z,E,G){var I=z.m();E=E.m();
if(I.ea()!==this||E.ea()!==this)throw Error("can't arrange Z order unless both objects on this layer");I=I.Yi();E=E.Yi();if(I===E+(G?1:-1))return!1;d.w$(this.F,I);I<E&&E--;G&&E++;E===this.F.length?this.F.push(z):this.F.splice(E,0,z);this.Uf();return!0}A5(z,E){const G=[];let I=0,N=0,O=z.length,P=E.length;for(;I<O&&N<P;){const S=z[I],T=E[N];S.m().Ij<T.m().Ij?(G.push(S),++I):(G.push(T),++N)}for(;I<O;++I)G.push(z[I]);for(;N<P;++N)G.push(E[N]);return G}z5(z){const E=[],G=z.length;for(let I=0;I<G-1;I+=
2)E.push(this.A5(z[I],z[I+1]));1===G%2&&E.push(z[G-1]);return E}y5(z){for(;1<z.length;)z=this.z5(z);return z[0]}n4(){this.Vx();d.D(f);this.Lq.Ww(this.rd,f);return f.length?1===f.length?f[0]:this.y5(f):[]}P4(){return!this.ox()&&!this.mm}hM(){return this.gd()&&0<this.Je()&&(this.QW()||!this.mm)}ox(){return this.UF||!this.Al()||0!==this.qh()||this.Na.ns()}hs(){return this.gm}n2(z){if(0===z.length)return!0;if(2<=z.length)return!1;z=z[0].eb;return!z.Hl()&&!z.Uu&&!z.dF&&this.Al()}zJ(z){const E=this.bw();
return E/(E-z)}bw(){return 100/this.Pi()}jj(){this.mz=this.$F=!0}Dx(z){this.$F&&(this.l2(z,this.AQ),this.$F=!1);return this.AQ}l2(z,E){const G=this.g,I=G.Zj();var N=G.IG,O=G.JG;N=(this.jf()-N)*this.ue+N;var P=(this.kf()-O)*this.ve+O;this.g.Ik&&(N=Math.round(N),P=Math.round(P));O=(N+0)*I;N=(P+0)*I;P=this.bw();const S=this.Ha(),[T,Y]=this.QD();if(.5!==T||.5!==Y){var ba=100/P;let ea=(T-.5)*G.Ef*I/ba;ba=(Y-.5)*G.Df*I/ba;0!==S&&(u.set(ea,ba),u.rotate(S),ea=u.O,ba=u.K);O+=ea;N+=ba}h.set(v,O,N,P);h.set(x,
O,N,P-100);0===S?h.set(w,0,1,0):h.set(w,Math.sin(S),Math.cos(S),0);z.WI(E,v,x,w,G.L.tg());1!==I&&(h.set(p,I,I,1),n.scale(E,E,p))}Y7(){this.mz=this.cG=!0}Ex(z){this.cG&&(this.m2(z),this.cG=!1);return this.tu}m2(z){var E=this.g.L;const G=E.th();E=E.tg();const [I,N]=this.QD();z.cB(this.tu,G/E,I,N)}pE(z){z.ix(this.Ex(z));let E;E=this.Dx(z);z.Fp(E)}ff(z,E,G){const I=this.g.L,N=this.ox();var O=null;let P=null;if(this.g.yK()&&z.Mw()){const S=I.iW(this);S&&(P=S.OI(),z.kM(P))}N?(O={Ji:this.g.$c},"low"===I.ki&&
(O.width=I.th(),O.height=I.tg()),O=this.g.Vr(O),z.me(O),this.mm?z.Kv():z.Ic(this.wk)):(z.me(E),this.mm||G||z.Ic(this.wk));this.gm=O||E;this.pE(z);z.$w(this.bb());z.bx(this.G().Dj&&this.UG);this.Pi()>Number.EPSILON&&(this.Vx(),this.Lo&&0===this.bb()&&!this.Mn?this.w3(z):this.$M(z,this.F));z.$w(0);z.Pl(0);N&&(z.bx(!1),this.x3(z,O,E,G));P&&z.qJ(P);this.gm=null}$M(z,E){const G=this.rd,I=this.gm,N=this.Uc().lK();let O=null;for(let P=0,S=E.length;P<S;++P){const T=E[P];if(T===O)continue;O=T;const Y=T.m();
Y.gd()&&Y.AK(G,N)&&(Y.ns()?this.u3(T,Y,z,I):this.s3(T,Y,z))}}w3(z){var E=this.Lq;const G=this.f9,I=this.E9,N=this.rd;G.set(E.Oh(N.N),E.Ph(N.M),E.Oh(N.Z),E.Ph(N.T));this.fz&&G.Rc(I)?E=this.gG:(E=this.n4(),this.fz=!0,I.Aa(G));this.$M(z,E);E!==this.gG&&d.cd(this.gG,E)}s3(z,E,G){E=E.Do;G.ci!==E&&E.LS();z.ff(G)}u3(z,E,G,I){this.t3(z,E,G,I)&&this.pE(G)}t3(z,E,G,I){const N=E.Td.Th;if(1===N.length){const O=N[0],P=O.eb;if(!P.N9&&E.Al()&&!z.Hl())return this.v3(z,E,O,P,G),!1}z=d.HC(G,this.g,z,I,N,null);G.$w(this.bb());
return z}v3(z,E,G,I,N){N.Sl(I);N.qf(E.qh());I.$x&&this.g.aa();let O=0,P=0;if(I.j$){const [S,T]=z.dw();O=1/S;P=1/T;(I=z.ew())?e.Aa(I):e.set(0,0,0,0)}G=E.Td.Kf(G.Da());N.Pl(E.bb());N.Ip(null,c,e,e,E.xc(),O,P,this.Ec,this.Ha(),this.g.ug(),G);z.ff(N)}x3(z,E,G,I){const N=this.Na.Th,O=this.g;if(this.n2(N)){z.me(G);if(1===N.length){var P=N[0];G=P.eb;z.Sl(G);e.set(0,0,1,1);P=this.Na.Kf(P.Da());z.Ip(null,c,e,e,this.rd,1/O.th(),1/O.tg(),this.Pi(),this.Ha(),O.ug(),P);G.$x&&O.aa()}else z.Kh();I&&0===this.dm&&
this.Al()&&0===N.length?z.iB(E):(z.qf(this.dm),z.Nl(this.Mz),z.Nr(E));z.kn(E);O.Kl(E)}else d.HC(z,O,this,G,N)}aM(z){this.Ec!==z&&(this.Ec=z,this.Mk.Cv(),this.jj(),this.g.aa())}Zj(){return this.Pi()*this.g.Zj()}Sj(){return this.Pi()*this.g.Sj()}Pi(){return(this.Ec*this.Mk.Ec-1)*this.yi+1}rD(){var z=this.g.IG,E=this.g.JG,G=(this.jf()-z)*this.ue+z,I=(this.kf()-E)*this.ve+E;z=this.Pi();E=this.g.Ef/z;z=this.g.Df/z;G-=E/2;let N=I-z/2;this.g.Ik&&(G=Math.round(G),N=Math.round(N));I=this.tR;I.set(G,N,G+E,
N+z);E=this.Ha();0!==E&&(a.Aa(I),a.offset(-I.xr(),-I.yr()),b.Qaa(a,E),b.YH(a),a.offset(I.xr(),I.yr()),I.Aa(a));this.iK(this.Gc,this.rd)}sl(z,E,G=0){return this.q2(z,E,G,this.Sj())}q2(z,E,G,I){const N=this.g;var O=N.Gb();const P=this.Pi();m.set(r,0,0,N.Ef/P,N.Df/P);z/=I;E=r[3]-E/I;I=this.Ex(O);O=this.Dx(O);return d.U.o1(z,E,G,O,I,r,p)?[p[0],p[1]]:[NaN,NaN]}eT(z,E){const G=this.Ec,I=this.yi,N=this.ue,O=this.ve,P=this.Rd;this.ve=this.ue=this.yi=this.Ec=1;this.Rd=0;this.jj();z=this.sl(z,E);this.Ec=G;
this.yi=I;this.ue=N;this.ve=O;this.Rd=P;this.jj();return z}tn(z,E){return this.HN(z,E,0,this.Sj())}aj(z,E,G=0){return this.HN(z,E,G,this.Zj()*this.Rj())}HN(z,E,G,I){var N=this.g,O=N.Gb();const P=this.Pi();m.set(r,0,0,N.Ef/P,N.Df/P);N=this.Ex(O);O=this.Dx(O);return d.U.XZ(z,E,G,O,N,r,p)?[p[0]*I,(r[3]-p[1])*I]:[NaN,NaN]}r4(){this.mz&&(this.H8(),this.mz=!1);return this.sR}H8(){var z=this.g.Gb();const E=this.Ex(z);z=this.Dx(z);this.sR.aT(z,E)}ja(){return{s:this.Ec,a:this.Rd,vl:this.rd.N,vt:this.rd.M,
vr:this.rd.Z,vb:this.rd.T,v:this.gd(),bc:this.wk.toJSON(),t:this.mm,sx:this.Yg,sy:this.Zg,hosp:this.Ek,px:this.ue,py:this.ve,c:this.$a.toJSON(),sr:this.yi,fx:this.Na.ud(),cg:this.qy}}ra(z){this.Ec=z.s;this.Rd=z.a;this.rd.set(z.vl,z.vt,z.vr,z.vb);this.nz=!!z.v;this.wk.ml(z.bc);this.mm=!!z.t;z.hasOwnProperty("sx")&&(this.Yg=z.sx);z.hasOwnProperty("sy")&&(this.Zg=z.sy);z.hasOwnProperty("hosp")&&(this.Ek=!!z.hosp);this.ue=z.px;this.ve=z.py;this.$a.ml(z.c);this.yi=z.sr;d.cd(this.qy,z.cg);d.cd(this.uj,
this.gR);const E=new Set(this.qy);let G=0;for(let I=0,N=this.uj.length;I<N;++I)E.has(this.uj[I][2])||(this.uj[G]=this.uj[I],++G);d.Ee(this.uj,G);this.Na.hd(z.fx);this.qE(!1);this.Uf()}jD(z){z.m();if(!this.F.includes(z))if(z.Ke()){const E=[...z.Jm()];E.push(z);E.sort((G,I)=>{G=G.m().ZG;I=I.m().ZG;return G-I});for(const G of E)this.Fg(G,!0)}else this.Fg(z,!0)}}}
{"use strict";const d=self.B,a=self.Hf,b=d.A(d.Rect),f=d.A(d.Rect),c=d.A(d.Rect),e=d.A(d.Xa);d.GK=class extends d.da{constructor(k,h,m){super();this.Wa=k;this.g=k.G();this.Y=m[0];this.V9=m[1];this.U9=m[2];this.S=m[1];this.P=m[2];this.lz=!!m[3];this.br=m[4];this.cr=m[5];this.pP=m[6];this.Cc=null;this.cb=m[7];this.Qa=h;this.Zg=this.Yg=0;this.Ec=1;this.Rd=0;this.pq=new Set;this.lg=new Set;this.Lu=new Set;this.$p=[];this.JF=[];this.Nb=[];this.pQ=new Map;this.qQ=new Map;this.Na=d.A(d.Oj,this,m[10]);this.gm=
null;this.vo={};this.lo=!0;this.Lt=new self.bX(this);this.Kd=d.A(d.Event.Eb);for(const n of m[8])k=d.wC.Pa(this,this.Nb.length,n),this.Nb.push(k),this.pQ.set(k.Y.toLowerCase(),k),this.qQ.set(k.cb,k);for(const n of m[9]){m=this.g.Ie(n[1]);if(!m)throw Error("missing nonworld object class");m.fq||m.ML(n);this.JF.push(n);this.DM(m)}}j(){for(const k of this.Nb)k.j();d.D(this.Nb);this.Lu.clear();this.g=this.Wa=this.Cc=null}G(){return this.g}Da(){return this.Qa}SJ(){let k=this.Nb[0].Pi();for(let h=1,m=this.Nb.length;h<
m;++h){const n=this.Nb[h];if(0!==n.ue||0!==n.ve)k=Math.min(k,n.Pi())}return k}uN(){return.5*this.g.Ef/this.SJ()}vN(){return.5*this.g.Df/this.SJ()}$J(){return this.lz?-Infinity:this.uN()}aK(){return this.lz?Infinity:this.ca()-this.uN()}bK(){return this.lz?-Infinity:this.vN()}ZJ(){return this.lz?Infinity:this.ba()-this.vN()}Hh(k){const h=this.$J(),m=this.aK();k>m&&(k=m);k<h&&(k=h);this.Yg!==k&&(this.Yg=k,this.Zl(),this.g.aa())}jf(){return this.Yg}Ih(k){const h=this.bK(),m=this.ZJ();k>m&&(k=m);k<h&&
(k=h);this.Zg!==k&&(this.Zg=k,this.Zl(),this.g.aa())}kf(){return this.Zg}Cv(){this.Hh(this.jf());this.Ih(this.kf());for(const k of this.Nb)k.Ek&&(k.Hh(k.jf()),k.Ih(k.kf()))}L0(k,h){if(this.br!==k||this.cr!==h)this.br=k,this.cr=h,this.Ox(),this.Zl(),this.g.aa()}lK(){const k=this.br,h=this.cr;return 0>k||1<k||0>h||1<h}$C(k){this.Ec!==k&&(this.Ec=k,this.Zl(),this.Cv(),this.g.aa())}vd(k){k=d.ae(k);this.Rd!==k&&(this.Rd=k,this.Zl(),this.g.aa())}Ha(){return this.Rd}ca(){return this.S}Lh(k){!isFinite(k)||
1>k||(this.S=k)}ba(){return this.P}Fh(k){!isFinite(k)||1>k||(this.P=k)}ea(k){return"number"===typeof k?this.lw(k):this.QJ(k.toString())}lw(k){k=d.fa(Math.floor(k),0,this.Nb.length-1);return this.Nb[k]}QJ(k){return this.pQ.get(k.toLowerCase())||null}mw(k){return this.qQ.get(k)||null}Ox(){for(const k of this.Nb)k.Y7()}Zl(){for(const k of this.Nb)k.jj()}jW(){for(const k of this.Nb)if(k.hM()&&k.P4())return e.Jj(k.wk),e.vv(1),e;e.Rm(0,0,0,0);return e}qN(){return[...this.pq]}DM(k){if(k.Xb())for(const h of k.$h.Sk)this.pq.add(h);
else this.pq.add(k)}q4(){return[...this.lg]}TD(k,h){if(k===this||!h)return Promise.resolve();k&&(d.yT(this.lg,k.lg),k.lg.clear());k=[];for(const m of this.pq)this.lg.has(m)||(k.push(m.sp(h)),this.lg.add(m));return Promise.all(k)}async NK(k){if(k.Va)throw Error("cannot load textures for family");var h=this.g.Gb();!h||h.mn()||this.lg.has(k)||(this.lg.add(k),h=k.sp(h),this.Y1(h),await h,k.Tw(),this.g.aa())}Y1(k){this.Lu.add(k);k.then(()=>this.Lu.delete(k)).catch(()=>this.Lu.delete(k))}z1(){return Promise.all([...this.Lu])}HY(k){if(k.Va||
0<k.F.length)throw Error("cannot unload textures");this.g.Gb()&&this.lg.has(k)&&(this.lg.delete(k),k.wn())}w8(k,h){if(k!==this&&h)for(const m of this.lg)m.Of()||k.pq.has(m)||(m.wn(),this.lg.delete(m))}ct(){this.lg.clear()}async JO(k){const h=this.g,m=this.Wa,n=h.ga();this.pP&&(this.Cc=n.IJ(this.pP),this.Cc.uE());m.AO(this);this.S=this.V9;this.P=this.U9;this.Yg=h.eg/2;this.Zg=h.dg/2;this.Cv();this.B5(k);this.D2();this.lo||this.F2();this.PM(this.$p);this.E2();m.lT();h.Dd();const p=this.g.N8;await Promise.all(p);
d.D(p);if(!h.wj){for(const r of this.$p)r.O0();for(const r of this.$p)r.LO()}d.D(this.$p);await Promise.all([...this.pq].map(r=>r.CC(this.g.Gb())));k&&(h.Eb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await h.Xm(new d.Event("beforeprojectstart")));await this.Xm(new d.Event("beforelayoutstart"));h.wj||await h.Lc(d.C.La.I.$K,null,null);await this.Xm(new d.Event("afterlayoutstart"));k&&(h.Eb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await h.Xm(new d.Event("afterprojectstart")));
n.b7(m);await this.z1();this.Ox();this.Zl();this.lo=!1}B5(k){for(const m of this.g.zc)if(!m.Va&&m.Te)for(const n of m.ia()){const p=n.m();var h=p.ea();h=d.fa(h.Da(),0,this.Nb.length-1);h=this.Nb[h];p.gt(h);h.s5(n)}if(!k)for(const m of this.Nb)m.qE(!1)}D2(){for(const k of this.Nb)k.DT(this.$p),k.rD()}F2(){let k=!1;for(const [m,n]of Object.entries(this.vo)){const p=this.g.ow(parseInt(m,10));if(p&&!p.Va&&p.aC()){for(const r of n){var h=null;if(p.Te&&(h=this.mw(r.w.l),!h))continue;h=this.g.oh(p,h,!1,
0,0,!0);h.hd(r);k=!0;this.$p.push(h)}d.D(n)}}for(const m of this.Nb)m.qE(!0),m.Uf();k&&(this.g.Dd(),this.g.dO())}PM(k){for(const m of k){if(!m.Xb())continue;const n=m.m(),p=m.$m();for(const r of m.H().$h.Sk)if(r!==m.H()){var h=r.ia();h.length>p?m.Mp(h[p]):(h=n?this.g.oh(r,n.ea(),!0,n.na(),n.oa(),!0):this.g.oh(r,null,!0,0,0,!0),this.g.Dd(),r.Ux(),m.Mp(h),k.push(h))}}}E2(){for(const k of this.JF)this.g.Ie(k[1]).Xb()||this.g.oh(k,null,!0)}B2(){const k=[],h=this.JF;let m=0;for(let n=0,p=h.length;n<p;++n){const r=
h[n],v=this.g.Ie(r[1]);v.Of()?v.Xb()&&v.$h.MW()||k.push(this.g.oh(r,null,!0)):(h[m]=r,++m)}d.Ee(h,m);this.g.Dd();this.PM(k)}ys(k,h,m,n,p,r){if(m)return m.ys(k,h,n,p,r);m=[];for(const v of this.Nb)m.push(v.ys(k,h,n,p,r));return m.flat()}async o8(){const k=this.Wa;this.g.wj||await this.g.Lc(d.C.La.I.lZ,null,null);k.VL(!0);this.g.ga().Hv();this.lo||this.l7();for(const h of this.Nb)h.F3();for(const h of this.g.zc)if(!(h.Of()||h.Te||h.wb().lm||h.Va)){for(const m of h.ia())this.g.Wm(m);this.g.Dd()}k.VL(!1);
k.Fb()===this&&k.AO(null)}j7(k){const h=k.H().cb.toString();this.vo.hasOwnProperty(h)||(this.vo[h]=[]);this.vo[h].push(k.ud())}l7(){for(const k of this.Nb){k.Vx();for(const h of k.F){const m=h.H();!m.Of()&&m.aC()&&this.j7(h)}}}y_(){this.vo={};this.lo=!0}hs(){return this.gm}ox(){return"low"===this.g.L.ki||this.g.BH||"low-latency"===this.g.Zp||this.Na.ns()||this.g.Gb().Mw()&&this.g.Dj}o2(k){return 0===k.length?!0:2<=k.length?!1:!k[0].eb.Hl()}ff(k){var h=this.g.L;const m=this.ox();var n=null;m?("low-latency"!==
this.g.Zp&&(k.me(null),k.Kv()),n={Ji:this.g.$c,dI:this.g.BH||this.Na.ns()},"low"===h.ki&&(n.width=h.th(),n.height=h.tg()),n=this.g.Vr(n),k.me(n)):k.me(null);k.Ic(this.jW());this.g.Dj&&k.iT();this.gm=n;h=!0;for(const p of this.Nb)p.rD(),p.hM()&&(p.ff(k,n,h),h=!1);m&&(k.bx(!1),this.y3(k,n));this.gm=null}y3(k,h){const m=this.Na.Th,n=this.g;if(this.o2(m)){k.me(null);if(1===m.length){var p=m[0];const r=p.eb;k.Sl(r);f.set(0,0,1,1);c.set(0,0,n.Ef,n.Df);p=this.Na.Kf(p.Da());k.Ip(null,b,f,f,c,1/n.th(),1/n.tg(),
this.Ec,this.Ha(),n.ug(),p);r.$x&&n.aa()}else k.Kh();0===m.length?k.iB(h):(k.RC(),k.yp(),k.Nr(h));k.kn(h);n.Kl(h)}else d.HC(k,n,this,null,m)}ja(){const k={sx:this.jf(),sy:this.kf(),s:this.Ec,a:this.Ha(),w:this.ca(),h:this.ba(),vpX:this.br,vpY:this.cr,fv:this.lo,persist:this.vo,fx:this.Na.ud(),layers:{}};for(const h of this.Nb)k.layers[h.cb.toString()]=h.ja();return k}ra(k){this.Yg=k.sx;this.Zg=k.sy;this.Ec=k.s;this.Rd=k.a;this.S=k.w;this.P=k.h;k.hasOwnProperty("vpX")&&(this.br=k.vpX);k.hasOwnProperty("vpY")&&
(this.cr=k.vpY);this.lo=!!k.fv;this.vo=k.persist;this.Na.hd(k.fx);for(const [h,m]of Object.entries(k.layers))(k=this.mw(parseInt(h,10)))&&k.ra(m);this.Ox();this.Zl()}rg(k){k.Gf=this.Lt;var h=this.g;(h=h.lb&&!h.ga().Jw())&&a.mD();this.Kd.dispatchEvent(k);h&&a.YA()}Xm(k){k.Gf=this.Lt;return this.Kd.TH(k)}}}
{"use strict";const d=self.B;d.pY=class extends d.da{constructor(a){super();this.g=a;this.Vh=[];this.nG=new Map;this.oG=new Map;this.lu=null;this.WG=[];this.Ey=null;this.$y=0;this.qu=null}j(){this.qu=this.Ey=this.lu=this.g=null;d.D(this.Vh);this.nG.clear();this.oG.clear();d.D(this.WG)}Pa(a){a=d.A(d.GK,this,this.Vh.length,a);this.Vh.push(a);this.nG.set(a.Y.toLowerCase(),a);this.oG.set(a.cb,a)}G(){return this.g}e0(a){this.Ey=a}QV(){if(this.Ey)return this.Ey;if(this.Vh.length)return this.Vh[0];throw Error("no first layout");
}gp(a){return this.nG.get(a.toLowerCase())||null}MB(a){return this.oG.get(a)||null}kW(a){a=d.fa(Math.floor(a),0,this.Vh.length-1);return this.Vh[a]}Uc(a){return"number"===typeof a?this.kW(a):this.gp(a.toString())}AO(a){this.lu=a}Fb(){return this.lu}*uv(){this.lu&&(yield this.lu);this.WG.length&&(yield*this.WG)}VL(a){if(a)this.$y++;else{if(0>=this.$y)throw Error("already unset");this.$y--}}wK(){return 0<this.$y}Gv(a){this.qu=a}lT(){this.qu=null}pp(){return!!this.qu}An(){const a=this.Fb();a&&a.Ox()}zn(){const a=
this.Fb();a&&a.Zl()}}}
{"use strict";const d=self.B;class a{constructor(){this.jc=this.De=null;this.Cr=this.Dr=this.gh=this.gl=0;this.tr=new d.Rect;this.jl=new d.Rect;this.Qm=new d.Rect;this.sv=new d.Rect;this.zr=new d.Rect;this.clearRect=new d.Rect;this.NA=new d.Rect;this.KR=[null,null];this.Om=0;this.Ro=1;this.qr=this.rr=this.ir=this.hr=0;this.kl=this.ef=this.Bd=this.Cd=this.Gf=null;this.xA=this.qI=this.HA=!1;this.GA=null}Ic(){this.GA=this.kl=this.ef=this.Bd=this.Cd=this.Gf=this.jc=this.De=null}Q0(h){h=h.eb;if(h.Hl())return!0;
if(this.Bd)return h.Uu&&(0!==this.ef.Ha()||0>this.ef.ca()||0>this.ef.ba())||0!==this.hr||0!==this.ir||!this.ef.Al()||this.Bd.Hl();if(this.Cd)return!this.Cd.Al()}P0(h){h=h.eb;return h.Uu||h.dF||this.Gf&&"low"===this.jc.L.ki}fp(h){if(0!==h&&1!==h)throw Error("invalid effect target");const m=this.KR;if(!m[h]){var n=this.jc;const p=n.L;n={Ji:n.$c};"low"===p.ki&&(n.width=p.th(),n.height=p.tg());m[h]=p.Vr(n)}return m[h]}h_(){const h=this.KR,m=this.jc.L;h[0]&&(m.Kl(h[0]),h[0]=null);h[1]&&(m.Kl(h[1]),h[1]=
null)}}const b=[];let f=0;const c=new d.Ed;let e=!1;async function k(h,m,n){m=await d.U.tD.LT(m,n);m=URL.createObjectURL(m);console.log("[FX] "+h+" "+(n?"":" [to display]")+": ",m)}d.HC=function(h,m,n,p,r,v){f===b.length&&b.push(new a);var x=b[f++];x.De=h;x.jc=m;if(n instanceof d.Instance)x.Bd=n,x.ef=x.Bd.m();else if(n instanceof d.wC)x.Cd=n;else if(n instanceof d.GK)x.Gf=n;else throw Error("invalid effects object");n=m.L;x.kl=p;x.gl=n.th();x.gh=n.tg();x.Dr=x.gl;x.Cr=x.gh;x.Om=0;x.Ro=1;x.hr=0;x.ir=
0;x.zr.set(0,0,x.gl,x.gh);x.clearRect.set(0,0,x.gl,x.gh);x.xA=!1;x.GA=v;x.Bd?(p=x.ef,x.rr=p.ea().Zj(),x.qr=p.ea().Ha(),x.tr.Aa(p.xc())):x.Cd?(p=x.Cd,x.rr=p.Zj(),x.qr=p.Ha(),x.tr.Aa(p.rd)):(p=x.Gf,x.rr=p.Ec,x.qr=p.Ha(),x.tr.set(0,0,x.gl,x.gh));if(x.Bd){{for(let N=0,O=r.length;N<O;++N)p=r[N].eb,x.hr+=p.qP,x.ir+=p.rP;var w=x.ef;p=w.ea();n=p.Ha();v=w.xc();var u=w.xg();w=w.di;let [z,E]=p.aj(v.N,v.M,u),[G,I]=p.aj(v.Z,v.T,u);if(0!==n||0<w){const [N,O]=p.aj(v.Z,v.M,u),[P,S]=p.aj(v.N,v.T,u);if(0<w){n=u+w;
const [T,Y]=p.aj(v.N,v.M,n),[ba,ea]=p.aj(v.Z,v.M,n),[W,na]=p.aj(v.Z,v.T,n),[ja,xa]=p.aj(v.N,v.T,n);p=Math.min(z,G,N,P,T,ba,W,ja);G=Math.max(z,G,N,P,T,ba,W,ja);z=p;p=Math.min(E,I,O,S,Y,ea,na,xa);I=Math.max(E,I,O,S,Y,ea,na,xa);E=p}else p=Math.min(z,G,N,P),G=Math.max(z,G,N,P),z=p,p=Math.min(E,I,O,S),I=Math.max(E,I,O,S),E=p}p=x.zr;v=x.sv;n=x.Qm;u=x.clearRect;w=x.jl;p.set(z,E,G,I);p.AI(x.gh);v.Aa(p);v.fl(x.Dr,x.Cr);v.So();p.CA(x.hr,x.ir);n.Aa(p);n.fl(x.Dr,x.Cr);n.So();u.Aa(p);u.Maa();u.CA(x.hr+1,x.ir+
1);p.fa(0,0,x.gl,x.gh);u.fa(0,0,x.gl,x.gh);w.Aa(p);w.fl(x.Dr,x.Cr);w.So()}}else x.jl.set(0,0,x.gl/x.Dr,x.gh/x.Cr),x.Qm.Aa(x.jl),x.sv.Aa(x.jl),x.jl.So(),x.Qm.So(),x.sv.So();h.RC();h.yp();h.$w(0);h.Pl(0);x.HA=x.Q0(r[0]);x.HA&&(p=x.De,p.Kh(),v=x.fp(x.Om),p.me(v),(n=x.GA)&&n.rI&&n.rI(),p.gB(x.clearRect),x.Bd?(p.Nl(x.ef.PB()),p.Pl(x.ef.xg()),x.Bd.ff(p),p.Pl(0)):(n=(x.Cd||x.Gf).hs(),x.Cd?p.Nl(x.Cd.PB()):p.yp(),p.Nr(n),p.kn(n),x.jc.L.Kl(n)),x.Qm.BR(),x.Om=1,x.Ro=0,e&&k("Pre-draw",p,v));h.yp();p=r.length-
1;x.qI=x.P0(r[p]);for(let z=0,E=r.length;z<E;++z){n=r[z];v=n.eb;h.Sl(v);v.$x&&m.aa();if(0!==z||x.HA){h.LL();var t=void 0,A=void 0;v=x;t=n;A=z===p&&!x.qI;n=z;u=v.De;w=v.jc;0===n&&v.HA&&v.Bd&&v.zr.AI(v.gh);A?(v.Bd?u.qf(v.ef.qh()):v.Cd&&u.qf(v.Cd.qh()),A=v.kl,u.me(A)):(A=v.fp(v.Om),u.me(A),u.gB(v.clearRect));t=v.Bd?v.ef.Td.Kf(t.Da()):(v.Cd||v.Gf).Na.Kf(t.Da());u.Ip(v.kl,v.Qm,v.jl,v.sv,v.tr,1/v.Dr,1/v.Cr,v.rr,v.qr,w.ug(),t);t=v.fp(v.Ro);u.sf(t.Md());w.L.TC(u);v.xA=!0;c.nl(v.zr);u.Jl(c,v.jl);v.Bd||u.kn(t);
e&&k("Bounce "+n,u,A)}else{v=x;A=n;n=v.De;u=v.jc;w=v.fp(v.Om);n.me(w);(t=v.GA)&&t.rI&&t.rI();n.gB(v.clearRect);if(v.Bd){const [G,I]=v.Bd.dw();(t=v.Bd.ew())?v.NA.Aa(t):v.NA.set(0,0,0,0);A=v.ef.Td.Kf(A.Da());n.Ip(v.kl,v.Qm,v.NA,v.NA,v.tr,1/G,1/I,v.rr,v.qr,u.ug(),A);n.Pl(v.ef.xg());v.Bd.ff(n);n.Pl(0);v.Qm.BR();v.zr.AI(v.gh)}else A=(v.Cd||v.Gf).Na.Kf(A.Da()),n.Ip(v.kl,v.Qm,v.jl,v.sv,v.tr,1/v.gl,1/v.gh,v.rr,v.qr,u.ug(),A),v=(v.Cd||v.Gf).hs(),e&&k("Layer target",n,v),n.Nr(v),n.kn(v),u.L.Kl(v);e&&k("First bounce",
n,w)}0===x.Om?(x.Om=1,x.Ro=0):(x.Om=0,x.Ro=1)}x.qI&&(h=x.De,x.Gf?(h.Kh(),h.me(x.kl),m=x.fp(x.Ro),h.iB(m),h.kn(m)):(m=x.jc.L,"low"===m.ki?(h.Kh(),m.TC(h,m.th(),m.tg()),x.xA=!0):h.Y_(),x.Bd?h.qf(x.ef.qh()):x.Cd&&h.qf(x.Cd.qh()),h.me(x.kl),m=x.fp(x.Ro),h.sf(m.Md()),c.nl(x.zr),h.Jl(c,x.jl),x.Bd||h.kn(m),e&&k("Post-draw",h,x.kl)));h=x.xA;x.h_();x.Ic();f--;e=!1;return h}}
{"use strict";const d=self.B;d.g1=class extends d.da{constructor(a){super();this.g=a;this.Ou=d.A(d.Vf);this.W9=null;this.Am=[];this.Pu=new Map;this.Rk=new Map;this.Bm=new Map;this.hg=[];this.zf=[];this.$t=this.Xp=this.bo=!1;this.$k=()=>this.e6();this.Uq=()=>this.aE();this.PE=()=>this.Ix();this.mG=()=>this.D5();this.NF=b=>this.WN(b.instance);this.DE=()=>this.$D();this.Dt=[]}j(){this.m_();this.DE=this.NF=this.mG=this.PE=this.Uq=this.$k=null;for(const a of this.Am)a.Eg(),a.j();d.D(this.Am);this.Am=null;
this.Ou.j();this.Ou=null;d.D(this.hg);this.hg=null;d.D(this.zf);this.zf=null;this.Pu.clear();this.Pu=null;this.Rk.clear();this.Rk=null;this.Bm.clear();this.Bm=null;d.D(this.Dt);this.g=this.Dt=null}FS(){const a=this.g.Eb();a.addEventListener("pretick",this.$k);a.addEventListener("tick2",this.Uq);a.addEventListener("beforelayoutchange",this.PE);a.addEventListener("layoutchange",this.mG);a.addEventListener("instancedestroy",this.NF);a.addEventListener("afterload",this.DE)}m_(){const a=this.g.Eb();a.removeEventListener("pretick",
this.$k);a.removeEventListener("tick2",this.Uq);a.removeEventListener("beforelayoutchange",this.PE);a.removeEventListener("layoutchange",this.mG);a.removeEventListener("instancedestroy",this.NF);a.removeEventListener("afterload",this.DE)}Pa(a){this.Ou.vc(a);a=d.Fd.CT(a,this);this.vc(a);this.A0(a);this.Bm.set(a.Y,0)}jB(a){a=a.$d.Y;var b=this.Ou.$(a);b=d.Fd.jB(`${a}:${this.Bm.get(a)}`,b,this);this.CN(a);this.vc(b);return b}CN(a){this.Bm.set(a,this.Bm.get(a)+1)}E7(){for(const a of this.Am)a.rq||this.CN(a.$d.Y)}t2(){for(const a of this.Bm.keys())this.Bm.set(a,
0)}vc(a){this.Am.push(a);this.Pu.set(a.Y.toLowerCase(),a)}Bg(a){a.rq||(d.Po(this.Am,a),d.Po(this.hg,a),d.Po(this.zf,a),this.Pu.delete(a.Y.toLowerCase()),this.n_(a),a.Wg||a.j())}pa(a){this.g.pa(a,this.W9,null)}G(){return this.g}dM(a,b){this.Rk.has(a)||this.Rk.set(a,new Set);this.Rk.get(a).add(b)}A0(a){for(const b of a.TJ())this.dM(b,a)}n_(a){for(const [b,f]of this.Rk.entries())f.has(a)&&(f.delete(a),0===f.size&&this.Rk.delete(b))}zW(a){if(this.Rk.has(a))return this.Rk.get(a)}vw(a){return this.Pu.get(a.toLowerCase())||
null}l_(a){d.Po(this.zf,a);this.$s()}FL(a){this.zf.includes(a)?(a.Gs(!0),a.Is(!1),a.XC(!1)):(a.Gs(!1),a.Is(!0),a.XC(!1),this.hg.includes(a)||this.hg.push(a));this.ON()}Qv(a){a.Gs(!1);a.Is(!1);a.MC();d.Po(this.hg,a);this.$s()}Mv(a){a.Gs(!1);a.Is(!1);a.XC(!0)}uT(a){this.Mv(a);a.MC()}e6(){if(!this.G().wj&&this.bo&&!this.Xp){var a=!1;for(this.$t=!0;this.hg.length;){var b=this.hg.pop();b.Xc();this.zf.push(b)}b=this.g.ds();var f=this.g.Zd;for(const c of this.zf){if(c.Aq)continue;const e=c.ne(b,f);!a&&e&&
(a=!0)}this.$t=!1;a&&this.G().aa()}}aE(){if(!this.G().wj&&this.bo&&!this.Xp){var a;for(const b of this.zf)b.Aq&&(a||(a=new Set),this.PN(b),a.add(b));a&&d.pg(this.zf,a);this.$s()}}PN(a){a.Wg||a.kK()&&a.vf&&a.km&&a.wJ()}ON(){this.bo||(this.bo=!0)}$s(){this.zf.length||this.hg.length||this.$t||(this.bo=!1)}Ix(){for(this.Xp=!0;this.hg.length;)this.Qv(this.hg.pop());const a=new Set;for(const b of this.zf)b.Ix()&&a.add(b);d.pg(this.zf,a);this.$s();for(const b of this.Am)b.Ki()}D5(){this.Xp=!1}WN(a){var b=
a.H();if(b=this.zW(b))if(this.g.wj)this.Dt.push(a);else for(const f of b)f.rq||(f.Wg?this.Bg(f):f.kK()||(this.PN(f),this.Bg(f)))}$D(){for(const a of this.Dt)this.WN(a);d.D(this.Dt)}ja(){return{timelinesJson:this.q7(),scheduledTimelinesJson:this.o7(),playingTimelinesJson:this.m7(),hasRuntimeListeners:this.bo,changingLayout:this.Xp,isTickingTimelines:this.$t}}ra(a){a&&(this.t2(),this.k5(a.timelinesJson),this.h5(a.scheduledTimelinesJson),this.f5(a.playingTimelinesJson),this.bo=!a.hasRuntimeListeners,
this.Xp=!!a.changingLayout,this.$t=!!a.isTickingTimelines,this.E7(),this.ON(),this.$s())}q7(){return this.Am.map(a=>a.ja())}k5(a){for(const b of a){a=this.vw(b.name);if(!a){a=this.p4(b);if(!a)continue;a=this.vw(a);a=this.jB(a)}a.ra(b);a.VW()||this.Bg(a)}}p4(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}o7(){return this.uO(this.hg)}h5(a){this.KN(a,this.hg)}m7(){return this.uO(this.zf)}f5(a){this.KN(a,this.zf)}Q4(a,b){for(const f of b)if(f===a.Y)return!0;return!1}uO(a){return a.map(b=>b.Y)}KN(a,
b){var f=new Set;for(const c of b)this.Q4(c,a)||f.add(c);d.pg(b,f);f=c=>e=>e.Y===c;for(const c of a)(a=this.vw(c))&&(b.find(f(c))||b.push(a))}}}
{"use strict";const d=self.B;d.Fd=class extends d.da{constructor(a,b,f){super();this.g=f.G();this.tb=f;this.$d=b;this.Y=a;this.Db=[];for(const c of this.$d.xw().cba())this.Db.push(d.pM.Pa(this,c));this.Jz=this.ru=null;this.tm=d.A(d.ss);this.tm.Set(0);this.Tk=1;this.wi=0;this.bi=1;this.km=this.Jk=this.ez=!1;this.vf=!0;this.Aq=this.Wg=!1;this.Yp=-1;this.im=this.Zn=this.rq=this.Qy=!1;this.kQ=NaN;this.kg=[""];this.hR="";this.nH=!1}static CT(a,b){const f=b.Ou.$(a[0]);a=d.A(d.Fd,a[0],f,b);a.o0();return a}static jB(a,
b,f){return d.A(d.Fd,a,b,f)}static get x1(){return 1}static get hk(){return d.kI(1)}j(){if(!this.Wg){this.tb.Qv(this);this.tb.uT(this);for(const a of this.Db)a.j();d.D(this.Db);this.Db=null;this.tm.j();this.$d=this.tb=this.g=this.tm=null;this.Wg=!0;this.Jz=this.ru=null}}G(){return this.g}VB(a,b,f){const c=[];for(const e of this.Db){if(a!==e.Ba())continue;const k=e.Yj(f);k&&b.constructor===k.Vc().constructor&&c.push(k)}return c}VW(){return!!this.Db.length}gx(a){this.Y=a}td(){return this.$d.td()}js(){return this.$d.js()}uh(){return this.$d.uh()}yh(){return this.$d.yh()}dj(a){for(const b of this.Db)b.dj(a)}hp(){return this.$d.hp()}jp(){return this.$d.jp()}yl(){return this.$d.yl()}hx(a){this.Tk=
a}yg(){return this.IsPlaying()?0<this.Tk:!0}UJ(){this.ru||(this.ru=new Promise(a=>{this.Jz=a}))}MC(){this.ru&&(this.Jz(),this.Jz=this.ru=null)}cM(a){this.kg=d.Fd.o4(a);this.nH=!0}cL(){d.C.lc.I.Bn(this);this.tb.pa(d.C.lc.I.gga);this.tb.pa(d.C.lc.I.hga);this.tb.pa(d.C.lc.I.iga);this.tb.pa(d.C.lc.I.Xfa);d.C.lc.I.Bn(null)}UK(){this.Yp=this.g.Aj}wJ(){this.Zn||(this.Zn=!0,d.C.lc.I.Bn(this),this.tb.pa(d.C.lc.I.dga),this.tb.pa(d.C.lc.I.ega),this.tb.pa(d.C.lc.I.fga),this.tb.pa(d.C.lc.I.Wfa),d.C.lc.I.Bn(null))}Gs(a){this.ez=
a}rK(){return this.Yp===this.g.Aj}IsPlaying(a=!1){return this.rK()||this.Jk&&!a?!0:this.ez}Qp(){return this.IsPlaying(!0)}Is(a){this.Jk=a}KL(a){this.vf=a;a=this.Ca();if(0>=a||a>=this.td())this.vf=!0}XC(a){this.Aq=a}WC(a){this.Qy=a}o0(){this.rq=!0}Ca(){return this.tm.$()}Jp(a){const b=this.Ca();this.Pd(a);this.KL(!1);this.vf||this.WC(!0);if(this.Qp()||this.Jk||!this.km)this.Qp()||this.Jk||this.km?this.Qp()?this.Eg():this.Jk&&(this.tb.Qv(this),this.TL()):this.TL();this.Fx(a,!1,!0,!0,b)&&this.G().aa();
this.$N()}Pd(a){0>a?this.tm.Set(0):a>=this.td()?this.tm.Set(this.td()):this.tm.Set(a)}$N(){d.C.lc&&this.constructor===d.Fd&&(d.C.lc.I.Bn(this),this.tb.pa(d.C.lc.I.aga),this.tb.pa(d.C.lc.I.bga),this.tb.pa(d.C.lc.I.cga),d.C.lc.I.Bn(null))}Play(a=!1){return this.Wg||this.Jk?!1:this.Qp()&&this.rK()?this.u7():this.Qp()||!this.vf&&!a&&!this.Qy?!1:this.v7()}u7(){this.WC(!1);this.tb.l_(this);this.tb.FL(this);this.UJ();return!0}v7(){this.WC(!1);this.tb.FL(this);this.UJ();return!0}Eg(a=!1){this.Wg||(this.KL(a),
this.tb.Mv(this),this.vf&&this.MC())}kd(a=!0,b=!1){if(!this.Wg)if(!this.Qp()&&this.Jk)this.tb.Qv(this);else if(!this.vf){this.Eg(!0);this.yg()?this.Pd(0):this.Pd(this.td());var f=this.Ca();b=b?this.H4(f):this.Fx(f,!1,!1,!0);a&&this.$N();b&&a&&this.G().aa()}}zL(){this.kd(!1,!0)}H4(a){this.Fx(a,!1,!1,!0,NaN,!1,!0)}Ix(){if(this.Wg)return!0;if(this.WW())return!1;this.tb.Mv(this);this.zL();return!0}TL(){this.Xc(!0)}Xc(a){if(!this.Aq)if(a){this.im=this.km=!0;for(const b of this.Db)b.Xc()}else if(this.Gs(!0),
this.Is(!1),this.cL(),this.vf){this.Yp=-1;this.wi=0;this.bi=1;this.Zn=this.vf=!1;this.im=this.km=!0;this.yg()?this.Pd(0):this.Pd(this.td());for(const b of this.Db)b.Xc()}else{this.im=!0;for(const b of this.Db)b.rf()}}ne(a,b){if(0!==a||0!==this.kQ){this.kQ=a;var f=this.Ca();this.Pd(f+a*b*this.Tk);var c;this.hp()||this.jp()?this.hp()&&!this.jp()?c=this.p5():!this.hp()&&this.jp()?c=this.p6():this.hp()&&this.jp()&&(c=this.q5()):c=this.j8();if(c){for(const e of this.Db)e.c0();this.Eg(!0);this.UK();return!0}return this.Fx(this.Ca(),
!0,!1,!1,f,!0)}}Fx(a,b=!1,f=!1,c=!1,e=NaN,k=!1,h=!1){let m=!1;for(var n of this.Db)n.Kr();for(const p of this.Db){n=a;if("number"===typeof e){const r=this.Ca()-p.lf(),v=e-p.lf();0>r&&0<v&&(n=p.lf(),this.Pd(n))}n=p.ib(n,b,f,c,this.im,h);!m&&n&&(m=!0)}for(const p of this.Db)p.Jr();this.im&&k&&(this.im=!1);return m}j8(){if(this.yg()){if(this.Ca()>=this.td())if(this.bi<this.yl())this.bi++,this.Pd(0);else return this.Pd(this.td()),!0}else if(0>=this.Ca())if(this.bi<this.yl())this.bi++,this.Pd(this.td());
else return this.Pd(0),!0;return!1}p5(){this.yg()?this.Ca()>=this.td()&&this.Pd(0):0>=this.Ca()&&this.Pd(this.td());return!1}p6(){if(this.yg()){if(this.Ca()>=this.td())if(this.Pd(this.td()),this.hx(-1*this.Tk),1===this.wi)if(this.bi<this.yl())this.bi++,this.wi=0;else return!0;else 0===this.wi&&(this.wi=1)}else if(0>=this.Ca())if(this.Pd(0),this.hx(-1*this.Tk),1===this.wi)if(this.bi<this.yl())this.bi++,this.wi=0;else return!0;else 0===this.wi&&(this.wi=1);return!1}q5(){this.yg()?this.Ca()>=this.td()&&
(this.Pd(this.td()),this.hx(-1*this.Tk)):0>=this.Ca()&&(this.Pd(0),this.hx(-1*this.Tk));return!1}Ki(){for(const a of this.Db)a.Ki()}nT(){for(const a of this.Db)a.kT()}B0(a,b){if(b)for(const f of this.Db){if(a){if(f.Ni()!==a)continue}else if(f.PW())continue;f.l0(b);this.tb.dM(b.H(),this);break}}fK(a){for(const b of this.Db)if(a===b.Ba())return b;return null}kK(){return this.Db.some(a=>a.dB())}WW(){return this.Db.some(a=>a.dB()?(a=a.H())?a.Of():!1:!1)}Yj(a){for(const b of this.Db)for(const f of b.fc)if(f.Ea.nd===
a)return f}TJ(){const a=[];for(const b of this.Db)a.push(b.H());return a.filter(b=>b)}ja(){return{tracksJson:this.s7(),name:this.Y,playheadTime:this.Ca(),playbackRate:this.Tk,pingPongState:this.wi,currentRepeatCount:this.bi,isPlaying:this.ez,isScheduled:this.Jk,initialStateSet:this.km,finishedTriggers:this.Zn,complete:this.vf,released:this.Wg,markedForRemoval:this.Aq,completedTick:this.Yp,implicitPause:this.Qy,isTemplate:this.rq,tags:this.kg.join(" "),stringTags:this.hR,tagsChanged:this.nH,firstTick:this.im}}ra(a){a&&
(this.l5(a.tracksJson),this.Y=a.name,this.tm.Set(a.playheadTime),this.Tk=a.playbackRate,this.wi=a.pingPongState,this.bi=a.currentRepeatCount,this.ez=!!a.isPlaying,this.Jk=!!a.isScheduled,this.km=!!a.initialStateSet,this.Zn=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.vf=!!a.complete,this.Wg=!!a.released,this.Aq=!!a.markedForRemoval,this.Yp=a.completedTick,this.Qy=!!a.implicitPause,this.rq=!!a.isTemplate,this.kg=a.tags.split(" "),this.hR=a.stringTags,this.nH=!!a.tagsChanged,this.im=
!!a.firstTick)}s7(){return this.Db.map(a=>a.ja())}l5(a){a.forEach((b,f)=>{this.Db[f].ra(b)});this.Db.filter(b=>b.dB())}static o4(a){if(d.ln(a))return a.slice(0);if(d.Ah(a))return a.split(" ")}}}
{"use strict";const d=self.B;d.pM=class extends d.da{constructor(a,b){super();this.zm=a;this.Sb=b;this.ye=b.xw();this.Qk=this.Fk=NaN;this.gb=this.bg=null;this.mo=0<b.lf();this.Vn=this.qq=!1;this.qo=null;this.oc=this.Sb.wh().oc;this.fc=[];for(const f of this.Sb.je().Gaa())this.fc.push(d.Ya.Pa(this,f))}static Pa(a,b){return d.A(d.pM,a,b)}j(){this.oc=null;for(const a of this.fc)a.j();d.D(this.fc);this.qo=this.Sb=this.gb=this.bg=this.zm=this.fc=null}Ki(){for(const a of this.fc)a.Ki();this.gb=this.bg=
null}Ub(){return this.zm}G(){return this.zm.G()}hW(){return this.oc?this.oc:this.oc=this.Sb.wh().oc}Yj(a){for(const b of this.fc)if(b.Ea.nd===a)return b}tp(){this.bg||this.Ba()}fk(){return this.bg?!this.bg.tK():!1}dB(){const a=this.G().Oi(this.es());return a?!a.tK():!1}H(){const a=this.OB();if(-1!==a)return this.G().Ie(a)}kT(){this.bg=null;this.Fk=-1;this.gb=null;this.Qk=-1}PW(){return!!this.bg}Ba(){return this.bg&&this.fk()?this.bg:this.bg=this.G().Oi(this.es())}l0(a){if(this.bg!==a){this.Ki();this.bg=
a;this.Qk=a.H().Da();this.Fk=a.Fc;this.gb=a.m();for(const k of this.Haa()){const h=k.Uaa;switch(k.Faa.sd()){case "instance-variable":var b=a.H(),f=b.aW(k.name),c=b.OJ(f);b=b.gs(f);c===k.name&&b===k.type&&h.t1(f);break;case "behavior":var e=k.LH;f=this.H();c=a.H();b=h.sg(c);e&&b&&(e=e.Y,f.Xr(e),c.Xr(e),h.q1(b.cb))}}}}*Haa(){for(const f of this.fc){var a=f.Vc(),b=this.H();const c={Faa:f,Uaa:a};switch(f.sd()){case "world-instance":c.Vma=f.Ea.nd;break;case "instance-variable":a=a.ep();c.name=b.OJ(a);
c.type=b.gs(a);break;case "effect":b=a.BB(b.Na);c.jla=b;break;case "behavior":b=a.sg(b);c.LH=b;break;case "plugin":c.Rma=b.wb()}yield c}}m(){if(this.gb&&this.fk())return this.gb;const a=this.Ba();a&&(this.gb=a.m());return this.gb}es(){return this.Fk?this.Fk:this.Sb.es()}uh(){return this.Sb.uh()}yh(){return this.Sb.yh()}Ni(){return this.Sb.Ni()}lf(){return this.Sb.lf()}Vj(){return this.Sb.Vj()}dj(a){for(const b of this.hW())b.dj(a);for(const b of this.fc)b.dj(a)}Uj(){return this.Sb.Uj()}mk(a){this.Sb.mk(a)}OB(){return isNaN(this.Qk)?
this.Sb.OB():this.Qk}Ri(){const a=this.Ba();return a&&a.qa.rn()?a.qa.Ri():this.Sb.Ri()}Qi(){const a=this.Ba();return a&&a.qa.rn()?a.qa.Qi():this.Sb.Qi()}Xc(){this.tp();if(this.fk()){for(var a of this.fc)a.Xc();a=this.Ub().yg()?0:this.Vj();this.qo=this.LB(a);this.Vn=this.qq=!1;this.ib(a)}}rf(){this.tp();if(this.fk()){this.zm.yg();var a=this.zm.Ca()-this.lf();this.qo=this.LB(a);for(const b of this.fc)b.rf()}}c0(){if(!this.Ub().vf&&(this.tp(),this.fk()&&!this.mo)){const a=this.zm.Ca();a>=this.lf()+this.Vj()?
this.ib(this.Vj(),!0,!1,!0):0>=a&&this.ib(0,!0,!1,!0)}}Kr(){for(const a of this.fc)a.Kr()}ib(a,b=!1,f=!1,c=!1,e=!1,k=!1){this.tp();if(!this.fk()||k&&this.H().Of())return!1;a-=this.lf();if(0>a)return!1;this.GY(a,b);this.OK(a,b,e);e=k=!1;for(const h of this.fc){const m=h.ib(a,f,!1,c);k||0===(m&d.Fd.x1)||(k=!0);e||0===(m&d.Fd.hk)||(e=!0)}this.FY(a,b);k&&(a=this.m())&&a.Za();return e}Jr(){for(const a of this.fc)a.Jr()}GY(a,b){if(b&&this.mo&&!this.qq){if(this.Ub().yg()){if(0>a)return;for(const f of this.fc)f.ib(0,
!1,!1,!0)}else{if(a>this.Vj())return;for(const f of this.fc)f.ib(this.Vj(),!1,!1,!0)}for(const f of this.fc)f.Xc();this.qq=!0}}FY(a,b){if(b&&this.mo&&!this.Vn)if(this.Ub().yg()){if(a>=this.Vj()){for(const f of this.fc)f.ib(this.Vj(),!1,!1,!0);this.Vn=!0}}else if(0>=a){for(const f of this.fc)f.ib(0,!1,!1,!0);this.Vn=!0}}OK(a,b,f){!f&&b&&(a=this.LB(a),a!==this.qo&&this.ZK(a),this.qo=a)}LB(a){const b=this.Ub();let f=this.ye.eW(a,this.Sb);return f?f:b.yg()?this.ye.PV(a,this.Sb):this.ye.OV(a,this.Sb)}ZK(a){if(d.C.lc&&
this.Ub().constructor===d.Fd){var b=this.Ub();d.C.lc.I.Bn(b);d.C.lc.I.J0(a);a=b.tb;a.pa(d.C.lc.I.Vfa);a.pa(d.C.lc.I.ZK);d.C.lc.I.Bn(null);d.C.lc.I.J0(null)}}AS(){return this.Sb.wh().uS()}UT(a){this.Sb.wh().TT(a)}mB(a){for(const b of this.fc)b.mB(a)}yn(){for(const a of this.fc)a.yn()}mh(){this.tp();if(this.fk())for(const a of this.fc)a.mh()}nh(){this.tp();if(this.fk()){var a=!1;for(const b of this.fc){const f=b.nh();!a&&f&&(a=!0)}a&&(a=this.AS(),a.Jp(this.Ub().Ca()),a.dj("noease"),a.mk(!0),a.cM(""))}}ja(){var a=
this.Ba();a=a?a.Fc:this.es();return{propertyTracksJson:this.n7(),lastKeyframeDataItemJson:this.k7(),initialStateOfNestedSet:this.qq,endStateOfNestedSet:this.Vn,instanceUid:a}}ra(a){a&&(this.g5(a.propertyTracksJson),this.e5(a.lastKeyframeDataItemJson),this.b5(a.instanceUid),this.qq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.qq=a.initialStateOfNestedSet),this.Vn=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Vn=a.endStateOfNestedSet))}k7(){return this.Sb.wh().gW(this.qo)}n7(){return this.fc.map(a=>
a.ja())}g5(a){a.forEach((b,f)=>{this.fc[f].ra(b)})}b5(a){if(d.Cl(a)&&(a=this.G().Oi(a))){var b=this.Ub();b.nT();b.B0(this.Sb.Ni(),a)}}e5(a){this.qo=this.Sb.wh().fW(a)}}}
{"use strict";const d=self.B;d.Ya=class extends d.da{constructor(a,b){super();this.Qc=a;this.Ea=b;this.Zc=b.je();this.Bi=this.Vc();this.pc=this.Ea.xh().pc}static Pa(a,b){return d.A(d.Ya,a,b)}j(){this.Qc=null;this.Bi&&(this.Bi.j(),this.Bi=null);this.Zc=this.Ea=this.pc=null}je(){return this.Zc}Ub(){return this.Qc.Ub()}G(){return this.Qc.G()}Ba(){return this.Qc.Ba()}Vc(){if(this.Bi)return this.Bi;let a;switch(this.Ea.sd()){case "behavior":a=new d.Ya.US(this);break;case "effect":a=new d.Ya.YU(this);break;
case "instance-variable":a=new d.Ya.OX(this);break;case "plugin":a=new d.Ya.SZ(this);break;case "world-instance":a=new d.Ya.K1(this);break;case "value":a=new d.Ya.v1(this)}return this.Bi=a}sd(){return this.Ea.sd()}SB(){return this.je().hw(this.Ea).ya}Uj(){return this.Ea.Uj()}mk(a){this.Ea.mk(a)}uh(){return this.Ea.uh()}yh(){return this.Ea.yh()}dj(a){for(const b of this.VJ())b.dj(a)}VJ(){return this.pc?this.pc:this.pc=this.Ea.xh().pc}Ki(){this.Vc().Ki()}ge(){return this.Vc().ge()}Xc(){this.Vc().Xc()}rf(){this.Vc().rf()}Kr(){this.Vc().Kr()}ib(a,
b=!1,f=!1,c=!1){var e=this.Ea;let k=this.Zc.RB(a,e);k?e=this.Zc.LJ(a,e):(k=this.Zc.HB(a,e),e=this.Zc.GB(a,e));return this.Vc().ib(a,k,e,b,f,c)}Jr(){this.Vc().Jr()}static eK(a,b){const f=b.Ea;b=b.Zc;let c=b.RB(a,f);c||(c=b.HB(a,f));return c}static DV(a,b){const f=b.Ea;b=b.Zc;return b.RB(a,f)?b.LJ(a,f):b.GB(a,f)}CS(){return this.Ea.xh().vS()}mB(a){this.Ea.xh().VT(a)}yn(){this.Vc().yn()}mh(){if(this.Vc().mh()){const a=this.Zc.hw(this.Ea),b=this.Vc().ge();a.GL(b)}}nh(){const a=this.Vc().nh();a&&this.DS();
this.Vc().Lv();return a}DS(){const a=this.Ub().Ca(),b=this.Vc(),f=d.Ya.eK(a,this),c=this.CS();c.eM(f.ya);c.Jp(a);c.dj(f.wl());c.mk(!0);c.Sf(b.Aw());c.GL(b.ge())}ja(){return{sourceAdapterJson:this.Vc().ja()}}ra(a){a&&this.Vc().ra(a.sourceAdapterJson)}}}
{"use strict";const d=self.B.Ya;d.Ch=class{constructor(a){this.la=a;this.Uk=null}j(){this.Uk&&(this.Uk.j(),this.Uk=null);this.la=null}Yj(){return this.la}Ki(){this.Uk&&this.Uk.Ki()}Lf(){return this.Uk?this.Uk:this.Uk=this.G2()}ep(){}Da(){return this.ep()}ls(){}Xc(){this.Lf().Xc()}rf(){this.Lf().rf()}Kr(){this.Lf().Wo()}ib(a,b,f,c,e,k){const h=d.Ch.PJ(this.la)(a,b,f,this.la);return e?h:this.Lf().Tm(a,h,b,f,c,k)}Jr(){this.Lf().Vo()}yn(){var a=this.Lf();a.Xg=a.ge()}Lv(){this.Lf().Lv()}ge(){return this.Lf().ge()}mh(){return this.Lf().mh()}nh(){return this.Lf().nh()}Aw(){return d.Ch.Aw(this.la)}G2(){const a=
this.la.Ea.ya;switch(this.la.SB()){case "combo":case "boolean":case "text":case "string":return new d.nf.QK(this);case "numeric":case "number":case "angle":return"combo"===a?new d.nf.QK(this):new d.nf.NY(this);case "color":case "offsetColor":return new d.nf.qT(this)}}ja(){return{propertyAdapterJson:this.Lf().ja()}}ra(a){a&&this.Lf().ra(a.propertyAdapterJson)}static Aw(a){const b=a.Qc.Ub().Ca(),f=d.eK(b,a),c=d.DV(b,a);return d.Ch.PJ(a)(b,f,c,a)}static xa(){let a=(void 0).yh();"combo"===(void 0).Ea.ya&&
(a="absolute");switch(a){case "relative":return NaN}}static PJ(a){switch(a.SB()){case "numeric":return d.yC.ib;case "angle":return d.QI.ib;case "boolean":return d.UI.ib;case "color":return d.cJ.ib;case "text":return d.nM.ib}}static EW(a){switch(a.SB()){case "numeric":return d.yC.qk;case "angle":return d.QI.qk;case "boolean":return d.UI.qk;case "color":return d.cJ.qk;case "text":return d.nM.qk}}}}{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b)}}d.Ya.K1=a}
{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b);this.Tu=NaN}ep(){return this.la.Ea.ig[0]}Da(){return this.Tu?this.Tu:super.Da()}ls(){return this.la.Qc.Ba()}t1(b){this.la.Ea.ig[0]!==b&&(this.Tu=b)}ib(b,f,c,e,k,h){if(this.Lf().ZI(f.xa()))return super.ib(b,f,c,e,k,h)}ja(){return Object.assign(super.ja(),{index:this.Tu})}ra(b){b&&(super.ra(b),this.Tu=b.index)}}d.Ya.OX=a}
{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b);this.cb=NaN}ep(){return this.la.Ea.ig[1]}ls(){var b=this.la.Ea,f=this.cb?this.cb:b.ig[0];b=this.la.Qc.Ba();f=b.CJ(f);return b.Nc[f].qa}sg(b){return b.$v(this.la.Ea.ig[2])}q1(b){this.la.Ea.ig[0]!==b&&(this.cb=b)}ib(b,f,c,e,k,h){const m=this.la.Qc.Ba();if(this.sg(m.H()))return super.ib(b,f,c,e,k,h)}ja(){return Object.assign(super.ja(),{sid:this.cb})}ra(b){b&&(super.ra(b),this.cb=b.sid)}}d.Ya.US=a}
{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b)}ep(){return this.la.Ea.ig[1]}ls(){const b=this.la.Qc.m().Td,f=this.BB(b.Na).Da();return b.rs(f)?b.Kf(f):null}BB(b){return b.Tj(this.la.Ea.ig[0])}ib(b,f,c,e,k,h){if(this.L4())return super.ib(b,f,c,e,k,h)}L4(){const b=this.la.Qc.m().Td,f=this.BB(b.Na);if(f)return b.rs(f.Da())}}d.Ya.YU=a}
{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b)}ep(){return this.la.Ea.ig[0]}ls(){return this.la.Qc.Ba().qa}ib(b,f,c,e,k,h){var m=this.la.Qc;const n=m.H().wb();m=m.Ba().H().wb();if(n===m)return super.ib(b,f,c,e,k,h)}}d.Ya.SZ=a}
{"use strict";const d=self.B;class a extends d.Ya.Ch{constructor(b){super(b);this.ad=0;this.Ry=!1}Xc(){const b=this.la.je();let f=this.la.Ea;f=b.hw(f);this.ad=f.Vb()}rf(){}xa(){this.Ry||this.la.ib(0);return this.ad}ib(b,f,c){const e=d.Ya.yC.ib;this.ad=e(b,f,c,this.la);this.Ry=!0}yn(){}Lv(){}ge(){return this.ad}mh(){return!1}nh(){return!1}ja(){return{value:this.ad,init:this.Ry}}ra(b){b&&(this.ad=b.value,this.Ry=b.hasOwnProperty("init")?b.init:!0)}}d.Ya.v1=a}"use strict";
function Rb(d,a,b){return d.la.Ub().yg()?a():b()}function Sb(d,a,b){return"relative"===d.la.yh()?a():b()}function Tb(d,a,b){d.mq?(d.mq=!1,a()):b()}function Ub(d){if(d.Rq)return d.Rq;d.Rq=d.Bi.ls();return d.Rq}function Vb(d,a,b,f,c,e){switch(d.la.sd()){case "behavior":return a();case "effect":return b();case "instance-variable":return f();case "plugin":return c();case "world-instance":return e()}}
function Wb(d,a=!1){const b=[];for(const f of d){d=f.Qc.lf();for(const c of f.VJ())a&&0===c.Ca()?b.push({time:d+c.Ca(),value:c.Hg}):a||b.push({time:d+c.Ca(),value:c.Hg})}return b.sort((f,c)=>f.time-c.time)}function Xb(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.B.Ya.nf=class{constructor(d){this.Bi=d;this.la=d.Yj();this.gb=this.la.Qc.m();this.nd=this.la.Ea.nd;this.mq=!1;this.Rq=this.Xg=null}j(){this.Rq=this.Xg=this.gb=this.la=this.Bi=null}Ki(){this.Rq=this.Xg=this.gb=null}Yj(){return this.la}m(){return this.gb?this.gb:this.gb=this.la.Qc.m()}Xc(){}rf(){}Lv(){this.Xg=null}ge(){}mh(){}nh(){}ZI(d){return typeof this.sk()===typeof d}Wo(){}Tm(){}Vo(){}En(){return Rb(this,()=>{const d=this.la.Ea;return this.la.je().hw(d)},()=>{const d=this.la.Ea;return this.la.je().bn(d)}).Hg}vx(){const d=
this.la.Ub().Ca()-this.la.Qc.lf();return Rb(this,()=>{const a=this.la.Ea;return this.la.je().HB(d,a)},()=>{const a=this.la.Ea,b=this.la.je(),f=b.GB(d,a);return f?f:b.bn(a)}).Hg}zx(){}Gg(){return this.Bi.Da()}ja(){return{firstAbsoluteUpdate:this.mq,saveState:this.Xg}}ra(d){d&&(this.mq=d.firstAbsoluteUpdate,this.Xg=d.saveState)}};
{"use strict";const d=self.B,a=new Map,b=[0,0,0];class f extends d.Ya.nf{constructor(c){super(c)}Xc(){}rf(){}ge(){const c=this.la.sd(),e=Ub(this),k=this.Gg();switch(c){case "behavior":return this.Sx(e.yc(k));case "effect":return this.Sx(e[k]);case "plugin":return this.Sx(e.yc(k));case "world-instance":return this.Sx(this.sk())}}mh(){const c=this.En();return!this.OM(c,this.sk())}nh(){return d.Nd(this.Xg)?!1:!this.OM(this.Xg,this.sk())}OM(c,e){return c.hl(e)}En(){const c=super.En();return this.Ax(c)}vx(){const c=
super.vx();return this.Ax(c)}zx(){}Sx(c){return d.Dl(c,d.Xa)?c.toArray().slice(0,3):c.slice(0,3)}Ax(c){return d.Dl(c,d.Xa)?c:new d.Xa(c[0],c[1],c[2],1)}ZI(){return!0}Wo(){var c=this.la.Ba();a.has(c)||a.set(c,new Map);c=a.get(c);const e=this.la.sd();c.has(e)||c.set(e,new Map);c=c.get(e);c.has(this.nd)||c.set(this.nd,{xv:!1,color:new d.Xa(0,0,0,1)})}yN(c,e,k){c=a.get(c).get(e).get(k);c.xv=!0;return c.color}Tm(c,e){var k=this.la.Ub(),h=this.la.Qc;c=this.la.Ba();var m=this.la.Vc();const n=this.la.sd();
m=k.VB(c,m,this.nd);if(1<m.length){if(m=Wb(m,!0),k=k.Ca(),k=Xb(k,m))if(m=k.time-h.lf(),0===m)this.yN(c,n,this.nd).uR(e[0],e[1],e[2]);else{if(0>m)return;k=e[0];h=e[1];e=e[2];m=this.la.ib(m,!1,!0);k=d.Xa.nB(k,m[0]);h=d.Xa.nB(h,m[1]);e=d.Xa.nB(e,m[2]);this.yN(c,n,this.nd).uR(k,h,e)}}else this.lj(e[0],e[1],e[2]);return d.Fd.hk}Vo(){const c=this.la.Ba();if(a.has(c)){var e=a.get(c),k=this.la.sd();if(e.has(k)){var h=e.get(k);if(h.has(this.nd)){var m=h.get(this.nd),n=m.color;m.xv&&this.lj(n.Ra,n.Ua,n.Ta);
0===h.size&&e.delete(k);0===e.size&&a.delete(c)}}}}sk(){const c=this.la.sd(),e=Ub(this),k=this.Gg();switch(c){case "behavior":return this.Ax(e.yc(k));case "effect":return e[k].clone();case "plugin":return this.Ax(e.yc(k));case "world-instance":return this.m().$a.clone()}}lj(c,e,k){const h=this.la.sd(),m=Ub(this),n=this.Gg();switch(h){case "behavior":b[0]=c;b[1]=e;b[2]=k;m.Gh(n,b);break;case "effect":m[n].Br(c,e,k);break;case "plugin":b[0]=c;b[1]=e;b[2]=k;m.Gh(n,b);break;case "world-instance":this.m().K0(c,
e,k)}}ja(){}ra(){}}d.Ya.nf.qT=f}
{"use strict";const d=self.B;class a extends d.Ya.nf{constructor(b){super(b)}Xc(){}rf(){}ge(){return this.sk()}mh(){return this.En()!==this.ge()}nh(){return d.Nd(this.Xg)?!1:this.Xg!==this.ge()}Tm(b,f){const c=d.Ya.Ch.EW(this.la);var e=this.la;const k=e.Qc,h=e.sd();var m=e.Ub();const n=k.Ba();e=e.Vc();m=m.VB(n,e,this.nd);1<m.length&&(m=Wb(m),b=Xb(b+k.lf(),m))&&(f=b.value);if(c(this.Gg(),Ub(this),f,h))switch(this.lj(f),h){case "plugin":return d.Fd.hk}}sk(){const b=this.la.sd(),f=Ub(this),c=this.Gg();
switch(b){case "behavior":return f.yc(c);case "effect":return f[c];case "instance-variable":return f.ie(c);case "plugin":return f.yc(c)}}lj(b){const f=this.la.sd(),c=Ub(this),e=this.Gg();switch(f){case "behavior":c.Gh(e,b);break;case "effect":c[e]=b;break;case "instance-variable":c.Ql(e,b);break;case "plugin":c.Gh(e,b)}}}d.Ya.nf.QK=a}
{"use strict";const d=self.B,a=new Map,b=(c,e,k,h,m)=>a.set(c,{Saa:e,m$:k,W$:h,round:m});b("offsetX",(c,e)=>c.UY(e),(c,e)=>c.Dg(e),c=>c.na(),!0);b("offsetY",(c,e)=>c.VY(e),(c,e)=>c.Mh(e),c=>c.oa(),!0);b("offsetWidth",(c,e)=>c.SK(e),(c,e)=>c.Lh(e),c=>c.ca(),!0);b("offsetHeight",(c,e)=>c.RK(e),(c,e)=>c.Fh(e),c=>c.ba(),!0);b("offsetAngle",(c,e)=>c.QY(e),(c,e)=>c.vd(e),c=>c.Ha(),!1);b("offsetOpacity",(c,e,k,h)=>{k=c.Je()+e;0===h.nc?(1<k?h.nc+=k-1:0>k&&(h.nc+=k),c.RY(e)):(c=c.Je()+e,0<e&&0<h.nc?1<c&&(h.nc+=
c-1):0<e&&0>h.nc?(h.nc+=e,0<h.nc&&(h.nc=0)):0>e&&0<h.nc?(h.nc+=e,0>h.nc&&(h.nc=0)):0>e&&0>h.nc&&0>c&&(h.nc+=c))},(c,e)=>{c.nk(e)},c=>c.Je(),!1);b("offsetOriginX",(c,e)=>c.SY(e),(c,e)=>c.Gp(e),c=>c.Wj(),!1);b("offsetOriginY",(c,e)=>c.TY(e),(c,e)=>c.Hp(e),c=>c.Xj(),!1);b("offsetZElevation",(c,e)=>c.WY(e),(c,e)=>c.Ne(e),c=>c.bb(),!0);b("offsetScaleX",(c,e,k)=>{const h=0>c.ca()?-1:1;c.SK(k.Ri()*h*e)},(c,e,k)=>{c.Lh(k.Ri()*e)},(c,e)=>{const k=0>c.ca()?-1:1;if(c.gn()){var h=c.za(),m=e.Ub().fK(h.Ba());m?
h=h.ca()/m.Ri():(m=h.Ba().qa,h=m.rn()?h.ca()/m.Ri():1);return c.ca()*k/(e.Ri()*h)}return c.ca()*k/e.Ri()},!1);b("offsetScaleY",(c,e,k)=>{const h=0>c.ba()?-1:1;c.RK(k.Qi()*h*e)},(c,e,k)=>{c.Fh(k.Qi()*e)},(c,e)=>{const k=0>c.ba()?-1:1;if(c.dn()){var h=c.za(),m=e.Ub().fK(h.Ba());m?h=h.ba()/m.Qi():(m=h.Ba().qa,h=m.rn()?h.ba()/m.Qi():1);return c.ba()*k/(e.Qi()*h)}return c.ba()*k/e.Qi()},!1);class f extends d.Ya.nf{constructor(c){super(c);this.nc=this.Kb=0;this.OF=this.QF=this.PF=null;this.VQ=!1;this.Io=
d.Dl(this.la.Ub(),d.m1)?new d.Ya.nf.PY(this):new d.Ya.nf.OY(this);c=this.la.Ea.nd;"world-instance"===this.la.sd()&&(c=a.get(c),this.PF=c.W$,this.QF=c.Saa,this.OF=c.m$,this.VQ=c.round)}j(){this.OF=this.QF=this.PF=this.Io=null;super.j()}XL(c){this.Kb=c}Xc(){const c=this.Io.Xc();"number"===typeof c&&(this.Kb=c);this.nc=0}rf(){const c=this.Io.rf();"number"===typeof c&&(this.Kb=c)}ge(){return this.sk()}mh(){return this.En()!==this.ge()}nh(){return d.Nd(this.Xg)?!1:this.Xg!==this.ge()}Wo(){this.Io.Wo()}Tm(c,
e,k,h,m,n,p){return this.Io.Tm(c,e,k,h,m,n,p)}Vo(){this.Io.Vo()}sk(){const c=Ub(this),e=this.Gg(),k=this.la.Qc,h=this.m();return Vb(this,()=>c.yc(e),()=>c[e],()=>c.ie(e),()=>c.yc(e),()=>this.PF(h,k))}lj(c){const e=Ub(this),k=this.Gg(),h=this.la.Qc,m=this.m();Vb(this,()=>e.AC(k,c),()=>e[k]+=c,()=>e.n0(k,c),()=>e.AC(k,c),()=>this.QF(m,c,h,this))}GO(c){const e=Ub(this),k=this.Gg(),h=this.la.Qc,m=this.m();Vb(this,()=>e.Gh(k,c),()=>e[k]=c,()=>e.Ql(k,c),()=>e.Gh(k,c),()=>this.OF(m,c,h))}Rp(c,e,k,h,m,n){this.Io.Rp(c,
e,k,h,m,n)}rk(c,e,k){c=(c.toString().split(".")[1]||"").length;const h=this.sk();this.lj((0===c?this.VQ?Math.round(h):h:d.toFixed(h,c))-h,e,k)}ja(){return Object.assign(super.ja(),{v:this.Kb,a:this.nc})}ra(c){c&&(super.ra(c),this.Kb=c.v,this.nc=c.a)}}d.Ya.nf.NY=f}
{"use strict";const d=self.B,a=new Map;class b{constructor(f){this.Xd=f}j(){this.Xd=null}Xc(){const f=this.Xd,c=this.Xd.Yj();return Sb(f,()=>Rb(f,()=>0,()=>d.Ya.Ch.Aw(c)),()=>{})}rf(){}Wo(){const f=this.Xd,c=this.Xd.Yj(),e=c.Ea.nd;Sb(f,()=>{},()=>{var k=c.Ba();a.has(k)||a.set(k,new Map);k=a.get(k);const h=c.sd();k.has(h)||k.set(h,new Map);k=k.get(h);k.has(e)||k.set(e,{xv:!1,value:0})})}xN(f,c,e){f=a.get(f).get(c).get(e);f.xv=!0;return f}Tm(f,c,e,k,h,m){const n=this.Xd,p=this.Xd.Yj(),r=p.Ea.nd;Sb(n,
()=>{const v=n.Kb;n.lj(c-v,e,k);m&&this.Rp(f,e,k,h,v,c);n.XL(c)},()=>{var v=p.Ub(),x=p.Qc;const w=p.Ba();var u=p.Vc();const t=p.sd();u=v.VB(w,u,r);if(1<u.length){if(u=Wb(u,!0),v=v.Ca(),v=Xb(v,u))x=v.time-x.lf(),0===x?this.xN(w,t,r).value+=c:0>x||(x=p.ib(x,!1,!0),this.xN(w,t,r).value+=c-x)}else n.GO(c)});return Vb(n,()=>{},()=>d.Fd.hk,()=>{},()=>d.Fd.hk,()=>d.Fd.hk)}Vo(){const f=this.Xd,c=this.Xd.Yj(),e=c.Ea.nd;Sb(f,()=>{},()=>{const k=c.Ba();if(a.has(k)){var h=a.get(k),m=c.sd();if(h.has(m)){var n=
h.get(m);if(n.has(e)){var p=n.get(e),r=p.value;p.xv&&f.GO(r);n.delete(e);0===n.size&&h.delete(m);0===h.size&&a.delete(k)}}}})}Rp(f,c,e,k,h,m){const n=this.Xd;k||(c&&f===c.Ca()?n.rk(c.Vb(),c,e):e&&f===e.Ca()?n.rk(e.Vb(),c,e):0===m-h&&n.rk(c.Vb(),c,e))}}d.Ya.nf.OY=b}
{"use strict";const d=self.B;class a{constructor(b){this.Xd=b}j(){this.Xd=null}Xc(){const b=this.Xd;b.mq=!0;return this.zx(b.En())}rf(){const b=this.Xd;if(b.En()!==b.vx())return b.mq=!0,this.zx(b.vx())}Wo(){}Tm(b,f,c,e,k,h){const m=this.Xd,n=m.Kb;Sb(m,()=>{m.lj(f-n,c,e);h&&this.Rp(b,c,e,k,n,f)},()=>{Tb(m,()=>{m.lj(n,c,e)},()=>{m.lj(f-n,c,e);h&&this.Rp(b,c,e,k,n,f)})});m.XL(f);return Vb(m,()=>{},()=>d.Fd.hk,()=>{},()=>d.Fd.hk,()=>d.Fd.hk)}Vo(){}zx(b){return b-this.Xd.ge()}Rp(b,f,c,e,k,h){const m=this.Xd;
e?f&&b===f.Ca()?m.rk(f.Vb(),f,c):c&&b===c.Ca()?m.rk(c.Vb(),f,c):c||m.rk(f.Vb(),f,c):f&&b===f.Ca()?m.rk(f.Vb(),f,c):c&&b===c.Ca()?m.rk(c.Vb(),f,c):0===h-k&&m.rk(f.Vb(),f,c)}}d.Ya.nf.PY=a}
{"use strict";const d=self.B,a=self.Or;d.Ya.yC=class{constructor(){}static qk(b,f,c,e){let k;switch(e){case "behavior":k=f.yc(b);break;case "effect":k=f[b];break;case "instance-variable":k=f.ie(b);break;case "plugin":k=f.yc(b)}return k===c?!1:!0}static ib(b,f,c,e){if(!c)return c=e.Ea,c=e.je().bn(c),c.Vb();var k=e.uh();"default"===k&&(k="continuous");"combo"===e.Ea.ya&&(k="discrete");if("discrete"===k)return f.Vb();if("continuous"===k||"step"===k){"step"===k&&(k=e.Ub().js(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var h=f.Ca();const m=c.Ca();k=f.Vb();const n=c.Vb();if(k===n)return k;b=d.normalize(b,h,m);const p=f.wl();f=f.tB("cubic-bezier");c=c.tB("cubic-bezier");f&&f.Gu&&c&&c.yy?(h=m-h,h=a.cn(p)(h*b,0,1,h),h=a.cn("cubicbezier")(h,k,k+f.iH,n+c.mF,n)):h=a.cn(p)((m-h)*b,k,n-k,m-h);return"integer"===e.Ea.ya?Math.floor(h):h}}}}
{"use strict";const d=self.B;d.Ya.QI=class{constructor(){}static qk(a,b,f,c){let e;switch(c){case "behavior":e=b.yc(a);break;case "effect":e=b[a];break;case "instance-variable":e=b.ie(a);break;case "plugin":e=b.yc(a)}return e===f?!1:!0}static ib(a,b,f,c){if(!f)return b=c.Ea,b=c.je().bn(b),b.Vb();var e=c.uh();"default"===e&&(e="continuous");"combo"===c.Ea.ya&&(e="discrete");if("discrete"===e)return b.Vb();if("continuous"===e||"step"===e){"step"===e&&(c=c.Ub().js(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.Ca(),h=f.Ca();c=b.Vb();f=f.Vb();if(e=b.tB("angle")){const m=e.VG;if(c===f&&0===m)return c;a=d.normalize(a,k,h);b=self.Or.cn(b.wl())(a,0,1,1);switch(e.gF){case "closest":return d.IH(c,f,b,m);case "clockwise":return d.t$(c,f,b,m);case "anti-clockwise":return d.s$(c,f,b,m)}}else{if(c===f)return c;a=d.normalize(a,k,h);b=self.Or.cn(b.wl());return d.IH(c,f,b(a,0,1,1))}}}}}"use strict";
self.B.Ya.UI=class{constructor(){}static qk(d,a,b,f){let c;switch(f){case "behavior":c=a.yc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ie(d);break;case "plugin":c=a.yc(d)}return!!c===!!b?!1:!0}static ib(d,a,b,f){return b?a.Vb()?1:0:(d=f.Ea,d=f.je().bn(d),d.Vb()?1:0)}};
{"use strict";const d=self.B,a=[0,0,0],b=[0,0,0],f=[0,0,0];d.Ya.cJ=class{constructor(){}static qk(c,e,k,h){let m;switch(h){case "behavior":m=e.yc(c);break;case "effect":m=e[c];break;case "instance-variable":m=e.ie(c);break;case "plugin":m=e.yc(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(f.VR(k),a[0]=Math.floor(255*f.Ra),a[1]=Math.floor(255*f.Ua),a[2]=Math.floor(255*f.Ta));Array.isArray(m)?(b[0]=m[0],b[1]=m[1],b[2]=m[2]):(f.VR(m),b[0]=Math.floor(255*f.Ra),b[1]=Math.floor(255*f.Ua),b[2]=Math.floor(255*
f.Ta));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static ib(c,e,k,h){if(!k)return e=h.Ea,e=h.je().bn(e),e=e.Vb(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;var m=h.uh();"default"===m&&(m="continuous");if("discrete"===m)return e=e.Vb(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;if("continuous"===m||"step"===m){"step"===m&&(h=h.Ub().js(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=e.Ca();m=k.Ca();var n=e.Vb(),p=k.Vb();const r=d.normalize(c,h,m);c=n[0];k=n[1];n=n[2];const v=p[0],x=p[1];p=p[2];e=self.Or.cn(e.wl());h=m-h;
m=h*r;a[0]=c===v?c:e(m,c,v-c,h);a[1]=k===x?k:e(m,k,x-k,h);a[2]=n===p?n:e(m,n,p-n,h);return a}}}}"use strict";self.B.Ya.nM=class{constructor(){}static qk(d,a,b,f){let c;switch(f){case "behavior":c=a.yc(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ie(d);break;case "plugin":c=a.yc(d)}return c===b?!1:!0}static ib(d,a,b,f){return b?a.Vb():(d=f.Ea,d=f.je().bn(d),d.Vb())}};
{"use strict";const d=self.B;d.Vf=class{constructor(){this.Nu=new Map}j(){for(const a of this.Nu.values())a.j();this.Nu.clear();this.Nu=null}vc(a){a=new d.f1(a);this.Nu.set(a.Y,a)}$(a){return this.Nu.get(a)}static Rs(a,b,f,c){if(b)for(const e of b)d.Vf.QM("create",e,a,f,c)}static Zs(a,b,f,c){a.length?b.forEach((e,k)=>{a[k].ra(e)}):b.forEach(e=>{d.Vf.QM("load",e,a,f,c)})}static QM(a,b,f,c,e){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}else if("object"===
typeof c)switch(c=c.map.get(b[c.YR]),a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}switch(a){case "load":k.ra(b);f.push(k);break;case "create":"function"!==typeof k.Uj||k.Uj()?f.push(k):k.j()}}}}
{"use strict";const d=self.B;d.f1=class{constructor(a){this.Y="";this.iA=NaN;this.dA=0;this.Af=this.yf="default";this.Iz=this.zz=!1;this.Mq=1;this.ye=null;a&&(this.Y=a[0],this.iA=a[1],this.dA=a[2],this.yf=a[3],this.Af=a[4],this.zz=!!a[6],this.Iz=!!a[7],this.Mq=a[8],this.ye=new d.oM(a[5],this))}j(){this.ye.j();this.ye=null}xw(){this.ye||(this.ye=new d.oM(null,this));return this.ye}gx(a){this.Y=a}td(){return this.iA}js(){return this.dA}uh(){return this.yf}yh(){return this.Af}hp(){return this.zz}jp(){return this.Iz}yl(){return this.Mq}ja(){return{trackDataJson:this.ye.ja(),
name:this.Y,totalTime:this.iA,step:this.dA,interpolationMode:this.yf,resultMode:this.Af,loop:this.zz,pingPong:this.Iz,repeatCount:this.Mq}}ra(a){a&&(this.xw().ra(a.trackDataJson),this.Y=a.name,this.iA=a.totalTime,this.dA=a.step,this.yf=a.interpolationMode,this.Af=a.resultMode,this.zz=a.loop,this.Iz=a.pingPong,this.Mq=a.repeatCount)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.ye=f;this.Jn=this.Uy=null;this.Qk=this.Fk=NaN;this.Af=this.yf="default";this.$f=!1;this.Zc=this.ri=null;this.se="";this.Bq=null;this.jH=0;this.xz=this.ye.$d.td();b&&(this.Uy=b[0],this.Fk=b[0][2],this.Qk=b[0][1],this.yf=b[1],this.Af=b[2],this.$f=!!b[3],b[6]&&(this.se=b[6]),b[7]&&(this.Bq=b[7],this.jH=b[7][0],this.xz=b[7][1]),b[8]&&(this.Jn=b[8]),this.ri=new d.FK(b[4],this),this.Zc=new d.mL(b[5],this))}j(){this.ye=this.Uy=null;this.ri&&(this.ri.j(),
this.ri=null);this.Zc&&(this.Zc.j(),this.Zc=null);this.Bq=null}xw(){return this.ye}wh(){this.ri||(this.ri=new d.FK(null,this));return this.ri}je(){this.Zc||(this.Zc=new d.mL(null,this));return this.Zc}OB(){return this.Qk}es(){return this.Fk}uh(){return this.yf}yh(){return this.Af}Uj(){return this.$f}mk(b){this.$f=!!b}Ni(){return this.se}lf(){return this.jH}Vj(){return this.xz}Ri(){return this.Jn[0]}Qi(){this.Jn||(this.Jn=[]);return this.Jn[1]}ja(){return{keyframeDataJson:this.ri.ja(),propertyTrackDataJson:this.Zc.ja(),
instanceData:this.Uy,additionalInstanceData:this.Jn,instanceUid:this.Fk,objectClassIndex:this.Qk,interpolationMode:this.yf,resultMode:this.Af,enabled:this.$f,id:this.se,nestedData:this.Bq}}ra(b){b&&(this.Uy=b.instanceData,this.Fk=b.instanceUid,this.Qk=b.objectClassIndex,this.yf=b.interpolationMode,this.Af=b.resultMode,this.$f=b.enabled,this.se=b.id,this.xz=this.ye.$d.td(),b.nestedData&&(this.Bq=b.nestedData,this.jH=this.Bq[0],this.xz=this.Bq[1]),b.additionalInstanceData&&(this.Jn=b.additionalInstanceData),
this.wh().ra(b.keyframeDataJson),this.je().ra(b.propertyTrackDataJson))}}d.oM=class{constructor(b,f){this.$d=f;this.Go=[];this.eu=new Map;d.Vf.Rs(this.Go,b,a,this)}j(){this.$d=null;for(const b of this.Go)b.j();d.D(this.Go);this.Go=null;this.eu.clear();this.eu=null}eW(b,f){const c=this.eu.get(f);if(c&&c.has(b))return c.get(b);for(const e of f.wh().QR())if(e.Ca()===b)return c||this.eu.set(f,new Map),this.eu.get(f).set(b,e),e}OV(b,f){for(const c of f.wh().QR())if(c.Ca()>=b)return c}PV(b,f){for(const c of f.wh().naa())if(c.Ca()<=
b)return c}*cba(){for(const b of this.Go)yield b}ja(){return{trackDataItemsJson:this.Go.map(b=>b.ja())}}ra(b){b&&d.Vf.Zs(this.Go,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.Zc=f;this.Wz="";this.ya=this.nd=this.ig=null;this.uG=this.yG=NaN;this.Af=this.yf="default";this.$f=!1;this.yj=null;b&&(this.Wz=b[0][0],this.ig=b[0].slice(1),this.nd=b[1],this.ya=b[2],this.yG=b[3],this.uG=b[4],this.yf=b[5],this.Af=b[6],this.$f=!!b[7],this.yj=new d.lL(b[8],this))}j(){this.yj.j();this.ig=this.Zc=this.yj=null}je(){return this.Zc}xh(){this.yj||(this.yj=new d.lL(null,this));return this.yj}sd(){return this.Wz}eM(b){this.ya=b}uh(){return this.yf}yh(){return this.Af}Uj(){return this.$f}mk(b){this.$f=
!!b}ja(){return{propertyKeyframeDataJson:this.yj.ja(),sourceAdapterId:this.Wz,sourceAdapterArguments:this.ig,property:this.nd,type:this.ya,min:this.yG,max:this.uG,interpolationMode:this.yf,resultMode:this.Af,enabled:this.$f}}ra(b){b&&(this.Wz=b.sourceAdapterId,this.ig=b.sourceAdapterArguments,this.nd=b.property,this.ya=b.type,this.yG=b.min,this.uG=b.max,this.yf=b.interpolationMode,this.Af=b.resultMode,this.$f=b.enabled,this.xh().ra(b.propertyKeyframeDataJson))}}d.mL=class{constructor(b,f){this.Sb=
f;this.xo=[];this.uu=new Map;d.Vf.Rs(this.xo,b,a,this)}j(){this.Sb=null;for(const b of this.xo)b.j();d.D(this.xo);this.xo=null;this.uu.clear();this.uu=null}hw(b){return b.xh().pc[0]}bn(b){b=b.xh().pc;return b[b.length-1]}RB(b,f){const c=this.uu.get(f);if(c&&c.has(b))return c.get(b);const e=f.xh();for(const k of e.uI())if(k.Ca()===b)return c||this.uu.set(f,new Map),this.uu.get(f).set(b,k),k}LJ(b,f){f=f.xh();for(const c of f.uI())if(c.Ca()>b)return c}GB(b,f){f=f.xh();for(const c of f.uI())if(c.Ca()>=
b)return c}HB(b,f){f=f.xh();for(const c of f.Eaa())if(c.Ca()<=b)return c}*Gaa(){for(const b of this.xo)yield b}ja(){return{propertyTrackDataItemsJson:this.xo.map(b=>b.ja())}}ra(b){b&&d.Vf.Zs(this.xo,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.ri=f;this.sc=-1;this.ei="noease";this.fi=!1;this.ku=this.kg=null;b&&(this.sc=b[0],this.ei=b[1],this.fi=!!b[2],this.kg=(b=b[3])?b.split(" "):[],this.ku=new Set(this.kg.map(c=>c.toLowerCase())))}j(){this.ri=null;d.D(this.kg);this.kg=null;this.ku.clear();this.ku=null}wh(){return this.ri}Ca(){return this.sc}Jp(b){this.sc=b}wl(){return this.ei}dj(b){this.ei=b}Uj(){return this.fi}mk(b){this.fi=!!b}cM(b){this.kg=b?b.split(" "):[];this.ku=new Set(this.kg.map(f=>
f.toLowerCase()))}ja(){return{time:this.sc,ease:this.ei,enable:this.fi,tags:this.kg}}ra(b){b&&(this.sc=b.time,this.ei=b.ease,this.fi=b.enable,this.kg=b.tags,this.ku=new Set(this.kg.map(f=>f.toLowerCase())))}}d.FK=class{constructor(b,f){this.Sb=f;this.oc=[];d.Vf.Rs(this.oc,b,a,this)}j(){this.Sb=null;for(const b of this.oc)b.j();d.D(this.oc);this.oc=null}uS(){const b=new a(null,this);this.oc.push(b);return b}TT(b){for(const f of this.oc){if(!b(f))continue;const c=this.oc.indexOf(f);-1!==c&&(f.j(),this.oc.splice(c,
1))}this.U0()}U0(){this.oc.sort((b,f)=>b.Ca()-f.Ca())}gW(b){return this.oc.indexOf(b)}fW(b){return this.oc[b]}*QR(){for(const b of this.oc)yield b}*naa(){for(let b=this.oc.length-1;0<=b;b--)yield this.oc[b]}ja(){return{keyframeDataItemsJson:this.oc.map(b=>b.ja())}}ra(b){b&&d.Vf.Zs(this.oc,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(b,f){this.yj=f;this.Hg=this.ad=null;this.ya="";this.sc=NaN;this.ei="noease";this.fi=!1;this.Uh=null;b&&(this.ad=b[0][0],this.Hg=b[0][1],this.ya=b[0][2],this.sc=b[1],this.ei=b[2],this.fi=!!b[3],this.Uh=null,b[4]&&(this.Uh=new d.GS(b[4],this)))}j(){this.yj=null;this.Uh&&(this.Uh.j(),this.Uh=null)}xa(){return this.ad}Sf(b){"color"===this.ya&&d.Cl(b)?(this.ad[0]=d.TB(b),this.ad[1]=d.JB(b),this.ad[2]=d.vB(b)):this.ad=b}GL(b){"color"===this.ya&&d.Cl(b)?(this.Hg[0]=
d.TB(b),this.Hg[1]=d.JB(b),this.Hg[2]=d.vB(b)):this.Hg=b}Vb(){const b=this.yj.Ea.yh();if("relative"===b)return this.xa();if("absolute"===b)return this.Hg}eM(b){this.ya=b}Ca(){return this.sc}Jp(b){this.sc=b}wl(){return this.ei}dj(b){this.ei=b}Uj(){return this.fi}mk(b){this.fi=!!b}tB(b){if(this.Uh)for(const f of this.Uh.n$())if(f.Ni()===b)return f}ja(){const b=this.Uh;return{addonDataJson:b?b.ja():b,value:this.ad,aValue:this.Hg,type:this.ya,time:this.sc,ease:this.ei,enable:this.fi}}ra(b){b&&(b.addonDataJson&&
this.Uh.Ika(b.addonDataJson),this.ad=b.value,this.Hg=b.aValue,this.ya=b.type,this.sc=b.time,this.ei=b.ease,this.fi=b.enable)}}d.lL=class{constructor(b,f){this.Ea=f;this.pc=[];d.Vf.Rs(this.pc,b,a,this)}j(){this.Ea=null;for(const b of this.pc)b.j();d.D(this.pc);this.pc=null}vS(){const b=new a(null,this);this.pc.push(b);return b}VT(b){for(const f of this.pc){if(!b(f))continue;const c=this.pc.indexOf(f);-1!==c&&(f.j(),this.pc.splice(c,1))}this.V0()}V0(){this.pc.sort((b,f)=>b.Ca()-f.Ca())}*uI(){for(const b of this.pc)yield b}*Eaa(){for(let b=
this.pc.length-1;0<=b;b--)yield this.pc[b]}ja(){return{propertyKeyframeDataItemsJson:this.pc.map(b=>b.ja())}}ra(b){b&&d.Vf.Zs(this.pc,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.B;class a{constructor(c,e){this.Uh=e;this.se=c[0];this.Ak=c[1]}j(){this.Ak=this.Uh=null}Ni(){return this.se}ja(){return{id:this.se,data:this.Ak}}ra(c){c&&(this.se=c.id,this.Ak=c.data)}}class b extends a{constructor(c,e){super(c,e);this.iH=this.Ak[0];this.Gu=!!this.Ak[1];this.mF=this.Ak[2];this.yy=!!this.Ak[3]}j(){super.j()}ja(){return Object.assign(super.ja(),{startAnchor:this.iH,startEnable:!!this.Gu,endAnchor:this.mF,endEnable:!!this.yy})}ra(c){c&&(super.ra(c),this.iH=
c.startAnchor,this.Gu=!!c.startEnable,this.mF=c.endAnchor,this.yy=!!c.endEnable)}}class f extends a{constructor(c,e){super(c,e);this.gF=this.Ak[0];this.VG=this.Ak[1]}j(){super.j()}ja(){return Object.assign(super.ja(),{direction:this.gF,revolutions:this.VG})}ra(c){c&&(super.ra(c),this.gF=c.direction,this.VG=c.revolutions)}}d.GS=class{constructor(c){this.Kn=[];d.Vf.Rs(this.Kn,c,{YR:0,map:new Map([["cubic-bezier",b],["angle",f]])},this)}j(){for(const c of this.Kn)c.j();d.D(this.Kn);this.Kn=null}*n$(){for(const c of this.Kn)yield c}ja(){return{addonDataItemsJson:this.Kn.map(c=>
c.ja())}}ra(c){c&&d.Vf.Zs(this.Kn,c.addonDataItemsJson,{YR:"id",map:new Map([["cubic-bezier",b],["angle",f]])},this)}}}
{"use strict";const d=self.B;let a=0;d.m1=class extends d.Fd{constructor(b,f){super(`tween-${a++}`,b,f);this.se="";this.hP=!1;this.KF="start-value";this.FQ=this.EQ=null}Ba(){var b=this.Db;if(b&&b.length&&(b=b[0])){var f=b.Ba();return b.fk()?f:null}}Ni(){return this.se}cL(){if(this.FQ)for(const b of this.FQ)b(this);if(!this.vf)for(const b of this.Db)b.nh()}UK(){this.Yp=this.g.Aj}wJ(){if(!this.Zn&&(this.Zn=!0,this.EQ))for(const b of this.EQ)b(this)}Jp(b){this.UM();super.Jp(b)}Xc(b){if(!this.km&&"current-state"===
this.KF)for(const f of this.Db)f.mh();super.Xc(b)}Eg(b=!1){super.Eg(b);if(!this.vf)for(const f of this.Db)f.yn()}kd(b=!0,f=!1){this.UM();super.kd(b,f)}UM(){for(const b of this.Db){const f=c=>{c=c.Ca();const e=this.td();return 0!==c&&c!==e};b.UT(f);b.mB(f)}}Ix(){if(this.Wg)return!0;const b=this.Ba();if(b&&b.H().Of())return!1;this.tb.Mv(this);this.zL();return!0}OK(){}ne(){const b=this.Ba();super.ne(this.G().ds(b),1)}ja(){const b=super.ja();return Object.assign(b,{tweenDataItemJson:this.$d.ja(),id:this.se,
destroyInstanceOnComplete:this.hP,initialValueMode:this.KF})}ra(b){b&&(this.$d.ra(b.tweenDataItemJson),super.ra(b),this.se=b.id,this.hP=b.destroyInstanceOnComplete,this.KF=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.B,a=self.Or;d.rM=class extends d.da{constructor(b){super();this.Y=b[0];this.ah=[];for(const f of b[1])b=d.sM.Pa(this,f),this.ah.push(b);this.su=new Map;this.jA=new Map;this.q6();a.tS(this.Y,(f,c,e,k)=>this.ib(f,c,e,k))}static Pa(b){return d.A(d.rM,b)}j(){for(const b of this.ah)b.j();d.D(this.ah);this.ah=null;this.su.clear();this.su=null;this.jA.clear();this.jA=null}BW(b){const f=this.jA.get(b);if(f)return f;for(const c of this.ah)if(c.Ae===b)return this.jA.set(b,c),c}SV(b){for(const f of this.ah)if(f.Ae>
b)return f}RV(b){for(const f of this.ah)if(f.Ae>=b)return f}TV(b){for(let f=this.ah.length-1;0<=f;f--){const c=this.ah[f];if(c.Ae<=b)return c}}ib(b,f,c,e){var k=b/e;(b=this.BW(k))?e=this.SV(k):(b=this.TV(k),e=this.RV(k));k=d.taa(k,b.Ae,e.Ae,e.Ae-b.Ae);const h=b.Ae,m=b.Vu,n=b.Ae+b.fR,p=b.Vu+b.d$,r=e.Ae+e.oP,v=e.Vu+e.l9,x=e.Ae;e=e.Vu;e=a.cn("spline")(k,h,m,n,p,r,v,x,e,this.su.get(b));e+=b.Vu;return(1-e)*f+e*(f+c)}q6(){this.su.clear();for(let f=0;f<this.ah.length-1;f++){var b=this.ah[f];if(!b.Gu)continue;
const c=this.ah[f+1];this.su.set(b,a.tV(b.Ae,b.Ae+b.fR,c.Ae+c.oP,c.Ae))}}}}{"use strict";const d=self.B;d.sM=class extends d.da{constructor(a,b){super();this.Ae=b[0];this.Vu=b[1];this.fR=b[2];this.d$=b[3];this.oP=b[4];this.l9=b[5];this.Gu=b[6];this.yy=b[7]}j(){}static Pa(a,b){return d.A(d.sM,a,b)}}}{"use strict";const d=self.B;d.k1=class extends d.da{constructor(a){super();this.g=a;this.kA=[]}j(){for(const a of this.kA)a.j();d.D(this.kA);this.kA=null}Pa(a){this.kA.push(d.rM.Pa(a))}}}
{"use strict";const d=self.B;d.T0=class extends d.da{constructor(a){super();this.J=a;this.fb=[];this.fb.push(d.A(d.iD,this));this.Qa=0;this.ai=this.fb[0]}j(){for(const a of this.fb)a.j();d.D(this.fb);this.J=this.ai=null}H(){return this.J}R(){return this.ai}Ic(){this.R().Ic()}ZZ(){var a=this.fb,b=++this.Qa;b===a.length?(b=d.A(d.iD,this),a.push(b),this.ai=b):(a=a[b],a.kd(),this.ai=a)}$Z(){const a=this.fb,b=++this.Qa;b===a.length&&a.push(d.A(d.iD,this));const f=a[b];f.xT(a[b-1]);this.ai=f}Ia(){this.ai=
this.fb[--this.Qa]}xn(a){const b=this.fb;for(let f=0,c=b.length;f<c;++f)b[f].xn(a)}}}
{"use strict";const d=self.B;d.iD=class extends d.da{constructor(a){super();this.fb=a;this.J=this.fb.H();this.xd=this.J.G().Jc();this.Lb=!0;this.F=[];this.Rb=[]}j(){this.Iv();this.xd=this.J=this.fb=null}Iv(){d.D(this.F);d.D(this.Rb)}H(){return this.J}ZB(){return this.Lb?!!this.J.F.length:!!this.F.length}ia(){return this.Lb?this.J.ia():this.F}KW(){return!!this.Rb.length}JJ(){const a=this.ia();return a.length?a:this.Rb}kd(){this.Lb=!0;d.D(this.Rb)}Ic(){this.Lb=!0}xT(a){a.Lb?this.kd():(this.Lb=!1,d.cd(this.F,
a.F),d.D(this.Rb))}Gn(a){this.F.push(a)}Xl(a){this.Rb.push(a)}Od(a){this.Lb=!!a}ej(a){this.Lb=!1;d.D(this.F);this.F.push(a)}As(a){this.Lb=!1;d.cd(this.F,a)}Js(a){this.Lb=!1;d.D(this.F);for(const b of a)this.F.push(b)}LI(a,b){for(const f of b)a.has(f)||this.Rb.push(f)}i1(a){for(const b of a)this.F.push(b);d.pg(this.Rb,a)}Il(a){a&&(this.xd.He().ub().zd?(this.Lb&&(d.D(this.F),d.cd(this.Rb,a.H().ia()),this.Lb=!1),a=this.Rb.indexOf(a),-1!==a&&(this.F.push(this.Rb[a]),this.Rb.splice(a,1))):this.ej(a))}xn(a){d.pg(this.F,
a);d.pg(this.Rb,a)}}}
{"use strict";const d=self.B;d.eV=class extends d.da{constructor(a){super();this.ua=a;this.g=this.ua.G();this.fb=[];this.fb.push(d.A(d.sJ,this,null));this.Qa=0;this.Ay=[]}j(){for(const a of this.fb)a.j();d.D(this.fb);d.D(this.Ay);this.g=this.ua=null}ga(){return this.ua}G(){return this.g}He(){return this.fb[this.Qa]}Ka(a){var b=this.fb;const f=++this.Qa;if(f===b.length)return a=d.A(d.sJ,this,a),b.push(a),a;b=b[f];b.kd(a);return b}Ia(){--this.Qa}a_(a){this.Ay.push(a)}TZ(){this.Ay.pop()}AV(){const a=this.Ay;
return 0===a.length?null:a[a.length-1]}}}
{"use strict";const d=self.B;d.sJ=class extends d.da{constructor(a,b){super();this.fb=a;this.g=this.fb.G();this.At=b;this.uf=this.yk=0;this.lF=this.po=!1;this.qF=null;this.xF=this.zP=0}j(){this.kd(null);this.g=this.fb=null}kd(a){this.At=a;this.uf=this.yk=0;this.lF=this.po=!1}eE(a,b){this.At=a;this.yk=0;this.uf=b}AL(){this.uf=this.yk=0}ub(){return this.At}Rf(a){this.At=a}Ol(a){this.yk=a}Yw(a){this.uf=a}Rl(a){this.po=!!a}Dp(a){this.lF=!!a}d0(a){this.qF=a}pX(a,b){this.zP=a;this.xF=b}Es(a){this.xF=a}$i(){const a=
this.At;return a.iz?!0:this.yk<a.Mb.length-1?!!a.ed().length:!1}}}{"use strict";const d=self.B;d.AY=class extends d.da{constructor(a){super();this.ua=a;this.g=this.ua.G();this.fb=[];this.Qa=-1;this.ai=null;this.Sy=[]}j(){d.D(this.fb);this.g=this.ua=null}T7(a){this.Sy=a;a=this.Sy.slice(0);this.fb.push(a);this.Qa=0;this.ai=a}ga(){return this.ua}G(){return this.g}cp(){return this.ai}Ka(){const a=++this.Qa,b=this.fb;a===b.length?b.push(this.Sy.slice(0)):d.cd(b[a],this.Sy);this.ai=b[a]}Ia(){this.ai=this.fb[--this.Qa]}}}
{"use strict";const d=self.B;d.CY=class extends d.da{constructor(a){super();this.ua=a;this.g=this.ua.G();this.fb=[];this.Qa=-1}j(){d.D(this.fb);this.g=this.ua=null}ga(){return this.ua}G(){return this.g}zK(){return 0<=this.Qa}cp(){return this.fb[this.Qa]}Ka(){++this.Qa;if(this.Qa===this.fb.length){var a=d.A(d.BY,this);this.fb.push(a);return a}a=this.fb[this.Qa];a.kd();return a}Ia(){--this.Qa}jV(a){const b=this.fb;for(let f=this.Qa;0<=f;--f){const c=b[f];if(c.Y===a)return c}return null}}}
{"use strict";const d=self.B;d.BY=class extends d.da{constructor(a){super();this.Ve=a;this.Y="";this.Qa=0;this.Wb=!1}kd(){this.Y="";this.Qa=0;this.Wb=!1}gx(a){this.Y=a}kc(a){this.Qa=a}Da(){return this.Qa}Eg(){this.Wb=!0}}}{"use strict";const d=self.B;d.OS=class extends d.da{constructor(){super();this.fb=[];this.Qa=-1}j(){d.D(this.fb)}cp(){return this.fb[this.Qa]}Ka(){++this.Qa;if(this.Qa===this.fb.length){const a=[];this.fb.push(a);return a}return this.fb[this.Qa]}Ia(){--this.Qa}}}
{"use strict";const d=self.B;function a(b,f){return b.Da()-f.Da()}d.dV=class extends d.da{constructor(b){super();this.g=b;this.kt=[];this.aH=new Map;this.HE=[];this.DP=new Map;this.VE=new Map;this.aF=new Map;this.Xx=new Map;this.WO=new Map;this.oF=new Map;this.S9=0;this.GE=[];this.Q8=[];this.sQ=[];this.vF=new Map;this.xd=d.A(d.eV,this);this.Yc=d.A(d.AY,this);this.Ve=d.A(d.CY,this);this.rH=[];this.Pz=[];this.Oz=[];this.UE=this.Dk=this.Yk=0;this.Bf=[];this.ey=[];self.c3_callFunction=(f,c)=>this.Gx(f,
c)}j(){this.Hv();this.xd.j();this.xd=null;this.Yc.j();this.Yc=null;d.D(this.Pz);d.D(this.Oz);this.g=null;d.D(this.kt);this.aH.clear()}Pa(b){b=d.A(d.cV,this,b);this.kt.push(b);this.aH.set(b.Y.toLowerCase(),b)}c2(b){this.rH.push(b)}Cb(){for(const b of this.vF.values())b.Cb(!1);for(const b of this.kt)b.Cb();for(const b of this.kt)b.uE();for(const b of this.rH)b.Cb(!1);d.D(this.rH);this.Yc.T7(this.sQ)}G(){return this.g}IJ(b){return this.aH.get(b.toLowerCase())||null}C6(b){this.HE.push(b);this.DP.set(b.CP,
b)}z6(b){this.VE.set(b.cb,b)}y6(b){this.aF.set(b.cb,b)}x6(b){this.Xx.set(b.cb,b)}B6(b){this.vF.set(b.Ky.toLowerCase(),b)}A6(b){this.oF.set(b.cb,b);b.Of()?this.GE.push(b):this.Q8.push(b)}wx(b){2<=b.length&&b.sort(a);let f=this.WO.get(b.length);f||(f=[],this.WO.set(b.length,f));for(let e=0,k=f.length;e<k;++e){const h=f[e];a:{for(let m=0,n=b.length;m<n;++m)if(b[m]!==h[m]){var c=!1;break a}c=!0}if(c)return h}f.push(b);return b}j4(b){this.sQ.push(b.fo);return this.S9++}Jc(){return this.xd}Ge(){return this.Jc().He()}ub(){return this.Ge().ub()}gf(){const b=
this.Ge();return b.ub().EJ(b.yk)}$r(){const b=this.Ge();return b.ub().AJ(b.uf)}qV(b){const f=[];for(b=b.lp();b;)d.Oo(f,b.iN()),b=b.lp();return f}rN(b){const f={};for(const c of this.qV(b))f[c.vh()]=c.tN();return Object.create(Object.prototype,f)}DB(b){return this.oF.get(b)||null}FV(b){return this.VE.get(b)||null}oV(b){return this.Xx.get(b)||null}jw(b){return this.vF.get(b.toLowerCase())||null}u_(){for(const b of this.GE)b.z_()}HJ(b){return this.DP.get(b.toLowerCase())||null}GV(b){return(b=this.VE.get(b))&&
b.oi?b:null}v_(){for(const b of this.HE)b.w_()}jO(){for(const b of this.kt)b.Q6()}E_(b){this.jO();this.Yk++;for(const f of b.uv())if(b=f.Cc)this.g.xs(f),b.ma(),this.g.ws();this.Yk--}async OT(b){this.jO();this.Yk++;for(const f of this.a3(b))await this.g.$o(f);this.Yk--}*a3(b){for(const f of b.uv())if(b=f.Cc)this.g.xs(f),yield*b.hb(),this.g.ws()}jt(b,f,c,e){let k=!1;if(!b.Fb())return this.EC(f,c,e);this.Dk++;for(const h of b.uv())if(b=h.Cc){this.g.xs(h);for(const m of b.ry){const n=m.jt(f,c,e);k=k||
n}b=b.jt(f,c,e);k=k||b;this.g.ws()}this.Dk--;return k}*Ts(b,f,c,e){let k=!1;if(!b.Fb())return this.EC(f,c,e);this.Dk++;for(const h of b.uv())if(b=h.Cc){this.g.xs(h);for(const m of b.ry){const n=yield*m.Ts(f,c,e);k=k||n}b=yield*b.Ts(f,c,e);k=k||b;this.g.ws()}this.Dk--;return k}EC(b,f,c){this.Pz.push([b,f,c]);return!1}c_(b,f,c){let e=null;const k=new Promise(h=>e=h);this.Oz.push([b,f,c,e]);return k}*a7(){if(this.g.os())throw Error("should not be in breakpoint");const b=this.g.Wa;for(;this.Oz.length;){const [f,
c,e,k]=this.Oz.shift(),h=yield*this.Ts(b,f,c,e);k(h)}}async CL(){for(const b of this.a7())await this.g.$o(b)}pC(){return 0<this.Dk}Xs(){return++this.Dk}Us(){--this.Dk}dY(){return 0<this.Yk}Jw(){return this.dY()||this.pC()}b7(b){for(const [f,c,e]of this.Pz)this.jt(b,f,c,e);d.D(this.Pz)}de(b){b?this.UE++:this.UE--}xK(){return 0<this.UE}Zo(b){for(let f=0,c=b.length;f<c;++f)b[f].wm.Ic()}Pf(b){for(let f=0,c=b.length;f<c;++f)b[f].wm.ZZ()}ke(b){for(let f=0,c=b.length;f<c;++f)b[f].wm.$Z()}Bb(b){for(let f=
0,c=b.length;f<c;++f)b[f].wm.Ia()}XA(){const b=d.A(d.QC,this);this.Bf.push(b);return b}G_(){if(this.Bf.length){var b=this.Ge(),f=!1;this.Yk++;for(let c=0,e=this.Bf.length;c<e;++c){const k=this.Bf[c];k.HO()&&k.S6(b);k.Cu&&(f=!0)}f&&this.eN();this.Yk--}}async QT(){if(this.Bf.length){var b=this.Ge(),f=!1;this.Yk++;for(let c=0,e=this.Bf.length;c<e;++c){const k=this.Bf[c];k.HO()&&await k.U2(b);k.Cu&&(f=!0)}f&&this.eN();this.Yk--}}eN(){const b=d.v$(this.Bf,f=>f.Cu);for(const f of b)f.j()}Hv(){for(const b of this.Bf)b.j();
d.D(this.Bf)}k_(b){for(const f of this.Bf)f.xn(b)}UA(b){this.ey.push(b)}Jv(){d.D(this.ey)}uW(){const b=Promise.all(this.ey);this.ey=[];return b}ja(){return{groups:this.i7(),cnds:this.h7(),acts:this.g7(),vars:this.t7(),waits:this.p7()}}ra(b){this.a5(b.groups);this.V4(b.cnds);this.U4(b.acts);this.m5(b.vars);this.i5(b.waits)}i7(){const b={};for(const f of this.HE)b[f.cb.toString()]=f.op();return b}a5(b){for(const [f,c]of Object.entries(b))(b=this.GV(parseInt(f,10)))&&b.Ep(c)}h7(){const b={};for(const [f,
c]of this.aF){const e=c.ja();e&&(b[f.toString()]=e)}return b}V4(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.aF)e.ra(f.get(c)||null)}g7(){const b={};for(const [f,c]of this.Xx){const e=c.ja();e&&(b[f.toString()]=e)}return b}U4(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.Xx)e.ra(f.get(c)||null)}t7(){const b={};for(const [f,c]of this.oF)c.nb||!c.Of()&&!c.Qg||(b[f.toString()]=c.xa());return b}m5(b){for(const [f,
c]of Object.entries(b))(b=this.DB(parseInt(f,10)))&&b.Sf(c)}p7(){return this.Bf.filter(b=>!b.bY()).map(b=>b.ja())}i5(b){this.Hv();for(const f of b)(b=d.QC.z2(this,f))&&this.Bf.push(b)}rB(b){for(;b;)if(b=b.lp(),b instanceof d.Ur)return b;return null}Gx(b,f){Array.isArray(f)||(f=[]);b=this.jw(b.toLowerCase());if(!b)return null;if(!b.qn())return b.cs();var c=b.ag;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].fo);while(f.length<c.length)}c=b.he();return c.NC(c.fd(),b.Wk,b.cs(),...f)}}}
{"use strict";const d=self.B;d.cV=class extends d.da{constructor(a,b){super();this.ua=a;this.g=a.G();this.Y=b[0];this.zy=[];this.nA=new Map;this.uP=new Map;this.m9=new Map;this.Jt=!1;this.YQ=[];this.ry=[];this.XO=new Set;for(const f of b[1])this.RM(f,null,this.zy);this.vi=this.g.lb?{type:"sheet",name:this.Y,wv:0,children:[]}:null}j(){this.g=this.ua=null}RM(a,b,f){switch(a[0]){case 0:case 3:this.x2(a,b,f);break;case 1:this.y2(a,b,f);break;case 2:this.C2(a,b,f);break;case 4:this.A2(a,b);break;case 5:this.H2(a,
b,f);break;default:throw Error("invalid event type");}}x2(a,b,f){a=d.Pj.Pa(this,b,a);if(a.zd){f.push(a);f=a.Mb;for(let c=0,e=f.length;c<e;++c)f[c].sn()&&this.EN(a,c)}else a.sn()?this.EN(a,0):f.push(a)}A2(a,b){a=d.Ur.Pa(this,b,a);this.ua.B6(a)}y2(a,b,f){a=d.Wv.Pa(this,b,a);f.push(a)}C2(a,b,f){a=d.rJ.Pa(this,b,a);f.push(a)}H2(a,b,f){a=d.Vv.Pa(this,b,a);f.push(a)}EN(a,b){a.zd||this.ua.c2(a);var f=a.EJ(b),c=f.Fa,e=f.H();if(f.YP){var k=this.uP.get(e);k||(k=new Map,this.uP.set(e,k));f=f.KV().toLowerCase();
e=k.get(c);e||(e=new Map,k.set(c,e));c=e.get(f);c||(c=[],e.set(f,c));c.push([a,b])}else k=this.nA.get(e),k||(k={hI:new Map,av:new Map},this.nA.set(e,k)),(e=f.sg())?(f=k.av.get(e),f||(f=new Map,k.av.set(e,f))):f=k.hI,k=f.get(c),k||(k=[],f.set(c,k)),k.push([a,b])}Cb(){const a=this.zy;for(let b=0,f=a.length;b<f;++b)a[b].Cb(b<f-1&&a[b+1]instanceof d.Pj&&a[b+1].Iw())}b2(a){this.YQ.push(a)}uE(){d.D(this.ry);this.CM(this);this.XO.clear()}CM(a){const b=a.ry,f=a.XO;for(const c of this.YQ){const e=c.Ot;c.xb&&
a!==e&&!f.has(e)&&(f.add(e),e.CM(a),b.push(e))}}ga(){return this.ua}G(){return this.g}eO(a,b){this.m9.set(b,a)}Q6(){this.Jt=!1}ma(){if(!this.Jt){var a=this.g,b=a.jC(),f=b?performance.now():0;this.Jt=!0;var c=this.ga(),e=c.Ge();for(const k of this.zy)k.ma(e),c.Zo(k.ed()),c.Jv(),a.Dd();e.kd(null);b&&(this.vi.wv+=performance.now()-f)}}*hb(){if(!this.Jt){this.Jt=!0;var a=this.g,b=this.ga(),f=b.Ge();for(const c of this.zy)yield*c.hb(f),b.Zo(c.ed()),b.Jv(),a.Dd();f.kd(null)}}jt(a,b,f){if(b){const c=b.H();
this.sE(a,b,c,f);for(const e of c.Mg)this.sE(a,b,e,f)}else return this.sE(a,b,null,null)}sE(a,b,f,c){f=this.nA.get(f);if(!f)return!1;c=c?f.av.get(c):f.hI;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [e,k]of c)c=this.dN(b,e,k),a=a||c;return a}*Ts(a,b,f){if(b){const c=b.H();yield*this.GD(a,b,c,f);for(const e of c.Mg)yield*this.GD(a,b,e,f)}else return yield*this.GD(a,b,null,null)}*GD(a,b,f,c){f=this.nA.get(f);if(!f)return!1;c=c?f.av.get(c):f.hI;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;
for(const [e,k]of c)c=e.ee()?this.dN(b,e,k):yield*this.O2(b,e,k),a=a||c;return a}dN(a,b,f){const c=this.g,e=this.ua,k=e.ub(),h=e.Jc(),m=e.Dk;let n=!1;k&&e.Pf(k.fd());e.Pf(b.fd());const p=1<m;p&&e.Yc.Ka();const r=h.Ka(b);a&&(b.Mb[f].H().R().ej(a),a.Xb()&&a.Jh());a=!0;if(b.za()){const v=b.Ho;for(let x=0,w=v.length;x<w;++x)if(!v[x].BL(r)){a=!1;break}}a&&(c.ek(),b.zd?b.F_(r,f):b.ma(r),n=r.po);h.Ia();p&&e.Yc.Ia();e.Bb(b.fd());k&&e.Bb(k.fd());k||1!==m||(e.Jv(),e.xK()||c.Dd());return n}*O2(a,b,f){const c=
this.g,e=this.ua,k=e.ub(),h=e.Jc(),m=e.Dk;let n=!1;k&&e.Pf(k.fd());e.Pf(b.fd());const p=1<m;p&&e.Yc.Ka();const r=h.Ka(b);a&&(b.Mb[f].H().R().ej(a),a.Xb()&&a.Jh());a=!0;if(b.za()){const v=b.Ho;for(let x=0,w=v.length;x<w;++x)if(!(yield*v[x].jJ(r))){a=!1;break}}a&&(c.ek(),b.zd?yield*b.PT(r,f):yield*b.hb(r),n=r.po);h.Ia();p&&e.Yc.Ia();e.Bb(b.fd());k&&e.Bb(k.fd());k||1!==m||(e.Jv(),e.xK()||c.Dd());return n}}}
{"use strict";const d=self.B,a=[];function b(){return!0}function*f(){return!0}d.Pj=class extends d.da{constructor(c,e,k){super();this.Cc=c;this.g=c.G();this.ec=e;this.Id=null;this.xd=this.g.ga().Jc();this.we=[];this.Oq=[];this.Ht=this.kz=this.iz=this.IP=!1;this.zd=!!k[2];this.Zy=!1;this.Ho=null;this.Mb=[];this.Wf=[];this.$g=[];this.Sh=b;this.Dn=f;this.XF=this.oi=!1;this.CP="";this.az=!1;this.vi=this.oy=null;this.cb=k[4];this.gq=k[5];this.Cc.eO(this,this.gq);this.Ma=this.g.lb?{Hc:k[3][0],bI:k[3][1],
zR:!1,MH:!1,NH:!1,AR:!1}:null;this.ga().z6(this);3===k[0]&&this.B4(k[1]);c=0;for(var h of k[6])e=d.dJ.Pa(this,h,c++),this.Mb.push(e),this.HM(e.H());c=0;for(const m of k[7])h=d.Av.Pa(this,m,c++),this.Wf.push(h);if(9===k.length){k=k[8];for(const m of k)this.Cc.RM(m,this,this.$g)}this.Mb.length&&(this.Zy=null===this.Mb[0].H()&&this.Mb[0].Fa===d.C.La.I.pJ);0===this.Mb.length&&(this.Mb=a);0===this.Wf.length&&(this.Wf=a);0===this.$g.length&&(this.$g=a)}static Pa(c,e,k){return d.A(d.Pj,c,e,k)}B4(c){this.oi=
!0;this.az=this.XF=!!c[0];this.CP=c[1].toLowerCase();this.oy=[];this.ga().C6(this);this.g.lb&&(this.vi={type:"group",name:c[1],wv:0,children:[]})}T1(c){this.oy.push(c)}BM(c,e){for(const k of c.$h.Sk)e.includes(k)||e.push(k)}IM(c,e){if(c)if(e.includes(c)||e.push(c),c.Va)for(const k of c.Yn)k.Xb()&&this.BM(k,e);else c.Xb()&&this.BM(c,e)}HM(c){this.IM(c,this.we)}X1(c){this.IM(c,this.Oq)}O_(){this.we=this.g.zc}Cb(c){this.Ht=!!c;this.v4();this.w4();for(const k of this.Mb)k.Cb();if(0<this.Wf.length){c=
!1;for(var e of this.Wf)e.Cb(),e.SW()&&(c=!0);c?(this.Sh=this.U6,this.Dn=this.W2):(this.Sh=this.T6,this.Dn=this.V2)}e=this.$g;for(let k=0,h=e.length;k<h;++k)e[k].Cb(k<h-1&&e[k+1]instanceof d.Pj&&e[k+1].Iw());this.Ma&&this.y8();this.vi&&this.k4().vi.children.push(this.vi)}k4(){let c=this.za();for(;c;){if(c.oi)return c;c=c.za()}return this.Cc}y8(){const c=this.Ma;c.zR=this.Mb.every(e=>e.ee());c.MH=this.Wf.every(e=>e.ee());c.NH=this.$g.every(e=>e.ee());c.AR=c.zR&&c.MH&&c.NH}v4(){if(this.oi){var c=this.za();
for(this.kz=!0;c;){if(!c.oi){this.kz=!1;break}c=c.za()}}}u4(){var c=this.g.zc;if(this.we===c)this.Oq=c;else{this.Oq=d.PH(this.we);for(c=this.za();c;){for(var e of c.we)this.X1(e);c=c.za()}e=this.ga();this.we=e.wx(this.we);this.Oq=e.wx(this.Oq)}}w4(){if(this.LW()){this.Ho=[];for(var c=this.za();c;)this.Ho.push(c),c=c.za();this.Ho.reverse()}}Ks(){this.iz=!0;this.ec&&this.ec.Ks()}ed(){return this.we}fd(){this.IP||(this.IP=!0,this.u4());return this.Oq}UW(c){return this.we.includes(c)}ga(){return this.Cc.ga()}G(){return this.g}za(){return this.ec}Z7(c){this.Id=
c}lp(){return this.Id||this.ec}kC(){return this.Ma&&this.Ma.bI}nn(){return this.kC()&&this.Ma.Hc}Iw(){return this.Zy}op(){return this.az}w_(){this.Ep(this.XF)}Ep(c){c=!!c;if(!this.oi)throw Error("not a group");if(this.az!==c){this.az=c;for(const e of this.oy)e.tM();this.oy.length&&(c=this.g.Ja().Cc)&&c.uE()}}sn(){return this.Mb.length&&this.Mb[0].sn()}ZX(){return this.Id&&this.Id instanceof d.Ur}LW(){return this.ZX()||this.Mb.some(c=>c.sn())}EJ(c){c=Math.floor(c);if(0>c||c>=this.Mb.length)throw new RangeError("invalid condition index");
return this.Mb[c]}YX(c){let e=c.Da();if(0===e)return!0;for(--e;0<=e;--e)if(this.Mb[e].H()===c.H())return!1;return!0}AJ(c){c=Math.floor(c);if(0>c||c>=this.Wf.length)throw new RangeError("invalid action index");return this.Wf[c]}t4(c){c=Math.floor(c);return 0<=c&&c<this.Wf.length}iN(){return this.$g.filter(c=>c instanceof d.Wv)}BL(c){c.Rf(this);let e=!1;const k=this.Mb;for(let h=0,m=k.length;h<m;++h){const n=k[h];c.Ol(h);if(n.cz)throw Error("trigger cannot be used as sub-event to a loop");if(n.ma())e=
!0;else if(!this.zd)return!1}return this.zd?e:!0}F_(c,e){c.Rf(this);this.Mb[e].ma()&&(this.Sh(c,0)&&this.uk(),c.Rl(!0))}*jJ(c){c.Rf(this);let e=!1;const k=this.Mb;for(let h=0,m=k.length;h<m;++h){const n=k[h];c.Ol(h);if(n.cz)throw Error("trigger cannot be used as sub-event to a loop");if(n.ee()?n.ma():yield*n.hb())e=!0;else if(!this.zd)return!1}return this.zd?e:!0}*PT(c,e){c.Rf(this);e=this.Mb[e];if(e.ee()?e.ma():yield*e.hb())(this.Rv()?this.Sh(c,0):yield*this.Dn(c,0))&&(this.Sv()?this.uk():yield*this.Ss()),
c.Rl(!0)}ma(c){c.Rf(this);this.Zy||c.Dp(!1);this.zd?this.Z6(c):this.Nx(c)}*hb(c){if(this.nn()||this.g.Tb())yield this;c.Rf(this);this.Zy||c.Dp(!1);this.zd?yield*this.i3(c):yield*this.DD(c)}Z6(c){const e=this.Mb;let k=0===e.length;for(let m=0,n=e.length;m<n;++m){var h=e[m];h.sn()||(c.Ol(m),h=h.ma(),k=k||h)}c.Rl(k);k&&(this.Sh(c,0)&&this.uk(),this.Ht&&c.Dp(!0))}*i3(c){const e=this.Mb;let k=0===e.length;for(let m=0,n=e.length;m<n;++m){var h=e[m];h.sn()||(c.Ol(m),h=h.ee()?h.ma():yield*h.hb(),k=k||h)}c.Rl(k);
k&&((this.Rv()?this.Sh(c,0):yield*this.Dn(c,0))&&(this.Sv()?this.uk():yield*this.Ss()),this.Ht&&c.Dp(!0))}Nx(c){const e=this.Mb;for(let k=0,h=e.length;k<h;++k){const m=e[k];c.Ol(k);if(!m.ma()){c.Rl(!1);return}}c.Rl(!0);this.Sh(c,0)&&this.uk();c.po&&this.Ht&&c.Dp(!0)}*DD(c){const e=this.Mb;for(let k=0,h=e.length;k<h;++k){const m=e[k];c.Ol(k);if(m.ee()?!m.ma():!(yield*m.hb())){c.Rl(!1);return}}c.Rl(!0);(this.Rv()?this.Sh(c,0):yield*this.Dn(c,0))&&(this.Sv()?this.uk():yield*this.Ss());c.po&&this.Ht&&
c.Dp(!0)}T6(c,e){const k=this.Wf;for(let h=e,m=k.length;h<m;++h)e=k[h],c.Yw(h),e.ma();return!0}*V2(c,e){const k=this.Wf;for(let h=e,m=k.length;h<m;++h)e=k[h],c.Yw(h),e.ee()?e.ma():yield*e.hb();return!0}U6(c,e){const k=this.ga(),h=this.Wf;for(let m=e,n=h.length;m<n;++m){e=h[m];c.Yw(m);const p=e.ma();if(e.YI()&&!0===p)return!1;e.Nf()&&p instanceof Promise&&k.UA(p)}return!0}*W2(c,e){const k=this.ga(),h=this.Wf;for(let m=e,n=h.length;m<n;++m){e=h[m];c.Yw(m);let p;p=e.ee()?e.ma():yield*e.hb();if(e.YI()&&
!0===p)return!1;e.Nf()&&p instanceof Promise&&k.UA(p)}return!0}R6(c){this.Sh(c,c.uf)&&this.uk()}*T2(c){if(yield*this.Dn(c,c.uf))yield*this.Ss()}uk(){if(this.$g.length){var c=this.oi&&this.g.jC(),e=c?performance.now():0,k=this.xd,h=k.Ka(this);this.iz?this.e7(h):this.d7(h);k.Ia();c&&(this.vi.wv+=performance.now()-e)}}e7(c){const e=this.oi,k=this.kz,h=this.ga(),m=this.$g;for(let n=0,p=m.length,r=p-1;n<p;++n){const v=m[n],x=v.ed(),w=!k||!e&&n<r;w&&h.ke(x);v.ma(c);w?h.Bb(x):h.Zo(x)}}d7(c){const e=this.$g;
for(let k=0,h=e.length;k<h;++k)e[k].ma(c)}*Ss(){if(this.$g.length){var c=this.xd,e=c.Ka(this);this.iz?yield*this.l3(e):yield*this.k3(e);c.Ia()}}*l3(c){const e=this.oi,k=this.kz,h=this.ga(),m=this.$g;for(let n=0,p=m.length,r=p-1;n<p;++n){const v=m[n],x=v.ed(),w=!k||!e&&n<r;w&&h.ke(x);yield*v.hb(c);w?h.Bb(x):h.Zo(x)}}*k3(c){const e=this.$g;for(let k=0,h=e.length;k<h;++k)yield*e[k].hb(c)}Qf(c,e){this.g.ek();e.AL();const k=this.Mb;if(!this.zd)for(let h=c.yk+1,m=k.length;h<m;++h)if(c=k[h],e.Ol(h),!c.ma())return!1;
this.Sh(e,0)&&this.uk();return!0}*If(c,e){this.g.ek();e.AL();const k=this.Mb;if(!this.zd)for(let h=c.yk+1,m=k.length;h<m;++h)if(c=k[h],e.Ol(h),c.ee()?!c.ma():!(yield*c.hb()))return!1;(this.Rv()?this.Sh(e,0):yield*this.Dn(e,0))&&(this.Sv()?this.uk():yield*this.Ss());return!0}ee(){return!this.nn()&&!this.g.Tb()&&this.Ma.AR}Rv(){return!this.g.Tb()&&this.Ma.MH}Sv(){return!this.g.Tb()&&this.Ma.NH}wD(c){if(this.za()){const e=this.Ho;for(let k=0,h=e.length;k<h;++k)if(!e[k].BL(c))return!1}return!0}*SM(c){if(this.za()){const e=
this.Ho;for(let k=0,h=e.length;k<h;++k)if(!(yield*e[k].jJ(c)))return!1}return!0}cN(c,e,k){0<e.length?k?(e=e.map(h=>h.$(0)),c.Yc.Ka(),this.Id.Ds(e)):this.Id.bV(e):k&&c.Yc.Ka()}C_(c,e){let k,h;const m=0<c.length;var n=this.g;const p=this.xd,r=n.ga(),v=1<r.Xs();this.cN(r,e,v);m&&r.Pf(c);e=p.Ka(this);this.wD(e)&&(n.ek(),e.Rf(this),(n=this.Id.Nf())&&([h,k]=this.Id.lD()),this.Nx(e),n&&this.Id.us(h));p.Ia();v&&r.Yc.Ia();m&&r.Bb(c);r.Us();return k}*MT(c,e){let k,h;if(this.nn()||this.g.Tb())yield this;const m=
0<c.length;var n=this.g;const p=this.xd,r=n.ga(),v=1<r.Xs();this.cN(r,e,v);m&&r.Pf(c);e=p.Ka(this);if(yield*this.SM(e))n.ek(),e.Rf(this),(n=this.Id.Nf())&&([h,k]=this.Id.lD()),yield*this.DD(e),n&&this.Id.us(h);p.Ia();v&&r.Yc.Ia();m&&r.Bb(c);r.Us();return k}D_(c){const e=this.fd(),k=0<e.length,h=this.g,m=this.xd,n=h.ga(),p=1<n.Xs();p&&n.Yc.Ka();this.Id.Ds(c);k&&n.Pf(e);c=m.Ka(this);this.wD(c)&&(h.ek(),c.Rf(this),this.Nx(c));m.Ia();p&&n.Yc.Ia();k&&n.Bb(e);n.Us()}*NT(c){if(this.nn()||this.g.Tb())yield this;
const e=this.fd(),k=0<e.length,h=this.g,m=this.xd,n=h.ga(),p=1<n.Xs();p&&n.Yc.Ka();this.Id.Ds(c);k&&n.Pf(e);c=m.Ka(this);if(yield*this.SM(c))h.ek(),c.Rf(this),yield*this.DD(c);m.Ia();p&&n.Yc.Ia();k&&n.Bb(e);n.Us()}NC(c,e,k,...h){let m,n;const p=0<c.length,r=this.g,v=this.xd,x=r.ga(),w=1<x.Xs();w&&x.Yc.Ka();0<h.length&&this.Id.Ds(h);p&&x.Pf(c);h=v.Ka(this);h.pX(e,k);v.a_(h);r.ax(!1);this.wD(h)&&(r.ek(),h.Rf(this),(e=this.Id.Nf())&&([n,m]=this.Id.lD()),this.Nx(h),e&&this.Id.us(n));r.ax(!0);v.Ia();v.TZ();
w&&x.Yc.Ia();p&&x.Bb(c);x.Us();return m||h.xF}}}
{"use strict";const d=self.B,a=[];let b=!1;d.Vv=class extends d.da{constructor(f,c,e){super();const k=f.G(),h=f.ga();this.Cc=f;this.ua=h;this.g=f.G();this.ec=c;this.Fa=k.wg(e[1]);this.gq=e[2];this.Cc.eO(this,this.gq);this.Ma=k.lb?{Hc:e[3][0],bI:e[3][1]}:null}static Pa(f,c,e){return d.A(d.Vv,f,c,e)}Cb(){const f=this.Fa,c=this.g.ga().rN(this);this.Fa=f.bind(null,this.g.mi,c)}za(){return this.ec}lp(){return this.ec}kC(){return this.Ma&&this.Ma.bI}nn(){return this.kC()&&this.Ma.Hc}Iw(){return!1}ed(){return a}fd(){return this.ec?
this.ec.fd():a}ma(f){f.Rf(this);this.ua.UA(this.f7())}async f7(){try{await this.Fa()}catch(f){console.error(`Unhandled exception running script %c${this.Cc.Y}, event ${this.gq}:`,"font-size: 1.2em; font-weight: bold;",f),self.Hf&&self.Hf.V7(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*hb(f){f.Rf(this);if(this.nn()||this.g.Tb())yield this;
this.ma(f)}ee(){return!this.nn()&&!this.g.Tb()}static GW(){return b}static j0(){b=!0}}}
{"use strict";const d=self.B;d.Ur=class extends d.da{constructor(a,b,f){super();this.Cc=a;this.g=a.G();this.ec=b;const c=f[1];this.Ky=c[0];this.Wk=c[1];this.ag=c[2].map(e=>d.Wv.Pa(a,this,e));this.w9=c[3];this.LF=[];this.Rt=c[4];this.O9=0;this.zt=-1;this.nt=new Map;this.Gd=d.Pj.Pa(a,b,f);this.Gd.Z7(this)}static Pa(a,b,f){return d.A(d.Ur,a,b,f)}Cb(){for(const a of this.ag)a.Cb();this.Gd.Cb(!1)}iN(){return this.ag}D6(a){this.LF.push(a)}bV(a){const b=this.ag;for(let f=0,c=b.length;f<c;++f)b[f].Sf(a[f].$(0))}Ds(a){const b=
this.ag;for(let f=0,c=b.length;f<c;++f)b[f].Sf(a[f])}fT(){return this.ag.map(a=>a.xa())}za(){return this.ec}lp(){return this.ec}qn(){return this.w9}cs(){switch(this.Wk){case 0:return null;case 2:return"";default:return 0}}he(){return this.Gd}Nf(){return this.Rt}lD(){const a=this.O9++;this.zt=a;let b;const f=new Promise(c=>b=c);this.nt.set(a,{resolve:b,nI:0});return[a,f]}us(a){const b=this.nt.get(a);0===b.nI&&(b.resolve(),this.nt.delete(a));this.zt=-1}QZ(){this.nt.get(this.zt).nI++;return this.zt}B_(a){this.zt=
a;this.nt.get(a).nI--}}}
{"use strict";const d=self.B,a=[];d.Wv=class extends d.da{constructor(b,f,c){super();const e=b.ga();this.Cc=b;this.ua=e;this.g=b.G();this.ec=f;this.Yc=e.Yc;this.Y=c[1];this.ya=c[2];this.fo=c[3];this.Qg=!!c[4];this.nb=!!c[5];this.y9=f instanceof d.Ur;this.cb=c[6];this.du=this.g.vh(c[8]);this.b$=k=>this.Sf(k);this.Z9=()=>this.xa();this.KP=!this.ec||this.Qg||this.nb;this.ad=this.fo;this.sG=-1;this.qK()&&(this.ad=this.ad?1:0);!this.sC()||this.Qg||this.nb||(this.sG=e.j4(this));e.A6(this)}static Pa(b,f,
c){return d.A(d.Wv,b,f,c)}Cb(){if(this.sC()&&!this.Qg&&!this.nb&&!this.y9){const b=this.ua.rB(this);b&&b.D6(this)}}vh(){return this.du}za(){return this.ec}lp(){return this.za()}Of(){return!this.za()}sC(){return!this.Of()}Fl(){return 0===this.ya}Ah(){return 1===this.ya}qK(){return 2===this.ya}Iw(){return!1}ed(){return a}ma(){!this.sC()||this.Qg||this.nb||this.Sf(this.fo)}ee(){return!0}*hb(b){this.ma(b)}Sf(b){this.Fl()?"number"!==typeof b&&(b=parseFloat(b)):this.Ah()?"string"!==typeof b&&(b=b.toString()):
this.qK()&&(b=b?1:0);this.KP?this.ad=b:this.Yc.cp()[this.sG]=b}xa(){return this.KP?this.ad:this.Yc.cp()[this.sG]}z_(){this.ad=this.fo}tN(){return{configurable:!1,enumerable:!0,get:this.Z9,set:this.b$}}}}
{"use strict";const d=self.B,a=[];d.rJ=class extends d.da{constructor(b,f,c){super();const e=b.ga();this.Cc=b;this.ua=e;this.g=b.G();this.ec=f;this.Ot=null;this.s9=c[1];this.xb=!0}static Pa(b,f,c){return d.A(d.rJ,b,f,c)}Cb(){this.Ot=this.ua.IJ(this.s9);this.Cc.b2(this);let b=this.za();for(;b;)b instanceof d.Pj&&b.oi&&b.T1(this),b=b.za();this.tM();this.g.lb&&this.Cc.vi.children.push(this.Ot.vi)}za(){return this.ec}ed(){return a}ma(){const b=!!this.za(),f=this.g.zc;b&&this.ua.Pf(f);this.Ot.ma();b&&
this.ua.Bb(f)}*hb(){const b=!!this.za(),f=this.g.zc;b&&this.ua.Pf(f);yield*this.Ot.hb();b&&this.ua.Bb(f)}ee(){return!1}tM(){let b=this.za();for(;b;){if(b instanceof d.Pj&&b.oi&&!b.op()){this.xb=!1;return}b=b.za()}this.xb=!0}}}
{"use strict";const d=self.B;d.Ym=class extends d.da{constructor(m){super();this.Ob=m;this.g=m.G()}Cb(){}static ET(m,n){return d.A([k,c,e,h,a,b][n[0]],m,n)}};class a extends d.Ym{constructor(m,n){super(m);this.pd=this.g.ks();this.Fa=this.g.wg(n[1]);this.Fa!==d.C.La.wc.random&&this.Fa!==d.C.La.wc.z$||this.Ob.hD()}ob(){return this.pd.gj(this.Fa,this.pd)}}class b extends d.Ym{constructor(m,n){super(m);this.nq=null;this.Ky=n[1];this.Ob.hD()}Cb(){const m=this.g.ga();this.nq=m.jw(this.Ky);this.Ky=null;
const n=this.nq.he();this.zk=[...new Set([...this.Ob.he().fd(),...n.fd()])];this.zk=m.wx(this.zk)}ob(){const m=this.nq;if(m.qn())return d.Pj.prototype.NC.bind(m.he(),this.zk,m.Wk,m.cs());{const n=m.cs();return()=>n}}}function f(m,n){if(m>=n)return m%n;0>m&&(m<=-n&&(m%=n),0>m&&(m+=n));return m}class c extends d.Ym{constructor(m,n){super(m);this.J=this.g.Ie(n[1]);this.Fa=this.g.wg(n[2]);this.Sz=!!n[3];this.xd=this.g.ga().Jc();this.Ob.YD(this.J)}ob(){return this.J.wb().gj(this.Fa,this.J.Vi().qa)}Xv(){const m=
this.J,n=m.R().JJ();var p=n.length;if(0===p)return this.Sz?"":0;p=f(this.Ob.Fu,p);this.xd.He().d0(m);return this.Fa.apply(n[p].qa,[])}}class e extends d.Ym{constructor(m,n){super(m);this.J=this.g.Ie(n[1]);this.k$=n[3];this.Sz=!!n[2];this.Ob.YD(this.J)}tJ(){var m=this.J,n=m.R().JJ(),p=n.length;if(0===p)return this.Sz?"":0;p=f(this.Ob.Fu,p);n=n[p];m=n.H().EB(m.Ng);return n.f4(this.k$+m)}}class k extends d.Ym{constructor(m,n){super(m);this.J=this.g.Ie(n[1]);this.Ac=this.J.$v(n[2]);this.Xh=this.J.Xr(n[2]);
this.Fa=this.g.wg(n[3]);this.Sz=!!n[4];this.xd=this.g.ga().Jc();this.Ob.YD(this.J)}}class h extends d.Ym{constructor(m,n){super(m);this.Oa=null;this.nF=n[1]}Cb(){this.Oa=this.g.ga().DB(this.nF)}}}
{"use strict";const d=self.B;d.Le=class extends d.da{constructor(t,A,z){super();this.Ob=t;this.Qa=z;this.ya=A;this.$=null;this.nb=this.Be=!1}static Pa(t,A,z){const E=A[0];return d.A([b,f,p,e,h,c,m,b,e,e,r,v,p,w,f,n,k,x,u][E],t,E,z,A)}Cb(){}hD(){this.Be=!0}YD(t){this.Be||!t||t.wb().lm||(this.Be=!0)}Da(){return this.Qa}G(){return this.Ob.G()}he(){return this.Ob.he()}};function a(t){t=self.YS[t];if(!t)throw Error("invalid expression number");return t}class b extends d.Le{constructor(t,A,z,E){super(t,
A,z);this.Fu=0;t=E[1];this.pF=t[0];this.Cq=[];this.By=null;for(let G=1,I=t.length;G<I;++G)this.Cq.push(d.Ym.ET(this,t[G]));this.Cq.length?this.$=this.IV:(this.$=a(this.pF),this.nb=!0)}W(t){if(0>t||t>=this.Cq.length)throw new RangeError("invalid numbered node");return this.Cq[t]}Cb(){for(var t of this.Cq)t.Cb();t=a(this.pF);this.By=this.Cq.length?t(this):t}IV(t){this.Fu=t;return this.By()}}class f extends b{constructor(t,A,z,E){super(t,A,z,E);this.$=this.wW;14===A&&(this.he().O_(),this.Ob instanceof
d.Av&&this.he().Ks())}wW(t){this.Fu=t;t=this.By();return"string"===typeof t?t:""}c4(){return a(this.pF)()}}class c extends b{constructor(t,A,z,E){super(t,A,z,E);this.$=this.ea;this.nb=!1}ea(t){this.Fu=t;t=this.By();return this.G().Ja().ea(t)}}class e extends d.Le{constructor(t,A,z,E){super(t,A,z);this.e9=E[1];this.$=this.zV;this.nb=!0}zV(){return this.e9}}class k extends d.Le{constructor(t,A,z,E){super(t,A,z);this.X8=E[1];this.$=this.vV;this.nb=!0}vV(){return this.X8}}class h extends d.Le{constructor(t,
A,z,E){super(t,A,z);this.J=this.G().Ie(E[1]);this.$=this.H;t=this.he();t.HM(this.J);this.Ob instanceof d.Av?t.Ks():t.za()&&t.za().Ks();this.nb=!0}H(){return this.J}}class m extends d.Le{constructor(t,A,z,E){super(t,A,z);this.Mk=this.G().Wa.gp(E[1]);this.$=this.Uc;this.nb=!0}Uc(){return this.Mk}}class n extends d.Le{constructor(t,A,z,E){super(t,A,z);this.zm=this.G().tb.vw(E[1]);this.$=this.Ub;this.nb=!0}Ub(){return this.zm}}class p extends d.Le{constructor(t,A,z,E){super(t,A,z);this.n9=E[1];this.$=
this.LV;this.nb=!0}LV(){return this.n9}}class r extends d.Le{constructor(t,A,z,E){super(t,A,z);this.UP=E[1];(t=this.Ob.H())&&t.Va?(this.$=this.JV,this.hD()):(this.$=this.$V,this.nb=!0)}$V(){return this.UP}JV(t){t=t||0;const A=this.Ob.H();var z=A.R();const E=z.ia();if(E.length)t=E[t%E.length].H();else if(z.KW())z=z.Rb,t=z[t%z.length].H();else if(0<A.F.length)z=A.ia(),t=z[t%z.length].H();else return 0;return this.UP+t.EB(A.Ng)}}class v extends d.Le{constructor(t,A,z,E){super(t,A,z);this.nF=E[1];this.Oa=
null;this.$=this.HV;this.nb=!0}Cb(){this.Oa=this.G().ga().DB(this.nF)}HV(){return this.Oa}}class x extends d.Le{constructor(t,A,z,E){super(t,A,z);this.xP=E[1];this.nq=null;this.$=this.UV;this.nb=!0}Cb(){this.nq=this.G().ga().jw(this.xP);this.xP=null}UV(){return this.nq}}class w extends d.Le{constructor(t,A,z,E){super(t,A,z);this.mH=[];this.rR=[];this.nb=!0;for(let G=1,I=E.length;G<I;++G)t=d.Le.Pa(this.Ob,E[G],0),this.mH.push(t),this.rR.push(0),t.nb||(this.nb=!1);this.$=this.DW}Cb(){for(const t of this.mH)t.Cb()}DW(){const t=
this.mH,A=this.rR;for(let z=0,E=t.length;z<E;++z)A[z]=t[z].$(0);return A}}class u extends d.Le{constructor(t,A,z,E){super(t,A,z);this.j9=E[1];this.$=this.wl;this.nb=!0}wl(){return this.j9}}}
{"use strict";const d=self.B;function a(c,e){for(let k=0,h=c.length;k<h;++k)e[k]=c[k].$(0)}const b=[],f=function(){};d.dJ=class extends d.da{constructor(c,e,k){super();this.Gd=c;this.g=c.G();this.Qa=k;this.Fa=this.g.wg(e[1]);this.dG=0<e[3];this.YP=2===e[3];this.cz=!!e[4];this.pi=!!e[5];this.Qg=!!e[6];this.cb=e[7];this.ZP=this.Gd.zd;this.Ac=this.J=null;this.Xh=-1;this.pd=null;this.hb=this.ma=f;this.Ga=[];this.mb=[];this.vk=!1;this.bh=this.sb=null;this.Ma=this.g.lb?{Hc:e[8][0],Ze:e[8][1]}:null;-1===
e[0]?this.pd=this.g.ks():(this.J=this.g.Ie(e[0]),e[2]&&(this.Ac=this.J.$v(e[2]),this.Xh=this.J.Xr(e[2])),this.Gd.za()&&this.Gd.za().Ks());if(10===e.length){c=e[9];for(let h of c)this.Ga.push(d.Le.Pa(this,h,this.Ga.length)),this.mb.push(0)}0===this.Ga.length&&(this.mb=this.Ga=b);this.Gd.ga().y6(this)}static Pa(c,e,k){return d.A(d.dJ,c,e,k)}Cb(){for(const c of this.Ga)c.Cb(),c.Be&&(this.vk=!0);this.YP?(this.ma=this.V6,this.hb=this.b3):this.pd?(this.oE(),this.hb=this.FD):this.J.wb().lm?(this.nE(),this.hb=
this.ED):this.Qg?(this.ma=this.c7,this.hb=this.j3):(this.ma=this.pO,this.hb=this.d3)}oE(){this.ht(this.pd,this.pd,this.hE)}nE(){const c=this.J.wb(),e=this.J.Vi().qa;this.ht(c,e,this.gE)}ht(c,e,k){const h=this.Fa,m=this.pi,n=this.Ga;if(0===n.length){const p=c.gj(h,e);this.ma=m?function(){return d.xor(p(),m)}:p}else if(1===n.length){const p=n[0];if(!m&&p.nb)this.ma=c.kN(h,e,p.$(0));else{const r=c.gj(h,e);this.ma=function(){return d.xor(r(p.$(0)),m)}}}else if(2===n.length){const p=n[0],r=n[1];if(!m&&
p.nb&&r.nb)this.ma=c.lN(h,e,p.$(0),r.$(0));else{const v=c.gj(h,e);this.ma=function(){return d.xor(v(p.$(0),r.$(0)),m)}}}else if(3===n.length){const p=n[0],r=n[1],v=n[2];if(!m&&p.nb&&r.nb&&v.nb)this.ma=c.mN(h,e,p.$(0),r.$(0),v.$(0));else{const x=c.gj(h,e);this.ma=function(){return d.xor(x(p.$(0),r.$(0),v.$(0)),m)}}}else this.ma=k}H(){return this.J}sg(){return this.Ac}he(){return this.Gd}G(){return this.g}Da(){return this.Qa}FJ(){return this.Da()}sn(){return this.dG}ee(){return!this.Ma.Hc&&!this.g.Tb()&&
!this.Ma.Ze}Ui(){this.sb||(this.sb=new Map);return this.sb}ms(){this.bh||(this.bh=new Map);return this.bh}hE(){const c=this.mb;a(this.Ga,c);return d.xor(this.Fa.apply(this.pd,c),this.pi)}*FD(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){var c=this.mb;a(this.Ga,c);c=this.Fa.apply(this.pd,c);d.El(c)&&(c=yield*c);return d.xor(c,this.pi)}return this.ma()}gE(){const c=this.mb;a(this.Ga,c);const e=this.J.Vi().qa;return d.xor(this.Fa.apply(e,c),this.pi)}*ED(){if(this.Ma.Hc||this.g.Tb())yield this;
if(this.Ma.Ze){var c=this.mb;a(this.Ga,c);const e=this.J.Vi().qa;c=this.Fa.apply(e,c);d.El(c)&&(c=yield*c);return d.xor(c,this.pi)}return this.ma()}V6(){return!0}*b3(){if(this.Ma.Hc||this.g.Tb())yield this;return!0}c7(){var c=this.mb;a(this.Ga,c);c=this.Fa.apply(this.Ac||this.J,c);this.J.Pb();return c}*j3(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){var c=this.mb;a(this.Ga,c);c=this.Fa.apply(this.Ac||this.J,c);d.El(c)&&(c=yield*c);this.J.Pb();return c}return this.ma()}pO(){const c=this.Ga,
e=this.mb,k=this.J.R();for(let h=0,m=c.length;h<m;++h){const n=c[h];n.Be||(e[h]=n.$(0))}return k.Lb?this.W6(k):this.X6(k)}*d3(){if(this.Ma.Hc||this.g.Tb())yield this;return this.pO()}MD(c){const e=this.Ga,k=this.mb;for(let h=0,m=e.length;h<m;++h){const n=e[h];n.Be&&(k[h]=n.$(c))}}W6(c){const e=this.J,k=e.Va,h=e.Ng,m=this.Xh,n=0<=m,p=e.ia(),r=this.vk,v=this.mb,x=this.Fa,w=this.pi,u=this.ZP&&!this.dG;c.Iv();for(let A=0,z=p.length;A<z;++A){const E=p[A];r&&this.MD(A);var t=void 0;n?(t=k?E.H().Zm(h):0,
t=x.apply(E.Nc[m+t].qa,v)):t=x.apply(E.qa,v);d.xor(t,w)?c.Gn(E):u&&c.Xl(E)}e.Tr(!0);c.Od(!1);e.Pb();return c.ZB()}X6(c){const e=this.J;var k=e.Va;const h=e.Ng,m=e.Xb(),n=this.Xh,p=0<=n,r=this.vk,v=this.mb,x=this.Fa,w=this.pi,u=this.ZP&&!this.dG,t=c.F,A=c.Rb,z=u&&!this.Gd.YX(this),E=z?A:t;let G=0,I=!1;for(let O=0,P=E.length;O<P;++O){const S=E[O];r&&this.MD(O);var N=void 0;p?(N=k?S.H().Zm(h):0,N=x.apply(S.Nc[n+N].qa,v)):N=x.apply(S.qa,v);d.xor(N,w)?(I=!0,z?(t.push(S),m&&S.v6()):(E[G]=S,m&&S.b8(G),++G)):
z?(E[G]=S,m&&S.a8(G),++G):u&&(A.push(S),m&&S.u6())}d.Ee(E,G);m&&e.v8(z,G);k=I;z&&!I&&(I=this.m6(t));e.Tr(k||u);return u?I:c.ZB()}m6(c){var e=this.J;const k=e.Va;e=e.Ng;const h=this.vk,m=this.Xh,n=0<=m,p=this.mb,r=this.Fa,v=this.pi;for(let w=0,u=c.length;w<u;++w){var x=c[w];h&&this.MD(w);if(n){const t=k?x.H().Zm(e):0;x=r.apply(x.Nc[m+t].qa,p)}else x=r.apply(x.qa,p);if(d.xor(x,v))return!0}return!1}zs(c,e){return this.Ga[c].$(e)}KV(){const c=this.Ga;if(!c.length)throw Error("no parameters");return c[0].c4()}ja(){if(!this.sb||
!this.sb.size)return null;const c={};for(const [e,k]of this.sb.entries()){let h=k;"collmemory"===e&&(h=[...k.entries()].map(m=>[m[0].Fc,m[1].Fc,m[2]]));c[e]=h}return{ex:c}}ra(c){this.sb&&(this.sb.clear(),this.sb=null);if(c){var e=this.g,k=c.ex;if(k){c=this.Ui();c.clear();for(const [h,m]of Object.entries(k))k=m,"collmemory"===h&&(k=d.A(d.vs,m.map(n=>[e.Oi(n[0]),e.Oi(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,k)}}}}}
{"use strict";const d=self.B;function a(e,k){for(let h=0,m=e.length;h<m;++h)k[h]=e[h].$(0)}const b=[],f=function(){},c=function*(){};d.Av=class extends d.da{constructor(e,k,h){super();this.Gd=e;this.g=e=e.G();this.Qa=h;this.cb=4<=k.length?k[3]:-1;this.Wx=5<=k.length?k[4]:0;this.Ac=this.J=this.Fa=null;this.Xh=-1;this.pd=null;this.ky="";this.zk=this.jy=null;this.hb=this.ma=f;this.Ga=[];this.mb=[];this.vk=!1;this.bh=this.sb=null;const m=(h=-3===k[0])?k[2]:k[5];this.Ma=e.lb||h?{Hc:m[0],Ze:m[1],index:m[2]}:
null;-1===k[0]?(this.pd=e.ks(),this.Fa=e.wg(k[1])):-2===k[0]?this.ky=k[1]:h?(this.Fa=e.wg(k[1]),this.ma=this.OC,this.hb=this.RT,this.Wx=1):(this.Fa=e.wg(k[1]),this.J=e.Ie(k[0]),k[2]&&(this.Ac=this.J.$v(k[2]),this.Xh=this.J.Xr(k[2])));if(7===k.length){k=k[6];for(const n of k)this.Ga.push(d.Le.Pa(this,n,this.Ga.length)),this.mb.push(0)}0===this.Ga.length&&(this.mb=this.Ga=b);this.Gd.ga().x6(this)}static Pa(e,k,h){return d.A(d.Av,e,k,h)}Cb(){for(var e of this.Ga)e.Cb(),e.Be&&(this.vk=!0);if(this.pd)this.oE(),
this.hb=this.FD;else if(this.ky)this.C7(),this.ky="";else if(this.ma===this.OC){e=this.Fa;const k=this.g.ga().rN(this.Gd);this.Fa=e.bind(null,this.g.mi,k)}else this.Ac?this.Nf()?(this.ma=this.nO,this.hb=this.Y2):(this.ma=this.mO,this.hb=this.X2):this.J.wb().lm?(this.nE(),this.hb=this.ED):this.Nf()?(this.ma=this.rO,this.hb=this.f3):this.Ga.length?this.Ga.every(k=>k.Be)?(this.ma=this.qO,this.hb=this.e3):this.vk?(this.ma=this.tO,this.hb=this.h3):this.Ga.every(k=>k.nb)?(a(this.Ga,this.mb),this.ma=this.fE,
this.hb=this.TM):(this.ma=this.sO,this.hb=this.g3):(this.ma=this.fE,this.hb=this.TM)}oE(){this.ht(this.pd,this.pd,this.hE)}nE(){const e=this.J.wb(),k=this.J.Vi().qa;this.ht(e,k,this.gE)}C7(){const e=this.Gd.ga(),k=e.jw(this.ky);k.qn()?(this.jy=k.he(),this.zk=[...new Set([...this.Gd.fd(),...this.jy.fd()])],this.zk=e.wx(this.zk),this.ma=d.Pj.prototype.C_.bind(this.jy,this.zk,this.Ga),this.hb=this.Z2):(this.ma=f,this.hb=c)}ht(e,k,h){const m=this.Fa,n=this.Ga;if(0===n.length)this.ma=e.gj(m,k);else if(1===
n.length){const p=n[0];if(p.nb)this.ma=e.kN(m,k,p.$(0));else{const r=e.gj(m,k);this.ma=function(){return r(p.$(0))}}}else if(2===n.length){const p=n[0],r=n[1];if(p.nb&&r.nb)this.ma=e.lN(m,k,p.$(0),r.$(0));else{const v=e.gj(m,k);this.ma=function(){return v(p.$(0),r.$(0))}}}else if(3===n.length){const p=n[0],r=n[1],v=n[2];if(p.nb&&r.nb&&v.nb)this.ma=e.mN(m,k,p.$(0),r.$(0),v.$(0));else{const x=e.gj(m,k);this.ma=function(){return x(p.$(0),r.$(0),v.$(0))}}}else this.ma=h}Nf(){return 1===this.Wx}YI(){return 2===
this.Wx}SW(){return 0!==this.Wx}H(){return this.J}he(){return this.Gd}G(){return this.g}Da(){return this.Qa}FJ(){return this.Ma.index}ee(){return!this.Ma.Hc&&!this.g.Tb()&&!this.Ma.Ze}Ui(){this.sb||(this.sb=new Map);return this.sb}ms(){this.bh||(this.bh=new Map);return this.bh}hE(){const e=this.mb;a(this.Ga,e);return this.Fa.apply(this.pd,e)}*FD(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){const e=this.mb;a(this.Ga,e);return yield*this.Fa.apply(this.pd,e)}return this.ma()}*Z2(){if(this.Ma.Hc||
this.g.Tb())yield this;return yield*this.jy.MT(this.zk,this.Ga)}gE(){const e=this.mb;a(this.Ga,e);return this.Fa.apply(this.J.Vi().qa,e)}*ED(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){const e=this.mb;a(this.Ga,e);return yield*this.Fa.apply(this.J.Vi().qa,e)}return this.ma()}fE(){const e=this.mb,k=this.J.R().ia();for(let h=0,m=k.length;h<m;++h)this.Fa.apply(k[h].qa,e)}*TM(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){const e=this.mb,k=this.J.R().ia();for(let h=0,m=k.length;h<m;++h)yield*this.Fa.apply(k[h].qa,
e)}else this.fE()}sO(){const e=this.mb;a(this.Ga,e);const k=this.J.R().ia();for(let h=0,m=k.length;h<m;++h)this.Fa.apply(k[h].qa,e)}*g3(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){const e=this.mb;a(this.Ga,e);const k=this.J.R().ia();for(let h=0,m=k.length;h<m;++h)yield*this.Fa.apply(k[h].qa,e)}else this.sO()}qO(){const e=this.Ga,k=this.mb,h=this.Fa,m=this.J.R().ia();for(let n=0,p=m.length;n<p;++n){const r=m[n];for(let v=0,x=e.length;v<x;++v)k[v]=e[v].$(n);h.apply(r.qa,k)}}*e3(){if(this.Ma.Hc||
this.g.Tb())yield this;if(this.Ma.Ze){const e=this.Ga,k=this.mb,h=this.Fa,m=this.J.R().ia();for(let n=0,p=m.length;n<p;++n){const r=m[n];for(let v=0,x=e.length;v<x;++v)k[v]=e[v].$(n);yield*h.apply(r.qa,k)}}else this.qO()}tO(){const e=this.Ga,k=this.mb,h=this.Fa,m=this.J.R().ia();for(let p=0,r=e.length;p<r;++p){var n=e[p];n.Be||(k[p]=n.$(0))}for(let p=0,r=m.length;p<r;++p){n=m[p];for(let v=0,x=e.length;v<x;++v){const w=e[v];w.Be&&(k[v]=w.$(p))}h.apply(n.qa,k)}}*h3(){if(this.Ma.Hc||this.g.Tb())yield this;
if(this.Ma.Ze){const k=this.Ga,h=this.mb,m=this.Fa,n=this.J.R().ia();for(let p=0,r=k.length;p<r;++p){var e=k[p];e.Be||(h[p]=e.$(0))}for(let p=0,r=n.length;p<r;++p){e=n[p];for(let v=0,x=k.length;v<x;++v){const w=k[v];w.Be&&(h[v]=w.$(p))}yield*m.apply(e.qa,h)}}else this.tO()}mO(){var e=this.J;const k=e.Va,h=e.Ng,m=this.Ga,n=this.vk,p=this.mb,r=this.Fa,v=this.Xh;e=e.R().ia();for(let u=0,t=m.length;u<t;++u){var x=m[u];x.Be||(p[u]=x.$(0))}for(let u=0,t=e.length;u<t;++u){x=e[u];if(n)for(let A=0,z=m.length;A<
z;++A){var w=m[A];w.Be&&(p[A]=w.$(u))}w=k?x.H().Zm(h):0;r.apply(x.Nc[v+w].qa,p)}}*X2(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){var e=this.J;const m=e.Va,n=e.Ng,p=this.Ga,r=this.vk,v=this.mb,x=this.Fa,w=this.Xh;e=e.R().ia();for(let u=0,t=p.length;u<t;++u){var k=p[u];k.Be||(v[u]=k.$(0))}for(let u=0,t=e.length;u<t;++u){k=e[u];if(r)for(let A=0,z=p.length;A<z;++A){var h=p[A];h.Be&&(v[A]=h.$(u))}h=m?k.H().Zm(n):0;yield*x.apply(k.Nc[w+h].qa,v)}}else this.mO()}rO(){const e=this.Ga,k=this.mb,
h=this.Fa,m=this.J.R().ia(),n=[];for(let p=0,r=m.length;p<r;++p){const v=m[p];for(let x=0,w=e.length;x<w;++x)k[x]=e[x].$(p);n.push(h.apply(v.qa,k))}return Promise.all(n)}*f3(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){const e=this.Ga,k=this.mb,h=this.Fa,m=this.J.R().ia(),n=[];for(let p=0,r=m.length;p<r;++p){const v=m[p];for(let x=0,w=e.length;x<w;++x)k[x]=e[x].$(p);n.push(yield*h.apply(v.qa,k))}return Promise.all(n)}return this.rO()}nO(){var e=this.J;const k=e.Va,h=e.Ng,m=this.Ga,n=this.mb,
p=this.Fa,r=this.Xh;e=e.R().ia();const v=[];for(let x=0,w=e.length;x<w;++x){const u=e[x];for(let A=0,z=m.length;A<z;++A)n[A]=m[A].$(x);const t=k?u.H().Zm(h):0;v.push(p.apply(u.Nc[r+t].qa,n))}return Promise.all(v)}*Y2(){if(this.Ma.Hc||this.g.Tb())yield this;if(this.Ma.Ze){var e=this.J;const k=e.Va,h=e.Ng,m=this.Ga,n=this.mb,p=this.Fa,r=this.Xh;e=e.R().ia();const v=[];for(let x=0,w=e.length;x<w;++x){const u=e[x];for(let A=0,z=m.length;A<z;++A)n[A]=m[A].$(x);const t=k?u.H().Zm(h):0;v.push(yield*p.apply(u.Nc[r+
t].qa,n))}return Promise.all(v)}return this.nO()}async OC(){try{await this.Fa()}catch(e){console.error(`Unhandled exception running script %c${this.Gd.Cc.Y}, event ${this.Gd.gq}, action ${this.FJ()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.Hf&&self.Hf.V7(this),d.Vv.GW()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Vv.j0())}}*RT(){if(this.Ma.Hc||
this.g.Tb())yield this;return this.OC()}ja(){return this.sb&&this.sb.size?{ex:d.qD(this.sb)}:null}ra(e){this.sb&&(this.sb.clear(),this.sb=null);e&&(e=e.ex)&&(this.sb=d.sB(e))}}}
{"use strict";const d=self.B,a=new d.Xa;function b(K,M){return d.compare(this.m().na(),K,M)}function f(K,M){return d.compare(this.m().oa(),K,M)}function c(){const K=this.m();return K.AK(K.ea().rd,K.Uc().lK())}function e(){var K=this.m();const M=K.Uc();K=K.xc();return 0>K.Z||0>K.T||K.N>M.ca()||K.M>M.ba()}function k(K,M,V){const aa=this.R(),fa=aa.ia();if(!fa.length)return!1;let ha=fa[0];var ia=ha.m();let ka=ha,ta=d.FR(ia.na(),ia.oa(),M,V);for(let va=1,za=fa.length;va<za;++va)if(ha=fa[va],ia=ha.m(),
ia=d.FR(ia.na(),ia.oa(),M,V),0===K&&ia<ta||1===K&&ia>ta)ta=ia,ka=ha;aa.Il(ka);return!0}function h(K){const M=this.m();M.na()!==K&&(M.Dg(K),M.Za())}function m(K){const M=this.m();M.oa()!==K&&(M.Mh(K),M.Za())}function n(K,M){const V=this.m();V.$U(K,M)||(V.Tl(K,M),V.Za())}function p(K,M){if(K&&(K=K.qW(this.ka))){var [V,aa]=K.an(M);M=this.m();if(M.na()!==V||M.oa()!==aa)M.Tl(V,aa),M.Za()}}function r(K){if(0!==K){var M=this.m();M.Sw(M.zB()*K,M.WB()*K);M.Za()}}function v(K,M){if(0!==M){var V=this.m();K=
d.qb(K);V.Sw(Math.cos(K)*M,Math.sin(K)*M);V.Za()}}function x(){return this.m().na()}function w(){return this.m().oa()}function u(){return this.g.ds(this.ka)}function t(K,M){return d.compare(this.m().ca(),K,M)}function A(K,M){return d.compare(this.m().ba(),K,M)}function z(K){const M=this.m();M.ca()!==K&&(M.Lh(K),M.Za())}function E(K){const M=this.m();M.ba()!==K&&(M.Fh(K),M.Za())}function G(K,M){const V=this.m();if(V.ca()!==K||V.ba()!==M)V.Kc(K,M),V.Za()}function I(){return this.m().ca()}function N(){return this.m().ba()}
function O(){return this.m().xc().N}function P(){return this.m().xc().M}function S(){return this.m().xc().Z}function T(){return this.m().xc().T}function Y(K,M){return d.gr(this.m().Ha(),d.qb(M))<=d.qb(K)}function ba(K){return d.Ye(this.m().Ha(),d.qb(K))}function ea(K,M){K=d.qb(K);M=d.qb(M);const V=this.m().Ha();return d.Ye(M,K)?d.Ye(V,K)&&!d.Ye(V,M):!(!d.Ye(V,K)&&d.Ye(V,M))}function W(K){const M=this.m();K=d.ae(d.qb(K));isNaN(K)||M.Ha()===K||(M.vd(K),M.Za())}function na(K){if(!isNaN(K)&&0!==K){var M=
this.m();M.vd(M.Ha()+d.qb(K));M.Za()}}function ja(K){if(!isNaN(K)&&0!==K){var M=this.m();M.vd(M.Ha()-d.qb(K));M.Za()}}function xa(K,M){const V=this.m(),aa=V.Ha();K=d.JH(aa,d.qb(M),d.qb(K));isNaN(K)||aa===K||(V.vd(K),V.Za())}function Ja(K,M,V){const aa=this.m(),fa=aa.Ha();M-=aa.na();V-=aa.oa();K=d.JH(fa,Math.atan2(V,M),d.qb(K));isNaN(K)||fa===K||(aa.vd(K),aa.Za())}function Va(K,M){const V=this.m(),aa=V.Ha();K-=V.na();M-=V.oa();M=Math.atan2(M,K);isNaN(M)||aa===M||(V.vd(M),V.Za())}function Na(){return d.ih(this.m().Ha())}
function Wa(K,M){return d.compare(d.$R(100*this.m().Je()),K,M)}function Oa(){return this.m().gd()}function Ca(K){const M=this.m();K=2===K?!M.gd():0!==K;M.gd()!==K&&(M.Tf(K),this.g.aa())}function Aa(K){K=d.fa(K/100,0,1);const M=this.m();M.Je()!==K&&(M.nk(K),this.g.aa())}function Ka(K){a.Ar(K);K=this.m();K.$a.hl(a)||(K.fM(a),this.g.aa())}function Ha(){const K=this.m().$a;return d.Uw(K.Ra,K.Ua,K.Ta,K.Sa)}function Xa(){return d.$R(100*this.m().Je())}function Ya(K){return K?this.m().ea()===K:!1}function Za(K){const M=
this.R(),V=M.ia();if(!V.length)return!1;let aa=V[0];for(let fa=1,ha=V.length;fa<ha;++fa){const ia=V[fa],ka=ia.m(),ta=aa.m(),va=ka.ea().Da(),za=ta.ea().Da();if(0===K){if(va>za||va===za&&ka.Yi()>ta.Yi())aa=ia}else if(va<za||va===za&&ka.Yi()<ta.Yi())aa=ia}M.Il(aa);return!0}function La(K,M,V){const aa=this.m();K=0===K?aa.bb():aa.xg();return d.compare(K,M,V)}function $a(){this.m().Q1()}function ab(){this.m().O1()}function bb(K){K&&this.m().P1(K)}function cb(K,M){K=0===K;M&&(M=M.KJ(this.Ba()))&&this.m().N1(M,
K)}function db(K){const M=this.m();M.bb()!==K&&(M.Ne(K),this.g.aa())}function eb(){return this.m().ea().Da()}function fb(){return this.m().ea().Y}function Ma(){return this.m().Yi()}function gb(){return this.m().bb()}function hb(){return this.m().xg()}function ib(K,M){if(M=this.H().Na.Tj(M)){M=M.Da();K=1===K;var V=this.m().Td;V.rs(M)!==K&&(V.OL(M,K),V.Vl(),this.g.aa())}}function jb(K,M,V){var aa=this.H().Na.Tj(K);if(aa){K=aa.Da();var fa=this.m().Td,ha=fa.Kf(K);M=Math.floor(M);if(!(0>M||M>=ha.length)){aa=
aa.eb.pw(M);if("color"===aa){a.Ar(V);M=ha[M];if(a.hl(M))return;M.Jj(a)}else{"percent"===aa&&(V/=100);if(ha[M]===V)return;ha[M]=V}fa.rs(K)&&this.g.aa()}}}function kb(){return this.m().Zi()}function lb(){return this.m().Ke()}function mb(K,M){const V=this.R().ia();if(0===V.length)return!1;const aa=K.R();var fa=aa.ia();if(0===fa.length)return!1;fa=new Set(fa);const ha=new Set;for(let ka=0,ta=V.length;ka<ta;++ka){var ia=V[ka];if(1===M)for(const va of ia.pv())va.Yo(K)&&fa.has(va)&&ha.add(va);else{if(0===
M){if(ia=ia.za(),null===ia)continue}else ia=ia.ww();ia.Yo(K)&&fa.has(ia)&&ha.add(ia)}}if(0===ha.size)return!1;aa.Js(ha);K.Pb();return!0}function nb(K,M){const V=this.R().ia();if(0===V.length)return!1;const aa=K.R();var fa=aa.ia();if(aa.Lb){var ha=[...this.g.$H(K)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=new Set;for(let ia=0,ka=V.length;ia<ka;++ia){const ta=V[ia];2===M&&!ta.Ke()&&ta.Yo(K)&&fa.has(ta)&&ha.add(ta);for(const va of 0===M?ta.children():ta.Jm())2===M&&
va.Ke()||va.Yo(K)&&fa.has(va)&&ha.add(va)}if(0===ha.size)return!1;aa.Js(ha);K.Pb();return!0}function ob(K,M){const V=this.R().ia();if(0===V.length)return!1;const aa=K.R();var fa=aa.ia();if(aa.Lb){var ha=[...this.g.$H(K)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=[];for(let ia=0,ka=V.length;ia<ka;++ia){const ta=V[ia].xB(M);null!==ta&&ta.Yo(K)&&fa.has(ta)&&ha.push(ta)}if(0===ha.length)return!1;aa.As(ha);K.Pb();return!0}function pb(K,M){return d.compare(this.ka.cw(),
K,M)}function qb(K,M,V,aa,fa,ha,ia,ka){const ta=this.ka,va=this.g.$r().H();for(const za of K.wR(ta,va)){if(!za.wb().iR)break;ta.ql(za,{Fr:M,Gr:V,Uo:aa,To:fa,Er:ha,Hr:ia,cv:ka})}}function rb(K){const M=this.ka,V=this.g.$r().H();for(const aa of K.wR(M,V))M.bj(aa)}function oa(){this.ka.Zi()&&this.ka.za().bj(this.ka)}function ya(){return this.ka.cw()}function vb(K,M){K=Math.floor(K);M=Math.floor(M);const V=this.m();2>K||2>M||!isFinite(K)||!isFinite(M)?(V.Xw(),V.Za()):V.lB(K,M)}function wb(K,M,V,aa,fa,
ha,ia,ka){const ta=this.m();ta.ZL(K,M,{mode:0===V?"absolute":"relative",x:aa,y:fa,zv:ha,mS:ia,nS:ka})&&ta.Za()}function xb(){const K=this.m();return K.mf()?K.Wi().sj:0}function yb(){const K=this.m();return K.mf()?K.Wi().Ej:0}function zb(K){const M=this.m();K=2===K?!M.gd():0!==K;M.gd()!==K&&M.Tf(K)}function Ab(K,M){this.b0(K,M)}function Pa(K,M){this.a0(K,""+M)}function Qa(K){this.j_(K)}function Ra(){this.xJ()}function Sa(){this.TI()}function Ia(){return this.kF}function g(K){this.Hka(0!==K)}function l(){return this.Gka()}
function q(K,M,V){return d.compare(this.Ba().ie(K),M,V)}function y(K){return!!this.Ba().ie(K)}function C(K,M){const V=this.R(),aa=V.ia();if(!aa.length)return!1;let fa=aa[0],ha=fa,ia=fa.ie(M);for(let ka=1,ta=aa.length;ka<ta;++ka){fa=aa[ka];const va=fa.ie(M);if(0===K&&va<ia||1===K&&va>ia)ia=va,ha=fa}V.Il(ha);return!0}function D(K){if(this.g.gf().pi){{const aa=this.R();if(aa.Lb){aa.Od(!1);aa.Iv();var M=this.ia();for(let fa=0,ha=M.length;fa<ha;++fa){var V=M[fa];V.Fc===K?aa.Xl(V):aa.Gn(V)}this.Pb();K=
!!aa.F.length}else{M=aa.F;V=0;for(let fa=0,ha=M.length;fa<ha;++fa){const ia=M[fa];M[V]=ia;ia.Fc===K?aa.Xl(ia):++V}d.Ee(M,V);this.Pb();K=!!M.length}}}else K=F(this,K);return K}function F(K,M){M=K.G().Oi(M);if(!M)return!1;const V=K.R();if(!V.Lb&&!V.F.includes(M))return!1;if(K.Va){if(M.H().aB(K))return V.Il(M),K.Pb(),!0}else if(M.H()===K)return V.Il(M),K.Pb(),!0;return!1}function H(){this.g.Wm(this.ka)}function J(){return!0}function L(){return!0}function Q(K,M){this.Ba().Ql(K,M)}function R(K,M){const V=
this.Ba(),aa=V.ie(K);"number"===typeof aa&&"number"!==typeof M?M=parseFloat(M):"string"===typeof aa&&"string"!==typeof M&&(M=M.toString());V.Ql(K,aa+M)}function X(K,M){const V=this.Ba(),aa=V.ie(K);"number"===typeof aa&&("number"!==typeof M&&(M=parseFloat(M)),V.Ql(K,aa-M))}function U(K,M){this.Ba().Ql(K,M?1:0)}function da(K){const M=this.Ba();M.Ql(K,0===M.ie(K)?1:0)}function ca(K){let M;try{M=JSON.parse(K)}catch(V){console.error("Failed to load from JSON string: ",V);return}K=this.Ba();K.Jx("state");
K.hd(M,"state")}function Z(){return JSON.stringify(this.Ba().ud("state"))}function sa(){return this.Ba().H().Y}function ma(){const K=this.g.Ge().qF;let M=K.F.length;for(const V of this.g.$H(K))++M;return M}function qa(){return this.g.Ge().qF.R().ia().length}function ra(){return this.ka.$m()}function pa(){return this.ka.Fc}d.sS=function(K,M){const V=K[1],aa=K[4],fa=K[5],ha=K[6],ia=K[7],ka=K[8],ta=K[10],va=K[11],za=K[12],Yb=K[13],Zb=K[14],ua=M.I,la=M.uc;M=M.wc;K[3]&&(ua.Kca=b,ua.Lca=f,ua.Qea=c,ua.Uea=
e,ua.xga=k,la.Dg=h,la.Mh=m,la.nja=n,la.oja=p,la.Ffa=r,la.Efa=v,M.AM=x,M.M1=w,M.HR=u);aa&&(ua.Jca=t,ua.Bca=A,la.Lh=z,la.Fh=E,la.Kc=G,M.wka=I,M.Qda=N,M.Sba=O,M.Uba=P,M.Tba=S,M.Rba=T);fa&&(ua.HS=Y,ua.UX=ba,ua.SX=ea,la.vd=W,la.aia=na,la.bia=ja,la.cia=xa,la.dia=Ja,la.qja=Va,M.Iba=Na);ha&&(ua.gd=Oa,ua.Cca=Wa,la.Tf=Ca,la.nk=Aa,la.Dia=Ka,M.Opacity=Xa,M.uca=Ha);ia&&(ua.Lea=Ya,ua.Fga=Za,ua.Mca=La,la.Ifa=$a,la.Gfa=ab,la.Hfa=bb,la.Eka=cb,la.Ne=db,M.mfa=eb,M.lfa=fb,M.Dka=Ma,M.Cka=gb,M.Wja=hb);ka&&(la.Eia=ib,la.Fia=
jb);Yb&&(ua.Zi=kb,ua.Ke=lb,ua.Dga=mb,ua.wga=nb,ua.Bga=ob,ua.zca=pb,la.ql=qb,la.bj=rb,la.cha=oa,M.qca=ya);Zb&&(la.jja=vb,la.ZL=wb,M.Bfa=xb,M.Cfa=yb);ta&&(ua.gd=Oa,la.Tf=zb,la.Aia=Ab,la.Gia=Pa,la.bha=Qa);va&&(ua.uea=Ia,la.Kia=Ra,la.xia=Sa);za&&(ua.qn=l,la.Iia=g);V||(ua.sT=q,ua.TX=y,ua.yga=C,ua.vga=D,la.m0=Q,la.Cba=R,la.Oja=X,la.yia=U,la.Tja=da,ua.VK=J,ua.bZ=L,la.Zca=H,la.xC||(la.xC=ca),M.PS||(M.PS=Z),M.Uca=ma,M.Gga=qa,M.Tda=ra,M.dka=pa,M.Tfa=sa)}}
{"use strict";const d=self.B;d.QC=class extends d.da{constructor(a){super();this.ua=a;this.ya="";this.sc=-1;this.Du="";this.hz=!1;this.gi=null;this.uf=0;this.we=[];this.Co=new Map;this.xk=null;this.mt=-1;this.wF=this.ag=null;this.Cu=!1}j(){this.ya="";this.sc=-1;this.Du="";this.wF=this.ag=this.xk=this.gi=null;this.mt=-1;d.D(this.we);for(const a of this.Co.values())a.j();this.Co.clear()}Rh(){var a=this.ua,b=a.G().zc;const f=a.Ge();this.gi=f.ub();this.uf=f.uf+1;if(a=a.rB(this.gi))this.xk=a,this.ag=a.fT(),
this.wF=a.LF.map(c=>c.xa()),a.Nf()&&(this.mt=a.QZ());for(const c of b)if(b=c.R(),!b.Lb||this.gi.UW(c))this.we.push(c),this.Co.set(c,d.A(d.jM,b))}LX(a){this.ya="timer";this.Rh();this.sc=this.ua.G().ug()+a}JX(a){this.ya="signal";this.Rh();this.Du=a.toLowerCase()}yX(a){this.ya="promise";this.Rh();a.then(()=>this.bD()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.bD()})}hY(){return"timer"===this.ya}fY(){return"signal"===this.ya}bY(){return"promise"===
this.ya}bD(){this.hz=!0}HO(){return this.hY()?this.sc<=this.ua.G().ug():this.hz}lO(a){a.eE(this.gi,this.uf);for(const [b,f]of this.Co.entries())f.eE(b.R());if(a=this.xk)a.Ds(this.ag),a.LF.map((b,f)=>b.Sf(this.wF[f])),a.Nf()&&a.B_(this.mt)}S6(a){this.lO(a);this.gi.R6(a);this.xk&&this.xk.Nf()&&this.xk.us(this.mt);this.ua.Zo(this.we);this.Cu=!0}async U2(a){this.lO(a);for(const b of this.gi.T2(a))await this.ua.G().$o(b);this.xk&&this.xk.Nf()&&this.xk.us(this.mt);this.ua.Zo(this.we);this.Cu=!0}xn(a){for(const b of this.Co.values())b.xn(a)}ja(){const a=
{},b={t:this.sc,st:this.Du,s:this.hz,ev:this.gi.cb,sm:this.we.map(f=>f.cb),sols:a};this.gi.t4(this.uf)&&(b.act=this.gi.AJ(this.uf).cb);for(const [f,c]of this.Co)a[f.cb.toString()]=c.ja();return b}static z2(a,b){const f=a.G();var c=a.FV(b.ev);if(!c)return null;let e=0;if(b.hasOwnProperty("act")){var k=a.oV(b.act);if(!k)return null;e=k.Da()}k=d.A(d.QC,a);k.sc=b.t;k.ya=-1===k.sc?"signal":"timer";k.Du=b.st;k.hz=b.s;k.gi=c;k.uf=e;for(var h of b.sm)(c=f.ow(h))&&k.we.push(c);for(const [m,n]of Object.entries(b.sols))if(b=
f.ow(parseInt(m,10)))h=d.A(d.jM,null),h.ra(a,n),k.Co.set(b,h);return k}}}{"use strict";const d=self.B;d.jM=class extends d.da{constructor(a){super();this.J=null;this.gz=!0;this.F=[];a&&(this.J=a.H(),this.gz=a.Lb,d.cd(this.F,a.F))}j(){this.J=null;d.D(this.F)}eE(a){a.Od(this.gz);d.cd(a.F,this.F)}xn(a){d.pg(this.F,a)}ja(){return{sa:this.gz,insts:this.F.map(a=>a.Fc)}}ra(a,b){a=a.G();this.gz=!!b.sa;d.D(this.F);for(const f of b.insts)(b=a.Oi(f))&&this.F.push(b)}}}
{"use strict";const d=self.B;function a(b,f){let c=b.get(f);c||(c=new Map,b.set(f,c));return c}d.Ml=class extends d.da{constructor(b){super();this.g=b.jc;this.lm=!!b.OR;this.Te=!!b.kaa;this.C9=!!b.jaa;this.M9=!!b.xaa;this.p9=!!b.Z$;this.iR=!!b.Waa;this.f$=!!b.Vaa;this.ZQ=null;this.bP=new Map;this.Y8=new Map;this.Z8=new Map;this.a9=new Map}j(){this.g=null}G(){return this.g}jd(){}rp(){return this.C9}Hl(){return this.M9}$B(){return this.p9}gj(b,f){if(!f)throw Error("missing 'this' binding");let c=this.bP.get(b);
if(c)return c;c=b.bind(f);this.bP.set(b,c);return c}kN(b,f,c){if(!f)throw Error("missing 'this' binding");const e=a(this.Y8,b);let k=e.get(c);if(k)return k;k=b.bind(f,c);e.set(c,k);return k}lN(b,f,c,e){if(!f)throw Error("missing 'this' binding");var k=a(this.Z8,b);k=a(k,c);let h=k.get(e);if(h)return h;h=b.bind(f,c,e);k.set(e,h);return h}mN(b,f,c,e,k){if(!f)throw Error("missing 'this' binding");var h=a(this.a9,b);h=a(h,c);h=a(h,e);let m=h.get(k);if(m)return m;m=b.bind(f,c,e,k);h.set(k,m);return m}c8(b){if(!this.lm)throw Error("must be single-global plugin");
this.ZQ=b}Vi(){if(!this.lm)throw Error("must be single-global plugin");return this.ZQ.Vi()}}}{"use strict";const d=self.B;d.jia=class extends d.Ml{constructor(a,b){super(a);this.hm=b;this.Q9=0;this.MF=new Map;this.KI("elem-focused",f=>f.L5());this.KI("elem-blurred",f=>{f&&f.K5()})}j(){super.j()}V1(a){const b=this.Q9++;this.MF.set(b,a);return b}J6(a){this.MF.delete(a)}KI(a,b){this.g.kh(this.hm,a,f=>{const c=this.MF.get(f.elementId);b(c,f)})}}}
{"use strict";const d=self.B;d.Ap=class extends d.da{constructor(a){super();this.J=a;this.g=a.G();this.Ug=a.wb()}j(){this.Ug=this.g=this.J=null}H(){return this.J}G(){return this.g}wb(){return this.Ug}hf(){return this.J.hf()}Tr(){}sp(){}wn(){}Tw(){}CC(){}$j(){return null}}}
{"use strict";const d=self.B;d.zp=class extends d.da{constructor(a,b){super();this.ka=a;this.hm=b;this.g=a.G();this.J=this.ka.H();this.rc=this.J.rc;this.Uq=this.$k=null;this.Zt=this.Kk=!1;this.qe=null;this.Zu=!1}j(){this.Zu=!0;this.it();this.rE();this.Uq=this.$k=null;this.qe&&(this.qe.j(),this.qe=null);this.rc=this.J=this.g=this.ka=null}qx(){return this.Zu}Ba(){return this.ka}G(){return this.g}H(){return this.J}wb(){return this.rc.wb()}uw(){return this.ka.vg()}pa(a){return this.g.pa(a,this.ka,null)}Lc(a){return this.g.Lc(a,
this.ka,null)}VA(a,b){this.g.kh(this.hm,a,b)}JI(a){for(const [b,f]of a)this.VA(b,f)}Ag(a,b){this.g.jk(this.hm,a,b)}jL(a){return this.g.un(this.hm,"get-initial-state",a)}ij(a,b){this.g.Vd?this.Ag(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.hm,handler:a,data:b,responseId:null})}ne(){}$l(){this.Kk||(this.$k||(this.$k=()=>this.ne()),this.g.Eb().addEventListener("tick",this.$k),this.Kk=!0)}it(){this.Kk&&(this.g.Eb().removeEventListener("tick",this.$k),this.Kk=!1)}rE(){this.Zt&&
(this.g.Eb().removeEventListener("tick2",this.Uq),this.Zt=!1)}ud(){return null}hd(){}yc(){}Gh(){}AC(a,b){if(0!==b){var f=this.yc(a);if("number"!==typeof f)throw Error("expected number");this.Gh(a,f+b)}}$j(){return null}}}
{"use strict";const d=self.B;d.PC=class extends d.zp{constructor(a,b){super(a,b);this.gb=a.m();this.rA=this.dr=null}j(){if(this.dr){const a=this.g.Eb();a.removeEventListener("webglcontextlost",this.dr);a.removeEventListener("webglcontextrestored",this.rA);this.rA=this.dr=null}this.gb=null;super.j()}HW(){if(!this.dr){this.dr=()=>this.up();this.rA=()=>this.gL();var a=this.g.Eb();a.addEventListener("webglcontextlost",this.dr);a.addEventListener("webglcontextrestored",this.rA)}}up(){}gL(){}m(){return this.gb}rn(){return!1}Ri(){if(!this.rn())throw Error("original size not known");
const a=this.rh();if(a)return a.ca()}Qi(){if(!this.rn())throw Error("original size not known");const a=this.rh();if(a)return a.ba()}rh(){return null}dw(){var a=this.rh();return a&&(a=a.Md())?[a.ca(),a.ba()]:[100,100]}ew(){const a=this.rh();return a?a.Xi():null}an(){const a=this.ka.m();return[a.na(),a.oa()]}}}
{"use strict";const d=self.B,a=d.A(d.Rect);d.iia=class extends d.PC{constructor(b,f){super(b,f);this.xy=this.wb().V1(this);this.XP=!0;this.U8=this.kF=!1;this.tq=d.A(d.Rect,0,0,-1,-1);b=this.g.L;this.oQ=b.Hi;this.nQ=b.Gi;this.$l()}j(){this.wb().J6(this.xy);this.vp("destroy");this.xy=-1;super.j()}vp(b,f){f||(f={});f.elementId=this.xy;this.Ag(b,f)}cO(b){b||(b={});b.elementId=this.xy;this.ij("focus",b)}cx(b){b=!!b;this.XP!==b&&(this.XP=b,this.vp("set-visible",{isVisible:b}))}ne(){this.B8()}i8(){const b=
this.g.L.iw();return"Android"===d.Hb.zg&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}B8(){var b=this.m();const f=b.ea();var c=b.na(),e=b.oa();let [k,h]=f.tn(c,e),[m,n]=f.tn(c+b.ca(),e+b.ba());c=this.g.L;e=c.Bc;const p=c.mc;if(b.gd()&&f.gd()){if(!this.i8()){if(0>=m||0>=n||k>=e||h>=p){this.cx(!1);return}1>k&&(k=1);1>h&&(h=1);m>=e&&(m=e-1);n>=p&&(n=p-1)}a.set(k,h,m,n);b=c.Hi;e=c.Gi;a.Rc(this.tq)&&this.oQ===b&&this.nQ===e?this.cx(!0):(this.tq.Aa(a),this.oQ=b,this.nQ=e,this.cx(!0),b=null,this.U8&&
(b=f.Sj()-.2),this.vp("update-position",{left:Math.round(this.tq.N)+c.Yr(),top:Math.round(this.tq.M)+c.Zr(),width:Math.round(this.tq.width()),height:Math.round(this.tq.height()),fontSize:b}))}else this.cx(!1)}xJ(){this.cO({focus:!0})}TI(){this.cO({focus:!1})}L5(){this.kF=!0}K5(){this.kF=!1}b0(b,f){this.vp("set-css-style",{prop:d.$S(b),val:f})}a0(b,f){this.vp("set-attribute",{name:b,val:f})}j_(b){this.vp("remove-attribute",{name:b})}}}
{"use strict";const d=self.B,a=self.YW;d.fia=class extends d.da{constructor(b){super();this.g=b.jc;this.zG=d.A(d.ZA);this.Dz=d.A(d.ZA);this.Kt=null;this.a$=b.sna||null}j(){this.Dz.j();this.zG.j();this.g=null}G(){return this.g}jd(){}W1(b){this.zG.vc(b)}TJ(){return this.zG.uB()}Fg(b){this.Dz.vc(b)}Yl(b){this.Dz.Vm(b)}ia(){return this.Dz.uB()}WV(){if(null===this.Kt){const b=this.a$;if(b){if(this.Kt=new b(this),!(this.Kt instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Kt=new a(this)}return this.Kt}}}{"use strict";const d=self.B;d.hia=class extends d.da{constructor(a){super();this.g=a.G();this.Ac=a;this.J=a.H();this.Wh=a.tl();this.Wh.W1(this.J)}j(){this.Wh=this.J=this.Ac=this.g=null}sg(){return this.Ac}H(){return this.J}G(){return this.g}tl(){return this.Wh}}}
{"use strict";const d=self.B;d.gia=class extends d.da{constructor(a,b){super();this.gy=a;this.hm=b;this.ka=a.ka;this.g=a.G();this.Ac=a.sg();this.rc=this.Ac.rc;this.aQ=this.Zt=this.Kk=!1;this.qe=null}j(){this.it();this.rE();this.n8();this.qe&&(this.qe.j(),this.qe=null);this.rc=this.Ac=this.g=this.ka=this.gy=null}tl(){return this.Ac.tl()}H(){return this.ka.H()}m(){return this.ka.m()}G(){return this.g}sg(){return this.Ac}uw(){return this.gy.uw()}pa(a){return this.g.pa(a,this.ka,this.Ac)}Lc(a){return this.g.Lc(a,
this.ka,this.Ac)}ne(){}$l(){this.Kk||(this.g.R1(this),this.Kk=!0)}it(){this.Kk&&(this.g.G6(this),this.Kk=!1)}rE(){this.Zt&&(this.g.H6(this),this.Zt=!1)}n8(){this.aQ&&(this.g.F6(this),this.aQ=!1)}VA(a,b){this.g.kh(this.hm,a,b)}ud(){return null}hd(){}yc(){}Gh(){}AC(a,b){if(0!==b){var f=this.yc(a);if("number"!==typeof f)throw Error("expected number");this.Gh(a,f+b)}}$j(){return null}}}
{"use strict";const d=self.B;d.C={};d.Xo={};d.RZ=class extends d.da{constructor(a){super();this.g=a;this.S8=[];this.JQ=new Map;this.pd=null;this.O8=[];this.RE=new Map;this.gQ=this.bR=null}GT(a){const b=this.g.wg(a[0]);if(!b)throw Error("missing plugin");d.sS(a,b);a=d.A(b,{jc:this.g,OR:a[1],kaa:a[2],jaa:a[5],Z$:a[8],xaa:a[9],Waa:a[13],Vaa:a[14]});a.jd();this.S8.push(a);this.JQ.set(b,a)}IT(){this.pd=d.A(d.C.La,{jc:this.g,OR:!0});this.pd.jd()}BT(a){a=this.g.wg(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{jc:this.g});b.jd();this.O8.push(b);this.RE.set(a,b);!this.bR&&d.Xo.Taa&&b instanceof d.Xo.Taa?this.bR=b:!this.gQ&&d.Xo.maa&&b instanceof d.Xo.maa&&(this.gQ=b)}sW(a){return this.JQ.get(a)||null}NW(a){return this.RE.has(a)}sV(a){return this.RE.get(a)||null}ks(){return this.pd}}}
{"use strict";const d=self.B,a=new Set;d.Fw=class extends d.da{constructor(){super();this.Ei="";this.P=this.S=this.Eq=this.Dq=this.fg=this.Bo=0;this.oq=!1;this.Qe=null;this.Zk="";this.xi=d.A(d.Rect);a.add(this)}j(){this.Dh();this.Qe=null;a.delete(this)}static up(){for(const b of a)b.Zk="",b.xi.set(0,0,0,0)}uY(b){this.Ei=b[0];this.Bo=b[1];this.fg=b[2];this.Dq=b[3];this.Eq=b[4];this.S=b[5];this.P=b[6];this.oq=!0}tY(b){this.Ei=b[0];this.Bo=b[1];this.Dq=b[2];this.Eq=b[3];this.S=b[4];this.P=b[5];this.fg=
b[11];this.oq=!0}wY(b,f){if(this.Qe)throw Error("already loaded asset");this.Ei=f;const c={};d.iC(f)&&(c.mv="remote");this.JK(b,c);return this.Qe.IK()}t_(b){if(b===this)throw Error("cannot replace with self");this.Dh();this.Ei=b.Ei;this.Bo=b.Bo;this.fg=b.fg;this.Dq=b.Dq;this.Eq=b.Eq;this.S=b.S;this.P=b.P;this.oq=b.oq;this.Qe=b.Qe;this.Zk=b.Zk;this.xi=b.xi}zl(){return this.Bo}ca(){return this.S}ba(){return this.P}JK(b,f){if(this.Qe)throw Error("already got asset");f=Object.assign({},f,{url:this.Ei,
size:this.zl()});this.Qe=b.Rw(f)}rC(){return this.Qe&&this.Qe.rC()}async ts(b,f){if(!this.Qe)throw Error("no asset");if(this.Zk)throw Error("already loaded texture");this.Zk="loading";b=await this.Qe.ts(b,f);if(!b)return this.Zk="",null;this.Zk="loaded";this.oq||(this.S=b.ca(),this.P=b.ba(),this.oq=!0);this.xi.set(this.Dq,this.Eq,this.Dq+this.S,this.Eq+this.P);this.xi.fl(b.ca(),b.ba());return b}Dh(){this.Zk&&(this.Qe&&this.Qe.Dh(),this.Zk="",this.xi.set(0,0,0,0))}Md(){return this.Qe?this.Qe.Md():
null}Xi(){return this.xi}}}
{"use strict";const d=self.B;d.KS=class extends d.da{constructor(a){super();this.Y=a[0];this.c$=a[1];this.cz=!!a[2];this.Mq=a[3];this.TQ=a[4];this.B9=!!a[5];this.cb=a[6];this.yd=a[7].map(b=>d.A(d.JS,b))}j(){for(const a of this.yd)a.j();d.D(this.yd)}rY(a){for(const b of this.yd)b.hf().JK(a)}sY(a,b){return Promise.all(this.yd.map(f=>f.hf().ts(a,b)))}g_(){for(const a of this.yd)a.hf().Dh()}xl(a){a=Math.floor(a);if(0>a||a>=this.yd.length)throw new RangeError("invalid frame");return this.yd[a]}ak(){return this.c$}yl(){return this.Mq}}}
{"use strict";const d=self.B;d.JS=class extends d.da{constructor(a){super();this.xf=d.A(d.Fw);this.xf.tY(a);this.nP=a[6];this.HQ=d.A(d.Ps,a[7],a[8]);this.Py=a[9].map(b=>d.A(d.jX,this,b));this.PP=new Map;for(const b of this.Py)this.PP.set(b.Y.toLowerCase(),b);this.Pn=null;a=a[10];6<=a.length&&(this.Pn=d.A(d.Um,a))}j(){this.Pn&&(this.Pn.j(),this.Pn=null);this.xf.j();this.xf=null}hf(){return this.xf}Wj(){return this.HQ.O}Xj(){return this.HQ.K}YV(a){return this.PP.get(a.toLowerCase())||null}XV(a){a=Math.floor(a);
return 0>a||a>=this.Py.length?null:this.Py[a]}KB(){return this.Py.length}}}{"use strict";const d=self.B;d.jX=class extends d.da{constructor(a,b){super();this.Y=b[0];this.NG=d.A(d.Ps,b[1],b[2])}j(){}na(){return this.NG.O}oa(){return this.NG.K}}}
{"use strict";const d=self.B,a=self.Hf,b=self.eC;d.zC=class extends d.da{constructor(f,c,e){super();const k=f.wg(e[1]);this.g=f;this.Ug=f.wo.sW(k);this.rc=null;this.Ty=k.Instance;this.Qa=c;this.cb=e[11];this.Y=e[0];this.du=this.g.vh(e[14]);this.z9=!!e[9];this.Va=!!e[2];this.aG=!!e[10];this.ni=e[3].map(h=>({fS:h[0],type:h[1],name:h[2],laa:f.vh(h[3])}));this.W8=e[4];this.k9=e[5];this.Te=this.Ug.Te;this.Na=null;this.ny=d.A(d.W0,f.eg,f.dg);this.KE=!0;this.LE=!1;this.tF=this.Yn=null;this.Ng=-1;this.sF=
this.Cy=this.Dy=this.rF=this.Mg=null;this.VF=!1;this.$h=null;this.$O=e[8].map(h=>d.RI.Pa(this,h));this.hy=[];this.SE=new Map;this.QE=new Map;this.pR=new Set;this.wm=d.A(d.T0,this);this.cy=this.by=this.wd=this.xf=this.$h=this.fq=null;this.Tq=0;this.sb=new Map;this.bh=new Map;this.F=[];this.IF=!0;this.Ug.$B()&&(this.Na=d.A(d.Oj,this,e[12]));e[6]&&(this.xf=d.A(d.Fw),this.xf.uY(e[6]));if(e[7]){this.wd=e[7].map(h=>d.A(d.KS,h));this.by=new Map;this.cy=new Map;for(const h of this.wd)this.by.set(h.Y.toLowerCase(),
h),this.cy.set(h.cb,h)}this.Va?(this.Yn=[],this.tF=new Set,this.Ng=this.g.i4()):(this.Mg=[],this.rF=new Set,this.Dy=[],this.Cy=[],this.sF=[]);this.rc=d.A(k.Ul,this,e[15]);this.VP=this.Mt=null;this.Kd=d.A(d.Event.Eb);if(c=this.rc.$j()){if(this.Mt=new c(this),!(this.Mt instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Mt=new b(this);this.g.pA&&!this.Va&&!this.aG&&this.Te||this.jd();this.Ug.lm&&(this.Ug.c8(this),this.I2(e))}static Pa(f,c,e){return d.A(d.zC,
f,c,e)}j(){this.xf&&(this.xf.j(),this.xf=null);if(this.wd){for(const f of this.wd)f.j();d.D(this.wd);this.by.clear();this.cy.clear()}this.wm.j();this.wm=null;this.sb.clear();this.bh.clear();this.g=this.$h=null}Z4(f){for(let c=1,e=f.length;c<e;++c){const k=this.g.Ie(f[c]);this.Yn.push(k);this.tF.add(k);k.Mg.push(this);k.rF.add(this)}}D7(f){this.VF=!0;this.$h=f}Xb(){return this.VF}E5(){var f=0;if(!this.Va)for(var c of this.Mg)for(var e of c.$O){const m=e.Y.toLowerCase();this.SE.set(m,e);this.QE.set(m,
f);this.hy.push(e);++f}for(var k of this.$O)c=k.Y.toLowerCase(),this.SE.set(c,k),this.QE.set(c,f),this.hy.push(k),++f;for(var h of this.hy)this.pR.add(h.tl().constructor);if(!this.Va&&this.Mg.length){f=this.g.sP;d.yA(this.Dy,f,0);d.yA(this.Cy,f,0);d.yA(this.sF,f,0);f=[];c=h=k=0;for(const m of this.Mg)if(e=m.Ng,this.Dy[e]=k,k+=m.ni.length,this.Cy[e]=h,h+=m.W8,this.sF[e]=c,c+=m.k9,(e=m.Na)&&this.Na)for(const n of e.Jf())f.push(n.oT(this.Na));this.Na&&this.Na.WZ(f)}}I2(f){const c=this.g.h4(),e=d.A(d.Instance,
{jc:this.g,lI:this,uid:c});e.ux(f[16],[]);this.g.r5(c,e);this.F.push(e)}jd(){this.Va||this.rc.jd()}RW(){return 0<this.Tq}sp(f){if(this.Va)return Promise.resolve();this.Tq++;return 1===this.Tq?this.rc.sp(f)||Promise.resolve():Promise.resolve()}wn(){if(!this.Va){this.Tq--;if(0>this.Tq)throw Error("released textures too many times");0===this.Tq&&this.rc.wn()}}Tw(){if(this.Va)throw Error("not applicable to family");this.rc.Tw()}CC(f){return this.Va?Promise.resolve():this.rc.CC(f)}G(){return this.g}wb(){return this.Ug}vh(){return this.du}Da(){return this.Qa}Of(){return this.z9}uM(f){return f&&
this.pR.has(f)}cW(){return this.ni.map(f=>f.fS)}bW(f){return this.ni.findIndex(c=>c.fS===f)}aW(f){return this.ni.findIndex(c=>c.name===f)}X3(){return this.ni.map(f=>f.laa)}gs(f){f=Math.floor(f);if(0>f||f>=this.ni.length)throw new RangeError("invalid instance variable index");return this.ni[f].type}OJ(f){f=Math.floor(f);if(0>f||f>=this.ni.length)throw new RangeError("invalid instance variable index");return this.ni[f].name}$v(f){return this.SE.get(f.toLowerCase())||null}Xr(f){f=this.QE.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}$B(){return this.Ug.$B()}vM(){return this.Na&&this.Na.JW()}R(){return this.wm.R()}hf(){return this.xf}ML(f){this.fq=f}aB(f){return this.rF.has(f)}uJ(f){return this.tF.has(f)}Zm(f){return this.Cy[f]}EB(f){return this.Dy[f]}BJ(f){if(!this.wd)throw Error("no animations");return this.by.get(f.toLowerCase())||null}rV(f){if(!this.wd)throw Error("no animations");return this.cy.get(f)||null}NV(){if(!this.wd)throw Error("no animations");return this.wd[0].xl(0)}BV(){if(this.wd){const f=
this.NV().hf();return[f.ca(),f.ba()]}return this.xf?[this.xf.ca(),this.xf.ba()]:[100,100]}Vi(){if(!this.Ug.lm)throw Error("not a single-global plugin");return this.F[0]}ia(){return this.F}*MR(){yield*this.F}*caa(){yield*this.F;for(const f of this.g.Gk)f.H()===this&&(yield f)}Fg(f){this.F.push(f)}ft(){this.IF=!0}Ux(){if(this.IF&&!this.Va){var f=this.F,c=0;for(let e=f.length;c<e;++c)f[c].yO(c);f=this.g.Gk;for(const e of f)e.H()===this&&e.yO(c++);this.IF=!1}}NJ(f){var c=this.F;if(f<c.length)return c[f];
f-=c.length;c=this.g.Gk;for(const e of c)if(e.H()===this){if(0===f)return e;--f}return null}KJ(f){if(f&&f.Xb()&&f.H()!==this)for(const c of f.od)if(c.H()===this)return c;f=this.R().ia();return f.length?f[0]:null}qW(f){const c=this.R().ia();return 0<c.length?c[f.$m()%c.length]:null}*wR(f,c){const e=this.R().ia();var k=e.length;const h=c.R(),m=c.R().ia(),n=m.length;var p=f.$m();if(c.Va||!h.Lb)p=m.indexOf(f);f=Math.ceil(k/n);k%=n;0===k||p<k?(p*=f,k=f):(p=k*f+(p-k)*(f-1),k=f-1);for(let r=p,v=p+k;r<v;++r)yield e[r]}Tr(f){this.rc.Tr(f)}Pb(){if(this.VF&&
!this.Va){this.Ux();var f=this.R(),c=f.F,e=f.Lb,k=this.g.Ge();k=k&&k.ub()&&k.ub().zd;for(const n of this.$h.Sk)if(n!==this){n.Ux();var h=n.R();h.Od(e);if(!e){var m=h.F;d.D(m);for(const p of c)m.push(n.NJ(p.$m()));if(k){m=f.Rb;h=h.Rb;d.D(h);for(const p of m)h.push(n.NJ(p.$m()))}}}}}v8(f,c){for(const e of this.$h.Sk){const k=e.R();f?d.Ee(k.Rb,c):d.Ee(k.F,c)}}vO(){this.KE=!0}iE(f){this.LE=!!f}OO(){if(this.KE&&this.Te){for(const f of this.F)f.m().RO();for(const f of this.g.Gk)f.H()===this&&f.m().RO();
this.KE=!1}}Ui(){this.sb||(this.sb=new Map);return this.sb}ms(){this.bh||(this.bh=new Map);return this.bh}jK(){return this.uM(d.Xo.Pfa)}aC(){return this.uM(d.Xo.qga)}ja(){const f={instances:this.F.map(c=>c.ud())};this.sb&&this.sb.size&&(f.ex=d.qD(this.sb));return f}ra(f){this.sb&&(this.sb.clear(),this.sb=null);var c=f.ex;c&&(this.sb=d.sB(c));c=this.F;f=f.instances;for(let e=0,k=Math.min(c.length,f.length);e<k;++e)c[e].hd(f[e]);for(let e=f.length,k=c.length;e<k;++e)this.g.Wm(c[e]);for(let e=c.length,
k=f.length;e<k;++e){c=f[e];let h=null;if(this.Te&&(h=this.g.Fb().mw(c.w.l),!h))continue;this.g.oh(this.fq||this,h,!1,0,0,!0).hd(c)}this.ft()}rg(f){var c=this.g;(c=c.lb&&!c.ga().Jw())&&a.mD();this.Kd.dispatchEvent(f);c&&a.YA()}}}{"use strict";const d=self.B;d.vT=class extends d.da{constructor(a,b){super();this.g=a;this.Sk=b;for(const f of this.Sk)f.D7(this)}j(){this.g=null}G(){return this.g}MW(){return this.Sk.some(a=>a.Te)}}}
{"use strict";const d=self.B,a=self.Hf,b=self.qs,f=[];let c=0;const e=new WeakMap,k=new WeakMap;d.Instance=class extends d.da{constructor(h){super();this.g=h.jc;this.Hd=h.lI;this.Sd=this.qa=this.gb=null;this.NP=0;this.Fc=h.uid;this.OQ=c++;this.wa=0;this.Nc=this.te=f;var m=this.Hd.hy;0<m.length&&(this.Nc=m.map((n,p)=>d.A(d.Bv,{jc:this.g,LH:n,instance:this,index:p})));this.od=this.Hd.Xb()?[]:null;this.Zd=-1;this.Jb=null;m=this.wb();m.Hl()&&(this.wa|=4);if(m.Te)if(this.gb=d.A(d.J1,this,h.Cd),h.oS)this.gb.Bl(h.oS);
else{this.gb.xX();const [n,p]=this.Hd.BV();this.gb.Kc(n,p);this.H().vM()&&this.gb.Td.vY()}h.LR?this.c5(h.LR):this.X4()}j(){this.Sd&&(this.Sd.et(),this.Sd=null);if(0<this.Nc.length){for(var h of this.Nc)h.j();d.D(this.Nc)}this.qa.j();this.qa=null;if(h=e.get(this))h.clear(),e.delete(this);if(h=k.get(this))h.clear(),k.delete(this);this.od&&d.D(this.od);this.Jb&&(this.Jb.j(),this.Jb=null);this.Hd=this.g=null;0<this.te.length&&d.D(this.te);this.gb&&(this.gb.j(),this.gb=null)}c5(h){0<h.length&&(this.te=
[],d.cd(this.te,h))}X4(){const h=this.Hd.ni.length;if(0!==h){this.te=[];var m=[0,0,""];for(let n=0;n<h;++n)this.te.push(m[this.Hd.gs(n)])}}ux(h,m){if(this.qa)throw Error("already got sdk instance");for(let n=0,p=this.Nc.length;n<p;++n)this.Nc[n].ux(m?m[n]:null);this.qa=d.A(this.Hd.Ty,this,h);if(!(this.qa instanceof d.zp))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Nc.length;n<p;++n);this.Hd.VP&&this.FN()}m(){return this.gb}G(){return this.g}pV(){const h=this.Zd;return-1===
h?this.G().Zd:h}eD(h){h=+h;if(0>h||!isFinite(h))h=0;this.Zd=h}A_(){this.Zd=-1}Eb(){this.Jb||(this.Jb=d.A(d.Event.Eb));return this.Jb}ff(h){this.qa.ff(h)}jd(h){this.qa.jd(h)}Q7(){this.wa|=2}dk(){return 0!==(this.wa&2)}WD(){this.wa|=1}tK(){return 0!==(this.wa&1)}Hl(){return 0!==(this.wa&4)}Cs(h,m){h<<=16;this.wa=m?this.wa|h:this.wa&~h}IB(h){return 0!==(this.wa&h<<16)}rh(){return this.qa.rh()}dw(){return this.qa.dw()}ew(){return this.qa.ew()}an(h){return this.qa.an(h)}H(){return this.Hd}Yo(h){return h.Va?
h.uJ(this.H()):this.H()===h}wM(){if(!this.wb().iR)throw Error("object does not support scene graph");}Zi(){return null!==this.za()}za(){var h=this.m();return h?(h=h.za())?h.Ba():null:null}ww(){var h=this.m();return h?(h=h.ww())?h.Ba():null:null}*pv(){const h=this.m();if(h)for(const m of h.pv())yield m.Ba()}Ke(){const h=this.m();return h?h.Ke():!1}Fe(){const h=this.m();return h?h.Fe().map(m=>m.Ba()):[]}*children(){const h=this.m();if(h)for(const m of h.children())yield m.Ba()}*Jm(){const h=this.m();
if(h)for(const m of h.Jm())yield m.Ba()}cw(){const h=this.m();return h?h.cw():0}xB(h){const m=this.m();return m?(h=m.xB(h))?h.Ba():null:null}ql(h,m){this.wM();h.wM();this.m().ql(h.m(),m||{})}bj(h){const m=this.m();m&&m.bj(h.m())}fw(){const h=this.m();return h?h.fw():!1}O0(){var h=this.m();if(h&&(h=h.YG))for(const m of h)if(h=this.g.Oi(m[2])){const n=m[3];this.ql(h,{Fr:!!(n>>0&1),Gr:!!(n>>1&1),Uo:!!(n>>2&1),To:!!(n>>3&1),Er:!!(n>>4&1),cv:!!(n>>5&1),Hr:!!(n>>6&1)})}}Xb(){return null!==this.od}Mp(h){this.od.push(h)}TW(h){return!!this.dK(h)}dK(h){const m=
this.od;if(null===m||0===m.length)return!1;for(const n of m)if(n.H()===h)return n;return null}Jh(){for(const h of this.od)h.H().R().ej(h)}v6(){for(const h of this.od)h.H().R().Gn(h)}b8(h){for(const m of this.od)m.H().R().F[h]=m}u6(){for(const h of this.od)h.H().R().Xl(h)}a8(h){for(const m of this.od)m.H().R().Rb[h]=m}wb(){return this.Hd.wb()}yO(h){this.NP=h}$m(){this.Hd.Ux();return this.NP}CJ(h){const m=this.Nc;for(let n=0,p=m.length;n<p;++n)if(m[n].sg().cb===h)return n;return-1}ie(h){h|=0;const m=
this.te;if(0>h||h>=m.length)throw new RangeError("invalid instance variable");return m[h]}f4(h){return this.te[h]}e4(h){const m=this.te[h];return 0===this.Hd.gs(h)?!!m:m}Ql(h,m){h|=0;const n=this.te;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Hd.gs(h)){case 0:n[h]=m?1:0;break;case 1:n[h]="number"===typeof m?m:parseFloat(m);break;case 2:n[h]="string"===typeof m?m:m.toString();break;default:throw Error("unknown instance variable type");}}n0(h,m){if(0!==m){h|=0;
var n=this.te;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof m?n[h]+m:n[h]+parseFloat(m);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Ui(){let h=e.get(this);if(h)return h;h=new Map;e.set(this,h);return h}ms(){let h=k.get(this);if(h)return h;h=new Map;k.set(this,
h);return h}zN(h){const m=this.H();if(m.Kd.YB(h))return!0;for(const n of m.Mg)if(n.Kd.YB(h))return!0;return this.g.Kd.YB(h)?!0:!1}Tx(){const h=new Set;h.add(this);const m=this.m();if(m&&m.Ke())for(const n of this.Jm())if(h.add(n),n.Xb())for(const p of n.od)h.add(p);if(this.Xb())for(const n of this.od)h.add(n);for(const n of h.values())n.LO()}LO(){if(this.zN("instancecreate")){const h=this.H(),m=new d.Event("instancecreate");m.instance=this.vg();h.rg(m);for(const n of h.Mg)n.rg(m);this.g.rg(m)}this.g.pa(this.wb().constructor.I.VK,
this,null)}t8(){this.g.pa(this.wb().constructor.I.bZ,this,null)}P3(h){if(this.Sd){var m=new d.Event("destroy");m.haa=h;this.rg(m)}if(this.zN("instancedestroy")){m=this.H();var n=new d.Event("instancedestroy");n.instance=this.vg();n.haa=h;m.rg(n);for(const p of m.Mg)p.rg(n);this.g.rg(n)}}ud(h="full"){const m={};"full"===h?m.uid=this.Fc:m.c3=!0;if("visual-state"!==h){var n=e.get(this);n&&n.size&&(m.ex=d.qD(n));-1!==this.Zd&&(m.mts=this.Zd);if(0<this.Hd.ni.length){n={};var p=this.Hd.cW();for(let r=0,
v=this.te.length;r<v;++r)n[p[r].toString()]=this.te[r];m.ivs=n}if(this.Nc.length){n={};for(const r of this.Nc)(p=r.ud())&&(n[r.sg().cb.toString()]=p);m.behs=n}}this.gb&&(m.w=this.gb.ja(h));(h=this.qa.ud())&&(m.data=h);return m}Jx(h="full"){this.gb&&this.gb.Jx(h)}hd(h,m="full"){if("full"===m)this.Fc=h.uid;else if(!h.c3)return;if("visual-state"!==m){var n=e.get(this);n&&(n.clear(),e.delete(this));if(n=h.ex)n=d.sB(n),e.set(this,n);this.Zd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [v,x]of Object.entries(n))if(n=
this.Hd.bW(parseInt(v,10)),!(0>n||n>=this.te.length)){var p=x;null===p&&(p=NaN);this.te[n]=p}}if(this.wb().Te){n=h.w;var r=n.l;this.gb.ea().cb!==r&&(p=this.gb.ea(),(r=p.Uc().mw(r))?(this.gb.gt(r),p.Yl(this,!0),r.Fg(this,!0),r.Uf(),this.gb.Za()):"full"===m&&this.g.Wm(this));this.gb.ra(n,m)}if("visual-state"!==m&&(m=h.behs))for(const [v,x]of Object.entries(m))m=this.CJ(parseInt(v,10)),0>m||m>=this.Nc.length||this.Nc[m].hd(x);(h=h.data)&&this.qa.hd(h)}vg(){return this.Sd||this.FN()}FN(){var h=this.gb?
self.Ew:b;const m=this.qa.$j(),n=this.Hd.VP,p=n||m||h;b.Rh(this);this.Sd=new p;b.Rh(null);if(m&&!(this.Sd instanceof h))throw new TypeError(`script interface class '${m.name}' does not extend the right base class '${h.name}'`);if(n&&(h=m||h,!(this.Sd instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.Sd}d4(h){if(0!==this.te.length){var m={},n=this.Hd.X3();for(let p=0,r=n.length;p<r;++p)m[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.e4.bind(this,p),set:d.Instance.prototype.Ql.bind(this,p)};m=Object.create(Object.prototype,m);h.Wla={value:m,writable:!1}}}Y3(h){var m=this.Nc;if(0!==m.length){var n={};for(const p of m)n[p.sg().vh()]={value:p.uw(),writable:!1};m=Object.create(Object.prototype,n);h.av={value:m,writable:!1}}}rg(h){h.instance=this.vg();var m=this.g;(m=m.lb&&!m.ga().Jw())&&a.mD();this.vg().dispatchEvent(h);m&&a.YA()}}}
{"use strict";const d=self.B;d.J_=class extends d.da{constructor(a){super();this.Ob=a;this.ec=null;this.ly=[];this.aA=a.ca();this.$z=a.ba();this.lH=this.kH=1;this.Gz=0}j(){this.ec=null;d.D(this.ly)}bM(a){this.Gz=(this.ec=a)?a.Ha():0}za(){return this.ec}Ke(){return 0<this.ly.length}Fe(){return this.ly}y0(a){this.kH=a}z0(a){this.lH=a}Si(){return this.Ob.gn()?this.ec.ca()/this.ec.yb.aA:1}Ti(){return this.Ob.dn()?this.ec.ba()/this.ec.yb.$z:1}ja(){return{sw:this.aA,sh:this.$z,sx:this.kH,sy:this.lH,psa:this.Gz,
c:this.ly.map(a=>{let b="";a.hn()&&(b+="x");a.jn()&&(b+="y");a.gn()&&(b+="w");a.dn()&&(b+="h");a.yw()&&(b+="a");a.zw()&&(b+="z");a.fw()&&(b+="d");return{uid:a.Ba().Fc,f:b}})}}ra(a){this.aA=a.sw;this.$z=a.sh;this.kH=a.sx;this.lH=a.sy;this.Gz=a.psa}$D(a){const b=this.Ob,f=b.G();for(const c of a.c){a=f.Oi(c.uid).m();const e=c.f,k={};k.Fr=e.includes("x");k.Gr=e.includes("y");k.Uo=e.includes("w");k.To=e.includes("h");k.Er=e.includes("a");k.Hr=e.includes("z");k.cv=e.includes("d");b.ql(a,k)}}}}
{"use strict";const d=self.B,a=self.il,b=a.QA,f=a.Ir,c=d.A(d.Rect),e=d.A(d.Ed),k=d.A(d.Event,"bboxchange",!1),h=d.A(d.Xa,0,0,0,0),m=d.A(d.Um),n=d.A(d.Xa,1,1,1,1),p=d.A(d.Rect,0,0,-1,-1),r=d.A(d.Rect,0,0,-1,-1),v=new Set(["absolute","relative"]),x=[];b.create();f.create();let w=!0;d.J1=class extends d.da{constructor(u,t){super();this.ka=u;this.J=u.H();this.g=u.G();this.xj=t;this.Ij=-1;this.wa=196635;this.J.wb().rp()&&(this.wa|=128);this.Gq=this.Fq=this.cF=this.bH=this.Sa=this.di=this.li=this.Fi=this.Gc=
this.K=this.O=NaN;this.WE=d.A(d.Rect);this.XE=d.A(d.Ed);this.my=r;this.wu=p;this.Ai=this.Wq=this.Xz=null;this.Rn=this.$a=n;this.Td=this.Do=null;this.ka.H().vM()&&(this.Td=d.A(d.NX,this.ka,this));this.YG=this.yb=null;this.ZG=this.WQ=NaN;this.Tg=null}WD(){this.wa|=256}j(){this.Do&&(this.g.Gb().qL(this.Do),this.Do=null);this.Xz=null;this.Wq&&(this.Wq.XR.j(),this.Wq=null);this.Ai&&(this.Ai.clear(),this.Ai=null);this.Xw();this.Zi()&&this.za().bj(this);if(this.Ke()){const u=[...this.Fe()];for(const t of u)this.bj(t)}this.Mx();
this.xj=this.g=this.J=this.ka=null}Bl(u){w=!1;this.Tl(u[0],u[1]);this.Ne(u[2]);this.Kc(u[3],u[4]);this.di=0;this.rp()?this.vd(u[6]):this.Sa=0;h.ml(u[7]);this.Px(h);this.Gp(u[8]);this.Hp(u[9]);this.qf(u[10]);this.Td&&this.Td.Y4(u[12]);u[14]&&(this.YG=u[14][1],this.WQ=u[14][2]);if(u[15]){var t=u[15];this.lB(t[0],t[1]);u=this.Wi();t=t[2];for(let A=0,z=t.length;A<z;++A){const E=t[A];for(let G=0,I=E.length;G<I;++G){const N=E[G],O=u.ip(G,A);O.Dg(N[0]);O.Mh(N[1]);O.Ne(N[2]);O.fD(N[3]);O.gD(N[4])}}}w=!0;
this.Sp()}xX(){this.bH=this.Sa=this.di=this.li=this.Fi=this.Gc=this.K=this.O=0;this.cF=1;this.Gq=this.Fq=0;this.Sp()}G(){return this.g}H(){return this.J}Ba(){return this.ka}Ws(){return this.yw()?this.za().Ha()-this.yb.Gz:0}Dg(u){u=+u;if(this.hn()){const t=this.yb;u-=this.na();const A=-this.Ws();0===A?this.O+=u/t.Si():(this.O+=Math.cos(A)*u/t.Si(),this.jn()&&(this.K+=Math.sin(A)*u/t.Ti()))}else this.O=u}UY(u){u=+u;this.hn()?this.Dg(this.na()+u):this.O+=u}na(){if(this.hn()){let u=this.O;const t=this.yb,
A=this.za(),z=this.Ws();0===z?u*=t.Si():(u=u*t.Si()*Math.cos(z),this.jn()&&(u-=this.K*t.Ti()*Math.sin(z)));return A.na()+u}return this.O}Mh(u){u=+u;if(this.jn()){const t=this.yb;u-=this.oa();const A=-this.Ws();0===A?this.K+=u/t.Ti():(this.hn()&&(this.O-=Math.sin(A)*u/t.Si()),this.K+=Math.cos(A)*u/t.Ti())}else this.K=u}VY(u){u=+u;this.jn()?this.Mh(this.oa()+u):this.K+=u}oa(){if(this.jn()){let u=this.K;const t=this.yb,A=this.za(),z=this.Ws();0===z?u*=t.Ti():(u=u*t.Ti()*Math.cos(z),this.hn()&&(u+=this.O*
t.Si()*Math.sin(z)));return A.oa()+u}return this.K}Tl(u,t){u=+u;t=+t;if(this.gK()){const z=this.hn(),E=this.jn(),G=this.yb,I=u-this.na(),N=t-this.oa();var A=-this.Ws();if(0===A)this.O=z?this.O+I/G.Si():u,this.K=E?this.K+N/G.Ti():t;else{const O=Math.sin(A);A=Math.cos(A);this.O=z?E?this.O+(A*I-O*N)/G.Si():this.O+A*I/G.Si():u;this.K=E?z?this.K+(O*I+A*N)/G.Ti():this.K+A*N/G.Ti():t}}else this.O=u,this.K=t}Sw(u,t){u=+u;t=+t;this.gK()?this.Tl(this.na()+u,this.oa()+t):(this.O+=u,this.K+=t)}$U(u,t){return this.na()===
u&&this.oa()===t}Ne(u){u=+u;this.zw()&&(u-=this.za().bb());this.Gc!==u&&(this.Gc=u,this.UO(),u=this.ea(),0!==this.Gc&&u.wO(),u.Uf())}UO(){this.Sp();if(this.Ke()){const u=this.Fe();for(let t=0,A=u.length;t<A;t++){const z=u[t];z.zw()&&z.UO()}}}WY(u){this.Ne(this.bb()+u)}bb(){return this.zw()?this.za().bb()+this.Gc:this.Gc}xg(){return this.ea().bb()+this.bb()}Lh(u){u=+u;this.Fi=this.gn()?this.Fi*(u/this.ca()):u}SK(u){u=+u;this.gn()?this.Lh(this.ca()+u):this.Fi+=u}ca(){return this.gn()?this.za().ca()*
this.Fi:this.Fi}Fh(u){u=+u;this.li=this.dn()?this.li*(u/this.ba()):u}RK(u){u=+u;this.dn()?this.Fh(this.ba()+u):this.li+=u}ba(){return this.dn()?this.za().ba()*this.li:this.li}Kc(u,t){u=+u;t=+t;this.Fi=this.gn()?this.Fi*(u/this.ca()):u;this.li=this.dn()?this.li*(t/this.ba()):t}vW(){if(this.Zi()){const u=this.yb;return Math.min(u.Si(),u.Ti())}return 1}rp(){return 0!==(this.wa&128)}vd(u){u=+u;this.rp()&&(this.yw()&&(u-=this.za().Ha()),u=d.ae(u),this.Sa!==u&&(this.Sa=u,this.XD()))}QY(u){u=+u;0!==u&&this.rp()&&
(this.Sa=d.ae(this.Sa+u),this.XD())}XD(){this.wa|=262144;if(this.Ke()){const u=this.Fe();for(let t=0,A=u.length;t<A;t++)u[t].XD()}}Ha(){return this.yw()?d.ae(this.za().Ha()+this.Sa):this.Sa}SN(){const u=this.wa;if(0!==(u&262144)){var t=this.Ha();this.bH=Math.sin(t);this.cF=Math.cos(t);this.wa=u&-262145}}WB(){this.SN();return this.bH}zB(){this.SN();return this.cF}Gp(u){this.Fq=+u}SY(u){this.Fq+=+u}Wj(){return this.Fq}Hp(u){this.Gq=+u}TY(u){this.Gq+=+u}Xj(){return this.Gq}Px(u){this.$a.Rc(u)||(this.$a===
n?(this.$a=d.A(d.Xa,u),this.Rn=d.A(d.Xa,u),this.Rn.sI()):u.gv(1,1,1,1)?this.Rn=this.$a=n:(this.$a.set(u),this.Rn.set(u),this.Rn.sI()),this.Sp())}nk(u){u=d.fa(+u,0,1);this.$a.No!==u&&(h.Jj(this.$a),h.No=u,this.Px(h))}RY(u){this.nk(this.Je()+u)}Je(){return this.$a.No}fM(u){this.$a.hl(u)||(h.Jj(u),h.No=this.$a.No,this.Px(h))}K0(u,t,A){h.Br(u,t,A);this.fM(h)}PB(){return this.Rn}fw(){return 0!==(this.wa&512)}X_(u){this.tf(512,u)}hn(){return 0!==(this.wa&1024)}F0(u){this.tf(1024,u)}jn(){return 0!==(this.wa&
2048)}gK(){return 0!==(this.wa&3072)}G0(u){this.tf(2048,u)}gn(){return 0!==(this.wa&4096)}E0(u){this.tf(4096,u)}dn(){return 0!==(this.wa&8192)}D0(u){this.tf(8192,u)}yw(){return 0!==(this.wa&16384)}C0(u){this.tf(16384,u)}zw(){return 0!==(this.wa&32768)}H0(u){this.tf(32768,u)}MM(){this.wa&=-65025}ql(u,t){if(u!==this&&!u.Zi()&&!this.BN(u)&&!this.AN(u)){var A=u.na(),z=u.oa(),E=u.ca(),G=u.ba(),I=u.Ha(),N=u.bb();u.BO(this);u.F0(t.Fr);u.G0(t.Gr);u.E0(t.Uo);u.D0(t.To);u.C0(t.Er);u.H0(t.Hr);u.X_(t.cv);t.Fr&&
(u.O=A-this.na(),t.Uo&&(u.O/=this.ca()/this.yb.aA));t.Gr&&(u.K=z-this.oa(),t.To&&(u.K/=this.ba()/this.yb.$z));t.Uo&&(u.Fi=E/this.ca(),u.yb.y0(u.Fi));t.To&&(u.li=G/this.ba(),u.yb.z0(u.li));t.Er&&(u.Sa=I-this.Ha());t.Hr&&(u.Gc=N-this.bb());this.S1(u);this.Za()}}bj(u){if(u.za()===this){var t=u.na(),A=u.oa(),z=u.ca(),E=u.ba(),G=u.Ha(),I=u.bb();u.BO(null);u.MM();u.Tl(t,A);u.Kc(z,E);u.vd(G);u.Ne(I);this.I6(u);this.Za()}}P6(){for(var u of this.children())this.bj(u);(u=this.za())&&u.bj(this);this.MM()}Zi(){return null!==
this.za()}za(){const u=this.yb;return null!==u?u.za():null}ww(){let u=this;for(;u.Zi();)u=u.za();return u}*pv(){let u=this.za();for(;u;)yield u,u=u.za()}OW(u){return this.Fe().includes(u)}Ke(){const u=this.yb;return null!==u?u.Ke():!1}Fe(){const u=this.yb;return null!==u?u.Fe():x}children(){return this.Fe()}*Jm(){for(const u of this.children())yield u,yield*u.Jm()}cw(){return this.Fe().length}xB(u){const t=this.Fe();u=Math.floor(+u);return 0>u||u>=t.length?null:t[u]}BD(u){this.yb||(this.yb=d.A(d.J_,
this));u&&this.yb.bM(u)}Mx(){this.yb&&(this.yb.j(),this.yb=null)}BO(u){u?(u.BD(null),this.BD(u)):(this.yb&&this.yb.bM(null),this.Ke()||this.Mx())}AN(u){if(!this.Zi())return!1;const t=this.za();return t===u?!0:t.AN(u)}BN(u){if(this.OW(u))return!0;for(const t of this.Fe())if(t.BN(u))return!0;return!1}S1(u){this.yb.Fe().push(u)}I6(u){const t=this.yb.Fe(),A=t.indexOf(u);-1!==A&&t.splice(A,1);0!==t.length||this.Zi()||this.Mx();u.Ke()||u.Mx()}aD(u){this.ZG=u}Sp(){if(w){var u=this.g.Gb();this.Do&&u.qL(this.Do);
this.Do=u.qS(0!==(this.wa&524288)?u.Yz||"<point>":u.Zz||"<default>",this.qh(),this.Rn,this.bb())}}Al(){return this.$a===n}qf(u){u|=0;if(0>u||31<u)throw new RangeError("invalid blend mode");this.qh()!==u&&(this.wa=this.wa&-2080374785|u<<26,this.Sp())}qh(){return(this.wa&2080374784)>>26}gt(u){this.xj=u;0!==this.bb()&&this.xj.wO()}ea(){return this.xj}Uc(){return this.ea().Uc()}Rx(u){this.Ij=u|0}Yi(){this.xj.Vx();return this.Ij}tf(u,t){this.wa=t?this.wa|u:this.wa&~u}gd(){return 0!==(this.wa&1)}Tf(u){this.tf(1,
u)}zh(){return 0!==(this.wa&8)}Bs(u){u=!!u;this.zh()!==u&&(this.tf(8,u),u?this.Za():this.gO())}cD(u,t){this.tf(32,u);this.Ai&&this.Ai.clear();if(t.trim()){this.Ai||(this.Ai=new Set);for(const A of t.split(" "))A&&this.Ai.add(A.toLowerCase())}else this.Ai=null}Za(){this.wa|=65554;this.J.vO();this.g.aa();this.xj.Lo&&(this.Ev(this.WE,this.XE,!0),this.wa&=-3,this.C8());0!==(this.wa&4)&&this.ka.Eb().dispatchEvent(k);if(null!==this.yb){const u=this.yb.Fe();for(let t=0,A=u.length;t<A;++t)u[t].Za()}}Ev(u,
t,A){const z=this.na(),E=this.oa(),G=this.ca(),I=this.ba(),N=this.Ha();u.hh(z-this.Fq*G,E-this.Gq*I,G,I);A&&this.mf()&&this.I3(u);0===N?t.nl(u):(u.offset(-z,-E),t.cS(u,this.WB(),this.zB()),t.offset(z,E),t.YH(u));u.normalize()}QO(){const u=this.wa;0!==(u&2)&&(this.Ev(this.WE,this.XE,!0),this.wa=u&-3)}xc(){this.QO();return this.WE}Mi(){this.QO();return this.XE}iL(u){var t=this.na(),A=this.oa();t=Math.round(t)-t;A=Math.round(A)-A;if(0===t&&0===A)return u;e.Aa(u);e.offset(t,A);return e}T_(u){this.tf(4,
u)}pK(){return 0!==(this.wa&4)}AK(u,t){return t&&0!==this.di?this.N4():0===this.bb()?u.DA(this.xc()):this.O4()}O4(){const u=this.ea(),t=this.xg();if(t>=u.bw())return!1;u.iK(t,c);return c.DA(this.xc())}N4(){var u=this.xc();const t=u.N,A=u.Z,z=u.M;u=u.T;const E=this.xg(),G=E+this.di;return this.ea().r4().wT(t,z,E,A,u,G)}dD(u){this.Xz=u;this.ID();this.mf()&&(this.Tg.gI=null)}Cw(){return null!==this.Xz||this.mf()}bk(){return this.a4(this.ca(),this.ba(),this.Ha(),this.WB(),this.zB())}a4(u,t,A,z,E){let G=
this.Wq;null===G&&(this.Wq=G={XR:d.A(d.Um),width:NaN,height:NaN,angle:NaN});const I=G.XR;if(G.width===u&&G.height===t&&G.angle===A)return I;const N=this.Xz;if(this.mf()){const O=this.Wj(),P=this.Xj(),S=this.Wi();let T=this.Tg.gI;T||(N?(m.Aa(N),m.offset(O,P)):m.Paa(),T=S.MX(m),this.Tg.gI=T);S.j1(T,I);I.offset(-O,-P);I.HI(u,t,z,E)}else N?(I.Aa(N),I.HI(u,t,z,E)):I.zI(this.Mi(),-this.na(),-this.oa());G.width=u;G.height=t;G.angle=A;return I}ID(){this.u0();const u=this.Wq;null!==u&&(u.width=NaN)}lB(u,t){u=
Math.floor(u);t=Math.floor(t);if(!this.Ba().wb().f$)throw Error("object does not support mesh");this.Xw();this.Tg={CI:d.A(d.U.PK,u,t),iS:d.A(d.U.PK,u,t),gI:null}}mf(){return null!==this.Tg}Wi(){if(!this.mf())throw Error("no mesh");return this.Tg.CI}hK(){if(!this.mf())throw Error("no mesh");return this.Tg.iS}YC(u){this.tf(65536,u)}CK(){return 0!==(this.wa&65536)}u0(){this.tf(131072,!0)}I3(u){var t=this.Tg.CI;const A=Math.min(t.oW(),0),z=Math.min(t.pW(),0),E=Math.max(t.mW(),1);t=Math.max(t.nW(),1);
const G=u.width(),I=u.height();u.offsetLeft(A*G);u.offsetTop(z*I);u.Baa((E-1)*G);u.Aaa((t-1)*I)}Xw(){this.Tg&&(this.Tg.CI.j(),this.Tg.iS.j(),this.Tg=null,this.ID())}ZL(u,t,A){u=Math.floor(u);t=Math.floor(t);var z=A.mode||"absolute";if(!v.has(z))throw Error("invalid mode");z="relative"===z;let E=A.x,G=A.y;const I=A.zv;let N="number"===typeof A.mS?A.mS:z?0:-1;A="number"===typeof A.nS?A.nS:z?0:-1;if(!this.mf())return!1;const O=this.Wi(),P=O.ip(u,t);if(null===P)return!1;let S=!1;"number"===typeof I&&
P.bb()!==I&&(P.Ne(I),S=!0);z&&(E+=u/(O.sj-1),G+=t/(O.Ej-1));-1!==N||z?(z&&(N+=u/(O.sj-1)),N=d.fa(N,0,1)):N=P.mg;-1!==A||z?(z&&(A+=t/(O.Ej-1)),A=d.fa(A,0,1)):A=P.og;if(P.na()===E&&P.oa()===G&&P.mg===N&&P.og===A)return S;P.Dg(E);P.Mh(G);P.fD(N);P.gD(A);this.ID();return!0}dk(){return this.ka.dk()}Mr(u,t){return this.xc().$e(u,t)&&this.Mi().$e(u,t)?this.dk()?void 0:this.Cw()?this.bk().$e(u-this.na(),t-this.oa()):!0:!1}K4(){return 0!==(this.wa&16)}RO(){if(this.K4()&&this.zh()&&0===(this.wa&256)){var u=
this.xc(),t=this.J.ny,A=this.my;c.set(t.Oh(u.N),t.Ph(u.M),t.Oh(u.Z),t.Ph(u.T));A.Rc(c)||(u=this.ka,A===r?(t.pk(u,null,c),this.my=d.A(d.Rect,c)):(t.pk(u,A,c),A.Aa(c)),this.wa&=-17)}}gO(){const u=this.my;u!==r&&(this.J.ny.pk(this.ka,u,null),this.my=r)}C8(){const u=this.ea();if(u.Lo&&0===(this.wa&256)){var t=u.Lq,A=this.xc(),z=this.wu;c.set(t.Oh(A.N),t.Ph(A.M),t.Oh(A.Z),t.Ph(A.T));z.Rc(c)||(A=this.ka,z===p?(t.pk(A,null,c),this.wu=d.A(d.Rect,c)):(t.pk(A,z,c),z.Aa(c)),u.w0())}}hO(){const u=this.wu;u!==
p&&(this.ea().Lq.pk(this.ka,u,null),this.wu=p)}Q1(){const u=this.ka,t=this.xj,A=t.F;A.length&&A[A.length-1]===u||(t.Yl(u,!1),t.Fg(u,!1),this.g.aa())}O1(){const u=this.ka,t=this.xj,A=t.F;A.length&&A[0]===u||(t.Yl(u,!1),t.r6(u),this.g.aa())}P1(u){const t=this.ka,A=this.xj;if(A.Uc()!==u.Uc())throw Error("layer from different layout");u!==A&&(A.Yl(t,!0),this.gt(u),u.Fg(t,!0),this.g.aa())}N1(u,t){const A=this.ka;let z=!1;const E=this.xj;if(u.Fc!==A.Fc){var G=u.m();if(!G)throw Error("expected world instance");
G=G.ea();E.Da()!==G.Da()&&(E.Yl(A,!0),this.gt(G),G.Fg(A,!0),z=!0);u=G.JY(A,u,!!t);(z||u)&&this.g.aa()}}P7(u){this.tf(64,u)}ns(){return 0!==(this.wa&64)}ja(u){const t={x:this.na(),y:this.oa(),w:this.ca(),h:this.ba(),l:this.ea().cb,zi:this.Yi()};0!==this.bb()&&(t.ze=this.bb());0!==this.Ha()&&(t.a=this.Ha());this.Al()||(t.c=this.$a.toJSON());.5!==this.Wj()&&(t.oX=this.Wj());.5!==this.Xj()&&(t.oY=this.Xj());0!==this.qh()&&(t.bm=this.qh());this.gd()||(t.v=this.gd());this.zh()||(t.ce=this.zh());this.pK()&&
(t.be=this.pK());this.Td&&(t.fx=this.Td.ja());const A=0!==(this.wa&32);A&&(t.sfi=A);this.Ai&&(t.sft=[...this.Ai].join(" "));this.yb&&"visual-state"!==u&&(t.sgi=this.yb.ja());this.mf()&&(t.mesh=this.Wi().ud());return t}Jx(u){"visual-state"!==u&&this.P6()}ra(u,t){w=!1;this.Dg(u.x);this.Mh(u.y);this.Lh(u.w);this.Fh(u.h);this.Rx(u.zi);this.Ne(u.hasOwnProperty("ze")?u.ze:0);this.vd(u.hasOwnProperty("a")?u.a:0);u.hasOwnProperty("c")?h.ml(u.c):u.hasOwnProperty("o")?(h.Jj(this.$a),h.No=u.o):h.Rm(1,1,1,1);
this.Px(h);this.Gp(u.hasOwnProperty("oX")?u.oX:.5);this.Hp(u.hasOwnProperty("oY")?u.oY:.5);this.qf(u.hasOwnProperty("bm")?u.bm:0);this.Tf(u.hasOwnProperty("v")?u.v:!0);this.Bs(u.hasOwnProperty("ce")?u.ce:!0);this.T_(u.hasOwnProperty("be")?u.be:!1);this.cD(u.hasOwnProperty("sfi")?u.sfi:!1,u.hasOwnProperty("sft")?u.sft:"");this.Td&&u.hasOwnProperty("fx")&&this.Td.ra(u.fx);if(u.hasOwnProperty("sgi")&&"visual-state"!==t){this.BD(null);const A=this.yb,z=u.sgi;A.ra(z);const E=this.G().Eb(),G=()=>{E.removeEventListener("afterload",
G);0===(this.wa&256)&&A.$D(z)};E.addEventListener("afterload",G)}u.hasOwnProperty("mesh")?(u=u.mesh,this.lB(u.cols,u.rows),this.Wi().hd(u)):this.Xw();this.Za();w=!0;this.Sp()}}}
{"use strict";const d=self.B;d.RI=class extends d.da{constructor(a,b){super();const f=a.G(),c=f.wo,e=f.wg(b[1]);c.NW(e)||c.BT(b);this.g=f;this.J=a;this.Wh=c.sV(e);this.rc=null;this.Ty=e.Instance;this.cb=b[2];this.Y=b[0];this.du=this.g.vh(b[3]);this.rc=d.A(e.Ul,this);this.jd()}static Pa(a,b){return d.A(d.RI,a,b)}j(){this.Wh=this.g=null;this.rc.j();this.Ty=this.rc=null}jd(){this.rc.jd()}G(){return this.g}H(){return this.J}tl(){return this.Wh}vh(){return this.du}}}
{"use strict";const d=self.B,a=self.ZW;d.Bv=class extends d.da{constructor(b){super();this.g=b.jc;this.Ac=b.LH;this.Wh=this.Ac.tl();this.ka=b.instance;this.Qa=b.index;this.Sd=this.qa=null;this.Wh.Fg(this.ka)}j(){this.Sd&&(this.Sd.et(),this.Sd=null);this.Wh.Yl(this.ka);this.qa.j();this.ka=this.Wh=this.Ac=this.g=this.Sd=this.qa=null}ux(b){if(this.qa)throw Error("already got sdk instance");this.qa=d.A(this.Ac.Ty,this,b);this.C4()}G(){return this.g}sg(){return this.Ac}tl(){return this.Wh}Gg(){return this.Qa}ud(){return this.qa.ud()}hd(b){return this.qa.hd(b)}static kD(b,
f){var c=b.ka,e=f.ka;const k=c.H().Da(),h=e.H().Da();if(k!==h)return k-h;c=c.OQ;e=e.OQ;return c!==e?c-e:b.gy.Gg()-f.gy.Gg()}C4(){const b=this.qa.$j(),f=b||a;a.Rh(this);this.Sd=new f;a.Rh(null);if(b&&!(this.Sd instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}uw(){return this.Sd}}}
{"use strict";const d=self.B;d.Oj=class extends d.da{constructor(a,b){super();this.Ob=a;this.Xf=[];this.Th=[];this.wy=new Map;this.Lg=[];this.Hq=!0;for(const f of b)a=d.A(d.oJ,this,f,this.Xf.length),this.Xf.push(a),this.wy.set(a.Y.toLowerCase(),a),3<=f.length&&this.Lg.push(this.UD(f[2]));this.G().U1(this)}j(){d.D(this.Xf);d.D(this.Th);this.wy.clear();d.D(this.Lg);this.Ob=null}WZ(a){if(a.length){this.Xf=a.concat(this.Xf);for(const b of a)this.wy.set(b.Y.toLowerCase(),b);for(let b=0,f=this.Xf.length;b<
f;++b)this.Xf[b].S7(b)}}UD(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.Xa);e.ml(c);a[b]=e}}return a}G(){return this.Ob.G()}Vl(){d.D(this.Th);let a=!0;for(const b of this.Xf)b.xb&&(this.Th.push(b),b.eb.Hq||(a=!1));this.Hq=a}Jf(){return this.Xf}JW(){return 0<this.Xf.length}Tj(a){return this.wy.get(a.toLowerCase())||null}GJ(a){a=Math.floor(+a);if(0>a||a>=this.Xf.length)throw new RangeError("invalid effect type index");return this.Xf[a]}rs(a){return this.GJ(a).xb}OL(a,
b){this.GJ(a).Zw(b)}ns(){return 0<this.Th.length}Kf(a){return this.Lg[a]}static H_(a){return a&&a instanceof d.Xa?{t:"color",v:a.toJSON()}:a}static yY(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.Xa);b.ml(a.v);return b}throw Error("invalid effect parameter type");}return a}static EL(a){return a.map(d.Oj.H_)}static KK(a){return a.map(d.Oj.yY)}ud(){return this.Xf.map(a=>({name:a.Y,active:a.xb,params:d.Oj.EL(this.Lg[a.Da()])}))}hd(a){for(const b of a)if(a=this.Tj(b.name))a.Zw(b.active),
this.Lg[a.Da()]=d.Oj.KK(b.params);this.Vl()}}}
{"use strict";const d=self.B;d.oJ=class extends d.da{constructor(a,b,f){super();this.Na=a;this.se=b[0];this.Y=b[1];this.Qa=f;this.eb=null;this.xb=!0}j(){this.eb=this.Na=null}oT(a){a=d.A(d.oJ,a,[this.se,this.Y],-1);a.eb=this.eb;a.xb=this.xb;return a}DN(a){a=a.cK(this.se);if(!a)throw Error("failed to find shader program '"+this.se+"'");this.eb=a}S7(a){this.Qa=a}Da(){return this.Qa}G(){return this.Na.G()}Zw(a){this.xb=!!a}CV(){const a=[];for(let b=0,f=this.eb.Ko.length;b<f;++b){const c=this.eb.pw(b);
if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.Xa,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.B;d.NX=class extends d.da{constructor(a,b){super();this.ka=a;this.l$=b;this.Na=a.H().Na;this.In=[];this.Th=[];this.Hq=!0;this.Lg=[];for(const f of this.Na.Jf())this.In.push(!0);this.Vl()}j(){d.D(this.In);d.D(this.Th);d.D(this.Lg);this.Na=this.ka=null}Y4(a){for(const b of a)this.Lg.push(this.UD(b))}UD(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.Xa);e.ml(c);a[b]=e}}return a}vY(){for(const a of this.Na.Jf())this.Lg.push(a.CV())}G(){return this.ka.G()}Vl(){d.D(this.Th);
const a=this.Na.Jf(),b=this.Th,f=this.In;let c=!0;for(let e=0,k=a.length;e<k;++e)if(f[e]){const h=a[e];b.push(h);h.eb.Hq||(c=!1)}this.Hq=c;this.l$.P7(!!b.length)}Kf(a){return this.Lg[a]}rs(a){return this.In[a]}OL(a,b){this.In[a]=!!b}Jf(){return this.Na.Jf()}ja(){return this.Na.Jf().map(a=>({name:a.Y,active:this.In[a.Da()],params:d.Oj.EL(this.Lg[a.Da()])}))}ra(a){for(const b of a)if(a=this.Na.Tj(b.name))this.In[a.Da()]=b.active,this.Lg[a.Da()]=d.Oj.KK(b.params);this.Vl()}}}
{"use strict";const d=self.B,a=[],b=d.A(d.Um),f=d.A(d.Um),c=d.A(d.Ed);d.A(d.Rect);d.A(d.Rect);let e=null,k=null,h=null;d.pT=class extends d.da{constructor(m){super();this.g=m;this.Qz=[]}j(){this.g=null}NI(m,n,p){for(const [r,v]of this.Qz){let x;if(m===r)x=v;else if(m===v)x=r;else continue;x.Yo(n)&&(p.includes(x)||p.push(x))}}aJ(m,n){if(!this.Qz.length)return!1;for(const [p,r]of this.Qz)if(m===p&&n===r||m===r&&n===p)return!0;return!1}bJ(){d.D(this.Qz)}oD(m,n){if(!m||!n||m===n)return!1;m=m.m();n=n.m();
if(!m.zh()||!n.zh())return!1;const p=m.ea(),r=n.ea();return p.jY(r)?this.q8(m,n):this.p8(m,n)}q8(m,n){if(!m.xc().DA(n.xc())||!m.Mi().aI(n.Mi())||m.dk()&&n.dk())return!1;if(m.dk())return this.pD(m,n);if(n.dk())return this.pD(n,m);if(!m.Cw()&&!n.Cw())return!0;const p=m.bk(),r=n.bk();return p.kv(r,n.na()-m.na(),n.oa()-m.oa())}p8(m,n){var p=m.dk(),r=n.dk();if(p&&!r)return this.mM(m,n);if(r&&!p)return this.mM(n,m);if(r||p)return!1;r=m.ea();p=n.ea();b.Aa(m.bk());f.Aa(n.bk());var v=b.Ad;for(let x=0,w=v.length;x<
w;x+=2){const u=x+1,t=v[u],[A,z]=r.tn(v[x]+m.na(),t+m.oa());v[x]=A;v[u]=z}m=f.Ad;for(let x=0,w=m.length;x<w;x+=2){r=x+1;v=m[r];const [u,t]=p.tn(m[x]+n.na(),v+n.oa());m[x]=u;m[r]=t}b.bS();f.bS();return b.kv(f,0,0)}mM(m,n){var p=m.ea(),r=n.ea();e||(e=d.A(d.Um));k||(k=d.A(d.Rect));h||(h=d.A(d.Ed));var v=n.na(),x=n.oa();const [w,u]=r.tn(v,x),[t,A]=p.sl(w,u);p=v-t;x-=A;k.Aa(n.xc());k.offset(p,x);if(!m.xc().DA(k))return!1;h.Aa(n.Mi());h.offset(p,x);if(!m.Mi().aI(h))return!1;e.Aa(n.bk());r=e.Ad;for(let z=
0,E=r.length;z<E;z+=2)v=z+1,r[z]+=p,r[v]+=x;return this.pD(m,n,t,A,e,k,h)}pD(m,n,p,r,v,x,w){x=void 0!==x?x:n.xc();const u=m.na(),t=m.oa();var A=m.Ba().qa;p=void 0!==p?p:n.na();r=void 0!==r?r:n.oa();m=n.Cw();w=void 0!==w?w:n.Mi();A.Bda(x,a);for(let G=0,I=a.length;G<I;++G){var z=a[G];A=z.Eda();if(x.eaa(A,u,t)&&(c.nl(A),c.offset(u,t),c.aI(w)))if(m){var E=void 0!==v?v:n.bk();if(z=z.tW()){if(z.kv(E,p-(u+A.N),r-(t+A.M)))return d.D(a),!0}else if(b.zI(c,0,0),b.kv(E,p,r))return d.D(a),!0}else if(E=z.tW()){if(b.zI(w,
0,0),E.kv(b,-(u+A.N),-(t+A.M)))return d.D(a),!0}else return d.D(a),!0}d.D(a);return!1}jx(m,n,p){const r=m.R();var v=this.g.ub();if(!v)throw Error("cannot call outside event");v=v.zd;if(r.Lb){r.Od(!1);d.D(r.F);for(var x of m.ia()){var w=x.m(),u=w.ea();const [t,A]=u.sl(n,p,w.xg());w.Mr(t,A)?r.Gn(x):v&&r.Xl(x)}}else{x=v?r.Rb:r.F;w=0;for(let t=0,A=x.length;t<A;++t){u=x[t];const z=u.m(),E=z.ea(),[G,I]=E.sl(n,p,z.xg());z.Mr(G,I)?v?r.Gn(u):x[w++]=u:v&&(x[w++]=u)}x.length=w}m.Pb();return r.ZB()}yB(m,n,p,
r){m=m?1!==m.ue||1!==m.ve:!1;if(n.Va)for(const v of n.Yn)m||v.LE?d.Oo(r,v.ia()):(v.OO(),v.ny.Ww(p,r));else m||n.LE?d.Oo(r,n.ia()):(n.OO(),n.ny.Ww(p,r))}}}
{"use strict";const d=self.B;d.W0=class extends d.da{constructor(a,b){super();this.ZE=a;this.YE=b;this.Yh=d.A(d.vs)}j(){this.Yh.j();this.Yh=null}ul(a,b,f){let c=this.Yh.$(a,b);return c?c:f?(c=d.A(d.FW,this,a,b),this.Yh.Set(a,b,c),c):null}Oh(a){a=Math.floor(a/this.ZE);return isFinite(a)?a:0}Ph(a){a=Math.floor(a/this.YE);return isFinite(a)?a:0}pk(a,b,f){if(b)for(let c=b.N,e=b.Z;c<=e;++c)for(let k=b.M,h=b.T;k<=h;++k){if(f&&f.$e(c,k))continue;const m=this.ul(c,k,!1);m&&(m.Bg(a),m.pn()&&this.Yh.Vm(c,k))}if(f)for(let c=
f.N,e=f.Z;c<=e;++c)for(let k=f.M,h=f.T;k<=h;++k)b&&b.$e(c,k)||this.ul(c,k,!0).gC(a)}Ww(a,b){let f=this.Oh(a.N);const c=this.Ph(a.M),e=this.Oh(a.Z);a=this.Ph(a.T);if(isFinite(e)&&isFinite(a))for(;f<=e;++f)for(let k=c;k<=a;++k){const h=this.ul(f,k,!1);h&&h.oB(b)}}}}{"use strict";const d=self.B;d.FW=class extends d.da{constructor(a,b,f){super();this.O=b;this.K=f;this.F=d.A(d.ZA)}j(){this.F.j();this.F=null}pn(){return this.F.pn()}gC(a){this.F.vc(a)}Bg(a){this.F.Vm(a)}oB(a){d.Oo(a,this.F.uB())}}}
{"use strict";const d=self.B;d.Xga=class{constructor(){this.rect=new d.Rect;this.dv=0}Set(a,b,f,c){this.rect.set(a,b,f,c);this.rect.normalize();this.dv=0;return this}}}
{"use strict";const d=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),f=d.A(d.Ed),c=d.A(d.Rect);d.eB=class extends d.da{constructor(e){super();this.g=e;this.oj=null;this.cQ=!1;this.Gj=this.ab=null;this.AF="high-performance";this.fm=this.em=this.Yf=this.Zf=this.mc=this.Bc=this.Gi=this.Hi=0;this.jq=!0;this.qj=this.Bk=this.kR=0;this.mP=this.wP="letterbox-scale";this.i9=this.h9=0;this.ki=this.EH="high";this.ko=!1;this.ot=
[];this.oA=new Set;this.$G=null;this.ao=this.wf=this.jm=0;this.My=null;this.lG=new Map;this.Gt=NaN;this.sA=new Map;this.Vz="";this.cH=1;this.$Q=d.A(d.Rect);this.dH="";this.aR=this.Eu=null;this.ju=0;this.Yd=-1;this.qm=0;this.rG=k=>this.qm=k.progress;this.We=null;this.Xe={nv:null,qv:null,yv:null};this.gH=this.dR=this.hH=0;this.Ci="fade-in";this.fH=null;this.cR=new Promise(k=>this.fH=k)}N7(e){this.AF=e}g8(e){this.cQ=!!e}async qg(e){this.oj=e.canvas;this.g.kh("runtime","window-resize",k=>this.dt(k));
this.g.kh("runtime","fullscreenchange",k=>this.M5(k));this.g.kh("runtime","fullscreenerror",k=>this.N5(k));this.ko=!!e.isFullscreen;if(this.cQ)if(navigator.gpu)try{await this.F4(e)}catch(k){this.Gj=null,console.error("Failed to initialise WebGPU, switching to WebGL: ",k)}else console.warn("WebGPU was enabled but is not supported, falling back to WebGL");this.Gj||await this.E4(e)}async F4(e){const k={powerPreference:this.AF,depth:this.g.Dj};this.Gj=d.A(d.U.tka);await this.Gj.Pa(this.oj,k);this.Gj.Nh()||
(this.ao=NaN);this.Kc(e.windowInnerWidth,e.windowInnerHeight,!0)}async E4(e){this.oj.addEventListener("webglcontextlost",h=>this.ct(h));this.oj.addEventListener("webglcontextrestored",()=>this.bE());const k={powerPreference:this.AF,IR:!0,depth:this.g.Dj};"Android"===d.Hb.zg&&"Chromium"===d.Hb.Dv&&75>d.Hb.bB&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),k.fI=1);"standard"===this.g.Zp?k.alpha=
!0:(k.alpha=!1,k.eI=!0);this.ab=d.A(d.U.D1,this.oj,k);await this.ab.Gw();this.ab.Nh()||(this.ao=NaN);this.Kc(e.windowInnerWidth,e.windowInnerHeight,!0);this.$G=self.C3_Shaders;await this.JN();e=!1;for(const h of this.g.FE){for(const m of h.Jf())m.DN(this.ab),m.eb.Uu&&(e=!0);h.Vl()}this.g.e8(e);this.ab.Nh()&&(this.My=d.A(d.U.zM,this.ab));this.ab.ZC(this.jq)}async JN(){if(this.$G){var e=[];for(const [k,h]of Object.entries(this.$G))e.push(this.ab.hJ(h,d.U.Qs.AB(),k));await Promise.all(e);this.ab.x_();
this.ab.Kh()}}j(){this.oj=this.ab=this.g=null}dt(e){const k=this.g,h=e.devicePixelRatio;k.Vd&&(self.devicePixelRatio=h);k.G7(h);this.ko=!!e.isFullscreen;this.Kc(e.innerWidth,e.innerHeight);k.aa();k.lb&&(k.os()||self.Hf.nea())&&k.GC()}M5(e){this.ko=!!e.isFullscreen;this.Kc(e.innerWidth,e.innerHeight,!0);this.g.aa()}N5(e){this.ko=!!e.isFullscreen;this.Kc(e.innerWidth,e.innerHeight,!0);this.g.aa()}Kc(e,k,h=!1){e=Math.floor(e);k=Math.floor(k);if(0>=e||0>=k)throw Error("invalid size");if(this.Hi!==e||
this.Gi!==k||h){this.Hi=e;this.Gi=k;h=this.bs();"letterbox-scale"===h?this.k2(e,k):"letterbox-integer-scale"===h?this.j2(e,k):"off"===h?this.h2(e,k):this.i2(e,k);this.A8(h);this.oj.width=this.Zf;this.oj.height=this.Yf;this.g.jk("canvas","update-size",{marginLeft:this.em,marginTop:this.fm,styleWidth:this.Bc,styleHeight:this.mc});e=this.Gb();e.Kc(this.Zf,this.Yf,!0);for(var m of this.ot)e.WT(m);d.D(this.ot);m=this.g.Wa;m.An();m.zn()}}k2(e,k){const h=this.g.Rj(),m=this.g.eg,n=this.g.dg,p=m/n;e/k>p?(this.Bc=
Math.round(k*p),this.mc=k,this.em=Math.floor((e-this.Bc)/2),this.fm=0):(this.Bc=e,this.mc=Math.round(e/p),this.em=0,this.fm=Math.floor((k-this.mc)/2));this.Zf=Math.round(this.Bc*h);this.Yf=Math.round(this.mc*h);this.g.Ns(m,n)}j2(e,k){const h=this.g.Rj();1!==h&&(e+=1,k+=1);const m=this.g.eg,n=this.g.dg;var p=m/n;p=e/k>p?k*p*h/m:e/p*h/n;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Zf=Math.round(m*p);this.Yf=Math.round(n*p);this.Bc=this.Zf/h;this.mc=this.Yf/h;this.em=Math.max(Math.floor((e-this.Bc)/
2),0);this.fm=Math.max(Math.floor((k-this.mc)/2),0);this.g.Ns(m,n)}i2(e,k){const h=this.g.Rj();this.Bc=e;this.mc=k;this.Zf=Math.round(this.Bc*h);this.Yf=Math.round(this.mc*h);this.fm=this.em=0;e=this.Sj();this.g.Ns(this.Bc/e,this.mc/e)}h2(e,k){const h=this.g.Rj();this.Bc=this.g.Ef;this.mc=this.g.Df;this.Zf=Math.round(this.Bc*h);this.Yf=Math.round(this.mc*h);this.ko?(this.em=Math.floor((e-this.Bc)/2),this.fm=Math.floor((k-this.mc)/2)):this.fm=this.em=0;this.g.Ns(this.g.Ef,this.g.Df)}A8(e){if("high"===
this.EH)this.Bk=this.Zf,this.qj=this.Yf,this.ki="high";else{let h;if("off"===this.bs()){var k=this.g.Ef;h=this.g.Df}else k=this.g.eg,h=this.g.dg;this.Zf<k&&this.Yf<h?(this.Bk=this.Zf,this.qj=this.Yf,this.ki="high"):(this.Bk=k,this.qj=h,this.ki="low","scale-inner"===e?(e=k/h,k=this.Hi/this.Gi,k<e?this.Bk=this.qj*k:k>e&&(this.qj=this.Bk/k)):"scale-outer"===e&&(e=k/h,k=this.Hi/this.Gi,k>e?this.Bk=this.qj*k:k<e&&(this.qj=this.Bk/k)))}}i0(e){if(!a.has(e))throw Error("invalid fullscreen mode");this.wP=
e;e=this.g.Wa;e.An();e.zn()}iw(){return this.wP}Z_(e){if(!a.has(e))throw Error("invalid fullscreen mode");this.mP=e;e=this.g.Wa;e.An();e.zn()}bs(){return this.ko?this.mP:this.iw()}PL(e){if(!b.has(e))throw Error("invalid fullscreen scaling quality");this.EH=e;this.g.Wa.An()}static hN(e){switch(e){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}th(){return this.Bk}tg(){return this.qj}ZC(e){this.jq=!!e}d8(e){this.kR=e}cY(){return this.Gb().mn()}ct(e){console.log("[Construct 3] WebGL context lost");e.preventDefault();this.ot=[];this.oA.clear();this.ab.ik();this.g.ct()}async bE(){await this.ab.BC();await this.JN();for(const e of this.g.FE)for(const k of e.Jf())k.DN(this.ab);await this.g.bE();console.log("[Construct 3] WebGL context restored")}ck(){return this.ab}mp(){return this.Gj}Gb(){return this.Gj||this.ab}Zj(){return"low"===this.ki?
1/this.g.Rj():this.Sj()}Sj(){const e=this.bs();if("off"===e||"crop"===e)return 1;const k=this.g.eg,h=this.g.dg,m=k/h,n=this.Zf/this.Yf;return"scale-inner"!==e&&n>m||"scale-inner"===e&&n<m?this.mc/h:this.Bc/k}TC(e,k,h){k=(k||this.Bk)/2+this.h9;const m=(h||this.qj)/2+this.i9;h=e.Lr(k,m,100*this.g.Rj(),k,m,h||this.qj);e.Fp(h)}V_(e){var k=this.Bc/2;const h=this.mc/2;k=e.Lr(k,h,100,k,h);e.Fp(k)}Yr(){return this.em}Zr(){return this.fm}Vr(e){e.depth=this.g.Dj;const k=this.ot,h=k.findIndex(n=>n.VX(e));let m;
-1!==h?(m=k[h],k.splice(h,1)):m=this.Gb().HT(e);this.oA.add(m);return m}Kl(e){if(!this.oA.has(e))throw Error("render target not in use");this.oA.delete(e);this.ot.push(e)}*tA(){for(const e of this.g.Wa.uv())for(const k of e.Nb){const h=this.lG.get(k);h&&(yield h)}}iW(e){if(!this.Gb().Nh())return null;let k=this.lG.get(e);k||(k={name:e.Y,DI:d.A(d.U.zM,this.ab),uA:0,RR:0},this.lG.set(e,k));return k.DI}x8(){const e=this.Gb();if(e.Nh()&&0===this.wf){this.wf=e.Og;this.Gt=NaN;for(const k of this.tA())k.uA=
NaN}}E8(){this.ab&&this.ab.Nh()&&this.F8();this.Gj&&this.Gj.Nh()&&this.G8()}F8(){if(isNaN(this.Gt)&&(this.Gt=this.My.MJ(this.jm,this.wf),!isNaN(this.Gt))){if(this.g.lb)for(const e of this.tA())if(e.uA=e.DI.MJ(this.jm,this.wf),isNaN(e.uA))return;this.My.kJ(this.wf);this.ao=Math.min(this.Gt,1);if(this.g.lb){for(const e of this.tA())e.DI.kJ(this.wf),e.RR=Math.min(e.uA,1);self.Hf.s1(this.ao,[...this.tA()])}this.jm=this.wf;this.wf=0}}G8(){if(0!==this.wf){for(var e=this.jm;e<this.wf;++e){var k=this.sA.get(e);
if(k&&!k.Dw())return}k=this.g.Fb();e=d.DY(k.Nb.length+1);for(var h=this.jm;h<this.wf;++h){var m=this.sA.get(h);if(m){m=m.rw();for(let n=0,p=Math.min(e.length,m.length/2);n<p;++n){const r=m[2*n],v=m[2*n+1];e[n]=0===Number(r)||0===Number(v)?NaN:e[n]+Number(v-r)/1E9}}}this.ao=d.fa(e[0],0,1);if(this.g.lb){h=[];k=k.Nb;for(let n=0,p=Math.min(k.length,e.length-1);n<p;++n)h.push({name:k[n].Y,RR:d.fa(e[n+1],0,1)});self.Hf.s1(this.ao,h)}for(e=this.jm;e<this.wf;++e)this.sA.delete(e);this.jm=this.wf;this.wf=
0}}d2(e){this.sA.set(this.Gj.Og,e)}kw(){return this.ao}iM(e,k,h,m,n,p){this.Vz=e;this.cH=k;this.$Q.hh(h,m,n,p);return this.Eu?this.Eu:this.Eu=new Promise(r=>{this.aR=r})}v5(){if(this.Vz){var e=this.oj,k=this.$Q,h=d.fa(Math.floor(k.N),0,e.width),m=d.fa(Math.floor(k.M),0,e.height),n=k.width();n=0===n?e.width-h:d.fa(Math.floor(n),0,e.width-h);k=k.height();k=0===k?e.height-m:d.fa(Math.floor(k),0,e.height-m);(0!==h||0!==m||n!==e.width||k!==e.height)&&0<n&&0<k&&(e=d.qg(n,k),e.getContext("2d").drawImage(this.oj,
h,m,n,k,0,0,n,k));d.Fv(e,this.Vz,this.cH).then(p=>{this.dH=URL.createObjectURL(p);this.Eu=null;this.aR(this.dH)});this.Vz="";this.cH=1}}wX(e){this.ab&&(2===e?(this.We=d.A(d.U.IC,this.Gb()),this.We.UL(),this.We.VC("Arial"),this.We.dx(16),this.We.RL("center"),this.We.gM("center"),this.We.Kc(300,200)):0===e?(e=this.g.xq)&&e.ts(this.ab).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",k)):4===e&&(this.j5().then(k=>{"done"===this.Ci?this.ab.Li(k):this.Xe.nv=k}).catch(k=>
console.warn("Failed to load splash image: ",k)),this.IN("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.Ci?this.ab.Li(k):this.Xe.qv=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.IN("splash-images/splash-website-512.png").then(k=>{"done"===this.Ci?this.ab.Li(k):this.Xe.yv=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async j5(){var e=(new URL("splash-images/splash-logo.svg",this.g.wB())).toString();e=await d.Qj(e);e=await this.g.d_(e);return await this.ab.Pv(e,
{ov:"high"})}async IN(e){e=(new URL(e,this.g.wB())).toString();e=await d.Qj(e);return await this.ab.Pv(e,{ov:"high"})}bC(){this.g.jk("runtime","hide-cordova-splash")}X0(){this.ju=Date.now();this.g.Eb().addEventListener("loadingprogress",this.rG);this.Yd=requestAnimationFrame(()=>this.aN());3!==this.g.wq&&this.bC()}async ZU(){if(this.ab){this.qm=1;var e=this.g.wq;4===e&&await this.cR;this.cR=this.fH=null;-1!==this.Yd&&(cancelAnimationFrame(this.Yd),this.Yd=-1);this.g.Eb().removeEventListener("loadingprogress",
this.rG);this.rG=null;this.We&&(this.We.j(),this.We=null);this.g.i_();this.ab.Os();this.Xe.nv&&(this.ab.Li(this.Xe.nv),this.Xe.nv=null);this.Xe.qv&&(this.ab.Li(this.Xe.qv),this.Xe.qv=null);this.Xe.yv&&(this.ab.Li(this.Xe.yv),this.Xe.yv=null);this.ab.Kv();this.ab.Sr();this.Ci="done";this.jm=this.ab.Og;3===e&&this.bC()}}aN(){if(-1!==this.Yd){var e=this.ab;if(e){e.Os();this.Yd=-1;var k=this.g.Mc.DF,h=this.g.wq;3!==h&&(this.V_(e),e.Kv(),e.yp(),e.Kh(),e.sf(null));if(0===h)this.A3(k);else if(1===h)this.xx(k,
120,0);else if(2===h)this.z3(k);else if(3!==h)if(4===h)this.B3(k);else throw Error("invalid loader style");e.Sr();this.Yd=requestAnimationFrame(()=>this.aN())}}}z3(e){e?this.We.JL(1,0,0):this.We.JL(.6,.6,.6);this.We.Ms(Math.round(100*this.qm)+"%");e=this.Bc/2;const k=this.mc/2;f.eS(e-150,k-100,e+150,k+100);this.ab.sf(this.We.Md());this.ab.Jl(f,this.We.Xi())}xx(e,k,h){const m=this.ab;m.IL();e?m.Me(1,0,0,1):m.Me(.118,.565,1,1);e=this.Bc/2;const n=this.mc/2,p=k/2;c.hh(e-p,n-4+h,Math.floor(k*this.qm),
8);m.Rect(c);c.hh(e-p,n-4+h,k,8);c.offset(-.5,-.5);c.CA(.5,.5);m.Me(0,0,0,1);m.HK(c);c.CA(1,1);m.Me(1,1,1,1);m.HK(c)}A3(e){var k=this.g.xq;if(k)if(k=k.Md()){var h=k.ca(),m=k.ba(),n=this.Bc/2,p=this.mc/2,r=h/2;m/=2;f.eS(n-r,p-m,n+r,p+m);this.ab.sf(k);this.ab.Ed(f);this.xx(e,h,m+16)}else this.xx(e,120,0);else this.xx(e,120,0)}B3(e){const k=this.ab,h=this.Xe.nv,m=this.Xe.qv,n=this.Xe.yv,p=Date.now();0===this.hH&&(this.ju=p);const r=this.g.qp()||this.g.x9&&!this.g.sK(),v=r?0:200,x=r?0:3E3;let w=1;"fade-in"===
this.Ci?w=Math.min((p-this.ju)/300,1):"fade-out"===this.Ci&&(w=Math.max(1-(p-this.gH)/300,0));k.IL();k.Me(.231*w,.251*w,.271*w,w);c.set(0,0,this.Bc,this.mc);k.Rect(c);const u=Math.ceil(this.Bc),t=Math.ceil(this.mc);let A;256<this.mc?(k.Me(.302*w,.334*w,.365*w,w),A=Math.max(.005*t,2),c.hh(0,.8*t-A/2,u,A),k.Rect(c),e?k.Me(w,0,0,w):k.Me(.161*w,.953*w,.816*w,w),e=u*this.qm,c.hh(.5*u-e/2,.8*t-A/2,e,A),k.Rect(c),k.Me(w,w,w,w),k.Kh(),m&&(e=1.5*d.fa(.22*t,105,.6*u),A=e/8,c.hh(.5*u-e/2,.2*t-A/2,e,A),k.sf(m),
k.Rect(c)),h&&(A=e=Math.min(.395*t,.95*u),c.hh(.5*u-e/2,.485*t-A/2,e,A),k.sf(h),k.Rect(c)),n&&(e=1.5*d.fa(.22*t,105,.6*u),A=e/8,c.hh(.5*u-e/2,.868*t-A/2,e,A),k.sf(n),k.Rect(c))):(k.Me(.302*w,.334*w,.365*w,w),A=Math.max(.005*t,2),c.hh(0,.85*t-A/2,u,A),k.Rect(c),e?k.Me(w,0,0,w):k.Me(.161*w,.953*w,.816*w,w),e=u*this.qm,c.hh(.5*u-e/2,.85*t-A/2,e,A),k.Rect(c),k.Me(w,w,w,w),k.Kh(),h&&(A=e=.55*t,c.hh(.5*u-e/2,.45*t-A/2,e,A),k.sf(h),k.Rect(c)));this.hH++;"fade-in"===this.Ci&&300<=p-this.ju&&2<=this.hH&&(this.Ci=
"wait",this.dR=p);"wait"===this.Ci&&p-this.dR>=x&&1<=this.qm&&(this.Ci="fade-out",this.gH=p);("fade-out"===this.Ci&&p-this.gH>=300+v||r&&1<=this.qm&&500>p-this.ju)&&this.fH()}}}
{"use strict";const d=self.B,a=self.Hf,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.DL=class extends d.da{constructor(c){c=Object.assign({},b,c);super();this.nu=c.messagePort;this.V8=c.baseUrl;this.Vd=!!c.isInWorker;f=c.ife;this.re=c.exportType;this.dQ=!!c.isiOSCordova;this.x9=!!c.isFBInstantAvailable;this.T9=c.opusWasmScriptUrl;this.GQ=c.opusWasmBinaryUrl;this.Ud=this.c9=this.lb=!("preview"!==this.re||!c.isDebug);this.fF=
0;this.Yx=[];this.N8=[];this.PG=this.NQ=this.Nz="";this.dg=this.eg=0;this.iP=self.devicePixelRatio;this.wq=this.Df=this.Ef=this.JG=this.IG=0;this.pA=!1;this.vj=!0;this.BH=!1;this.xq=null;this.Mc=d.A(d.RS,this,c);this.Wa=d.A(d.pY,this);this.ua=d.A(d.dV,this);this.wo=d.A(d.RZ,this);this.Zh=d.A(d.pT,this);this.tb=d.A(d.g1,this);this.pH=d.A(d.k1,this);this.zc=[];this.CG=new Map;this.DG=new Map;this.sP=0;this.P8=[];this.FE=[];this.cq=[];this.Gk=[];this.Vy=new Map;this.Ny=!1;this.pu=this.EG=0;this.ho=new Map;
this.io=new Set;this.Wy=new Set;this.Ez=[];this.fQ=[];this.L=null;this.Dj=!1;this.uF="vsync";this.Zp="standard";this.$c="trilinear";this.Ik=!1;this.AG=!0;this.bG=this.IQ=!1;this.g$={UR:e=>{this.Xk=this.Yd=-1;this.ne(e)},Yaa:e=>{this.Xk=-1;this.ne(e,!1,"skip-render")},Kaa:()=>{this.Yd=-1;this.GC()}};this.Xk=this.Yd=-1;this.lq=this.Aj=0;this.LP=this.bz=this.Oy=!1;this.YF=!0;this.Qq=0;this.Y9=()=>Math.random();this.uy=this.vy=this.rz=this.ym=0;this.Zd=1;this.zQ=30;this.yF=d.A(d.ss);this.zF=d.A(d.ss);
this.DH=d.A(d.ss);this.Jy=-1;this.Az=this.Nk=this.Iy=this.$n=0;this.wj=!1;this.iu=this.xu="";this.vq=null;this.so="";this.XG=this.OG=null;this.Jb=d.A(d.Event.Eb);this.jF=new Map;this.LG=new Map;this.P9=0;this.bQ=this.jP=this.kP=!1;this.CH=[];this.Xn={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};this.Xn.instancedestroy.instance=
null;this.Kd=d.A(d.Event.Eb);this.qR=null;this.cm=d.A(d.vn,d.Bv.kD);this.Nn=d.A(d.vn,d.Bv.kD);this.On=d.A(d.vn,d.Bv.kD);this.bu=d.A(d.lY,this,c.jobScheduler);c.canvas&&(this.L=d.A(d.eB,this));this.nu.onmessage=e=>this._OnMessageFromDOM(e.data);this.kh("runtime","visibilitychange",e=>this.g6(e));this.kh("runtime","opus-decode",e=>this.J8(e.arrayBuffer));this.kh("runtime","get-remote-preview-status-info",()=>this.m4());this.kh("runtime","js-invoke-function",e=>this.Gx(e));this.kh("runtime","go-to-last-error-script",
self.goToLastErrorScript);this.Jb.addEventListener("window-blur",e=>this.k6(e));this.Jb.addEventListener("window-focus",()=>this.l6());this.tb.FS();this.mi=null;this.t9=new WeakMap;this.yt={keyboard:null,SR:null,FI:null}}static Pa(c){return d.A(d.DL,c)}j(){d.D(this.zc);this.CG.clear();this.DG.clear();this.Wa.j();this.Wa=null;this.ua.j();this.ua=null;this.wo.j();this.wo=null;this.Mc.j();this.Mc=null;this.Zh.j();this.Zh=null;this.tb.j();this.tb=null;this.pH.j();this.pH=null;this.L&&(this.L.j(),this.L=
null);this.Jb.j();this.Jb=null}["_OnMessageFromDOM"](c){const e=c.type;if("event"===e)this.VN(c);else if("result"===e)this.a6(c);else throw Error(`unknown message '${e}'`);}VN(c){if(this.bQ){var e=c.component,k=c.handler,h=c.data,m=c.dispatchOpts,n=!(!m||!m.dispatchRuntimeEvent);m=!(!m||!m.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===e&&(n&&(c=new d.Event(k),c.data=h,this.Jb.M$(c)),m)){c=new d.Event(k,!0);for(const [r,v]of Object.entries(h))c[r]=v;this.rg(c)}if(c=this.jF.get(e))if(c=
c.get(k)){n=null;try{n=c(h)}catch(r){console.error(`Exception in '${e}' handler '${k}':`,r);null!==p&&this.Lx(p,!1,""+r);return}null!==p&&(n&&n.then?n.then(r=>this.Lx(p,!0,r)).catch(r=>{console.error(`Rejection from '${e}' handler '${k}':`,r);this.Lx(p,!1,""+r)}):this.Lx(p,!0,n))}else n||m||console.warn(`[Runtime] No DOM handler '${k}' for component '${e}'`);else n||m||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.CH.push(c)}Lx(c,e,k){this.nu.postMessage({type:"result",
responseId:c,isOk:e,result:k})}a6(c){const e=c.responseId,k=c.isOk;c=c.result;const h=this.LG.get(e);k?h.resolve(c):h.reject(c);this.LG.delete(e)}kh(c,e,k){let h=this.jF.get(c);h||(h=new Map,this.jF.set(c,h));if(h.has(e))throw Error(`[Runtime] Component '${c}' already has handler '${e}'`);h.set(e,k)}jk(c,e,k){this.nu.postMessage({type:"event",component:c,handler:e,data:k,responseId:null})}un(c,e,k){const h=this.P9++,m=new Promise((n,p)=>{this.LG.set(h,{resolve:n,reject:p})});this.nu.postMessage({type:"event",
component:c,handler:e,data:k,responseId:h});return m}VZ(){if(!this.lb)throw Error("not in debug mode");this.jk("runtime","post-to-debugger",{type:"reload"})}async Bl(c){this.lb?await a.Bl(this):self.Hf&&self.Hf.bea(this);var [e]=await Promise.all([this.Mc.vJ("data.json"),this.u5(),this.bu.Bl()]);this.W4(e);await this.G4(c);this.qp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.ck()?(e=this.ck(),console.info(`[C3 runtime] Hosted in ${this.Vd?"worker":
"DOM"}, rendering with WebGL ${e.bd} [${e.$q}] (${e.XX()?"desynchronized":"standard"} compositing)`),e.EF&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.")):this.mp()&&console.info(`[C3 runtime] Hosted in ${this.Vd?"worker":"DOM"}, rendering with experimental WebGPU`);this.bQ=!0;for(const k of this.CH)this.VN(k);d.D(this.CH);this.L&&this.L.X0();for(const k of c.runOnStartupFunctions)this.Yx.push(this.Y6(k));
await Promise.all([this.Mc.xM(),...this.Yx]);d.D(this.Yx);if(this.Mc.DF)this.L&&this.L.bC();else return this.L&&await this.L.ZU(),await this.Jb.TH(new d.Event("beforeruntimestart")),await this.Os(),this.nu.postMessage({type:"runtime-ready"}),this}async Y6(c){try{await c(this.mi)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}W4(c){c=c.project;this.Nz=c[0];this.NQ=c[16];this.PG=c[31];const e=c[39]||"loading-logo.png";this.Ik=!!c[9];this.eg=this.Ef=c[10];this.dg=this.Df=
c[11];this.IG=this.eg/2;this.JG=this.dg/2;this.Zp=c[36];this.uF=c[37];"low-latency"===this.Zp&&this.QX()&&77>=d.Hb.bB&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Zp="standard");this.Dj=!!c[40];this.$c=c[14];this.pA=!!c[18];this.wq=c[19];this.pu=c[21];this.IQ=c[22];const k=this.Mc;k.A7(c[7]);k.M7(c[32]);k.R7(c[28]);k.f8(c[29]);if(0===this.wq){let r=
"";this.qp()?k.RD(e)&&(r=k.RJ(e)):r=k.MP+e;r&&(this.xq=k.Rw({url:r}))}this.L&&(this.L.i0(d.eB.hN(c[12])),this.L.PL(c[23]?"high":"low"),this.L.ZC(0!==c[24]),this.L.N7(c[34]),this.L.d8(c[41]),this.L.g8(c[13]));this.wo.IT();this.Ez=self.VI();for(var h of c[2])this.wo.GT(h);this.Ez=self.VI();this.d5();for(var m of c[3])h=d.zC.Pa(this,this.zc.length,m),this.zc.push(h),this.CG.set(h.Y.toLowerCase(),h),this.DG.set(h.cb,h);for(const r of c[4])this.zc[r[0]].Z4(r);for(var n of c[27])m=n.map(r=>this.zc[r]),
this.P8.push(d.A(d.vT,this,m));for(const r of this.zc)r.E5();for(const r of c[5])this.Wa.Pa(r);(n=c[1])&&(n=this.Wa.gp(n))&&this.Wa.e0(n);for(var p of c[33])this.tb.Pa(p);for(const r of c[35])this.pH.Pa(r);this.D4();for(const r of c[6])this.ua.Pa(r);this.ua.Cb();this.z4();d.D(this.Ez);this.Dd();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.jk("runtime","set-target-orientation",{targetOrientation:p})}MI(c){this.Yx.push(c)}i4(){return this.sP++}U1(c){this.FE.push(c)}async G4(c){this.L&&
(await this.L.qg(c),this.L.wX(this.wq))}async u5(){if(!this.Mc.RX()){var c=null;try{c=this.dQ&&this.Mc.Ut?await this.Mc.eJ(this.GQ):await this.Mc.Qr(this.GQ)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}c?this.yS(c):this.xS();await this.zS([this.T9])}}async J8(c){return await this.WA("OpusDecode",{arrayBuffer:c},[c])}async Os(){this.Oy=!0;this.ym=Date.now();if(this.pA){for(var c of this.zc)c.Va||c.aG||!c.Te||c.jd();this.Mc.xM().then(()=>
{this.vj=!1;this.YN()})}else this.vj=!1;this.Mc.k0();this.lb&&a.eia(f);for(const e of this.Wa.Vh)e.B2();c=this.Wa.QV();await c.TD(null,this.Gb());await c.JO(!0);this.$n=performance.now();this.pA||this.YN();(await this.un("runtime","before-start-ticking")).isSuspended?this.Qq++:this.ne()}YN(){this.pa(d.C.La.I.oZ,null,null);this.jk("runtime","register-sw")}wg(c){c=Math.floor(c);const e=this.Ez;if(0>c||c>=e.length)throw Error("invalid object reference");return e[c]}d5(){for(const c of self.ZS){const e=
d.first(Object.keys(c));this.fQ.push(e)}}vh(c){c=Math.floor(c);const e=this.fQ;if(0>c||c>=e.length)throw Error("invalid prop reference");return e[c]}wB(){return this.V8}ga(){return this.ua}Jc(){return this.ua.Jc()}Ge(){return this.ua.Ge()}ub(){return this.ua.ub()}gf(){return this.ua.gf()}WX(){return 0===this.Ge().yk}$r(){return this.ua.$r()}ks(){return this.wo.ks()}Ie(c){c=Math.floor(c);if(0>c||c>=this.zc.length)throw new RangeError("invalid index");return this.zc[c]}NB(c){return this.CG.get(c.toLowerCase())||
null}ow(c){return this.DG.get(c)||null}*o$(){for(const c of this.zc)c.Va||(yield*c.MR())}Eb(){return this.Jb}rg(c){c.jc=this.mi;const e=this.lb&&!this.ua.Jw();e&&a.mD();this.Kd.dispatchEvent(c);e&&a.YA()}Xm(c){c.jc=this.mi;return this.Kd.TH(c)}s0(c,e){if(this.eg!==c||this.dg!==e)this.eg=c,this.dg=e,c=this.Wa,c.An(),c.zn()}Ns(c,e){if(this.Ef!==c||this.Df!==e)this.Ef=c,this.Df=e,c=this.Wa,c.An(),c.zn()}G7(c){this.iP=c}Rj(){return this.iP}th(){return this.L?this.L.th():this.Ef}tg(){return this.L?this.L.tg():
this.Df}Zj(){return this.L?this.L.Zj():1}Sj(){return this.L?this.L.Sj():1}Yr(){return this.L?this.L.Yr():0}Zr(){return this.L?this.L.Zr():0}xV(){return this.L?this.L.Bc:0}wV(){return this.L?this.L.mc:0}iw(){return this.L?this.L.iw():"off"}Vr(c){return this.L?this.L.Vr(c):null}Kl(c){this.L&&this.L.Kl(c)}e8(c){this.BH=!!c}kw(){return this.L?this.L.kw():NaN}qC(){return"nearest"!==this.$c}i_(){this.xq&&(this.xq.j(),this.xq=null)}Fb(){return this.Wa.Fb()}Rw(c){return this.Mc.Rw(c)}kB(c,e,k,h,m){return this.oh(c,
e,!1,k,h,!1,m)}oh(c,e,k,h,m,n,p){var r=null;let v=null;c instanceof d.zC?(v=c,v.Va&&(r=v.Yn,v=r[Math.floor(this.wp()*r.length)]),r=v.fq):(r=c,v=this.Ie(r[1]));c=v.wb().Te;if(this.vj&&c&&!v.aG)return null;const x=e;c||(e=null);var w=k&&!n&&r&&!this.ho.has(r[2])?r[2]:this.pu++;const u=r?r[0]:null,t=d.A(d.Instance,{jc:this,lI:v,Cd:e,oS:u,LR:r?r[3]:null,uid:w});this.ho.set(w,t);w=null;c&&(w=t.m(),"undefined"!==typeof h&&"undefined"!==typeof m&&(w.Dg(h),w.Mh(m)),v.vO());e&&(p||e.Fg(t,!0),1===e.ue&&1===
e.ve||v.iE(!0),e.Uc().NK(v));this.EG++;if(v.Xb()&&!k&&!n){for(var A of v.$h.Sk){if(A===v)continue;const G=this.oh(A,x,!1,w?w.na():h,w?w.oa():m,!0,!1);t.Mp(G)}for(var z of t.od){z.Mp(t);for(var E of t.od)z!==E&&z.Mp(E)}}c&&!k&&p&&this.zD(t,u,w,e,h,m);if(v.Xb()&&!k&&!n&&p)for(const G of t.od)if(A=G.m())z=G.wb(),E=G.H().fq[0],z.Te?this.zD(G,E,A,e,A.na(),A.oa()):this.zD(G,E,A,e);if(p&&!n&&!k&&t.Xb())for(const G of t.od)for(const I of G.od)t===I&&x.Yl(G,!0);!n&&p&&("undefined"===typeof h&&(h=u[0]),"undefined"===
typeof m&&(m=u[1]),e=w.ww(),h=h-w.na()+e.na(),m=m-w.oa()+e.oa(),e.Tl(h,m));v.ft();m=r?d.PH(r[5]):null;r=r?r[4].map(G=>d.PH(G)):null;c&&u&&u[13]&&t.Q7();t.ux(m,r);this.Gk.push(t);this.Ny=!0;this.lb&&a.cea(t);return t}zD(c,e,k,h,m,n){var p=k.WQ,r=k.YG;c.m().aD(p);if(r){"undefined"===typeof m&&(m=e[0]);"undefined"===typeof n&&(n=e[1]);p=new Set;k=e[0];e=e[1];for(const t of r){var v=t[1],x=t[2];r=t[3];var w=!!t[4];const A=t[5];x=this.Wa.MB(t[0]).ea(v).ZV(x);v=this.Ie(x[1]);var u=c.TW(v);const z=p.has(v);
u&&!z&&w?(w=c.dK(v),u=m+x[0][0]-k,x=n+x[0][1]-e,w.m().Tl(u,x),w.m().aD(A),c.ql(w,{Fr:!!(r>>0&1),Gr:!!(r>>1&1),Uo:!!(r>>2&1),To:!!(r>>3&1),Er:!!(r>>4&1),cv:!!(r>>5&1),Hr:!!(r>>6&1)}),p.add(v)):(v=this.oh(x,h,!1,m+x[0][0]-k,n+x[0][1]-e,!1,!0),v.m().aD(A),c.ql(v,{Fr:!!(r>>0&1),Gr:!!(r>>1&1),Uo:!!(r>>2&1),To:!!(r>>3&1),Er:!!(r>>4&1),cv:!!(r>>5&1),Hr:!!(r>>6&1)}))}}}Wm(c){if(!this.io.has(c)){var e=c.H(),k=this.Vy.get(e);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.Vy.set(e,k);this.lb&&
a.dea(c);c.WD();this.Ny=!0;if(c.Xb())for(const h of c.od)this.Wm(h);for(const h of c.children())h.fw()&&this.Wm(h);this.Wa.wK()||this.wj||(e=this.ga(),e.de(!0),c.t8(),e.de(!1));c.P3(this.Wa.wK())}}Dd(){this.Ny&&(this.R3(),this.S3(),this.Ny=!1,this.aa())}R3(){for(const c of this.Gk){const e=c.H();e.Fg(c);for(const k of e.Mg)k.Fg(c),k.ft()}d.D(this.Gk)}S3(){this.Jb.Cp(!0);for(const [c,e]of this.Vy.entries())this.T3(c,e),e.clear();this.Vy.clear();this.Jb.Cp(!1)}T3(c,e){for(const h of e){var k=this.Xn.instancedestroy;
k.instance=h;this.Jb.dispatchEvent(k);this.ho.delete(h.Fc);if(k=h.m())k.gO(),k.hO(),k.WD();this.io.add(h);this.EG--}d.pg(c.ia(),e);c.ft();this.Wy.add(c);0===c.ia().length&&c.iE(!1);for(const h of c.Mg)d.pg(h.ia(),e),h.ft(),this.Wy.add(h);if(c.wb().Te){c=new Set([...e].map(h=>h.m().ea()));for(const h of c)h.E6(e)}}*$H(c){for(const e of this.Gk)c.Va?e.H().aB(c)&&(yield e):e.H()===c&&(yield e)}h4(){return this.pu++}r5(c,e){this.ho.set(c,e)}ct(){this.Jb.dispatchEvent(d.A(d.Event,"webglcontextlost"));
this.Ls(!0);for(var c of this.zc)!c.Va&&c.RW()&&c.wn();(c=this.Fb())&&c.ct();d.Fw.up();d.mK.up()}async bE(){await this.Fb().TD(null,this.ck());this.Jb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.Ls(!1);this.aa()}g6(c){this.Ls(c.hidden)}k6(c){this.qp()&&this.IQ&&!d.Hb.Kw&&!c.data.parentHasFocus&&(this.Ls(!0),this.bG=!0)}l6(){this.bG&&(this.Ls(!1),this.bG=!1)}iO(){const c=this.g$;"vsync"===this.uF?-1===this.Yd&&(this.Yd=self.requestAnimationFrame(c.UR)):"unlimited-tick"===this.uF?(-1===
this.Xk&&(this.Xk=d.JC(c.Yaa)),-1===this.Yd&&(this.Yd=self.requestAnimationFrame(c.Kaa))):-1===this.Xk&&(this.Xk=d.JC(c.UR))}p2(){-1!==this.Yd&&(self.cancelAnimationFrame(this.Yd),this.Yd=-1);-1!==this.Xk&&(d.dT(this.Xk),this.Xk=-1)}Gl(){return 0<this.Qq}Ls(c){var e=this.Gl();this.Qq+=c?1:-1;0>this.Qq&&(this.Qq=0);c=this.Gl();!e&&c?(console.log("[Construct 3] Suspending"),this.p2(),this.Jb.dispatchEvent(d.A(d.Event,"suspend")),this.pa(d.C.La.I.DZ,null,null)):e&&!c&&(console.log("[Construct 3] Resuming"),
this.$n=this.rz=e=performance.now(),this.Nk=this.Az=this.Iy=this.Jy=0,this.Jb.dispatchEvent(d.A(d.Event,"resume")),this.pa(d.C.La.I.AZ,null,null),this.os()||this.ne(e))}R1(c){this.cm.vc(c)}G6(c){this.cm.Bg(c)}F6(c){this.Nn.Bg(c)}H6(c){this.On.Bg(c)}f2(){this.cm.Cg(!0);for(const c of this.cm)c.ne();this.cm.Cg(!1)}e2(){this.Nn.Cg(!0);for(const c of this.Nn);this.Nn.Cg(!1)}g2(){this.On.Cg(!0);for(const c of this.On);this.On.Cg(!1)}*L2(){this.cm.Cg(!0);for(const c of this.cm){const e=c.ne();d.El(e)&&
(yield*e)}this.cm.Cg(!1)}*K2(){this.Nn.Cg(!0);for(const c of this.Nn)d.El(void 0)&&(yield*void 0);this.Nn.Cg(!1)}*M2(){this.On.Cg(!0);for(const c of this.On)d.El(void 0)&&(yield*void 0);this.On.Cg(!1)}async ne(c,e,k){this.LP=!0;const h="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.Oy&&(!this.Gl()||e||h)&&(e=performance.now(),this.bz=!0,this.x5(c||0),c=this.Z0(),this.Ud&&await c,c=this.Jb.N$(this.Xn.pretick),c instanceof Promise&&await c,c=this.Y0(),this.Ud&&await c,this.C5()&&
await this.s4(),this.Wa.pp()&&await this.t5(),c=this.$0(),this.Ud&&await c,k&&this.GC(),this.Gl()||h||this.iO(),this.Aj++,this.lq++,this.bz=!1,this.Nk+=performance.now()-e)}async Z0(){const c=this.ua,e=this.lb;this.Dd();c.de(!0);this.xs(this.Fb());e&&a.Kp();this.Ud?await c.QT():c.G_();e&&a.wS();this.ws();c.de(!1);this.Dd();c.de(!0)}async Y0(){const c=this.lb,e=this.Ud,k=this.Jb,h=this.Xn,m=this.qR;c&&a.Kp();e?await this.Tv(this.L2()):this.f2();e?await this.Tv(this.K2()):this.e2();c&&a.rS();c&&a.Kp();
e?await this.iJ(h.tick):k.dispatchEvent(h.tick);c&&a.BS();this.ua.de(!1);this.rg(m.tick)}async $0(){const c=this.ua,e=this.Jb,k=this.Xn,h=this.lb,m=this.Ud;h&&a.Kp();m?await c.OT(this.Wa):c.E_(this.Wa);h&&a.wS();this.Zh.bJ();this.fO();this.YF=!1;c.de(!0);h&&a.Kp();m?await this.Tv(this.M2()):this.g2();h&&a.rS();h&&a.Kp();m?await this.iJ(k.tick2):e.dispatchEvent(k.tick2);h&&a.BS();c.de(!1);m&&await c.CL()}fO(){if(0!==this.io.size){var c=this.Jb;c.Cp(!0);for(const e of this.Wy)e.wm.xn(this.io);this.Wy.clear();
this.ua.k_(this.io);for(const e of this.io)e.j();this.io.clear();c.Cp(!1)}}async t5(){const c=this.Wa;let e=0;for(;c.pp()&&10>e++;)await this.XM(c.qu)}x5(c){let e=0;0!==this.rz&&(e=Math.max(c-this.rz,0)/1E3,.5<e&&(e=0),this.vy=Math.min(e,1/this.zQ));this.rz=c;this.uy=this.vy*this.Zd;this.yF.vc(this.uy);this.zF.vc(e*this.Zd);this.DH.vc(this.vy);this.L&&this.L.E8();1E3<=c-this.$n&&(this.$n+=1E3,1E3<=c-this.$n&&(this.$n=c),this.Iy=this.Jy,this.Jy=0,this.Az=Math.min(this.Nk/1E3,1),this.Nk=0,this.L&&this.L.x8(),
this.lb&&a.ika());this.Jy++}async XM(c){const e=this.Jb,k=this.Wa.Fb();await k.o8();k.w8(c,this.Gb());k===c&&this.ua.Hv();this.Zh.bJ();this.fO();e.dispatchEvent(this.Xn.beforelayoutchange);d.Nj.QL(!0);await c.TD(k,this.Gb());d.Nj.QL(!1);await c.JO(!1);e.dispatchEvent(this.Xn.layoutchange);this.aa();this.YF=!0;this.Dd()}aa(){this.AG=!0}ck(){return this.L?this.L.ck():null}mp(){return this.L?this.L.mp():null}Gb(){return this.L?this.L.Gb():null}GC(){const c=this.L;if(c&&!c.cY()){var e=this.Gb(),k=e.Nh(),
h=k&&e.Mw();k=k&&!1;h&&e.gT();if(this.AG){var m=this.Wa.Fb();e.Os();var n=this.lb;n&&a.Kp();this.AG=!1;var p=null;h&&(p=c.My.OI(),e.kM(p));h=null;k&&(h=e.Bja(2*(1+m.Nb.length)),e.L1(0));this.Dj&&"low"===c.ki?e.f0(c.th(),c.tg()):e.Q_();this.N6(this.Gb(),m);p&&e.qJ(p);k&&(e.L1(1),this.L.d2(h));e.Sr();n&&(a.Bba(),a.jka());c&&c.v5()}else e.lX()}}N6(c,e){c.Kh();c.RC();c.Me(1,1,1,1);c.me(null);c.sf(null);c.bx(this.Dj);e.ff(c)}pa(c,e,k){if(!this.Oy)return!1;var h=!this.bz&&!this.ua.pC();let m=0;h&&(m=performance.now());
const n=this.lb;n&&this.ax(!1);c=this.ua.jt(this.Wa,c,e,k);h&&(h=performance.now()-m,this.Nk+=h,n&&a.Eba(h));n&&this.ax(!0);return c}async Lc(c,e,k){if(!this.Ud)return this.pa(c,e,k);if(!this.Oy)return!1;if(this.os())return this.ua.c_(c,e,k);if(!this.Fb())return this.ua.EC(c,e,k);const h=performance.now();c=this.ua.Ts(this.Wa,c,e,k);for(e=c.next();!e.done;)await this.$o(e.value),e=c.next();this.Gl()||this.ua.pC()||(await this.ua.CL(),this.LP&&!this.bz&&this.iO());this.Nk+=performance.now()-h;return e.value}xs(c){this.cq.push(c)}ws(){if(!this.cq.length)throw Error("layout stack empty");
this.cq.pop()}Ja(){return this.cq.length?this.cq[this.cq.length-1]:this.Fb()}ds(c){return c&&-1!==c.Zd?this.vy*c.Zd:this.uy}eD(c){if(isNaN(c)||0>c)c=0;this.Zd=c}$L(c){this.zQ=d.fa(c,1,120)}ug(){return this.yF.$()}VV(){return this.zF.$()}XB(){return this.DH.$()}ek(){++this.lq}Oi(c){if(this.wj)throw Error("cannot call while loading state - wait until afterload event");return this.ho.get(c)||null}dO(){this.ho.clear();for(const c of this.zc)if(!c.Va)for(const e of c.ia())this.ho.set(e.Fc,e)}qp(){return"preview"===
this.re}sK(){return"cordova"===this.re}QX(){return"Android"===d.Hb.zg&&("cordova"===this.re||"playable-ad"===this.re||"instant-games"===this.re)}v0(c){c=!!c;this.Ik!==c&&(this.Ik=c,this.Wa.zn(),this.aa())}I_(c){this.xu=c}xY(c){this.iu=c}xC(c){this.vq=c}C5(){return!(!this.xu&&!this.iu&&null===this.vq)}async s4(){this.xu&&(this.Dd(),await this.p3(this.xu),this.xD());this.iu&&(await this.o3(this.iu),this.xD(),this.lb&&a.Cja());if(null!==this.vq){this.Dd();try{await this.YM(this.vq),this.so=this.vq,await this.Lc(d.C.La.I.aL,
null),this.so=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Lc(d.C.La.I.bL,null)}this.xD()}}xD(){this.iu=this.xu="";this.vq=null}l4(){this.OG||(this.OG=localforage.QH({name:"c3-localstorage-"+this.PG,description:this.Nz}));return this.OG}sN(){this.XG||(this.XG=localforage.QH({name:"c3-savegames-"+this.PG,description:this.Nz}));return this.XG}async p3(c){const e=await this.r7();try{await this.sN().setItem(c,e),console.log("[Construct 3] Saved state to storage ("+
e.length+" chars)"),this.so=e,await this.Lc(d.C.La.I.BZ,null),this.so=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Lc(d.C.La.I.CZ,null)}}async o3(c){try{const e=await this.sN().getItem(c);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+e.length+" chars)");await this.YM(e);this.so=e;await this.Lc(d.C.La.I.aL,null);this.so=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",e),await this.Lc(d.C.La.I.bL,
null)}}async r7(){const c={c3save:!0,version:1,rt:{time:this.ug(),timeRaw:this.VV(),walltime:this.XB(),timescale:this.Zd,tickcount:this.Aj,execcount:this.lq,next_uid:this.pu,running_layout:this.Fb().cb,start_time_offset:Date.now()-this.ym},types:{},layouts:{},events:this.ua.ja(),timelines:this.tb.ja(),user_script_data:null};for(var e of this.zc)e.Va||e.jK()||(c.types[e.cb.toString()]=e.ja());for(const k of this.Wa.Vh)c.layouts[k.cb.toString()]=k.ja();e=this.CD("save");e.saveData=null;await this.Xm(e);
c.user_script_data=e.saveData;return JSON.stringify(c)}async YM(c){var e=this.Wa;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Jb.dispatchEvent(d.A(d.Event,"beforeload"));for(var k of this.o$())k.Jx();this.wj=!0;k=c.rt;this.yF.Set(k.time);k.hasOwnProperty("timeRaw")&&this.zF.Set(k.timeRaw);this.DH.Set(k.walltime);this.Zd=k.timescale;this.Aj=
k.tickcount;this.lq=k.execcount;this.ym=Date.now()-k.start_time_offset;var h=k.running_layout;if(h!==this.Fb().cb)if(h=e.MB(h))await this.XM(h);else return;for(const [m,n]of Object.entries(c.types))h=this.ow(parseInt(m,10)),!h||h.Va||h.jK()||h.ra(n);this.Dd();this.dO();this.wj=!1;this.pu=k.next_uid;for(const [m,n]of Object.entries(c.layouts))(k=e.MB(parseInt(m,10)))&&k.ra(n);this.ua.ra(c.events);for(const m of this.zc)if(!m.Va&&m.Xb())for(const n of m.ia()){k=n.$m();for(const p of m.$h.Sk)if(p!==
m){h=p.ia();if(0>k||k>=h.length)throw Error("missing sibling instance");n.Mp(h[k])}}this.tb.ra(c.timelines);e.An();e.zn();this.Jb.dispatchEvent(d.A(d.Event,"afterload"));e=this.CD("load");e.saveData=c.user_script_data;await this.Xm(e);this.aa()}async zS(c){c=(await Promise.all(c.map(e=>this.Mc.Qj(e)))).map(e=>URL.createObjectURL(e));this.bu.kX(c)}xS(){this.bu.M_()}yS(c){this.bu.N_(c)}WA(c,e,k){return this.bu.WA(c,e,k)}hC(c,e){this.jk("runtime","invoke-download",{url:c,filename:e})}async d_(c){var e=
e||2048;var k=k||2048;return this.Vd?(await this.un("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:e,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,e,k)}xp(){this.kP||(this.kP=!0,this.jk("runtime","enable-device-orientation"))}Ll(){this.jP||(this.jP=!0,this.jk("runtime","enable-device-motion"))}wp(){return this.Y9()}m4(){const c=this.ck();return{fps:this.Iy,cpu:this.Az,gpu:this.kw(),layout:this.Fb()?this.Fb().Y:
"",renderer:c?c.$q:"<unavailable>"}}os(){return this.lb?a.os():!1}$o(c){return this.Ud?a.$o(c):Promise.resolve()}Tb(){return this.Ud?a.cca():!1}ax(c){c?this.fF--:this.fF++;this.z8()}z8(){this.Ud=this.lb&&this.c9&&0===this.fF}jC(){return this.lb&&a.jC()}yK(){return this.lb&&this.Gb().Nh()&&a.yK()}async Tv(c){if(c)for(const e of c)await this.$o(e)}iJ(c){return this.Tv(this.Jb.O$(c))}Gx(c){return this.ua.Gx(c.name,c.params)}CD(c){c=d.A(d.Event,c,!1);c.jc=this.mi;return c}D4(){var c={};for(const e of this.zc)c[e.vh()]=
{value:e.Mt,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.mi=new self.cX(this,c);this.qR={tick:this.CD("tick")}}z4(){const c={};for(const e of this.ga().GE)c[e.vh()]=e.tN();this.mi.A4(c)}LN(c,e){this.t9.set(c,e)}};self.C3_CreateRuntime=d.DL.Pa;self.C3_InitRuntime=(c,e)=>c.Bl(e)}
{"use strict";const d=self.B;d.lY=class extends d.da{constructor(a,b){super();this.g=a;this.oo=new Map;this.R9=0;this.Pt=b.inputPort;b.outputPort.onmessage=f=>this.XN(f);this.tQ=b.maxNumWorkers;this.cu=1;this.EP=this.St=!1}async Bl(){}kX(a){this.Pt.postMessage({type:"_import_scripts",scripts:a})}M_(){this.Pt.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}N_(a){this.Pt.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}WA(a,b,f){f||(f=[]);const c=this.R9++;a=
{type:a,isBroadcast:!1,jobId:c,params:b,transferables:f};b=new Promise((e,k)=>{this.oo.set(c,{resolve:e,progress:void 0,reject:k,OH:!1})});this.Pt.postMessage(a,f);this.MN();return b}XN(a){a=a.data;const b=a.type,f=a.jobId;switch(b){case "result":this.R5(f,a.result);break;case "progress":this.Q5(f,a.progress);break;case "error":this.P5(f,a.error);break;case "ready":this.S5();break;default:throw Error(`unknown message from worker '${b}'`);}}R5(a,b){const f=this.oo.get(a);if(!f)throw Error("invalid job ID");
f.OH||f.resolve(b);this.oo.delete(a)}Q5(a,b){a=this.oo.get(a);if(!a)throw Error("invalid job ID");!a.OH&&a.progress&&a.progress(b)}P5(a,b){const f=this.oo.get(a);if(!f)throw Error("invalid job ID");f.OH||f.reject(b);this.oo.delete(a)}S5(){this.St&&(this.St=!1,this.cu++,this.cu<this.tQ?this.MN():this.Pt.postMessage({type:"_no_more_workers"}))}async MN(){if(!(this.cu>=this.tQ||this.St||this.EP||this.oo.size<=this.cu))try{this.St=!0,(await this.g.un("runtime","create-job-worker")).outputPort.onmessage=
a=>this.XN(a)}catch(a){this.EP=!0,this.St=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.cu} so far)`,a)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let a=null,b="",f="",c=[],e="",k="",h="";const m=d.A(d.OS);function n(p,r){p=p[1];r=r[1];if("number"===typeof p&&"number"===typeof r)return p-r;p=""+p;r=""+r;return p<r?-1:p>r?1:0}d.C.La=class extends d.Ml{constructor(p){super(p);this.Ve=this.g.ga().Ve;this.xd=this.g.ga().Jc();this.Nt=this.co=0;this.yP=new Map}j(){super.j()}aa(){this.g.aa()}pa(p){this.g.pa(p,null,null)}qw(p,r){a&&p===b&&r===f||(a=new RegExp(p,r),b=p,f=r);a.lastIndex=0;return a}WJ(p,r,v){if(p===e&&r===
k&&v===h)return c;const x=this.qw(r,v);c=p.match(x);e=p;k=r;h=v;return c}async VD(p,r){if(r.length){this.co+=r.length;var v=[];for(const x of r)v.push(p.NK(x));await d.YZ(v,()=>{this.Nt++});this.Nt++;this.Nt===this.co&&(this.g.pa(d.C.La.I.iZ,null,null),this.co=this.Nt=0)}}MO(p,r){for(const v of r)0===v.F.length&&p.HY(v)}pN(){return m}O6(p){var r=this.g.ga();const v=r.Jc(),x=v.He(),w=x.ub(),u=w.ed();var t=x.$i();const A=v.Ka(w),z=r.Ve,E=z.Ka();if(t)for(t=0;t<p&&!E.Wb;++t)r.ke(u),E.kc(t),w.Qf(x,A),
r.Bb(u);else for(r=0;r<p&&!E.Wb;++r)E.kc(r),w.Qf(x,A);v.Ia();z.Ia();return!1}*S2(p){var r=this.g.ga();const v=r.Jc(),x=v.He(),w=x.ub(),u=w.ed();var t=x.$i();const A=v.Ka(w),z=r.Ve,E=z.Ka();if(t)for(t=0;t<p&&!E.Wb;++t)r.ke(u),E.kc(t),yield*w.If(x,A),r.Bb(u);else for(r=0;r<p&&!E.Wb;++r)E.kc(r),yield*w.If(x,A);v.Ia();z.Ia();return!1}K8(){var p=this.g.ga();const r=p.Jc(),v=r.He(),x=v.ub(),w=x.ed();var u=v.$i();const t=r.Ka(x),A=p.Ve,z=A.Ka();if(u)for(u=0;!z.Wb;++u)p.ke(w),z.kc(u),x.Qf(v,t)||z.Eg(),p.Bb(w);
else for(p=0;!z.Wb;++p)z.kc(p),x.Qf(v,t)||z.Eg();r.Ia();A.Ia();return!1}*m3(){var p=this.g.ga();const r=p.Jc(),v=r.He(),x=v.ub(),w=x.ed();var u=v.$i();const t=r.Ka(x),A=p.Ve,z=A.Ka();if(u)for(u=0;!z.Wb;++u)p.ke(w),z.kc(u),(yield*x.If(v,t))||z.Eg(),p.Bb(w);else for(p=0;!z.Wb;++p)z.kc(p),(yield*x.If(v,t))||z.Eg();r.Ia();A.Ia();return!1}U3(p,r,v){var x=this.g.ga();const w=x.Jc(),u=w.He(),t=u.ub(),A=t.ed(),z=u.$i(),E=w.Ka(t),G=x.Ve,I=G.Ka();I.gx(p);if(v<r)if(z)for(p=r;p>=v&&!I.Wb;--p)x.ke(A),I.kc(p),
t.Qf(u,E),x.Bb(A);else for(x=r;x>=v&&!I.Wb;--x)I.kc(x),t.Qf(u,E);else if(z)for(p=r;p<=v&&!I.Wb;++p)x.ke(A),I.kc(p),t.Qf(u,E),x.Bb(A);else for(x=r;x<=v&&!I.Wb;++x)I.kc(x),t.Qf(u,E);w.Ia();G.Ia();return!1}*P2(p,r,v){var x=this.g.ga();const w=x.Jc(),u=w.He(),t=u.ub(),A=t.ed(),z=u.$i(),E=w.Ka(t),G=x.Ve,I=G.Ka();I.gx(p);if(v<r)if(z)for(p=r;p>=v&&!I.Wb;--p)x.ke(A),I.kc(p),yield*t.If(u,E),x.Bb(A);else for(x=r;x>=v&&!I.Wb;--x)I.kc(x),yield*t.If(u,E);else if(z)for(p=r;p<=v&&!I.Wb;++p)x.ke(A),I.kc(p),yield*t.If(u,
E),x.Bb(A);else for(x=r;x<=v&&!I.Wb;++x)I.kc(x),yield*t.If(u,E);w.Ia();G.Ia();return!1}V3(p){var r=this.g.ga();const v=r.Jc(),x=v.He(),w=x.ub(),u=w.ed();var t=x.$i();const A=v.Ka(w),z=r.Ve,E=z.Ka(),G=p.Xb(),I=p.R(),N=m.Ka();d.cd(N,I.ia());if(t)for(let O=0,P=N.length;O<P&&!E.Wb;++O)r.ke(u),t=N[O],p.R().ej(t),G&&t.Jh(),E.kc(O),w.Qf(x,A),r.Bb(u);else{I.Od(!1);p=I.F;d.D(p);p.push(null);for(let O=0,P=N.length;O<P&&!E.Wb;++O)r=N[O],p[0]=r,G&&r.Jh(),E.kc(O),w.Qf(x,A)}v.Ia();z.Ia();d.D(N);m.Ia();return!1}*Q2(p){var r=
this.g.ga();const v=r.Jc(),x=v.He(),w=x.ub(),u=w.ed();var t=x.$i();const A=v.Ka(w),z=r.Ve,E=z.Ka(),G=p.Xb(),I=p.R(),N=m.Ka();d.cd(N,I.ia());if(t)for(let O=0,P=N.length;O<P&&!E.Wb;++O)r.ke(u),t=N[O],p.R().ej(t),G&&t.Jh(),E.kc(O),yield*w.If(x,A),r.Bb(u);else{I.Od(!1);p=I.F;d.D(p);p.push(null);for(let O=0,P=N.length;O<P&&!E.Wb;++O)r=N[O],p[0]=r,G&&r.Jh(),E.kc(O),yield*w.If(x,A)}v.Ia();z.Ia();d.D(N);m.Ia();return!1}W3(p,r){var v=this.g.ga();const x=v.Jc(),w=v.gf(),u=x.He(),t=u.ub(),A=t.ed(),z=u.$i(),
E=x.Ka(t),G=v.Ve,I=G.Ka(),N=p.Xb(),O=p.R(),P=m.Ka();d.D(P);const S=O.ia();for(let T=0,Y=S.length;T<Y;++T)P.push([S[T],w.zs(1,T)]);P.sort(n);1===r&&P.reverse();if(z)for(let T=0,Y=P.length;T<Y&&!I.Wb;++T)v.ke(A),r=P[T][0],p.R().ej(r),N&&r.Jh(),I.kc(T),t.Qf(u,E),v.Bb(A);else{O.Od(!1);p=O.F;d.D(p);p.push(null);for(let T=0,Y=P.length;T<Y&&!I.Wb;++T)v=P[T][0],p[0]=v,N&&v.Jh(),I.kc(T),t.Qf(u,E)}x.Ia();G.Ia();d.D(P);m.Ia();return!1}*R2(p,r){var v=this.g.ga();const x=v.Jc(),w=v.gf(),u=x.He(),t=u.ub(),A=t.ed(),
z=u.$i(),E=x.Ka(t),G=v.Ve,I=G.Ka(),N=p.Xb(),O=p.R(),P=m.Ka();d.D(P);const S=O.ia();for(let T=0,Y=S.length;T<Y;++T)P.push([S[T],w.zs(1,T)]);P.sort(n);1===r&&P.reverse();if(z)for(let T=0,Y=P.length;T<Y&&!I.Wb;++T)v.ke(A),r=P[T][0],p.R().ej(r),N&&r.Jh(),I.kc(T),yield*t.If(u,E),v.Bb(A);else{O.Od(!1);p=O.F;d.D(p);p.push(null);for(let T=0,Y=P.length;T<Y&&!I.Wb;++T)v=P[T][0],p[0]=v,N&&v.Jh(),I.kc(T),yield*t.If(u,E)}x.Ia();G.Ia();d.D(P);m.Ia();return!1}Bx(p,r){let v=this.yP.get(p);if(v)return v;if(!r)return null;
v={Lm:null,OA:new Map};this.yP.set(p,v);return v}n3(p,r,v,x,w){r.he().D_(v);x&&p.Bb(w)}*N2(p,r,v,x,w){yield*r.he().NT(v);x&&p.Bb(w)}}}{"use strict";const d=self.B;d.C.La.Ul=class extends d.da{constructor(a){super();this.J=a;this.g=a.G();this.Ug=a.wb()}jd(){}j(){this.Ug=this.g=this.J=null}}}{"use strict";const d=self.B;d.C.La.Instance=class extends d.da{constructor(a){super();this.ka=a;this.J=this.ka.H();this.rc=this.J.rc;this.g=this.ka.G()}j(){this.g=this.rc=this.J=this.ka=null}}}
{"use strict";const d=self.B,a=[];d.C.La.I={kda(){return!0},$K(){return!0},lZ(){return!0},DZ(){return!0},AZ(){return!0},Gl(){return this.g.Gl()},pJ(){const b=this.g.Ge();return b.lF?!1:!b.po},l1(){const b=this.g.gf().Ui();let f=b.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,b.set("TriggerOnce_lastTick",-1));const c=this.g.Aj;b.set("TriggerOnce_lastTick",c);return this.g.YF||f!==c-1},jda(b){const f=this.g.gf().Ui(),c=f.get("Every_lastTime")||0,e=this.g.ug();f.has("Every_seconds")||f.set("Every_seconds",
b);const k=f.get("Every_seconds");if(e>=c+k)return f.set("Every_lastTime",c+k),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",b),!0;e<c-.1&&f.set("Every_lastTime",e);return!1},op(b){return(b=this.g.ga().HJ(b))&&b.op()},qp(){return this.g.qp()},Kw(){return d.Hb.Kw},oZ(){return!0},aZ(){return!0},fda(){return!0},BZ(){return!0},CZ(){return!0},aL(){return!0},bL(){return!0},Ufa(b){return!!this.g.Oi(b)},Pea(b){switch(b){case 0:return"browser"===d.Hb.hB;case 1:return"iOS"===
d.Hb.zg;case 2:return"Android"===d.Hb.zg;case 8:return"cordova"===d.Hb.hB;case 9:return"scirra-arcade"===this.g.re;case 10:return"nwjs"===d.Hb.hB;case 13:return"windows-uwp"===this.g.re;default:return!1}},Zga(b,f,c){return this.qw(f,c).test(b)},rT(b,f,c){return d.compare(b,f,c)},xca(b,f,c){return b>=f&&b<=c},Hca(b,f,c){return d.compare(b.xa(),f,c)},yca(b){return!!b.xa()},Fca(b,f){const c=this.g.ug();return 0===b?(b=this.g.gf().Ui(),!b.get("CompareTime_executed")&&c>=f?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,f)},Hea(b){return isNaN(b)},HS(b,f,c){return d.gr(d.qb(b),d.qb(c))<=d.qb(f)},UX(b,f){return d.Ye(d.qb(b),d.qb(f))},SX(b,f,c){b=d.qb(b);f=d.qb(f);c=d.qb(c);return d.Ye(c,f)?d.Ye(b,f)&&!d.Ye(b,c):!(!d.Ye(b,f)&&d.Ye(b,c))},afa(b,f){return"number"===typeof b?0===f:1===f},ida(b){return!!b},tga(b,f,c,e){if(!b)return!1;const k=this.pN(),h=k.Ka(),m=b.R();d.cd(h,m.ia());m.Lb&&d.D(m.Rb);const n=this.g.gf();let p=0;for(let r=0,v=h.length;r<v;++r){const x=h[r];h[p]=x;f=n.zs(1,r);e=n.zs(3,
r);d.compare(f,c,e)?++p:m.Xl(x)}d.Ee(h,p);m.As(h);f=!!h.length;d.D(h);k.Ia();b.Pb();return f},uga(b,f){if(!b)return!1;const c=this.pN(),e=c.Ka(),k=b.R();d.cd(e,k.ia());k.Lb&&d.D(k.Rb);const h=this.g.gf();let m=0;for(let n=0,p=e.length;n<p;++n){const r=e[n];e[m]=r;(f=h.zs(1,n))?++m:k.Xl(r)}d.Ee(e,m);k.As(e);f=!!e.length;d.D(e);c.Ia();b.Pb();return f},Aga(b,f){if(!b)return!1;const c=b.R(),e=c.ia();f=Math.floor(f);if(f>=e.length)return!1;c.Il(e[f]);b.Pb();return!0},Ega(b){if(!b)return!1;const f=b.R(),
c=f.ia(),e=Math.floor(this.g.wp()*c.length);if(e>=c.length)return!1;f.Il(c[e]);b.Pb();return!0},sga(b){if(!b||!b.F.length)return!1;b.R().Od(!0);b.Pb();return!0},Cga(b,f,c){if(!b)return!1;const e=b.R();var k=e.ia();const h=this.g.ub().zd,m=this.g.gf().pi;e.Lb?(d.cd(a,k),e.Iv(),e.Od(!1)):h?(d.cd(a,e.Rb),d.D(e.Rb)):(d.cd(a,e.F),d.D(e.F));for(let n=0,p=a.length;n<p;++n)k=a[n],d.xor(k.m().Mr(f,c),m)?e.Gn(k):e.Xl(k);b.Pb();return d.xor(!!e.F.length,m)},zga(b){if(!b)return!1;var f=b.Va;let c=null;const e=
this.g.Gk;for(let k=e.length-1;0<=k;--k){const h=e[k];if(f){if(h.H().aB(b)){c=h;break}}else if(h.H()===b){c=h;break}}c||(f=b.ia(),f.length&&(c=f[f.length-1]));if(!c)return!1;b.R().Il(c);b.Pb();return!0},fha(b){return this.g.Ud?this.S2(b):this.O6(b)},uka(){return this.g.Ud?this.m3():this.K8()},lV(b,f,c){return this.g.Ud?this.P2(b,f,c):this.U3(b,f,c)},yJ(b){return this.g.Ud?this.Q2(b):this.V3(b)},uda(b,f,c){return this.g.Ud?this.R2(b,c):this.W3(b,c)},nfa(b){return b?b.gd():!1},kfa(b){return b?!b.F.length:
!1},jfa(b,f,c){return b?d.compare(100*b.Je(),f,c):!1},iZ(){return!0},Cea(){return 0<this.co}}}
{"use strict";const d=self.B;function a(h,m){const n=h[0]-m[0];return 0!==n?n:h[1]-m[1]}function b(h,m){return h[1]-m[1]}const f=[],c=[],e=d.A(d.Rect),k=d.A(d.Xa);d.C.La.uc={M0(h,m){h.Sf(m)},Fba(h,m){h.Fl()&&"number"!==typeof m&&(m=parseFloat(m));h.Sf(h.xa()+m)},Pja(h,m){h.Fl()&&h.Sf(h.xa()-m)},zia(h,m){h.Sf(!!m)},Uja(h){h.Sf(!h.xa())},Wha(){this.g.ga().u_()},FT(h,m,n,p,r){h&&m&&(n=this.g.kB(h,m,n,p,r))&&(r&&m.jD(n),m=this.g.ga(),m.de(!0),n.Tx(),m.de(!1),h.R().ej(n),n.Xb()&&n.Jh())},Wca(h,m,n,p,r){h&&
m&&(h=this.g.NB(h))&&d.C.La.uc.FT.call(this,h,m,n,p,r)},ys(h,m,n,p,r,v,x,w,u,t){if(h){var A=this.g.Ja();if(v&&(A=this.g.Wa.gp(v),!A))return;v=null;if("number"!==typeof x||0<=x)if(v=A.ea(x),!v)return;e.set(m,n,p,r);m=A.ys(h,e,v,w,u,t);h.R().As(m);h.Pb()}},b1(){const h=this.Ve;h.zK()&&h.cp().Eg()},Ep(h,m){(h=this.g.ga().HJ(h))&&(0===m?h.Ep(!1):1===m?h.Ep(!0):h.Ep(!h.op()))},pja(h){this.g.eD(h)},lja(h,m){0>m&&(m=0);if(h){h=h.R().ia();for(const n of h)n.eD(m)}},$ha(h){if(h){h=h.R().ia();for(const m of h)m.A_()}},
sD(h){if(!(0>h))return this.g.ga().XA().LX(h),!0},pka(h){this.g.ga().XA().JX(h);return!0},oka(){const h=this.g.ga();h.XA().yX(h.uW());return!0},uja(h){h=h.toLowerCase();for(const m of this.g.ga().Bf)m.fY()&&m.Du===h&&m.bD()},async iM(h,m,n,p,r,v){const x=this.g.L;x&&(this.aa(),await x.iM(0===h?"image/png":"image/jpeg",m/100,n,p,r,v),await this.g.Lc(d.C.La.I.aZ,null))},Bia(h,m){if(!(0>=h||0>=m)){this.g.Ns(h,m);var n=this.g.Ja();n.Cv();for(const p of n.Nb)p.rD();if(n=this.g.L)"off"!==n.bs()&&this.g.s0(h,
m),n.Kc(n.Hi,n.Gi,!0),this.g.aa()}},Nia(h){const m=this.g.L;m&&"off"!==m.bs()&&(m.PL(0!==h?"high":"low"),m.Kc(m.Hi,m.Gi,!0))},yn(h){this.g.I_(h)},sfa(h){this.g.xY(h)},tfa(h){this.g.xC(h)},Pia(){},Xha(){for(const h of this.g.Wa.Vh)h.y_()},mja(h){this.g.v0(0!==h)},$L(h){this.g.$L(h)},wja(h,m){if(h){var n=h.R().ia(),p=this.g.Ja(),r=h.Va;h=h.Ng;for(let x=0,w=n.length;x<w;++x){var v=n[x];const u=v.m();if(!u)continue;let t;t=r?v.ie(m+v.H().EB(h)):v.ie(m);f.push([u.ea().Da(),u.Yi()]);c.push([v,t])}if(f.length){f.sort(a);
c.sort(b);m=!1;for(let x=0,w=f.length;x<w;++x)n=c[x][0],r=p.lw(f[x][0]),h=f[x][1],v=r.F,v[h]!==n&&(v[h]=n,n.m().gt(r),r.Uf(),m=!0);m&&this.g.aa();d.D(f);d.D(c)}}},Ida(h){if(!this.g.vj){var m=this.g.Wa;m.pp()||m.Gv(h)}},Jda(h){if(!this.g.vj){var m=this.g.Wa;m.pp()||(h=m.gp(h))&&m.Gv(h)}},KY(h){if(!this.g.vj){var m=this.g.Wa;if(!m.pp()){var n=m.Vh,p=n.indexOf(m.Fb());h&&0===p||(h||p!==n.length-1)&&m.Gv(n[p+(h?-1:1)])}}},Yha(){if(!this.g.vj){var h=this.g.Wa;h.pp()||(h.Gv(h.Fb()),this.g.ga().v_())}},
cja(h,m){h&&h.Tf(m)},Xia(h,m){h&&h.nk(m/100)},Zia(h,m){h&&h.aM(m)},$ia(h,m){h&&h.x0(m)},Ria(h,m){h&&h.vd(d.qb(+m))},aja(h,m,n){h&&(h.Fs(!0),h.Hh(m),h.Ih(n))},Zha(h){h&&h.Fs(!1)},Yia(h,m,n){h&&h.t0(m/100,n/100)},dja(h,m){h&&h.Ne(+m)},Sia(h,m){h&&(k.Ar(m),k.fa(),h=h.wk,h.hl(k)||(h.Jj(k),this.aa()))},bja(h,m){h&&h.I0(m)},Tia(h,m){h&&h.qf(m)},Uia(h,m,n){h&&(h=h.Na,n=h.Tj(n))&&(m=1===m,n.xb!==m&&(n.Zw(m),h.Vl(),this.g.aa()))},Via(h,m,n,p){if(h&&(h=h.Na,m=h.Tj(m))&&(h=h.Kf(m.Da()),n=Math.floor(n),!(0>n||
n>=h.length))){var r=m.eb.pw(n);if("color"===r){k.Ar(p);n=h[n];if(k.hl(n))return;n.Jj(k)}else{"percent"===r&&(p/=100);if(h[n]===p)return;h[n]=p}m.xb&&this.g.aa()}},Wia(h,m){h&&h.h0(m)},hja(h){this.g.Ja().$C(+h)},eja(h){this.g.Ja().vd(d.qb(+h))},fja(h,m){const n=this.g.Ja().Na;if(m=n.Tj(m))h=1===h,m.xb!==h&&(m.Zw(h),n.Vl(),this.g.aa())},gja(h,m,n){var p=this.g.Ja().Na;if(h=p.Tj(h))if(p=p.Kf(h.Da()),m=Math.floor(m),!(0>m||m>=p.length)){var r=h.eb.pw(m);if("color"===r){k.Ar(n);m=p[m];if(k.hl(m))return;
m.Jj(k)}else{"percent"===r&&(n/=100);if(p[m]===n)return;p[m]=n}h.xb&&this.g.aa()}},ija(h,m){this.g.Ja().L0(h/100,m/100)},sia(h){this.g.Ja().Hh(h)},tia(h){this.g.Ja().Ih(h)},qia(h,m){const n=this.g.Ja();n.Hh(h);n.Ih(m)},ria(h){if(h&&(h=h.KJ())&&(h=h.m())){var m=this.g.Ja();m.Hh(h.na());m.Ih(h.oa())}},async zY(h){const m=this.g.Fb();m&&h&&!this.g.vj&&await this.VD(m,h.Va?h.Yn:[h])},async rfa(h){await d.C.La.uc.zY.call(this,this.g.NB(h))},fka(h){const m=this.g.Fb();m&&h&&this.MO(m,h.Va?h.Yn:[h])},n1(h){d.C.La.uc.n1.call(this,
this.g.NB(h))},gka(){const h=this.g.Fb();if(h){var m=h.q4();this.MO(h,m)}},async pfa(h){const m=this.g.Fb();h&&m&&!this.g.vj&&await this.VD(m,h.qN())},async qfa(h){const m=this.g.Fb();(h=this.g.Wa.gp(h))&&m&&!this.g.vj&&await this.VD(m,h.qN())},Es(h){const m=this.xd.AV();if(m)switch(m.zP){case 1:"number"===typeof h&&m.Es(h);break;case 2:"string"===typeof h&&m.Es(h);break;case 3:m.Es(h)}},yfa(h,m,n){var p=this.Bx(h.toLowerCase(),!0);const r=p.OA,v=m.toLowerCase();r.has(v)&&console.warn(`[Construct 3] Function map '${h}' string '${m}' already in map; overwriting entry`);
(p=d.first(r.values())||p.Lm)&&0!==p.Wk!==(0!==n.Wk)?console.error(`[Construct 3] Function map '${h}' string '${m}' function return type not compatible with other functions in the map; entry ignored`):r.set(v,n)},zfa(h,m){const n=this.Bx(h.toLowerCase(),!0);n.Lm&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=d.first(n.OA.values())||n.Lm;p&&0!==p.Wk!==(0!==m.Wk)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):
n.Lm=m},jca(h,m,n){n=Math.floor(n);var p=this.Bx(h.toLowerCase(),!1);if(p){var r=p.OA.get(m.toLowerCase());if(!r)if(p.Lm)r=p.Lm,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${m}'; call ignored (consider setting a default)`);return}if(r.qn())if(0!==r.Wk)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${m}' has a return type so cannot be called`);else{h=this.g;m=h.ga();var v=m.ub();p=v.fd();var x=0<p.length;x&&m.Pf(p);
var w=[];if(v=m.rB(v)){v=v.ag;for(let u=n,t=v.length;u<t;++u)w.push(v[u].xa())}n=r.ag;for(let u=w.length,t=n.length;u<t;++u)w.push(n[u].fo);return h.Ud?this.N2(m,r,w,x,p):this.n3(m,r,w,x,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.C.La.wc={daa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},qla:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},ol(a){return a.toString()},ur(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.wp()*a:this.g.wp()*(b-a)+a},z$(...a){return a[Math.floor(this.g.wp()*a.length)]},Qma(){return Math.PI},Vla(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},qna(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.qb(a))},cos(a){return Math.cos(d.qb(a))},tan(a){return Math.tan(d.qb(a))},asin(a){return d.ih(Math.asin(a))},acos(a){return d.ih(Math.acos(a))},atan(a){return d.ih(Math.atan(a))},exp(a){return Math.exp(a)},qaa(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b>e&&(b=e)}return b},fa(a,b,f){return d.fa(a,b,f)},dv(a,b,f,c){return d.jr(a,b,f,c)},angle(a,b,f,c){return d.ih(d.KH(a,b,f,c))},Ld(a,b,f){return d.Ld(a,b,f)},PA(a,b,f){return d.PA(a,b,f)},IA(a,b,f,c){return d.IA(a,b,f,c)},DR(a,b,f,c,e){return d.DR(a,
b,f,c,e)},CR(a,b,f){return d.CR(a,b,f)},Kka(a,b){return d.ih(d.gr(d.qb(a),d.qb(b)))},Lka(a,b,f){return d.ih(d.IH(d.qb(a),d.qb(b),f))},Mka(a,b,f){return d.ih(d.JH(d.qb(a),d.qb(b),d.qb(f)))},Cna(a,b,f){b|=0;return(a|0)&~(1<<b)|(0!==f?1:0)<<b},Mna(a,b){return(a|0)^1<<(b|0)},Pla(a,b){return(a|0)&1<<(b|0)?1:0},Dma(){return"\n"},jba(a){return"string"===typeof a?a.toUpperCase():""},vma(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,f){return"string"!==
typeof a?"":0>f?a.substr(b):a.substr(b,f)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},aba(a,b,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},bba(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Pr(b),"i")):-1},pla(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.Pr(b),"")):-1},replace(a,b,f){return"string"===typeof a&&"string"===typeof b&&"string"===typeof f?a.replace(new RegExp(d.Pr(b),"gi"),f):"string"===typeof a?a:""},bna(a,b,f){b=this.qw(b,f);return a?a.search(b):-1},ana(a,b,f,c){b=this.qw(b,f);return a?a.replace(b,c):""},$ma(a,b,f){return(a=this.WJ(a.toString(),b,f))?a.length:0},Zma(a,b,f,c){c=Math.floor(c);a=this.WJ(a.toString(),b,f);return!a||0>c||c>=a.length?"":a[c]},doa(a,b){let f=0>a?"-":"";0>a&&(a=-a);f+="0".repeat(Math.max(b-
a.toString().length,0));return f+a.toString()},Sna(a){return encodeURIComponent(a)},Rna(a){return decodeURIComponent(a)},HR(){return this.g.uy},Kna(){return this.g.Zd},aoa(){return(Date.now()-this.g.ym)/1E3},Pna(){return Date.now()},time(){return this.g.ug()},Jna(){return this.g.Aj},Hma(){return this.g.EG},tla(){return this.g.Iy},Zka(){return this.g.Az},Qla(){return this.g.kw()},coa(){return this.g.L.Zf},boa(){return this.g.L.Yf},Mma(){return this.g.eg},Lma(){return this.g.dg},Kma(){return this.g.eg},
Jma(){return this.g.dg},tna(){return this.g.Ja().jf()},una(){return this.g.Ja().kf()},pma(){return this.g.Ja().Y},qma(){return this.g.Ja().Ec},nma(){return d.ih(this.g.Ja().Ha())},rma(){return this.g.Ja().ca()},oma(){return this.g.Ja().ba()},Xna(a){return(a=this.g.Ja().ea(a))?a.rd.N:0},Zna(a){return(a=this.g.Ja().ea(a))?a.rd.M:0},Yna(a){return(a=this.g.Ja().ea(a))?a.rd.Z:0},Vna(a){return(a=this.g.Ja().ea(a))?a.rd.T:0},$na(a){return(a=this.g.Ja().ea(a))?a.rd.width():0},Wna(a){return(a=this.g.Ja().ea(a))?
a.rd.height():0},Uka(a,b,f){return(a=this.g.Ja().ea(a))?a.sl(b,f)[0]:0},Vka(a,b,f){return(a=this.g.Ja().ea(a))?a.sl(b,f)[1]:0},kma(a,b,f){return(a=this.g.Ja().ea(a))?a.tn(b,f)[0]:0},lma(a,b,f){return(a=this.g.Ja().ea(a))?a.tn(b,f)[1]:0},gma(a){return(a=this.g.Ja().ea(a))?a.Ec:0},bma(a){return(a=this.g.Ja().ea(a))?d.ih(a.Rd):0},dma(a){return(a=this.g.Ja().ea(a))?100*a.Je():0},hma(a){return(a=this.g.Ja().ea(a))?a.yi:0},ima(a){return(a=this.g.Ja().ea(a))?a.jf():0},jma(a){return(a=this.g.Ja().ea(a))?
a.kf():0},ema(a){return(a=this.g.Ja().ea(a))?100*a.ue:0},fma(a){return(a=this.g.Ja().ea(a))?100*a.ve:0},mma(a){return(a=this.g.Ja().ea(a))?a.bb():0},cma(a){return(a=this.g.Ja().ea(a))?a.Da():-1},Tka(){const a=this.g.L;return a?a.dH:""},saa(a){const b=this.Ve;return b.zK()?a?(a=b.jV(a))?a.Da():0:b.cp().Da():0},rna(){return this.g.so},Ska(a,b,...f){var c=this.Bx(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var e=c.OA.get(b.toLowerCase());
if(!e)if(c.Lm)e=c.Lm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Wk;const k=e.cs();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.qn())return k;a=this.g.ga();b=a.ub().fd();const h=0<b.length;h&&a.Pf(b);const m=e.ag;for(let n=f.length,p=m.length;n<p;++n)f.push(m[n].fo);
e=e.he();f=e.NC(e.fd(),c,k,...f);h&&a.Bb(b);return f},uma(){return this.g.Mc.pz},Tla(){return 0===this.co?1:this.Nt/this.co},De(){return this.g.mp()?"webgpu":"webgl"},ena(){return this.g.mp()?"<unavailable>":this.g.ck().$q},Ula(){let a=this.g.Gb().EV();return Math.round(100*a/1048576)/100},fna(a,b,f){return d.OZ(a,b,f)},ina(a,b,f){return d.hL(a/100,b/100,f/100)},gna(a,b,f,c){return d.Uw(a/100,b/100,f/100,c/100)},jna(a,b,f){return d.hL(a/255,b/255,f/255)},hna(a,b,f,c){return d.Uw(a/255,b/255,f/255,
c/255)},Caa(){return this.g.Nz},Daa(){return this.g.NQ},dla(){return this.g.ub().Cc.Y},cla(){return this.g.ub().gq}}}{"use strict";const d=self.B;d.C.Touch=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B,a=self.lh;d.C.Touch.Ul=class extends d.Ap{constructor(f){super(f)}j(){super.j()}jd(){}$j(){return self.gX}};let b=null;self.gX=class extends self.eC{constructor(f){super(f);b=f;f.G().yt.FI=this}requestPermission(f){a.le(f);const c=b.Vi().qa;if("orientation"===f)return c.cE(0);if("motion"===f)return c.cE(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.C.Touch.Instance=class extends d.zp{constructor(a,b){super(a,"touch");this.Pc=new Map;this.dz=this.oR=!1;this.Ly=this.Kg=this.Jg=this.qH=this.lA=this.Xq=this.yE=this.xE=this.wE=this.BE=this.AE=this.zE=this.HG=this.GG=this.FG=this.Fz=0;this.Hz=[];b&&(this.oR=b[0]);this.VA("permission-result",f=>this.X5(f));a=this.G().Eb();this.qe=new d.Nv(d.dd.fe(a,"pointerdown",f=>this.Y5(f.data)),d.dd.fe(a,"pointermove",f=>this.Z5(f.data)),d.dd.fe(a,"pointerup",f=>this.ZN(f.data,!1)),
d.dd.fe(a,"pointercancel",f=>this.ZN(f.data,!0)),d.dd.fe(a,"deviceorientation",f=>this.I5(f.data)),d.dd.fe(a,"deviceorientationabsolute",f=>this.J5(f.data)),d.dd.fe(a,"devicemotion",f=>this.H5(f.data)),d.dd.fe(a,"tick2",()=>this.aE()))}j(){this.Pc.clear();super.j()}Y5(a){if("mouse"===a.pointerType)if(this.oR)this.dz=!0;else return;const b=a.pointerId;if(!this.Pc.has(b)){var f=a.pageX-this.g.Yr();a=a.pageY-this.g.Zr();var c=performance.now(),e=this.Pc.size;this.Xq=e;this.lA=b;var k=d.A(d.C.Touch.h1);
k.Bl(c,f,a,b,e);this.Pc.set(b,k);this.pa(d.C.Touch.I.rZ);this.pa(d.C.Touch.I.HZ);this.Jg=f;this.Kg=a;this.pa(d.C.Touch.I.GZ)}}Z5(a){if("mouse"!==a.pointerType||this.dz){var b=this.Pc.get(a.pointerId);if(b){var f=performance.now();2>f-b.Ca()||b.pk(f,a.pageX-this.g.Yr(),a.pageY-this.g.Zr(),a.width,a.height,a.pressure)}}}ZN(a,b){if("mouse"===a.pointerType)if(this.dz)this.dz=!1;else return;const f=performance.now();a=a.pointerId;const c=this.Pc.get(a);c&&(this.Xq=c.jg,this.lA=c.Ni(),this.pa(d.C.Touch.I.qZ),
this.pa(d.C.Touch.I.FZ),b||(b=c.S0(f),"single-tap"===b?(this.pa(d.C.Touch.I.EZ),this.Jg=c.na(),this.Kg=c.oa(),this.pa(d.C.Touch.I.dL)):"double-tap"===b&&(this.pa(d.C.Touch.I.dZ),this.Jg=c.na(),this.Kg=c.oa(),this.pa(d.C.Touch.I.WK))),c.j(),this.Pc.delete(a))}cE(a){this.ij("request-permission",{type:a});return new Promise((b,f)=>{this.Hz.push({type:a,resolve:b,reject:f})})}X5(a){const b=a.result,f=a.type;this.qH=f;a=this.Hz.filter(c=>c.type===f);for(const c of a)c.resolve(b?"granted":"denied");this.Hz=
this.Hz.filter(c=>c.type!==f);b?(this.pa(d.C.Touch.I.yZ),0===f?this.g.xp():this.g.Ll()):this.pa(d.C.Touch.I.xZ)}I5(a){"number"===typeof a.webkitCompassHeading?this.Fz=a.webkitCompassHeading:a.absolute&&(this.Fz=a.alpha);this.FG=a.alpha;this.GG=a.beta;this.HG=a.gamma}J5(a){this.Fz=a.alpha}H5(a){const b=a.acceleration;b&&(this.zE=b.x,this.AE=b.y,this.BE=b.z);if(a=a.accelerationIncludingGravity)this.wE=a.x,this.xE=a.y,this.yE=a.z}aE(){const a=performance.now();let b=0;for(const f of this.Pc.values())f.Ca()<=
a-50&&f.W7(a),f.R0(a)&&(this.Xq=f.jg,this.lA=f.Ni(),this.Ly=b,this.pa(d.C.Touch.I.gZ),this.Jg=f.na(),this.Kg=f.oa(),this.pa(d.C.Touch.I.hZ),this.Ly=0),++b}Qh(a){a=Math.floor(a);for(const b of this.Pc.values()){if(0===a)return b;--a}return null}Ys(a,b){return 0<=a&&0<=b&&a<this.g.xV()&&b<this.g.wV()}}}
{"use strict";const d=self.B,a=[];d.C.Touch.I={HZ(){return!0},FZ(){return!0},wea(){return 0<this.Pc.size},GZ(b){return b&&this.Ys(this.Jg,this.Kg)?this.g.Zh.jx(b,this.Jg,this.Kg):!1},iY(b){if(!b)return!1;const f=b.R();var c=f.ia();for(const e of c){c=e.m();const k=c.ea();for(const h of this.Pc.values()){if(!this.Ys(h.na(),h.oa()))continue;const [m,n]=k.sl(h.na(),h.oa(),c.xg());if(c.Mr(m,n)){a.push(e);break}}}return a.length?(f.As(a),b.Pb(),d.D(a),!0):!1},Gca(b,f,c){return(b=this.Qh(b))?d.compare(b.ak(),
f,c):!1},jga(){return!0},Dfa(){return!0},Dca(b,f,c){this.g.xp();return d.compare(0===b?this.FG:1===b?this.GG:this.HG,f,c)},vca(b,f,c){this.g.Ll();return d.compare(0===b?this.wE:1===b?this.xE:2===b?this.yE:3===b?this.zE:4===b?this.AE:this.BE,f,c)},rZ(b){b=Math.floor(b);return b===this.Xq},qZ(b){b=Math.floor(b);return b===this.Xq},Oda(b){b=Math.floor(b);return this.Pc.size>=b+1},gZ(){return!0},EZ(){return!0},dZ(){return!0},hZ(b){return b&&this.Ys(this.Jg,this.Kg)?this.g.Zh.jx(b,this.Jg,this.Kg):!1},
dL(b){return b&&this.Ys(this.Jg,this.Kg)?this.g.Zh.jx(b,this.Jg,this.Kg):!1},WK(b){return b&&this.Ys(this.Jg,this.Kg)?this.g.Zh.jx(b,this.Jg,this.Kg):!1},yZ(b){return this.qH===b},xZ(b){return this.qH===b}}}"use strict";self.B.C.Touch.uc={kha(d){this.cE(d)}};
{"use strict";const d=self.B;d.C.Touch.wc={Xja(){return this.Pc.size},AM(a){const b=this.Qh(this.Ly);return b?b.kp(this.g.Ja(),a,!0):0},M1(a){const b=this.Qh(this.Ly);return b?b.kp(this.g.Ja(),a,!1):0},yka(a,b){return(a=this.Qh(a))?a.kp(this.g.Ja(),b,!0):0},Aka(a,b){return(a=this.Qh(a))?a.kp(this.g.Ja(),b,!1):0},zka(a,b){return(a=this.Pc.get(a))?a.kp(this.g.Ja(),b,!0):0},Bka(a,b){return(a=this.Pc.get(a))?a.kp(this.g.Ja(),b,!1):0},oba(){const a=this.Qh(0);return a?a.na():0},rba(){const a=this.Qh(0);
return a?a.oa():0},pba(a){return(a=this.Qh(a))?a.na():0},sba(a){return(a=this.Qh(a))?a.oa():0},qba(a){return(a=this.Pc.get(a))?a.na():0},tba(a){return(a=this.Pc.get(a))?a.oa():0},yja(a){return(a=this.Qh(a))?a.ak():0},zja(a){return(a=this.Pc.get(a))?a.ak():0},Jba(a){return(a=this.Qh(a))?d.ih(a.Ha()):0},Kba(a){return(a=this.Pc.get(a))?d.ih(a.Ha()):0},Nca(){this.g.xp();return this.Fz},Hba(){this.g.xp();return this.FG},Yba(){this.g.xp();return this.GG},zda(){this.g.xp();return this.HG},vba(){this.g.Ll();
return this.wE},xba(){this.g.Ll();return this.xE},zba(){this.g.Ll();return this.yE},uba(){this.g.Ll();return this.zE},wba(){this.g.Ll();return this.AE},yba(){this.g.Ll();return this.BE},Zja(){return this.Xq},Yja(){return this.lA},xka(a){return(a=this.Pc.get(a))?a.ca():0},Rda(a){return(a=this.Pc.get(a))?a.ba():0},Nga(a){return(a=this.Pc.get(a))?a.MQ:0}}}
{"use strict";const d=self.B;let a=-1E3,b=-1E3,f=-1E4;d.C.Touch.h1=class extends d.da{constructor(){super();this.MQ=this.P=this.S=this.vz=this.uz=this.K=this.O=this.cA=this.bA=this.sz=this.sc=this.ym=this.jg=this.LQ=0;this.jz=this.FF=!1}j(){}Bl(c,e,k,h,m){this.LQ=h;this.jg=m;this.ym=this.sz=this.sc=c;this.bA=e;this.cA=k;this.O=e;this.K=k;this.uz=e;this.vz=k}pk(c,e,k,h,m,n){this.sz=this.sc;this.sc=c;this.uz=this.O;this.vz=this.K;this.O=e;this.K=k;this.S=h;this.P=m;this.MQ=n;!this.jz&&15<=d.jr(this.bA,
this.cA,this.O,this.K)&&(this.jz=!0)}Ni(){return this.LQ}Ca(){return this.sc}W7(c){this.sz=c}na(){return this.O}oa(){return this.K}ak(){const c=d.jr(this.O,this.K,this.uz,this.vz),e=(this.sc-this.sz)/1E3;return 0<e?c/e:0}Ha(){return d.KH(this.uz,this.vz,this.O,this.K)}ca(){return this.S}ba(){return this.P}R0(c){return this.FF?!1:500<=c-this.ym&&!this.jz&&15>d.jr(this.bA,this.cA,this.O,this.K)?this.FF=!0:!1}S0(c){if(this.FF)return"";if(333>=c-this.ym&&!this.jz&&15>d.jr(this.bA,this.cA,this.O,this.K)){if(666>=
c-f&&25>d.jr(a,b,this.O,this.K))return b=a=-1E3,f=-1E4,"double-tap";a=this.O;b=this.K;f=c;return"single-tap"}return""}kp(c,e,k){return"undefined"===typeof e?c.lw(0).eT(this.O,this.K)[k?0:1]:(c=c.ea(e))?c.sl(this.O,this.K)[k?0:1]:0}}}{"use strict";const d=self.B;d.C.Tc=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.C.Tc.Ul=class extends d.Ap{constructor(a){super(a)}j(){super.j()}jd(){}}}
{"use strict";const d=self.B;d.C.Tc.Instance=class extends d.zp{constructor(a){super(a,"browser");this.tj="";this.Vt=!1;this.lP=this.QQ="";this.WP=!1;this.$u=this.Mo=this.zu=this.Au=0;this.Xt=!1;this.JI([["online-state",b=>this.W5(b)],["backbutton",()=>this.G5()],["sw-message",b=>this.c6(b)],["hashchange",b=>this.O5(b)]]);a=this.G().Eb();this.qe=new d.Nv(d.dd.fe(a,"afterfirstlayoutstart",()=>this.F5()),d.dd.fe(a,"window-resize",()=>this.dt()),d.dd.fe(a,"suspend",()=>this.d6()),d.dd.fe(a,"resume",
()=>this.b6()));this.g.MI(this.jL({exportType:this.g.re}).then(b=>{this.tj=b.location;this.Vt=b.isOnline;this.QQ=b.referrer;this.lP=b.title;this.WP=b.isCookieEnabled;this.Au=b.screenWidth;this.zu=b.screenHeight;this.Mo=b.windowOuterWidth;this.$u=b.windowOuterHeight;this.Xt=b.isScirraArcade}))}j(){super.j()}F5(){this.Ag("ready-for-sw-messages")}async W5(a){a=!!a.isOnline;this.Vt!==a&&((this.Vt=a)?await this.Lc(d.C.Tc.I.uZ):await this.Lc(d.C.Tc.I.sZ))}async dt(){await this.Lc(d.C.Tc.I.zZ)}d6(){this.pa(d.C.Tc.I.vZ)}b6(){this.pa(d.C.Tc.I.wZ)}async G5(){await this.Lc(d.C.Tc.I.$Y)}c6(a){a=
a.type;"downloading-update"===a?this.pa(d.C.Tc.I.JZ):"update-ready"===a||"update-pending"===a?this.pa(d.C.Tc.I.KZ):"offline-ready"===a&&this.pa(d.C.Tc.I.tZ)}O5(a){this.tj=a.location;this.pa(d.C.Tc.I.fZ)}}}"use strict";
self.B.C.Tc.I={Tea(){return this.Vt},uZ(){return!0},sZ(){return!0},zZ(){return!0},Tca(){return this.WP},vea(){return this.g.L.ko},$Y(){return!0},Xea(d){return(this.g.L.Hi<=this.g.L.Gi?0:1)===d},JZ(){return!0},KZ(){return!0},tZ(){return!0},fZ(){return!0},lga(){return!this.g.Gl()},vZ(){return!0},wZ(){return!0},Nda(){return!1},rea(){return!1},Zfa(){return!1},$fa(){return!1},Eea(){return!1},jea(){return!0},Qja(){return!0}};
{"use strict";const d=self.B,a="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.Tc.uc={Gba(b){this.Ag("alert",{message:b.toString()})},sca(){this.Xt||(this.g.lb?self.Hf.tca():this.Ag("close"))},tda(){this.Ag("set-focus",{isFocus:!0})},bca(){this.Ag("set-focus",{isFocus:!1})},Fda(){this.Xt||this.Ag("navigate",{type:"back"})},Gda(){this.Xt||this.Ag("navigate",{type:"forward"})},Hda(){},aha(){this.Xt||(this.g.lb?this.g.VZ():this.Ag("navigate",
{type:"reload"}))},Kda(b,f){this.ij("navigate",{type:"url",url:b,target:f,exportType:this.g.re})},Lda(b,f){this.ij("navigate",{type:"new-window",url:b,tag:f,exportType:this.g.re})},iha(b,f){2<=b&&(b+=1);6===b&&(b=2);1===b&&(b=0);b=d.eB.hN(b);this.g.L.Z_(b);this.ij("request-fullscreen",{navUI:f})},kca(){this.ij("exit-fullscreen")},nka(b){b=b.split(",");for(let f=0,c=b.length;f<c;++f)b[f]=parseInt(b[f],10);this.ij("vibrate",{pattern:b})},async hC(b,f){b&&f&&(b=await this.g.Mc.QB(b),this.g.hC(b,f))},
eea(b,f,c){c&&(b=`data:${f},${encodeURIComponent(b)}`,this.g.hC(b,c))},Sca(b,f){f=f.toString();0===b?console.log(f):1===b?console.warn(f):2===b&&console.error(f)},Qca(b){console.group(b)},Rca(){console.groupEnd()},mda(b){try{eval(b)}catch(f){console.error("Error executing JavaScript: ",f)}},wfa(b){b=Math.floor(b);0>b||b>=a.length||this.ij("lock-orientation",{orientation:a[b]})},hka(){this.ij("unlock-orientation")},LK(b){this.g.Mc.LK(b)},Qia(b){this.Ag("set-hash",{hash:b})}}}"use strict";
self.B.C.Tc.wc={URL(){return this.g.Vd?this.tj:location.toString()},Sga(){return this.g.Vd?(new URL(this.tj)).protocol:location.protocol},bda(){return this.g.Vd?(new URL(this.tj)).hostname:location.hostname},Mga(){return this.g.Vd?(new URL(this.tj)).port:location.port},nga(){return this.g.Vd?(new URL(this.tj)).pathname:location.pathname},Pda(){return this.g.Vd?(new URL(this.tj)).hash:location.hash},DC(){return this.g.Vd?(new URL(this.tj)).search:location.search},Uga(d){const a=this.g.Vd?(new URL(this.tj)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(a))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Yga(){return this.QQ},Sja(){return this.lP},hfa(){return navigator.language},Hb(){return navigator.platform},kka(){return navigator.userAgent},lda(d){let a=0;try{a=eval(d)}catch(b){console.error("Error executing JavaScript: ",b)}return"number"===typeof a||"string"===typeof a?a:"boolean"===typeof a?a?1:0:0},Kfa(){return navigator.appName},mka(){return navigator.appVersion},Pga(){return navigator.product},
lka(){return navigator.vendor},Wba(){return 1},Xba(){return Infinity},Vba(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},XT(){return self.devicePixelRatio},L_(){return this.Au},K_(){return this.zu},G1(){return this.g.L.Hi},F1(){return this.g.L.Gi},I1(){return this.Mo},H1(){return this.Mo}};{"use strict";const d=self.B;d.C.Text=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B;d.C.Text.Ul=class extends d.Ap{constructor(a){super(a)}j(){super.j()}jd(){}sp(){}wn(){}}}
{"use strict";const d=self.B,a=self.lh,b=[0,0,0],f=["left","center","right"],c=["top","center","bottom"],e=new d.Rect,k=new d.Ed;new d.Xa;d.C.Text.Instance=class extends d.PC{constructor(n,p){super(n);this.Oc="";this.Ck=!0;this.hi="Arial";this.zj=12;this.Rg=0;this.Se=this.Re=!1;this.$a=d.A(d.Xa);this.Ce=this.Pe=0;this.Hj=!0;this.Cj=this.Yq=-1;this.Su=0;this.Dc=d.A(d.U.IC,this.g.Gb(),{timeout:5});this.Dc.FA=()=>this.g.aa();this.Dc.UL();p&&(this.Oc=p[0],this.Ck=!!p[1],this.hi=p[2],this.zj=p[3],this.Rg=
p[4],this.Re=!!p[5],this.Se=!!p[6],this.Pe=p[8],this.Ce=p[9],this.Hj=0===p[10],n=p[7],this.$a.Br(n[0],n[1],n[2]),this.m().Tf(p[11]));this.Qd()}j(){this.Wl();this.Dc.j();this.Dc=null;super.j()}Qd(){const n=this.Dc;n.Ms(this.Oc);n.R_(this.Ck);n.VC(this.hi);n.YL(this.Rg);n.HL(this.Re);n.WL(this.Se);n.Nl(this.$a);n.RL(f[this.Pe]);n.gM(c[this.Ce]);n.N0(this.Hj?"word":"character")}vE(){const n=this.m();this.Dc.dx(this.zj);this.Dc.g0(n.vW());var p=n.ea();p=p.Zj()*p.zJ(n.xg());this.Dc.Kc(n.ca(),n.ba(),p)}ff(n){var p=
this.m();this.vE();const r=this.Dc.Md();if(r){var v=p.ea();if(0===p.Ha()&&0===v.Ha()&&0===p.xg()&&!p.mf()&&v.s_()){p=p.Mi();const [x,w]=v.aj(p.zb,p.Ab),[u,t]=v.aj(p.cc,p.dc);p=x-Math.round(x);const A=w-Math.round(w);e.set(x,w,u,t);e.offset(-p,-A);k.nl(e);const [z,E]=n.XJ(n.hs());this.g.L.TC(n,z,E);n.sf(r);n.Jl(k,this.Dc.Xi());v.pE(n)}else n.sf(r),p.mf()?this.KD(p,n):this.LD(p,n)}}LD(n,p){n=n.Mi();this.g.Ik&&(n=this.bO(n));p.Jl(n,this.Dc.Xi())}KD(n,p){const r=n.hK();if(n.CK()){n.Ev(e,k,!1);let v=k;
this.g.Ik&&(v=this.bO(v));r.XI(n.Wi(),v,this.Dc.Xi());n.YC(!1)}r.ff(p)}bO(n){const p=n.zb-Math.round(n.zb),r=n.Ab-Math.round(n.Ab);if(0===p&&0===r)return n;k.Aa(n);k.offset(-p,-r);return k}ud(){const n={t:this.Oc,c:this.$a.toJSON(),fn:this.hi,ps:this.zj};this.Ck&&(n.bbc=this.Ck);0!==this.Pe&&(n.ha=this.Pe);0!==this.Ce&&(n.va=this.Ce);this.Hj||(n.wr=this.Hj);0!==this.Rg&&(n.lho=this.Rg);this.Re&&(n.b=this.Re);this.Se&&(n.i=this.Se);-1!==this.Cj&&(n.tw={st:this.Yq,en:this.Cj,l:this.Su});return n}hd(n){this.Wl();
this.Oc=n.t;this.$a.ml(n.c);this.hi=n.fn;this.zj=n.ps;this.Ck=n.hasOwnProperty("bbc")?n.bbc:!1;this.Pe=n.hasOwnProperty("ha")?n.ha:0;this.Ce=n.hasOwnProperty("va")?n.va:0;this.Hj=n.hasOwnProperty("wr")?n.wr:!0;this.Rg=n.hasOwnProperty("lho")?n.lho:0;this.Re=n.hasOwnProperty("b")?n.b:!1;this.Se=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Yq=n.st,this.Cj=n.en,this.Su=n.l);this.Qd();-1!==this.Cj&&this.$l()}yc(n){switch(n){case 0:return this.Oc;case 1:return this.Ck;case 2:return this.hi;
case 3:return this.zj;case 4:return this.Rg;case 5:return this.Re;case 6:return this.Se;case 7:return b[0]=this.$a.Ra,b[1]=this.$a.Ua,b[2]=this.$a.Ta,b;case 8:return this.Pe;case 9:return this.Ce;case 10:return this.Hj?1:0}}Gh(n,p){switch(n){case 0:if(this.Oc===p)break;this.Oc=p;this.Qd();break;case 1:if(this.Ck===!!p)break;this.Ck=!!p;this.Qd();break;case 2:if(this.hi===p)break;this.hi=p;this.Qd();break;case 3:if(this.zj===p)break;this.zj=p;this.Qd();break;case 4:if(this.Rg===p)break;this.Rg=p;this.Qd();
break;case 5:if(this.Re===!!p)break;this.Re=!!p;this.Qd();break;case 6:if(this.Se===!!p)break;this.Se=!!p;this.Qd();break;case 7:n=this.$a;if(n.Ra===p[0]&&n.Ua===p[1]&&n.Ta===p[2])break;this.$a.Br(p[0],p[1],p[2]);this.Qd();break;case 8:if(this.Pe===p)break;this.Pe=p;this.Qd();break;case 9:if(this.Ce===p)break;this.Ce=p;this.Qd();break;case 10:this.Hj!==(0===p)&&(this.Hj=0===p,this.Qd())}}Qx(n){this.Oc!==n&&(this.Oc=n,this.Dc.Ms(n),this.g.aa())}m8(n,p){this.Qx(n);this.Yq=this.g.XB();this.Cj=this.Yq+
p/this.Ba().pV();this.Su=d.rl.lM(n).length;this.Dc.UC(0);this.$l()}Wl(){this.Cj=this.Yq=-1;this.Su=0;this.Dc.UC(-1);this.it()}K3(){-1!==this.Cj&&(this.Wl(),this.pa(d.C.Text.I.eL),this.g.aa())}K7(n){this.hi!==n&&(this.hi=n,this.Dc.VC(n),this.g.aa())}B7(n){n=!!n;this.Re!==n&&(this.Re=n,this.Dc.HL(n),this.g.aa())}U7(n){n=!!n;this.Se!==n&&(this.Se=n,this.Dc.WL(n),this.g.aa())}L7(n){this.zj!==n&&(this.zj=n,this.g.aa())}J7(n){this.$a.hl(n)||(this.$a.Jj(n),this.Dc.Nl(this.$a),this.g.aa())}zO(n){this.Rg!==
n&&(this.Rg=n,this.Qd(),this.g.aa())}O7(n){this.Pe!==n&&(this.Pe=n,this.Qd(),this.g.aa())}EO(n){this.Ce!==n&&(this.Ce=n,this.Qd(),this.g.aa())}h8(n){n=!!n;this.Hj!==n&&(this.Hj=n,this.Qd(),this.g.aa())}ne(){var n=this.g.XB();n>=this.Cj?(this.Wl(),this.pa(d.C.Text.I.eL),this.g.aa()):(n=d.Jaa(this.Yq,this.Cj,n,this.Su),n=Math.floor(n),n!==this.Dc.Un&&(this.Dc.UC(n),this.g.aa()))}$j(){return self.fX}};const h=new WeakMap,m=new Map([["top",0],["center",1],["bottom",2]]);self.fX=class extends self.Ew{constructor(){super();
h.set(this,self.qs.Vs().qa)}get text(){return h.get(this).Oc}set text(n){a.le(n);const p=h.get(this);p.Wl();p.Qx(n)}set lineHeight(n){a.kk(n);h.get(this).zO(n)}get lineHeight(){return h.get(this).Rg}set verticalAlign(n){a.le(n);n=m.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).EO(n)}get verticalAlign(){return c[h.get(this).Ce]}}}{"use strict";const d=self.B;d.C.Text.I={Eca(a,b){return b?this.Oc===a:d.Nm(this.Oc,a)},Yea(){return-1!==this.Cj},eL(){return!0}}}
{"use strict";const d=self.B,a=d.A(d.Xa);d.C.Text.uc={Ms(b){this.Wl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Qx(b.toString())},Oba(b){this.Wl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Qx(this.Oc+b)},cka(b,f){this.Wl();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.m8(b.toString(),f)},Mia(b,f){let c=!1,e=!1;switch(f){case 1:c=!0;break;case 2:e=!0;break;case 3:e=c=!0}if(b!==this.hi||c!==this.Re||e!==this.Se)this.K7(b),this.B7(c),
this.U7(e)},dx(b){this.L7(b)},Lia(b){a.Ar(b);a.fa();this.J7(a)},sja(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},$_(b){this.m().qf(b);this.g.aa()},bka(){this.K3()},YL(b){this.zO(b)},Oia(b){this.O7(b)},rja(b){this.EO(b)},tja(b){this.h8(0===b)}}}
{"use strict";const d=self.B;d.C.Text.wc={Text(){return this.Oc},Hga(){return this.Ck?d.rl.lM(this.Oc):this.Oc},nda(){return this.hi},fV(){return this.zj},d1(){this.vE();return this.Dc.yW()},Rja(){this.vE();return this.Dc.xW()},ofa(){return this.Rg}}}{"use strict";const d=self.B;d.C.ld=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B;d.C.ld.Ul=class extends d.Ap{constructor(a){super(a);this.wd=a.wd}j(){d.D(this.wd);super.j()}jd(){for(const a of this.wd)a.rY(this.g)}sp(a){const b={Ji:this.g.$c};return Promise.all(this.wd.map(f=>f.sY(a,b)))}wn(){for(const a of this.wd)a.g_()}Tw(){this.PO()}PO(){for(const a of this.J.caa())a.qa.tE()}Tr(a){d.C.ld.J3(this,a)}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=d.A(d.Ed),f=d.A(d.Ps);d.C.ld.Instance=class extends d.PC{constructor(e,k){super(e);let h=!0,m="",n=0,p=!0;k&&(h=!!k[0],m=k[1],n=k[2],p=k[3]);this.Ib=this.J.BJ(m)||this.J.wd[0];this.pb=d.fa(n,0,this.Ib.yd.length-1);this.pe=this.Ib.xl(this.pb);k=this.pe.hf();this.eq=k.Md();this.Bt=k.Xi();this.HW();e.Cs(2,!0);e.Cs(1,0<=this.Ib.ak());this.pj=Math.abs(this.Ib.ak());this.bq=this.Ib.TQ;this.ay=d.A(d.ss);this.mj=this.ji=0;this.YO="";this.xt=-1;this.Wp="";this.cP=
0;e=this.m();this.b9=e.Mi();e.Tf(h);e.Bs(p);e.Gp(this.pe.Wj());e.Hp(this.pe.Xj());e.dD(this.pe.Pn);e.Za();1===this.J.wd.length&&1===this.J.wd[0].yd.length||0===this.pj||this.$l()}j(){this.ay=this.eq=this.pe=this.Ib=null;super.j()}rh(){return this.pe.hf()}rn(){return!0}up(){this.eq=null}gL(){this.tE()}ff(e){var k=this.eq;null!==k&&(e.sf(k),k=this.m(),k.mf()?this.KD(k,e):this.LD(k,e))}LD(e,k){let h=this.b9;this.g.Ik&&(h=e.iL(h));k.Jl(h,this.Bt)}KD(e,k){const h=e.hK();if(e.CK()){e.Ev(a,b,!1);let m=b;
this.g.Ik&&(m=e.iL(m));h.XI(e.Wi(),m,this.Bt);e.YC(!1)}h.ff(k)}Wr(){return this.ay.$()}Hw(){return this.ka.IB(2)}Bp(e){this.ka.Cs(2,e)}Lw(){return this.ka.IB(1)}Hs(e){this.ka.Cs(1,e)}oC(){return this.ka.IB(4)}SL(e){this.ka.Cs(4,e)}ne(){this.Wp&&this.WM();0<=this.xt&&this.JD();const e=this.pj;if(this.Hw()&&0!==e){this.ay.vc(this.g.ds(this.ka));var k=this.Wr(),h=this.pe,m=h.nP/e;if(!(k<this.ji+m)){var n=this.Ib,p=this.bq,r=n.yd.length,v=n.yl(),x=n.cz,w=n.B9;this.Lw()?this.pb++:this.pb--;this.ji+=m;
this.pb>=r&&(w?(this.Hs(!1),this.pb=r-2):x?this.pb=p:(this.mj++,this.mj>=v?this.ND(!1):this.pb=p));0>this.pb&&(w?(this.pb=1,this.Hs(!0),x||(this.mj++,this.mj>=v&&this.ND(!0))):x?this.pb=p:(this.mj++,this.mj>=v?this.ND(!0):this.pb=p));this.pb=d.fa(this.pb,0,r-1);m=n.xl(this.pb);k>this.ji+m.nP/e&&(this.ji=k);this.Kx(h,m)}}else this.it()}ND(e){this.pb=e?0:this.Ib.yd.length-1;this.Bp(!1);this.YO=this.Ib.Y;this.SL(!0);this.pa(d.C.ld.I.YY);this.pa(d.C.ld.I.XY);this.SL(!1);this.mj=0}Kx(e,k){if(e!==k){var h=
this.m(),m=e.hf();e=k.hf();var n=m.ca();m=m.ba();var p=e.ca(),r=e.ba();n!==p&&h.Lh(h.ca()*(p/n));m!==r&&h.Fh(h.ba()*(r/m));h.Gp(k.Wj());h.Hp(k.Xj());h.dD(k.Pn);h.Za();this.pe=k;this.eq=e.Md();this.Bt=e.Xi();k=this.Ba().Nc;for(let v=0,x=k.length;v<x;++v);this.pa(d.C.ld.I.eZ);this.g.aa()}}l8(e){this.Bp(!0);this.ji=this.Wr();1===e&&0!==this.pb&&(this.xt=0,this.oC()||this.JD());this.$l()}w7(e,k){this.Wp=e;this.cP=k;this.$l();this.oC()||this.WM()}nN(){return this.Wp?this.Wp:this.Ib.Y}x7(e){isFinite(e)&&
(this.xt=e,this.oC()||this.JD())}z7(e){this.pj=Math.abs(e);this.Hs(0<=e);0<this.pj&&this.$l()}jN(){return this.Lw()?this.pj:-this.pj}y7(e){this.bq=e=d.fa(Math.floor(e),0,this.Ib.yd.length-1)}WM(){const e=this.pe;var k=this.J.BJ(this.Wp);this.Wp="";!k||k===this.Ib&&this.Hw()||(this.Ib=k,this.Hs(0<=k.ak()),this.pj=Math.abs(k.ak()),this.bq=k.TQ,this.pb=d.fa(this.pb,0,this.Ib.yd.length-1),1===this.cP&&(this.pb=0),this.Bp(!0),this.ji=this.Wr(),k=this.Ib.xl(this.pb),this.Kx(e,k))}JD(){const e=this.pe;var k=
this.pb;this.pb=d.fa(Math.floor(this.xt),0,this.Ib.yd.length-1);this.xt=-1;k!==this.pb&&(k=this.Ib.xl(this.pb),this.Kx(e,k),this.ji=this.Wr())}tE(){const e=this.pe.hf();this.eq=e.Md();this.Bt=e.Xi();this.m().YC(!0)}Md(){return this.eq}Xi(){return this.Bt}KB(){return this.pe.KB()}an(e){const k=this.pe,h=this.m();if("string"===typeof e)e=k.YV(e);else if("number"===typeof e)e=k.XV(e-1);else throw new TypeError("expected string or number");if(!e)return[h.na(),h.oa()];f.Aa(e.NG);if(h.mf()){const [m,n]=
h.Wi().qM(f.O,f.K);f.set(m,n)}f.offset(-k.Wj(),-k.Xj());f.scale(h.ca(),h.ba());f.rotate(h.Ha());f.offset(h.na(),h.oa());return[f.O,f.K]}yV(){return this.m().bk().WR()}DJ(e){e=Math.floor(e);const k=this.m();var h=k.bk();const m=h.WR();e===m&&(e=0);if(0>e||e>=m)return[0,0];h=h.Ad;return[h[2*e]+k.na(),h[2*e+1]+k.oa()]}ud(){const e={a:this.Ib.cb};0!==this.ji&&(e.fs=this.ji);var k=this.Wr();0!==k&&(e.at=k);0!==this.pb&&(e.f=this.pb);0!==this.pj&&(e.cas=this.pj);1!==this.mj&&(e.ar=this.mj);0!==this.bq&&
(e.rt=this.bq);this.Hw()||(e.ap=this.Hw());this.Lw()||(e.af=this.Lw());k=this.m();k.zh()&&(e.ce=k.zh());return e}hd(e){var k=this.H().rV(e.a);k&&(this.Ib=k);this.ji=e.hasOwnProperty("fs")?e.fs:0;this.ay.Set(e.hasOwnProperty("at")?e.at:0);k=e.hasOwnProperty("f")?e.f:0;this.pb=d.fa(k,0,this.Ib.yd.length-1);this.pj=e.hasOwnProperty("cas")?e.cas:0;this.mj=e.hasOwnProperty("ar")?e.ar:1;k=e.hasOwnProperty("rt")?e.rt:0;this.bq=d.fa(k,0,this.Ib.yd.length-1);this.Bp(e.hasOwnProperty("ap")?!!e.ap:!0);this.Hs(e.hasOwnProperty("af")?
!!e.af:!0);this.pe=k=this.Ib.xl(this.pb);this.tE();const h=this.m();h.Gp(k.Wj());h.Hp(k.Xj());h.dD(k.Pn);h.Bs(!!e.ce)}yc(e){const k=this.m();switch(e){case 3:return k.zh();case 2:return d.fa(this.pb,0,this.Ib.yd.length-1)}}Gh(e,k){var h=this.m();switch(e){case 3:h.Bs(!!k);break;case 2:this.Bp(!1);e=this.Ib.yd.length-1;h=k=d.fa(k,0,e);k=this.Ib.xl(this.pb);const m=this.Ib.xl(h);this.Kx(k,m);this.pb=d.fa(h,0,e)}}$j(){return self.dX}};const c=new WeakMap;self.dX=class extends self.Ew{constructor(){super();
c.set(this,self.qs.Vs().qa)}get animationName(){return c.get(this).nN()}get imageWidth(){return c.get(this).rh().ca()}get imageHeight(){return c.get(this).rh().ba()}}}
{"use strict";const d=self.B,a=d.A(d.Rect),b=[],f=[];let c=!1,e=null,k=!1;const h=new Set;function m(v,x,w,u){x.Fc<w.Fc?v.Set(x,w,u):v.Set(w,x,u)}function n(v,x,w){x.Fc<w.Fc?v.Vm(x,w):v.Vm(w,x)}function p(v,x,w){return x.Fc<w.Fc?v.$(x,w):v.$(w,x)}function r(v,x,w,u){if(!x)return!1;v=v.Ba();const t=0!==w||0!==u,A=v.m(),z=v.G(),E=z.Zh;var G=z.gf();const I=G.he().zd;var N=G.H();G=G.pi;const O=x.R();N=N!==x;e=x;c=N&&!G;k=!1;let P=0,S=0,T=!1;O.Lb?(a.Aa(A.xc()),a.offset(w,u),E.yB(A.ea(),x,a,f),x=f):I?z.WX()&&
!O.Rb.length&&O.F.length?x=O.F:(x=O.Rb,k=!0):x=O.F;t&&(P=A.na(),S=A.oa(),A.Sw(w,u),A.Za());for(const Y of x)if(E.oD(v,Y)){T=!0;if(G)break;N&&h.add(Y)}t&&(A.Tl(P,S),A.Za());d.D(f);return T}d.C.ld.J3=function(v,x){if(c){if(x){{v=v.G().ub().zd;x=e.R();const w=x.F,u=x.Rb;x.Lb?(x.Js(h),v&&(d.D(u),x.LI(h,e.ia()))):v?k?x.i1(h):(x.LI(h,w),x.Js(h)):x.Js(h);e.Pb()}}h.clear();e=null;c=!1}};d.C.ld.I={Yfa(v){if(this.g.Ud)return d.C.ld.I.KT.call(this,v);if(!v)return!1;var x=this.g;const w=x.Zh,u=x.ga(),t=u.Jc();
var A=u.gf();const z=A.H();var E=A.Ui(),G=A.ms();A=t.He();const I=x.Aj,N=I-1,O=A.ub(),P=t.Ka(O);let S=E.get("collmemory");S||(S=d.A(d.vs),E.set("collmemory",S));G.get("spriteCreatedDestroyCallback")||(G.set("spriteCreatedDestroyCallback",!0),x.Eb().addEventListener("instancedestroy",ea=>{S.lJ(ea.instance)}));x=v.R();E=z.R().ia();G=null;for(let ea=0;ea<E.length;++ea){const W=E[ea];x.Lb?(w.yB(W.m().ea(),v,W.m().xc(),b),G=b,w.NI(W,v,G)):G=x.ia();for(let na=0;na<G.length;++na){const ja=G[na];if(w.oD(W,
ja)||w.aJ(W,ja)){var T=p(S,W,ja),Y=!1,ba=-2;"number"===typeof T&&(Y=!0,ba=T);T=!Y||ba<N;m(S,W,ja,I);T&&(T=O.ed(),u.ke(T),ba=z.R(),Y=v.R(),ba.Od(!1),Y.Od(!1),z===v?(Y=ba.F,d.D(Y),Y.push(W),Y.push(ja),z.Pb()):(ba=ba.F,Y=Y.F,d.D(ba),d.D(Y),ba.push(W),Y.push(ja),z.Pb(),v.Pb()),O.Qf(A,P),u.Bb(T))}else n(S,W,ja)}d.D(b)}t.Ia();return!1},*KT(v){if(!v)return!1;var x=this.g;const w=x.Zh,u=x.ga(),t=u.Jc(),A=t.He(),z=x.Aj,E=z-1,G=A.ub(),I=t.Ka(G);var N=u.gf();const O=N.H();var P=N.Ui();N=N.ms();let S=P.get("collmemory");
S||(S=d.A(d.vs),P.set("collmemory",S));N.get("spriteCreatedDestroyCallback")||(N.set("spriteCreatedDestroyCallback",!0),x.Eb().addEventListener("instancedestroy",ea=>{S.lJ(ea.instance)}));x=v.R();P=O.R().ia();N=null;for(let ea=0;ea<P.length;++ea){const W=P[ea];x.Lb?(w.yB(W.m().ea(),v,W.m().xc(),b),N=b,w.NI(W,v,N)):N=x.ia();for(let na=0;na<N.length;++na){const ja=N[na];if(w.oD(W,ja)||w.aJ(W,ja)){var T=p(S,W,ja),Y=!1,ba=-2;"number"===typeof T&&(Y=!0,ba=T);T=!Y||ba<E;m(S,W,ja,z);T&&(T=G.ed(),u.ke(T),
ba=O.R(),Y=v.R(),ba.Od(!1),Y.Od(!1),O===v?(Y=ba.F,d.D(Y),Y.push(W),Y.push(ja),O.Pb()):(ba=ba.F,Y=Y.F,d.D(ba),d.D(Y),ba.push(W),Y.push(ja),O.Pb(),v.Pb()),yield*G.If(A,I),u.Bb(T))}else n(S,W,ja)}d.D(b)}t.Ia();return!1},Vea(v){return r(this,v,0,0)},Wea(v,x,w){return r(this,v,x,w)},fea(v){return d.Nm(this.nN(),v)},Aca(v,x){return d.compare(this.pb,v,x)},wca(v,x){return d.compare(this.jN(),v,x)},XY(v){return d.Nm(this.YO,v)},YY(){return!0},eZ(){return!0},Fea(){return 0>this.m().ca()},tea(){return 0>this.m().ba()},
fL(){return!0},IZ(){return!0},zh(){return this.m().zh()}}}
{"use strict";const d=self.B;d.C.ld.uc={xja(a,b,f,c){if(a&&b){var [e,k]=this.an(f);if(f=this.g.kB(a,b,e,k,c)){c&&b.jD(f);a.wb().rp()&&(b=f.m(),b.vd(this.m().Ha()),b.Za());b=this.g.ga();b.de(!0);f.Tx();b.de(!1);c=this.g.$r().Ui();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.lq)b=!0,c.set("Spawn_LastExec",this.g.lq);if(a!==this.H()&&(a=a.R(),a.Od(!1),a=a.F,b&&d.D(a),a.push(f),f.Xb()))for(const h of f.od)f=h.H().R(),b?f.ej(h):(f.Od(!1),f.Gn(h))}}},a1(){this.Bp(!1)},Aja(a){this.l8(a)},
uia(a,b){this.w7(a,b)},P_(a){this.x7(a)},wia(a){this.z7(a)},via(a){this.y7(a)},kja(a){const b=this.m(),f=b.ca();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.Lh(a),b.Za())},Jia(a){const b=this.m(),f=b.ba();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.Fh(a),b.Za())},$C(a){const b=this.pe.hf(),f=this.m();var c=0>f.ca()?-1:1;const e=0>f.ba()?-1:1;c*=b.ca()*a;a=b.ba()*a*e;if(f.ca()!==c||f.ba()!==a)f.Kc(c,a),f.Za()},async ufa(a,b){const f=this.pe.hf(),c=this.m(),e=this.g;if(f.Ei===a)0===b&&(c.Kc(f.ca(),f.ba()),c.Za()),
this.pa(d.C.ld.I.fL);else{var k=d.A(d.Fw);try{await k.wY(e,a);if(!k.rC())throw Error("image failed to load");await k.ts(e.Gb(),{Ji:this.g.$c})}catch(h){console.error("Load image from URL failed: ",h);this.pa(d.C.ld.I.IZ);return}f.t_(k);this.rc.PO();this.qx()||0!==b||(c.Kc(f.ca(),f.ba()),c.Za());e.aa();this.qx()||await this.Lc(d.C.ld.I.fL)}},Cia(a){this.m().Bs(a)},cD(a,b){this.m().cD(0===a,b)},$_(a){this.m().qf(a);this.g.aa()}}}"use strict";
self.B.C.ld.wc={Lba(){return this.pb},IS(){return this.Ib.yd.length},Mba(){return this.Ib.Y},Nba(){return this.jN()},kga(){return this.Ib.ak()},Yda(d){return this.an(d)[0]},Zda(d){return this.an(d)[1]},Xda(){return this.KB()},$da(){return this.rh().ca()},Wda(){return this.rh().ba()},Jga(d){return this.DJ(d)[0]},Kga(d){return this.DJ(d)[1]},Iga(){return this.yV()}};{"use strict";const d=self.B;d.C.Keyboard=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}
{"use strict";const d=self.B;d.C.Keyboard.Ul=class extends d.Ap{constructor(a){super(a)}j(){super.j()}jd(){}$j(){return self.$W}};self.$W=class extends self.eC{constructor(a){super(a);a.G().yt.keyboard=this}}}
{"use strict";const d=self.B;d.C.Keyboard.Instance=class extends d.zp{constructor(a){super(a);this.fu=new Set;this.sq=new Set;this.Bj=0;this.Ru=this.mA="";a=this.G().Eb();this.qe=new d.Nv(d.dd.fe(a,"keydown",b=>this.T5(b.data)),d.dd.fe(a,"keyup",b=>this.U5(b.data)),d.dd.fe(a,"window-blur",()=>this.aO()),d.dd.fe(a,"keyboard-blur",()=>this.aO()))}j(){super.j()}T5(a){const b=a.which,f=a.code||b.toString();a=a.key;this.fu.has(f)||(this.fu.add(f),this.sq.add(b),this.mA=f,this.Bj=b,this.Ru=a,this.pa(d.C.Keyboard.I.ZY),
this.pa(d.C.Keyboard.I.jZ),this.pa(d.C.Keyboard.I.mZ),this.pa(d.C.Keyboard.I.kZ))}U5(a){const b=a.which,f=a.code||b.toString();a=a.key;this.fu.delete(f);this.sq.delete(b);this.mA=f;this.Bj=b;this.Ru=a;this.pa(d.C.Keyboard.I.TK);this.pa(d.C.Keyboard.I.YK);this.pa(d.C.Keyboard.I.nZ);this.pa(d.C.Keyboard.I.XK)}aO(){for(const a of this.sq)this.sq.delete(a),this.Bj=a,this.pa(d.C.Keyboard.I.TK),this.pa(d.C.Keyboard.I.YK),this.pa(d.C.Keyboard.I.XK);this.fu.clear()}ud(){return{tk:this.Bj,tkk:this.Ru}}hd(a){this.Bj=
a.tk;a.hasOwnProperty("tkk")&&(this.Ru=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.I={zea(a){return this.sq.has(a)},jZ(a){return this.Bj===a},ZY(){return!0},TK(){return!0},YK(a){return this.Bj===a},yea(a){a=Math.floor(a);return this.sq.has(a)},kZ(a){return this.Bj===a},XK(a){return this.Bj===a},mZ(a){return this.mA===d[a]},nZ(a){return this.mA===d[a]},Aea(a){return this.fu.has(d[a])}}}"use strict";
self.B.C.Keyboard.uc={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.B.C.Keyboard.wc={ifa(){return this.Bj},Eja(a){return d(a)},aka(){return this.Ru}}}{"use strict";const d=self.B;d.C.Bh=class extends d.Ml{constructor(a){super(a)}j(){super.j()}}}{"use strict";const d=self.B;d.C.Bh.Ul=class extends d.Ap{constructor(a){super(a)}j(){super.j()}jd(){}}}
{"use strict";const d=self.B;d.C.Bh.Instance=class extends d.zp{constructor(a){super(a,"platform-info");this.$u=this.Mo=this.zu=this.Au=0;this.Nq=[0,0,0,0];this.au=this.eA=!1;this.JI([["window-resize",b=>this.dt(b)],["wake-lock-acquired",()=>this.h6()],["wake-lock-error",()=>this.i6()],["wake-lock-released",()=>this.j6()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.V5());this.g.MI(this.jL().then(b=>{this.Au=b.screenWidth;this.zu=b.screenHeight;this.Mo=b.windowOuterWidth;
this.$u=b.windowOuterHeight;this.Nq=b.safeAreaInset;this.eA=b.supportsWakeLock}))}j(){super.j()}dt(a){this.Mo=a.windowOuterWidth;this.$u=a.windowOuterHeight;this.Nq=a.safeAreaInset}async V5(){await this.Lc(d.C.Bh.I.pZ)}async h6(){this.au=!0;await this.Lc(d.C.Bh.I.LZ)}async i6(){this.au=!1;await this.Lc(d.C.Bh.I.MZ)}async j6(){this.au=!1;await this.Lc(d.C.Bh.I.NZ)}}}
{"use strict";const d=self.B;d.C.Bh.I={Oea(){return d.Hb.Kw},Rea(){return"Windows"===d.Hb.zg},Nea(){return"Mac OS X"===d.Hb.zg},Mea(){return"Linux"===d.Hb.zg},Kea(){return"Chrome OS"===d.Hb.zg},Iea(){return"Android"===d.Hb.zg},Sea(){return"iOS"===d.Hb.zg},dfa(){const a=this.g.re;return"html5"===a||"scirra-arcade"===a||"preview"===a||"instant-games"===a},lea(){return this.g.sK()},Gea(){return"nwjs"===this.g.re},efa(){return"windows-uwp"===this.g.re},ffa(){return"windows-webview2"===this.g.re},Dea(){return"macos-wkwebview"===
this.g.re},pZ(){return!0},LZ(){return!0},MZ(){return!0},NZ(){return!0},bfa(){return this.au},cfa(){return this.eA}}}"use strict";self.B.C.Bh.uc={mha(){this.eA&&this.ij("request-wake-lock")},$ga(){this.eA&&(this.au=!1,this.Ag("release-wake-lock"))}};"use strict";
self.B.C.Bh.wc={dha(){if(this.g.mp())return"webgpu";{const d=this.g.ck();let a="webgl"+d.bd;d.EF&&(a+="-software");return a}},eha(){return this.g.ck().$q},XT(){return self.devicePixelRatio},L_(){return this.Au},K_(){return this.zu},G1(){return this.g.L.Hi},F1(){return this.g.L.Gi},I1(){return this.Mo},H1(){return this.$u},nca(){return this.g.L.Bc},mca(){return this.g.L.mc},pca(){return this.g.L.Zf},oca(){return this.g.L.Yf},cda(){return navigator.connection?navigator.connection.downlink||0:0},dda(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},Oca(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},Pca(){return navigator.connection?navigator.connection.rtt||0:0},Mda(){return navigator.hardwareConcurrency||0},$ca(){return navigator.deviceMemory||0},pia(){return this.Nq[0]},oia(){return this.Nq[1]},mia(){return this.Nq[2]},nia(){return this.Nq[3]}};
{const d=self.B;self.VI=function(){return[d.C.Touch,d.C.Tc,d.C.Text,d.C.ld,d.C.Keyboard,d.C.Bh,d.C.La.I.$K,d.C.Text.uc.Ms,d.C.La.wc.Caa,d.C.La.wc.Daa,d.C.La.uc.sD,d.C.ld.uc.Dg,d.C.Text.wc.AM,d.C.Text.wc.d1,d.C.La.I.op,d.C.La.I.lV,d.C.La.wc.bba,d.C.La.I.rT,d.C.La.wc.trim,d.C.La.wc.aba,d.C.La.wc.saa,d.C.La.uc.Es,d.C.La.uc.b1,d.C.La.I.pJ,d.C.La.uc.M0,d.C.La.wc.random,d.C.La.wc.jba,d.C.La.wc.ur,d.C.La.wc.daa,d.C.ld.uc.a1,d.C.ld.uc.P_,d.C.ld.uc.Tf,d.C.Text.uc.Tf,d.C.Touch.I.dL,d.C.Touch.I.WK,d.C.Text.I.gd,
d.C.ld.wc.IS,d.C.La.uc.KY,d.C.Text.I.VK,d.C.La.I.yJ,d.C.Text.uc.m0,d.C.Text.wc.fV,d.C.Touch.I.iY,d.C.Text.I.sT,d.C.Text.I.TX,d.C.La.I.l1,d.C.Text.uc.dx]};self.ZS=[{Touch:0},{Tc:0},{Ima:0},{Aba:0},{gca:0},{Qga:0},{xfa:0},{Keyboard:0},{Bh:0},{Nja:0},{aca:0},{fca:0},{hca:0},{ica:0},{Rga:0},{eca:0},{ala:0},{xda:0},{bla:0},{index:0},{sda:0},{Xca:0},{Vja:0},{Ofa:0},{Nfa:0},{Jfa:0},{Oma:0},{hha:0},{tma:0},{Ina:0}]}
self.YS=[d=>{const a=d.W(0).ob(),b=d.W(1).ob();return()=>a()+" - "+b()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},()=>0,d=>{const a=d.W(0),b=d.W(1);return()=>a.Xv()+b.Xv()/2+2},()=>"StringList",()=>"",d=>{const a=d.W(0).ob(),b=d.W(1).Oa,f=d.W(2).Oa;return()=>a(b.xa(),f.xa())-1},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).ob(),e=d.W(4).Oa;return()=>a(b(f.xa(),c(),e.xa()))},d=>{const a=d.W(0).ob(),b=d.W(1).Oa;return()=>a(b.xa())},d=>{const a=d.W(0).ob();return()=>
a()},d=>{const a=d.W(0).Oa;return()=>a.xa()},d=>{const a=d.W(0).ob(),b=d.W(1).Oa,f=d.W(2).Oa;return()=>a(b.xa(),f.xa())},d=>{const a=d.W(0).Oa,b=d.W(1).Oa,f=d.W(2).Oa;return()=>a.xa()+b.xa()+f.xa()},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).Oa;return()=>Math.floor(a(b(f.xa(),c.xa())))},d=>{const a=d.W(0).ob(),b=d.W(1).Oa,f=d.W(2).Oa,c=d.W(3).Oa;return()=>a(b.xa(),f.xa(),c.xa())},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).Oa,e=d.W(4).Oa,k=d.W(5).Oa,h=d.W(6).Oa;return()=>
a(b(f.xa(),c.xa(),e.xa()),k.xa(),h.xa())},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).ob(),e=d.W(4).Oa,k=d.W(5).Oa,h=d.W(6).Oa;return()=>a(b(f.xa(),c(),e.xa()),k.xa(),h.xa())},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).ob(),e=d.W(4).Oa,k=d.W(5).ob(),h=d.W(6).Oa;return()=>a(b(f.xa()),c(e.xa()),k(h.xa()))},d=>{const a=d.W(0).ob(),b=d.W(1).Oa,f=d.W(2).Oa,c=d.W(3).ob(),e=d.W(4).Oa,k=d.W(5).Oa,h=d.W(6).Oa,m=d.W(7).Oa;return()=>a(b.xa(),f.xa(),c(e.xa(),k.xa(),h.xa()),m.xa())},
d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa,c=d.W(3).Oa,e=d.W(4).ob(),k=d.W(5).Oa,h=d.W(6).Oa,m=d.W(7).Oa;return()=>a(b(f.xa(),c.xa()-e(),k.xa()),h.xa(),m.xa())},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa;return()=>a(b(f.xa(),";"))},d=>{const a=d.W(0).ob(),b=d.W(1).Oa,f=d.W(2).Oa;return()=>a(b.xa().toString(),f.xa(),";")},d=>{const a=d.W(0);return()=>a.Xv()-1},d=>{const a=d.W(0).ob(),b=d.W(1).ob(),f=d.W(2).Oa;return()=>a(b().toString(),f.xa(),";")},()=>"ToggleButton",()=>"Button",d=>
{const a=d.W(0);return()=>a.Xv()},d=>{const a=d.W(0);return()=>Math.floor(.875*a.tJ())},d=>{const a=d.W(0);return()=>a.tJ()}];
