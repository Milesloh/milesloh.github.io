// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(d){function b(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*E+C*I;f[1]=B*E+k*I;f[2]=x*K+C*t;f[3]=B*K+k*t;return f}function a(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function e(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0],N=t[1],P=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+C*N;f[1]=B*K+E*N;f[2]=x*P+C*S;f[3]=B*P+E*S;f[4]=x*W+C*t+I;f[5]=B*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*B+W*I+V*P;f[2]=S*C+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*B+ia*I+ca*P;f[5]=ea*C+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*B+la*I+t*P;f[8]=oa*C+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*I+sa*S+pa*ia;f[1]=la*B+ra*K+sa*W+pa*ca;f[2]=la*C+ra*N+sa*V+pa*oa;f[3]=la*E+ra*P+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*I+sa*S+pa*ia;f[5]=la*B+ra*K+sa*W+pa*ca;f[6]=la*C+ra*N+sa*V+pa*oa;f[7]=la*E+ra*P+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*I+sa*S+pa*ia;f[9]=la*B+ra*K+sa*W+pa*ca;f[10]=la*C+ra*N+sa*V+pa*oa;f[11]=la*E+ra*P+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*I+sa*S+pa*ia;f[13]=la*B+ra*K+sa*W+pa*ca;f[14]=la*C+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*P+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=x+x,K=B+B,N=C+C;k=x*I;var P=x*K;x*=N;var S=B*K;B*=N;C*=N;I*=E;K*=E;E*=N;f[0]=1-(S+C);f[1]=P+E;f[2]=x-K;f[3]=0;f[4]=P-E;f[5]=1-(k+C);f[6]=B+I;f[7]=0;f[8]=x+K;f[9]=B-I;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function r(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],B=k[6],C=k[8],E=k[9],I=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,B);f[2]=Math.hypot(C,
E,I);return f}function w(f,k){var t=new qa(3);u(t,k);var x=1/t[0],B=1/t[1],C=1/t[2],E=k[0]*x;t=k[1]*B;var I=k[2]*C,K=k[4]*x,N=k[5]*B,P=k[6]*C;x*=k[8];B*=k[9];k=k[10]*C;C=E+N+k;0<C?(E=2*Math.sqrt(C+1),f[3]=.25*E,f[0]=(P-B)/E,f[1]=(x-I)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(P-B)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+I)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-I)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(P+B)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+I)/E,f[1]=(P+B)/E,f[2]=.25*E);return f}function q(f,
k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=(B+x)*t,f[14]=2*B*x*t):(f[10]=-1,f[14]=-2*x);return f}function v(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B),N=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=(E+C)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function H(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function Q(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],B=k[2];t=t*t+x*x+B*B;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],B=k[1];k=k[2];var C=t[0],E=t[1];t=t[2];f[0]=B*t-k*E;f[1]=k*C-x*t;f[2]=x*E-B*C;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],B=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+B*B+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*t+x*x+B*B+k*k;0<C&&(C=1/Math.sqrt(C));f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=k*C;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-C);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+B*K-C*I;f[1]=B*t+k*I+C*E-x*K;f[2]=C*t+k*K+x*I-B*E;f[3]=k*t-x*E-B*I-C*K;return f}function zb(f,k,t){t*=.5;var x=k[0],B=
k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=B*t+C*E;f[2]=C*t-B*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-C*E;f[1]=B*t+k*E;f[2]=C*t+x*E;f[3]=k*t-B*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+B*E;f[1]=B*t-x*E;f[2]=C*t+k*E;f[3]=k*t-C*E;return f}function Cb(f,k){var t=k[0],x=k[1],B=k[2],C=Math.sqrt(t*t+x*x+B*B);k=Math.exp(k[3]);var E=
0<C?k*Math.sin(C)/C:0;f[0]=t*E;f[1]=x*E;f[2]=B*E;f[3]=k*Math.cos(C);return f}function Db(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=Math.sqrt(t*t+x*x+B*B);C=0<C?Math.atan2(C,k)/C:0;f[0]=t*C;f[1]=x*C;f[2]=B*C;f[3]=.5*Math.log(t*t+x*x+B*B+k*k);return f}function kb(f,k,t,x){var B=k[0],C=k[1],E=k[2];k=k[3];var I=t[0],K=t[1],N=t[2];t=t[3];var P=B*I+C*K+E*N+k*t;0>P&&(P=-P,I=-I,K=-K,N=-N,t=-t);if(1E-6<1-P){var S=Math.acos(P);var W=Math.sin(S);P=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else P=1-x;f[0]=P*B+x*
I;f[1]=P*C+x*K;f[2]=P*E+x*N;f[3]=P*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var B=(x+1)%3,C=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*B+B]-k[3*C+C]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*B+C]-k[3*C+B])*t;f[B]=(k[3*B+x]+k[3*x+B])*t;f[C]=(k[3*C+x]+k[3*x+C])*t}return f}function Fb(f,k,t){var x=.5*t[0],B=.5*t[1];t=.5*t[2];var C=k[0],E=k[1],I=k[2];k=k[3];f[0]=C;
f[1]=E;f[2]=I;f[3]=k;f[4]=x*k+B*I-t*E;f[5]=B*k+t*C-x*I;f[6]=t*k+x*E-B*C;f[7]=-x*C-B*E-t*I;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=t[4],K=t[5],N=t[6],P=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+B*ca-C*ia;f[1]=B*t+E*ia+C*ea-x*ca;f[2]=C*t+E*ca+x*ia-B*ea;f[3]=E*t-x*ea-B*ia-C*ca;f[4]=x*P+E*I+B*N-C*K+S*t+k*ea+W*ca-V*ia;f[5]=B*P+E*K+C*I-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=C*P+E*N+x*K-B*I+V*t+k*ca+S*ia-W*ea;f[7]=E*P-x*I-B*K-C*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get yha(){return qa},xna:Ma,xha:"zyx",Tua:function(f){qa=f},eva:function(f){return f*Mb},rd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Bx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Kf:function(f,k,t,x){var B=new qa(4);B[0]=f;B[1]=k;B[2]=t;B[3]=x;return B},set:function(f,k,t,x,B){f[0]=k;f[1]=t;f[2]=x;f[3]=B;return f},iX:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},bt:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t*k-B*x;if(!C)return null;C=1/C;f[0]=k*C;f[1]=-x*C;f[2]=-B*C;f[3]=t*C;return f},cW:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},sL:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=B*t+k*E;f[2]=x*-E+C*t;f[3]=B*-E+k*t;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=B*t;f[3]=C*t;return f},sD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},xL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},xm:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},wL:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},yla:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},ym:a,Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},rd:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},ML:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},NL:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},$n:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Bx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Kf:function(f,
k,t,x,B,C){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=B;E[5]=C;return E},set:function(f,k,t,x,B,C,E){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;return f},bt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4];k=k[5];var I=t*C-x*B;if(!I)return null;I=1/I;f[0]=C*I;f[1]=-x*I;f[2]=-B*I;f[3]=t*I;f[4]=(B*k-C*E)*I;f[5]=(x*E-t*k)*I;return f},sL:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:e,rotate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+C*K;f[1]=B*t+E*K;f[2]=x*-K+C*t;f[3]=B*-K+E*t;f[4]=I;f[5]=k;return f},scale:function(f,k,t){var x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=B*t;f[3]=C*t;f[4]=E;f[5]=I;return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=x*K+C*t+I;f[5]=B*K+E*t+k;return f},sD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},xL:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},yL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},xm:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},wL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},ym:c,ML:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
NL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4];f=f[5];var I=k[0],K=k[1],N=k[2],P=k[3],S=k[4];k=k[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),
Math.abs(N))&&Math.abs(C-P)<=1E-6*Math.max(1,Math.abs(C),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},$n:e,sub:c}),Qb=Object.freeze({__proto__:null,create:g,Zfa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ta:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},Kf:function(f,k,t,x,B,C,E,I,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=B;N[5]=C;N[6]=E;N[7]=I;N[8]=K;return N},set:function(f,k,t,x,B,C,E,I,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;return f},Bx:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},iX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=B}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},bt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var P=k*E-I*N,S=-k*C+I*K,W=N*C-E*K,V=t*P+x*S+B*W;if(!V)return null;V=1/V;f[0]=P*V;f[1]=(-k*x+B*N)*V;f[2]=(I*x-B*E)*V;f[3]=S*V;f[4]=(k*t-B*K)*V;f[5]=(-I*t+B*C)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*C)*V;return f},cW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-I*N;f[1]=B*N-x*k;f[2]=x*I-B*E;f[3]=I*K-C*k;f[4]=t*k-B*K;f[5]=B*C-t*I;f[6]=C*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*C;return f},sL:function(f){var k=f[3],t=f[4],x=f[5],B=f[6],C=f[7],E=f[8];return f[0]*(E*t-x*C)+f[1]*(-E*k+x*B)+f[2]*(C*k-t*B)},multiply:m,translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=I;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*B+t*I+P;f[8]=S*C+t*K+k;return f},rotate:function(f,k,t){var x=k[0],B=
k[1],C=k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*B+S*I;f[2]=t*C+S*K;f[3]=t*E-S*x;f[4]=t*I-S*B;f[5]=t*K-S*C;f[6]=N;f[7]=P;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},yL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},sD:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},xL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Esa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},$fa:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,P=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-B;f[7]=P-C;f[2]=N-E;f[5]=P+C;f[8]=1-t-x;return f},Sta:function(f,
k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea;P=P*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*P-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(I*W-K*S+N*Ca)*V;f[1]=(K*P-E*W-N*Ba)*V;f[2]=(E*S-I*P+N*Aa)*V;f[3]=(B*S-x*W-C*Ca)*V;f[4]=(t*W-B*P+C*Ba)*V;f[5]=(x*P-t*S-C*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},OW:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},xm:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},wL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},ym:h,ML:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},NL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},rd:function(f,k){var t=f[0],
x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7];f=f[8];var P=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-P)<=1E-6*Math.max(1,Math.abs(t),Math.abs(P))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(B-W)<=1E-6*Math.max(1,Math.abs(B),Math.abs(W))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(I-ia)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},$n:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},Kf:function(f,k,t,x,B,C,E,I,K,N,P,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=B;ca[5]=C;ca[6]=E;ca[7]=I;ca[8]=K;ca[9]=N;ca[10]=P;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,B,C,E,I,K,N,P,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;f[8]=N;f[9]=P;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Bx:l,iX:function(f,k){if(f===k){var t=k[1],x=k[2],B=k[3],C=k[6],E=k[7],I=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=C;f[11]=k[14];f[12]=B;f[13]=E;f[14]=I}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},bt:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(I*Ka-K*Ja+N*Fa)*Da;f[1]=(B*Ja-x*Ka-C*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-B*Ca+C*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(P*za-W*ra+V*la)*Da;f[8]=(E*Ja-I*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-C*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-P*pa-V*oa)*Da;f[12]=(I*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+B*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(P*sa-S*la+W*oa)*Da;return f},cW:function(f,k){var t=k[0],x=k[1],B=k[2],C=k[3],E=k[4],I=k[5],K=k[6],N=k[7],P=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*I-x*E,la=t*K-B*E,ra=
t*N-C*E,sa=x*K-B*I,pa=x*N-C*I,za=B*N-C*K,Aa=P*ia-S*ea,Ba=P*ca-W*ea,Ca=P*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=I*Ka-K*Ja+N*Fa;f[1]=B*Ja-x*Ka-C*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-B*Ca+C*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=P*za-W*ra+V*la;f[8]=E*Ja-I*Ca+N*Aa;f[9]=x*Ca-t*Ja-C*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-P*pa-V*oa;f[12]=I*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+B*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=P*sa-S*la+W*oa;return f},sL:function(f){var k=f[0],t=f[1],x=f[2],
B=f[4],C=f[5],E=f[6],I=f[8],K=f[9],N=f[10],P=f[12],S=f[13],W=f[14],V=k*C-t*B,ea=k*E-x*B,ia=t*E-x*C,ca=I*S-K*P,oa=I*W-N*P,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(B*la-C*oa+E*ca)+f[15]*(I*ia-K*ea+N*V)-f[11]*(P*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],B=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*B+k[8]*t+k[12],f[13]=k[1]*x+k[5]*B+k[9]*t+k[13],f[14]=k[2]*x+k[6]*B+k[10]*t+k[14],f[15]=k[3]*x+k[7]*B+k[11]*t+k[15];else{var C=k[0];var E=k[1];var I=k[2];var K=k[3];var N=k[4];var P=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=C;f[1]=E;f[2]=I;f[3]=K;f[4]=N;f[5]=P;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=C*x+N*B+V*t+k[12];f[13]=E*x+P*B+ea*t+k[13];f[14]=I*x+S*B+ia*t+k[14];f[15]=K*x+W*B+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],B=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*B;f[5]=k[5]*B;f[6]=k[6]*B;f[7]=k[7]*B;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var B=x[0],C=x[1];x=x[2];var E=Math.hypot(B,C,x);if(1E-6>E)return null;E=1/E;B*=E;C*=E;x*=E;var I=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var P=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=B*B*N+K;var pa=C*B*N+x*I;var za=x*B*N-C*I;var Aa=B*C*N-x*I;var Ba=C*C*N+K;var Ca=x*C*N+B*I;var Fa=B*x*N+C*I;B=C*x*N-B*I;C=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=P*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=P*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*B+ca*C;f[9]=E*Fa+V*B+oa*C;f[10]=P*Fa+ea*B+la*C;f[11]=S*Fa+ia*B+ra*C;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},XL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[4],C=k[5],E=k[6],I=k[7],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=B*t+K*x;f[5]=C*t+N*x;f[6]=
E*t+P*x;f[7]=I*t+S*x;f[8]=K*t-B*x;f[9]=N*t-C*x;f[10]=P*t-E*x;f[11]=S*t-I*x;return f},YL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[8],N=k[9],P=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t-K*x;f[1]=C*t-N*x;f[2]=E*t-P*x;f[3]=I*t-S*x;f[8]=B*x+K*t;f[9]=C*x+N*t;f[10]=E*x+P*t;f[11]=I*x+S*t;return f},ZL:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var B=k[0],C=k[1],E=k[2],I=k[3],K=k[4],
N=k[5],P=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=B*t+K*x;f[1]=C*t+N*x;f[2]=E*t+P*x;f[3]=I*t+S*x;f[4]=K*t-B*x;f[5]=N*t-C*x;f[6]=P*t-E*x;f[7]=S*t-I*x;return f},yL:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},xL:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},sD:function(f,k,t){var x=t[0],B=t[1];t=t[2];var C=Math.hypot(x,B,t);if(1E-6>C)return null;C=1/C;x*=C;B*=C;t*=C;C=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=B*x*E+t*C;f[2]=t*x*E-B*C;f[3]=0;f[4]=x*B*E-t*C;f[5]=B*B*E+k;f[6]=t*B*E+x*C;f[7]=0;f[8]=x*t*E+B*C;f[9]=B*t*E-x*C;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Ksa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Lsa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},Msa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},aga:p,Gsa:function(f,k){var t=new qa(3),x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],
N=k[6],P=k[7],S=x*x+B*B+C*C+E*E;0<S?(t[0]=2*(I*E+P*x+K*C-N*B)/S,t[1]=2*(K*E+P*B+N*x-I*C)/S,t[2]=2*(N*E+P*C+I*B-K*x)/S):(t[0]=2*(I*E+P*x+K*C-N*B),t[1]=2*(K*E+P*B+N*x-I*C),t[2]=2*(N*E+P*C+I*B-K*x));p(f,k,t);return f},dga:r,Xsa:u,Wsa:w,osa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var B=x[0],C=x[1],E=x[2],I=x[4],K=x[5],N=x[6],P=x[8];k=x[9];x=x[10];t[0]=Math.hypot(B,C,E);t[1]=Math.hypot(I,K,N);t[2]=Math.hypot(P,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=B*S;C*=W;E*=V;I*=S;K*=W;N*=V;P*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(P-E)/x,f[2]=(C-I)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(C+I)/x,f[2]=(P+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(P-E)/x,f[0]=(C+I)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(C-I)/x,f[0]=(P+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},Hsa:function(f,k,t,x){var B=k[0],C=k[1],E=k[2],I=k[3],K=B+B,N=C+C,P=E+E;k=B*K;var S=B*N;B*=P;var W=C*N;C*=P;E*=P;K*=I;N*=I;I*=P;P=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*P;
f[1]=(S+I)*P;f[2]=(B-N)*P;f[3]=0;f[4]=(S-I)*V;f[5]=(1-(k+E))*V;f[6]=(C+K)*V;f[7]=0;f[8]=(B+N)*x;f[9]=(C-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},Isa:function(f,k,t,x,B){var C=k[0],E=k[1],I=k[2],K=k[3],N=C+C,P=E+E,S=I+I;k=C*N;var W=C*P,V=C*S;C=E*P;E*=S;var ea=I*S;I=K*N;P*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=B[0];K=B[1];B=B[2];N=(1-(C+ea))*ca;var la=(W+ia)*ca;ca*=V-P;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+I;V=(V+P)*S;E=(E-I)*S;k=(1-(k+C))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*B);f[13]=t[1]+K-(la*x+ea*K+E*B);f[14]=t[2]+B-(ca*x+oa*K+k*B);f[15]=1;return f},$fa:function(f,k){var t=k[0],x=k[1],B=k[2];k=k[3];var C=t+t,E=x+x,I=B+B;t*=C;var K=x*C;x*=E;var N=B*C,P=B*E;B*=I;C*=k;E*=k;k*=I;f[0]=1-x-B;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-B;f[6]=P+C;f[7]=0;f[8]=N+E;f[9]=P-C;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},bga:function(f,k,t,x,B,C,E){var I=1/(t-k),K=1/(B-
x),N=1/(C-E);f[0]=2*C*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*C*K;f[6]=0;f[7]=0;f[8]=(t+k)*I;f[9]=(B+x)*K;f[10]=(E+C)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*C*2*N;f[15]=0;return f},eua:q,perspective:q,fua:function(f,k,t,x,B){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=B&&Infinity!==B?(t=1/(x-B),f[10]=B*t,f[14]=B*x*t):(f[10]=-1,f[14]=-x);return f},dua:function(f,k,t,x){var B=Math.tan(k.jva*Math.PI/180),C=Math.tan(k.ssa*Math.PI/
180),E=Math.tan(k.Dta*Math.PI/180);k=Math.tan(k.Cua*Math.PI/180);var I=2/(E+k),K=2/(B+C);f[0]=I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*I*.5);f[9]=(B-C)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},aua:v,Kga:v,bua:function(f,k,t,x,B,C,E){var I=1/(k-t),K=1/(x-B);E=1/(C-E);f[0]=-2*I;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*I;f[13]=(B+x)*K;f[14]=C*E;f[15]=1;return f},zga:function(f,k,t,x){var B=
k[0],C=k[1];k=k[2];var E=x[0];var I=x[1];var K=x[2];var N=t[0];x=t[1];var P=t[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(k-P))return l(f);t=B-N;x=C-x;N=k-P;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;P=I*N-K*x;K=K*t-E*N;E=E*x-I*t;(S=Math.hypot(P,K,E))?(S=1/S,P*=S,K*=S,E*=S):E=K=P=0;I=x*E-N*K;var W=N*P-t*E;var V=t*K-x*P;(S=Math.hypot(I,W,V))?(S=1/S,I*=S,W*=S,V*=S):V=W=I=0;f[0]=P;f[1]=I;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(P*B+K*C+E*k);f[13]=
-(I*B+W*C+V*k);f[14]=-(t*B+x*C+N*k);f[15]=1;return f},Zua:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];var E=x[0],I=x[1],K=x[2];x=B-t[0];var N=C-t[1];t=k-t[2];var P=x*x+N*N+t*t;0<P&&(P=1/Math.sqrt(P),x*=P,N*=P,t*=P);var S=I*t-K*N;K=K*x-E*t;E=E*N-I*x;P=S*S+K*K+E*E;0<P&&(P=1/Math.sqrt(P),S*=P,K*=P,E*=P);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=B;f[13]=C;f[14]=k;f[15]=1;return f},xm:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},wL:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},ym:y,ML:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},NL:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6],N=f[7],P=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(B-ra)<=1E-6*Math.max(1,Math.abs(B),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(I-za)<=1E-6*Math.max(1,Math.abs(I),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(P-Ca)<=1E-6*Math.max(1,Math.abs(P),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},$n:n,sub:y}),rb=function(){var f=A();return function(k,t,x,B,C,E){t||(t=3);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,Kf:z,ta:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},ym:F,multiply:H,rm:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},$L:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},yx:M,cX:Q,HD:R,JW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,Xn:Z,rL:X,Ud:function(f,k,t,x){var B=k[0],C=k[1];k=k[2];f[0]=B+x*(t[0]-B);f[1]=C+x*(t[1]-
C);f[2]=k+x*(t[2]-k);return f},$ga:function(f,k,t,x){var B=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),C=Math.sin(B),E=Math.sin((1-x)*B)/C;x=Math.sin(x*B)/C;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},bta:function(f,k,t,x,B,C){var E=C*C,I=E*(2*C-3)+1,K=E*(C-2)+C,N=E*(C-1);C=E*(3-2*C);f[0]=k[0]*I+t[0]*K+x[0]*N+B[0]*C;f[1]=k[1]*I+t[1]*K+x[1]*N+B[1]*C;f[2]=k[2]*I+t[2]*K+x[2]*N+B[2]*C;return f},Wra:function(f,k,t,x,B,C){var E=1-C,I=E*E,K=C*C,N=I*E;I*=3*C;E*=3*K;C*=K;f[0]=k[0]*N+
t[0]*I+x[0]*E+B[0]*C;f[1]=k[1]*N+t[1]*I+x[1]*E+B[1]*C;f[2]=k[2]*N+t[2]*I+x[2]*E+B[2]*C;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,B=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*B;f[1]=Math.sin(t)*B;f[2]=x*k;return f},hM:function(f,k,t){var x=k[0],B=k[1];k=k[2];var C=t[3]*x+t[7]*B+t[11]*k+t[15];C=C||1;f[0]=(t[0]*x+t[4]*B+t[8]*k+t[12])/C;f[1]=(t[1]*x+t[5]*B+t[9]*k+t[13])/C;f[2]=(t[2]*x+t[6]*B+t[10]*k+t[14])/C;return f},lha:function(f,k,t){var x=k[0],B=k[1];k=k[2];f[0]=x*t[0]+B*t[3]+
k*t[6];f[1]=x*t[1]+B*t[4]+k*t[7];f[2]=x*t[2]+B*t[5]+k*t[8];return f},mha:function(f,k,t){var x=t[0],B=t[1],C=t[2],E=k[0],I=k[1];k=k[2];var K=B*k-C*I,N=C*E-x*k,P=x*I-B*E;t=2*t[3];f[0]=E+K*t+2*(B*P-C*N);f[1]=I+N*t+2*(C*K-x*P);f[2]=k+P*t+2*(x*N-B*K);return f},XL:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(x)-B[2]*Math.sin(x);C[2]=B[1]*Math.sin(x)+B[2]*Math.cos(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},YL:function(f,k,t,x){var B=
[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[2]*Math.sin(x)+B[0]*Math.cos(x);C[1]=B[1];C[2]=B[2]*Math.cos(x)-B[0]*Math.sin(x);f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},ZL:function(f,k,t,x){var B=[],C=[];B[0]=k[0]-t[0];B[1]=k[1]-t[1];B[2]=k[2]-t[2];C[0]=B[0]*Math.cos(x)-B[1]*Math.sin(x);C[1]=B[0]*Math.sin(x)+B[1]*Math.cos(x);C[2]=B[2];f[0]=C[0]+t[0];f[1]=C[1]+t[1];f[2]=C[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],B=f[2],C=k[0],E=k[1],I=k[2];f=(t=Math.sqrt((t*
t+x*x+B*B)*(C*C+E*E+I*I)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},uX:function(f){f[0]=0;f[1]=0;f[2]=0;return f},xm:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},rd:function(f,k){var t=f[0],x=f[1];f=f[2];var B=k[0],C=k[1];k=k[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
$n:H,qW:J,oW:M,bX:Q,Gx:G,GD:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,B,C,E){t||(t=4);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],C(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,Kf:va,ta,set:ya,add:Na,ym:Sa,multiply:Ta,rm:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,$L:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},yx:eb,cX:fb,length:Pa,HD:Va,JW:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,Xn:Ya,rL:function(f,k,t,x){var B=t[0]*x[1]-t[1]*x[0],C=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],I=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],P=k[2];k=k[3];f[0]=N*t-P*K+k*I;f[1]=-(x*t)+
P*E-k*C;f[2]=x*K-N*E+k*B;f[3]=-(x*I)+N*C-P*B;return f},Ud:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var B=t*t+x*x}while(1<=B);do{var C=2*Ma()-1;var E=2*Ma()-1;var I=C*C+E*E}while(1<=I);B=Math.sqrt((1-B)/I);f[0]=k*t;f[1]=k*x;f[2]=k*C*B;f[3]=k*E*B;return f},hM:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];f[0]=t[0]*x+t[4]*B+t[8]*C+t[12]*k;f[1]=t[1]*x+t[5]*B+t[9]*C+t[13]*k;f[2]=t[2]*x+t[6]*B+t[10]*C+t[14]*k;f[3]=t[3]*x+t[7]*B+t[11]*C+t[15]*k;return f},mha:function(f,k,t){var x=
k[0],B=k[1],C=k[2],E=t[0],I=t[1],K=t[2];t=t[3];var N=t*x+I*C-K*B,P=t*B+K*x-E*C,S=t*C+E*B-I*x;x=-E*x-I*B-K*C;f[0]=N*t+x*-E+P*-K-S*-I;f[1]=P*t+x*-I+S*-E-N*-K;f[2]=S*t+x*-K+N*-I-P*-E;f[3]=k[3];return f},uX:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},xm:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Dj:wb,rd:function(f,k){var t=f[0],x=f[1],B=f[2];f=f[3];var C=k[0],E=k[1],I=k[2];k=k[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,$n:Ta,qW:Ua,oW:eb,bX:fb,Gx:Pa,GD:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,B,C){var E=Z(B,C);if(-.999999>E)return X(f,k,B),1E-6>G(f)&&X(f,t,B),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,B,C);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,B,C,E,I){kb(f,x,E,I);kb(k,B,C,I);kb(t,f,k,2*I*(1-I));return t}}(),gb=function(){var f=g();return function(k,t,x,B){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=B[0];f[4]=B[1];f[7]=B[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Bx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},Rua:xb,Tsa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},Rsa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,XL:zb,YL:Ab,ZL:Bb,Yra:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,yga:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},$ga:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),B=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=B*Math.sin(2*Math.PI*t);f[1]=B*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},bt:function(f,k){var t=k[0],x=k[1],B=k[2];
k=k[3];var C=t*t+x*x+B*B+k*k;C=C?1/C:0;f[0]=-t*C;f[1]=-x*C;f[2]=-B*C;f[3]=k*C;return f},Ifa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},Fsa:Eb,Dsa:function(f,k,t,x){var B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",C=Math.PI/360;k*=C;x*=C;t*=C;C=Math.sin(k);var E=Math.cos(k),I=Math.sin(t),K=Math.cos(t),N=Math.sin(x),P=Math.cos(x);switch(B){case "xyz":f[0]=C*K*P+E*I*N;f[1]=E*I*P-C*K*N;f[2]=E*K*N+C*I*P;f[3]=E*K*P-C*I*N;break;case "xzy":f[0]=C*K*P-E*I*N;f[1]=E*
I*P-C*K*N;f[2]=E*K*N+C*I*P;f[3]=E*K*P+C*I*N;break;case "yxz":f[0]=C*K*P+E*I*N;f[1]=E*I*P-C*K*N;f[2]=E*K*N-C*I*P;f[3]=E*K*P+C*I*N;break;case "yzx":f[0]=C*K*P+E*I*N;f[1]=E*I*P+C*K*N;f[2]=E*K*N-C*I*P;f[3]=E*K*P-C*I*N;break;case "zxy":f[0]=C*K*P-E*I*N;f[1]=E*I*P+C*K*N;f[2]=E*K*N+C*I*P;f[3]=E*K*P-C*I*N;break;case "zyx":f[0]=C*K*P-E*I*N;f[1]=E*I*P+C*K*N;f[2]=E*K*N-C*I*P;f[3]=E*K*P+C*I*N;break;default:throw Error("Unknown angle order "+B);}return f},xm:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,Kf:va,ta,set:ya,add:Na,$n:yb,scale:Wa,Xn:Ya,Ud:vb,length:Pa,Gx:Pa,HD:Va,GD:Va,normalize:ib,Dj:wb,rd:function(f,k){return.999999<=Math.abs(Ya(f,k))},Hua:tb,Wua:ub,Qua:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},Kf:function(f,k,t,x,B,C,E,I){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=B;K[5]=C;K[6]=E;K[7]=I;return K},Jsa:function(f,k,t,x,B,C,E){var I=new qa(8);I[0]=f;I[1]=k;I[2]=t;I[3]=x;B*=.5;C*=.5;E*=.5;I[4]=B*x+C*t-E*k;I[5]=C*x+E*f-B*t;I[6]=E*x+B*k-C*f;I[7]=-B*f-C*k-E*t;return I},aga:Fb,yL:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},sD:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},Zfa:function(f,k){var t=jb();w(t,k);var x=new qa(3);r(x,
k);Fb(f,t,x);return f},ta:Gb,Bx:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,B,C,E,I,K){f[0]=k;f[1]=t;f[2]=x;f[3]=B;f[4]=C;f[5]=E;f[6]=I;f[7]=K;return f},Vsa:ta,Usa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},Uua:ta,Sua:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},dga:function(f,k){var t=k[4],x=k[5],B=k[6],C=k[7],E=-k[0],I=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+C*E+x*K-B*I);f[1]=2*(x*k+C*I+B*E-t*K);f[2]=2*(B*k+
C*K+t*I-x*E);return f},translate:function(f,k,t){var x=k[0],B=k[1],C=k[2],E=k[3],I=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],P=k[5],S=k[6];k=k[7];f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=E*I+B*t-C*K+N;f[5]=E*K+C*I-x*t+P;f[6]=E*t+x*K-B*I+S;f[7]=-x*I-B*K-C*t+k;return f},XL:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*C-N*B,W=K*E+P*B+N*x-I*C,V=N*E+P*C+I*B-K*x;I=P*E-I*x-K*B-N*C;zb(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+
I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},YL:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*C-N*B,W=K*E+P*B+N*x-I*C,V=N*E+P*C+I*B-K*x;I=P*E-I*x-K*B-N*C;Ab(f,k,t);x=f[0];B=f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},ZL:function(f,k,t){var x=-k[0],B=-k[1],C=-k[2],E=k[3],I=k[4],K=k[5],N=k[6],P=k[7],S=I*E+P*x+K*C-N*B,W=K*E+P*B+N*x-I*C,V=N*E+P*C+I*B-K*x;I=P*E-I*x-K*B-N*C;Bb(f,k,t);x=f[0];B=
f[1];C=f[2];E=f[3];f[4]=S*E+I*x+W*C-V*B;f[5]=W*E+I*B+V*x-S*C;f[6]=V*E+I*C+S*B-W*x;f[7]=I*E-S*x-W*B-V*C;return f},Eua:function(f,k,t){var x=t[0],B=t[1],C=t[2];t=t[3];var E=k[0],I=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+I*C-K*B;f[1]=I*t+N*B+K*x-E*C;f[2]=K*t+N*C+E*B-I*x;f[3]=N*t-E*x-I*B-K*C;E=k[4];I=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+I*C-K*B;f[5]=I*t+N*B+K*x-E*C;f[6]=K*t+N*C+E*B-I*x;f[7]=N*t-E*x-I*B-K*C;return f},Fua:function(f,k,t){var x=k[0],B=k[1],C=k[2];k=k[3];var E=t[0],I=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+B*
K-C*I;f[1]=B*N+k*I+C*E-x*K;f[2]=C*N+k*K+x*I-B*E;f[3]=k*N-x*E-B*I-C*K;E=t[4];I=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+B*K-C*I;f[5]=B*N+k*I+C*E-x*K;f[6]=C*N+k*K+x*I-B*E;f[7]=k*N-x*E-B*I-C*K;return f},Dua:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var B=Math.hypot(t[0],t[1],t[2]);x*=.5;var C=Math.sin(x),E=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;x=Math.cos(x);B=k[0];C=k[1];var K=k[2],N=k[3];f[0]=B*x+N*E+C*t-K*I;f[1]=C*x+N*I+K*E-B*t;f[2]=K*x+N*t+B*I-C*E;f[3]=N*x-B*E-C*I-K*t;B=k[4];C=k[5];K=k[6];k=k[7];f[4]=
B*x+k*E+C*t-K*I;f[5]=C*x+k*I+K*E-B*t;f[6]=K*x+k*t+B*I-C*E;f[7]=k*x-B*E-C*I-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,$n:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},Xn:Ya,Ud:function(f,k,t,x){var B=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*B+t[0]*x;f[1]=k[1]*B+t[1]*x;f[2]=k[2]*B+t[2]*x;f[3]=
k[3]*B+t[3]*x;f[4]=k[4]*B+t[4]*x;f[5]=k[5]*B+t[5]*x;f[6]=k[6]*B+t[6]*x;f[7]=k[7]*B+t[7]*x;return f},bt:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Ifa:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Gx:Pa,HD:Va,GD:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,B=k[1]/t,C=k[2]/t,E=k[3]/t,I=k[4],K=k[5],N=k[6];
k=k[7];var P=x*I+B*K+C*N+E*k;f[0]=x;f[1]=B;f[2]=C;f[3]=E;f[4]=(I-x*P)/t;f[5]=(K-B*P)/t;f[6]=(N-C*P)/t;f[7]=(k-E*P)/t}return f},xm:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},rd:function(f,k){var t=f[0],x=f[1],B=f[2],C=f[3],E=f[4],I=f[5],K=f[6];f=f[7];var N=k[0],P=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-P)<=1E-6*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(B-S)<=1E-6*Math.max(1,Math.abs(B),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,B,C,E){t||(t=2);x||(x=0);for(B=B?Math.min(B*t+x,k.length):k.length;x<B;x+=t)f[0]=k[x],f[1]=k[x+1],C(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},Kf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},ta:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},ym:mb,multiply:nb,rm:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},$L:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},yx:ob,cX:Qa,length:pb,
HD:qb,JW:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},Xn:function(f,k){return f[0]*k[0]+f[1]*k[1]},rL:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},Ud:function(f,k,t,x){var B=k[0];k=k[1];f[0]=B+x*(t[0]-B);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},gva:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},hva:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},lha:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},hM:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var B=k[0]-t[0];k=k[1]-t[1];var C=Math.sin(x);x=Math.cos(x);f[0]=B*x-k*C+t[0];f[1]=B*C+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var B=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(B&&(t*x+f*k)/B,-1),1))},uX:function(f){f[0]=0;f[1]=0;return f},xm:function(f){return"vec2("+f[0]+", "+f[1]+")"},Dj:function(f,k){return f[0]===k[0]&&f[1]===k[1]},rd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Gx:pb,sub:mb,$n:nb,qW:Za,
oW:ob,bX:Qa,GD:qb,forEach:gb});d.Ej=Nb;d.Jta=Ob;d.Kta=Pb;d.Lta=Qb;d.um=Rb;d.mua=tb;d.nua=ub;d.ova=gb;d.KD=rb;d.Qx=sb;Object.defineProperty(d,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Ora?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.Ej={}));
{"use strict";function d(q,v,y,A){var G=v[0]-q[0];v=v[1]-q[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*v-F*G)return!1;A=(G*(y[1]-q[1])+v*(q[0]-y[0]))/(z*v-F*G);q=(z*(q[1]-y[1])+F*(y[0]-q[0]))/(F*G-z*v);return 0<=A&&1>=A&&0<=q&&1>=q}function b(q,v,y){return(v[0]-q[0])*(y[1]-q[1])-(y[0]-q[0])*(v[1]-q[1])}function a(q,v,y){return 0<b(q,v,y)}function e(q,v,y){return 0<=b(q,v,y)}function c(q,v,y){return 0>=b(q,v,y)}var ab=[],bb=[];function g(q,v){var y=v[0]-q[0];q=v[1]-q[1];return y*y+q*q}function m(q,v){var y=
q.length;return q[0>v?v%y+y:v%y]}function h(q,v,y,A){for(;y<A;y++)q.push(v[y])}function l(q,v){var y=m(q,v-1),A=m(q,v);q=m(q,v+1);return 0>b(y,A,q)}var cb=[],Jb=[];function n(q,v,y,A){A=A||[];A.length=0;if(v<y)for(var G=v;G<=y;G++)A.push(q[G]);else{for(G=0;G<=y;G++)A.push(q[G]);for(G=v;G<q.length;G++)A.push(q[G])}return A}function p(q){for(var v=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<q.length;++F)if(l(q,F))for(var H=0;H<q.length;++H){a:{A=q;var J=F,M=H;if(e(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var Q=0;Q!==A.length;++Q)if((Q+1)%A.length!==J&&Q!==J&&e(m(A,J),m(A,M),m(A,Q+1))&&c(m(A,J),m(A,M),m(A,Q))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,Q);Jb[1]=m(A,Q+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(q,
F,H,G));A=p(n(q,H,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(v=y,z=y.length,v.push([m(q,F),m(q,H)]))}}return v}function r(q,v){if(0===v.length)return[q];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){q=[q];for(var y=0;y<v.length;y++)for(var A=v[y],G=0;G<q.length;G++){var z=r(q[G],A);if(z){q.splice(G,1);q.push(z[0],z[1]);break}}return q}A=v;y=q.indexOf(A[0]);G=q.indexOf(A[1]);return-1!==y&&-1!==G?[n(q,y,G),n(q,G,y)]:!1}function u(q,v,y,
A,G){var z=v[1]-q[1];v=q[0]-v[0];q=z*q[0]+v*q[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var H=z*A-F*v;return Math.abs(H-0)<=(G||0)?[0,0]:[(A*q-v*y)/H,(z*y-F*q)/H]}function w(q,v,y,A,G,z,F){z=z||100;F=F||0;G=G||25;v="undefined"!==typeof v?v:[];y=y||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],Q,R=0,T=0,Z=0,X=[],ba=[];if(3>q.length)return v;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),v;for(var Y=0;Y<q.length;++Y)if(l(q,Y)){y.push(q[Y]);var va=Q=Number.MAX_VALUE;for(var ta=
0;ta<q.length;++ta){if(a(m(q,Y-1),m(q,Y),m(q,ta))&&c(m(q,Y-1),m(q,Y),m(q,ta-1))){M=u(m(q,Y-1),m(q,Y),m(q,ta),m(q,ta-1));var ya=m(q,Y+1);var Na=m(q,Y);0>b(ya,Na,M)&&(ya=g(q[Y],M),ya<Q&&(Q=ya,J=M,T=ta))}a(m(q,Y+1),m(q,Y),m(q,ta+1))&&c(m(q,Y+1),m(q,Y),m(q,ta))&&(M=u(m(q,Y+1),m(q,Y),m(q,ta),m(q,ta+1)),a(m(q,Y-1),m(q,Y),M)&&(ya=g(q[Y],M),ya<va&&(va=ya,H=M,R=ta)))}if(T===(R+1)%q.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),Y<R?(h(X,q,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,q,T,q.length),h(ba,
q,0,Y+1)):(0!==Y&&h(X,q,Y,q.length),h(X,q,0,R+1),X.push(M),ba.push(M),h(ba,q,T,Y+1));else{T>R&&(R+=q.length);H=Number.MAX_VALUE;if(R<T)return v;for(ta=T;ta<=R;++ta)if(e(m(q,Y-1),m(q,Y),m(q,ta))&&c(m(q,Y+1),m(q,Y),m(q,ta))){ya=g(m(q,Y),m(q,ta));if(T=ya<H)a:{T=q;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&d(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(H=ya,Z=ta%q.length)}Y<Z?(h(X,q,Y,Z+1),0!==Z&&h(ba,q,Z,q.length),h(ba,q,0,Y+1)):(0!==
Y&&h(X,q,Y,q.length),h(X,q,0,Z+1),h(ba,q,Z,Y+1))}X.length<ba.length?(w(X,v,y,A,G,z,F),w(ba,v,y,A,G,z,F)):(w(ba,v,y,A,G,z,F),w(X,v,y,A,G,z,F));return v}v.push(q);return v}self.iua={nsa:function(q){var v=p(q);return 0<v.length?r(q,v):[q]},oua:w,jta:function(q){var v;for(v=0;v<q.length-1;v++)for(var y=0;y<v-1;y++)if(d(q[v],q[v+1],q[y],q[y+1]))return!1;for(v=1;v<q.length-2;v++)if(d(q[0],q[q.length-1],q[v],q[v+1]))return!1;return!0},tua:function(q,v){for(var y=0,A=q.length-1;3<q.length&&0<=A;--A){var G=
m(q,A-1);var z=m(q,A),F=m(q,A+1),H=v;H?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<H):G=0===b(G,z,F);G&&(q.splice(A%q.length,1),y++)}return y},uua:function(q,v){for(var y=q.length-1;1<=y;--y)for(var A=q[y],G=y-1;0<=G;--G){var z=A,F=q[G],H=v;Math.abs(z[0]-F[0])<=(H||0)&&Math.abs(z[1]-F[1])<=(H||0)&&q.splice(y,1)}},Ita:function(q){for(var v=0,y=1;y<q.length;++y)if(q[y][1]<
q[v][1]||q[y][1]===q[v][1]&&q[y][0]>q[v][0])v=y;if(a(m(q,v-1),m(q,v),m(q,v+1)))return!1;v=[];y=q.length;for(var A=0;A!==y;A++)v.push(q.pop());for(A=0;A!==y;A++)q[A]=v[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Dx=!1;d.GL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.xg={}}
{"use strict";const d=self.D;d.eP=class{constructor(b){this.afa=b;this.Ma=new Map;this.eba()}eba(){var b=this.afa;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.fba(a)}fba(b){if(b)if(b.includes("=")){var a=b.indexOf("="),e=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ma.set(e,b)}else this.Ma.set(b,null)}Yy(b){return this.Ma.has(b)}ba(b){b=this.Ma.get(b);return"undefined"===typeof b?null:b}};d.CF=new d.eP(location.search);
d.Ola=new d.eP(location.hash);d.CF.ba("mode")}
{"use strict";const d=self.D,b=navigator.userAgent;let a={xga:/linux|openbsd|freebsd|netbsd/i.test(b),Ffa:/CrOS/.test(b),LD:/trident|iemobile|msie|tizen/i.test(b),Qsa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),hW:/bb10/i.test(b),Vfa:/edge\//i.test(b),kX:/trident/i.test(b),webkit:/webkit/i.test(b),Uga:/safari\//i.test(b),Efa:/chrome\//i.test(b),Gfa:/chromium\//i.test(b),Jfa:/crosswalk|xwalk/i.test(b),Uta:/nwjs/i.test(b),tfa:/amazonwebappplatform/i.test(b),sha:/wv\)/.test(b),ufa:/android/i.test(b),
Hga:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let e="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,r=new Map;function u(q,v,y){!0===v?(y(),r.set(q,!0)):v&&v.length&&(y(v[0]),r.set(q,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),q=>{e="Windows";if(q=q.split(" ")[2])switch(q){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,q=>{e="Mac OS X";(q=q.split(" ")[3])&&(c=q.replace("_","."))});u("isLinux",a.xga,()=>{e="Linux"});u("isChromeOS",a.Ffa,()=>{e="Chrome OS"});u("isAndroid",!a.LD&&Lb,q=>{e="Android";(q=q.split(" ")[1])&&(c=q)});u("isTizen",Tb,q=>{e="Tizen";(q=q.split(" ")[1])&&(c=q)});u("isIPhone",!a.LD&&Ub,q=>{e="iOS";(q=q.split(" ")[2])&&(c=q.replace("_","."))});u("isIPad",!a.LD&&Vb,q=>{e="iOS";(q=q.split(" ")[3])&&(c=q.replace("_","."))});u("isWindowsPhone",Wb,q=>{e="Windows Phone";
(q=q.split(" ")[2])&&(c=q)});u("isWindowsPhoneOS",Xb,q=>{e="Windows Phone";(q=q.split(" ")[3])&&(c=q)});u("isBlackberry",a.hW,()=>{e="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!a.Vfa&&!a.opera&&Yb,q=>{g="Chrome";h="Chromium";(q=q.split("/")[1])&&(m=q)});u("isOpera",Sb,q=>{g="Opera";h="Chromium";(q=q.split("/")[1])&&(m=q)});u("isChromium",Zb,q=>{h=g="Chromium";(q=q.split("/")[1])&&(m=q)});u("isFirefox",ac,q=>{g="Firefox";h="Gecko";(q=q.split("/")[1])&&(m=q)});u("isInternetExplorer",bc,
q=>{g="Internet Explorer";h="Trident";(q=q.split(" ")[1])&&(m=q)});u("isTrident","Internet Explorer"!==g&&a.kX,()=>{h="Trident";var q=/rv:[0-9.]+/i.exec(b);q&&q.length&&(g="Internet Explorer",(q=q[0].split(":")[1])&&(m=q))});u("isEdge",cc,q=>{h=g="Edge";(q=q.split("/")[1])&&(m=q)});u("isEdgeChromium",dc,q=>{g="Edge";h="Chromium";(q=q.split("/")[1])&&(m=q)});u("isSafari",a.Uga&&!a.Hga&&!a.Efa&&!a.Gfa&&!a.Psa&&!a.hW,()=>{g="Safari";h="WebKit";var q=/version\/[0-9.]+/i.exec(b),v=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);q&&q.length&&(q=q[0].split("/")[1])&&(m=q);v&&v.length&&(g="Chrome for iOS",(v=v[0].split("/")[1])&&(m=v));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,q=>{g="Silk";(q=q.split("/")[1])&&(m=q)});u("isCrosswalk",a.Jfa,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,q=>{l="nwjs";g="NW.js";h="Chromium";(q=q.split("/")[1])&&(m=q)});u("isAmazonWebApp",a.tfa,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&a.sha,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===e,()=>e="Firefox OS");u("isAndroidFallback","(unknown)"===e&&!a.LD&&a.ufa,()=>e="Android");u("isTridentFallback",
"(unknown)"===e&&a.kX,()=>h="Trident");u("isWebkitFallback","(unknown)"===e&&a.webkit,()=>h="WebKit");u("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=m,p=n=!1);d.Sb={Bh:e,oma:c,zc:g,nia:m,XD:parseFloat(m),Yx:h,dE:l,Ika:n,hz:!n,Jka:p,Dka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),zka:"Mac OS X"===e||"iOS"===e,Pka:w,Ska:"Linux"===e}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((q,v)=>{w.onsuccess=()=>q(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((q,v)=>{w.oncomplete=()=>q();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function g(w,q){return h(w,q)}function m(w,q){return h(w,q,!0)}async function h(w,q,v=!1,
y=!0){const A=await l(w);try{const G=A.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return q(G)}catch(G){if(y&&"InvalidStateError"===G.name)return d.delete(w),h(w,q,v,!1);throw G;}}function l(w){p(w);let q=d.get(w);q instanceof Promise||(q=n(w),d.set(w,q),q.catch(()=>d.delete(w)));return q}async function n(w){p(w);const q=indexedDB.open(w,2);q.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${w}`,
y)}});return e(q)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function r(w,q){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];v.onsuccess=G=>{if(G=G.target.result){switch(q){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,q){p(w);return m(this.name,async v=>{var y=v.objectStore("keyvaluepairs").put(q,
w);y=e(y);v=c(v);await Promise.all([v,y])})}get(w){p(w);return g(this.name,async q=>{var v=q.objectStore("keyvaluepairs").get(w);v=e(v);q=c(q);[,q]=await Promise.all([q,v]);return q})}delete(w){p(w);return m(this.name,async q=>{var v=q.objectStore("keyvaluepairs").delete(w);v=e(v);q=c(q);await Promise.all([q,v])})}clear(){return m(this.name,async w=>{var q=w.objectStore("keyvaluepairs").clear();q=e(q);w=c(w);await Promise.all([w,q])})}keys(){return g(this.name,async w=>{if(a){var q=w.objectStore("keyvaluepairs").getAllKeys();
q=e(q)}else q=r(w,"keys");w=c(w);[,w]=await Promise.all([w,q]);return w})}values(){return g(this.name,async w=>{if(b){var q=w.objectStore("keyvaluepairs").getAll();q=e(q)}else q=r(w,"values");w=c(w);[,w]=await Promise.all([w,q]);return w})}entries(){return g(this.name,async w=>{var q=r(w,"entries");w=c(w);[,q]=await Promise.all([w,q]);return q})}}self.K2=u}"use strict";
{const d=self.K2,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:r}=new MessageChannel;r.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.X=l;a.set(this,new Map)}Tu(l){if(!e)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async ZT(l){l=
a.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async uV(l,n){n=await m(n);a.get(this).set(l,n)}rV(l){a.get(this).delete(l)}zT(){a.get(this).clear()}HU(){return Array.from(a.get(this).keys())}async getItem(l,n){g(n);if(e)return await this.ZT(l);let p;try{p=await this.X.get(l)}catch(r){this.Tu(r);if(e)return await this.ZT(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(e)await this.uV(l,n);else try{await this.X.set(l,n)}catch(r){if(this.Tu(r),e)await this.uV(l,n);else throw r;}}async removeItem(l,n){g(n);if(e)this.rV(l);else try{await this.X.delete(l)}catch(p){this.Tu(p),e?this.rV(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(e)this.zT();else try{await this.X.clear()}catch(n){this.Tu(n),e?this.zT():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(e)return this.HU();l=[];try{l=await this.X.keys()}catch(n){this.Tu(n);
if(e)return this.HU();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return e?Promise.resolve(!0):this.X.ready()}qL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new d("localforage"))}
{"use strict";const d=self.D;d.Cb={};d.Cb.ura=(()=>{try{if("Safari"===d.Sb.zc||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.Cb.oja="undefined"!==typeof HTMLDialogElement;d.Cb.Mna=!!self.requestIdleCallback;d.Cb.ImageBitmap=!!self.createImageBitmap&&"Safari"!==d.Sb.zc;d.Cb.ImageBitmapOptions=!1;d.Cb.bz=!1;if(d.Cb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,
32),{premultiplyAlpha:"none"}).then(()=>{d.Cb.ImageBitmapOptions=!0}).catch(()=>{d.Cb.ImageBitmapOptions=!1})}catch(b){d.Cb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(b=>{d.Cb.bz=10===b.width&&10===b.height}).catch(()=>{d.Cb.bz=!1})}catch(b){d.Cb.bz=!1}}d.Cb.Eia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Sb.zc);d.Cb.Nma=!(!navigator.permissions||!navigator.permissions.query);d.Cb.cP="undefined"!==typeof Proxy;
d.Cb.tja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Cb.$x="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;d.Cb.Eja="function"===typeof fetch;d.Cb.Pma=!!(self.isSecureContext&&"Opera"!==d.Sb.zc&&navigator.storage&&navigator.storage.persist);d.Cb.uqa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===d.Sb.Bh)fc=!1;else{var gc=document.documentElement;fc=
!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}d.Cb.Pja=fc;d.Cb.nka="undefined"!==typeof self.ImageDecoder;d.Cb.vra=!!self.VideoEncoder;d.Cb.hma=!!self.showOpenFilePicker;d.Cb.ima=!(!navigator.fonts||!navigator.fonts.query);d.Cb.hra=!!navigator.userActivation}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.ut(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,e){return a.reduce((c,g)=>{0<e&&Array.isArray(g)?Array.prototype.push.apply(c,b(g,e-1)):c.push(g);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.le||(Array.prototype.le=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.le||(String.prototype.le=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>b({usage:e,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.vy())}}
{"use strict";const d=self.D,b=self.xg;d.Lm=function(e){return"number"===typeof e};d.Wf=function(e){return d.Lm(e)&&isFinite(e)};d.Yf=function(e){if(!d.Lm(e))throw new TypeError("expected number");};d.oP=function(){};d.ioa=function(e,c,g){if(!d.Lm(e)||isNaN(e)||c>e||g<e)throw new RangeError("number outside of range");};d.Vna=function(...e){for(let c of e);};d.Eh=function(e){if(!d.Wf(e))throw new TypeError("expected finite number");};d.lP=function(){};d.Sna=function(...e){for(let c of e);};d.Mi=function(e){return"string"===
typeof e};d.Ld=function(e){if(!d.Mi(e))throw new TypeError("expected string");};d.qP=function(){};d.Xna=function(...e){for(let c of e);};d.oO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.voa=function(e){if(!d.oO(e))throw new TypeError("expected simple object");};d.soa=function(e){if(!d.ne(e)&&!d.oO(e))throw new TypeError("expected simple object");};d.nO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.jP=function(e){if(!d.nO(e))throw new TypeError("expected object");
};d.pP=function(){};d.Wna=function(...e){for(let c of e);};d.gF=function(e){return d.Im(e,Blob)&&"string"===typeof e.name};d.goa=function(e){if(!d.gF(e))throw new TypeError("expected file");};d.qoa=function(){};d.Ao=function(e){return Array.isArray(e)};d.IF=function(e){if(!d.Ao(e))throw new TypeError("expected array");};d.kP=function(){};d.Rna=function(...e){for(let c of e);};d.l2=function(e){return d.Ao(e)?e.length?d.Ao(e[0])?!0:!1:!0:!1};d.Qna=function(e){if(!d.l2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Ao(c))throw new TypeError("expected 2d array");};d.joa=function(){};d.hF=function(e){return"function"===typeof e};d.hk=function(e,c){if(!d.hF(e))throw new TypeError("expected function");if(!d.ne(c)&&e!==c)throw new TypeError("expected same function reference");};d.mP=function(){};d.Tna=function(...e){for(let c of e);};d.Zna=function(e,...c){if(!d.hF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!d.ne(g)&&
e===g)return;throw new TypeError("expected same function reference");};d.koa=function(...e){if(!d.ne(e))for(let c of e);};d.Im=function(e,c){return e instanceof c};d.kO=function(e,...c){for(let g of c)if(d.Im(e,g))return!0;return!1};d.JF=function(e,c){if(!d.Im(e,c))throw new TypeError("unexpected type");};d.nP=function(){};d.Una=function(e,...c){for(let g of c);};d.$na=function(e,...c){if(!d.kO(e,...c))throw new TypeError("unexpected type");};d.aoa=function(e,...c){if(!d.ne(e)&&!d.kO(e,...c))throw new TypeError("unexpected type");
};d.Aka=function(e,c){for(let g of e)if(!d.Im(g,c))return!1;return!0};d.Bka=function(e){for(let c of e)if(!d.Wf(c))return!1;return!0};d.boa=function(e){for(let c of e);};d.loa=function(e){if(!d.ne(e))for(let c of e);};d.coa=function(e){for(let c of e);};d.moa=function(e){if(!d.ne(e))for(let c of e);};d.Fka=function(e,c){return d.ne(e)||!d.Mi(e.nodeName)?!1:!c||d.Yn(e.nodeName,c)};d.doa=function(e,c){if(d.ne(e)||!d.Mi(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Yn(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.noa=function(){};d.jF=function(e,c){return d.ne(e)||!d.Mi(e.tagName)?!1:!c||d.Yn(e.tagName,c)};d.hoa=function(e,c){if(d.ne(e)||!d.Mi(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.Yn(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.roa=function(){};d.eO=function(e){return d.jF(e,"img")||d.jF(e,"canvas")||d.jF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.eoa=function(e){if(!d.eO(e))throw new TypeError("expected drawable");
};d.ooa=function(){};d.fO=function(e){return e instanceof ImageData?!0:d.eO(e)};d.foa=function(e){if(!d.fO(e))throw new TypeError("expected drawable or image data");};d.poa=function(e){if(!d.ne(e)&&!d.fO(e))throw new TypeError("expected drawable or image data");};d.E2=function(e){return"string"===typeof e||e instanceof d.XE||e instanceof d.Am};d.woa=function(e){if(!d.E2(e))throw new TypeError("expected string-like");};d.toa=function(){};d.Yna=function(...e){for(let c of e);};d.uoa=function(){throw Error("must be overridden");
};d.nma=function(){throw Error("not yet implemented");};d.Hka=function(e,...c){if("undefined"===typeof e)return!1;for(let g of c){if("undefined"===typeof e[g])return!1;e=e[g]}return!0};d.ne=function(e){return"undefined"===typeof e||null===e};d.cia=function(e){let c=e[0].constructor;for(let g of e)if(g.constructor!==c)return!1;return c};d.dia=function(e,c){for(let g of e)if(!(g instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.rla=function(e){return d.Im(e,a)};d.xoa=function(){};
d.tra=function(e){d.o7(e,a)};d.sra=function(e,...c){if(!d.n7(e,...c))throw new TypeError("unexpected type");};d.n7=function(e,...c){for(const g of c)if(d.wQ(e,g))return!0;return!1};d.o7=function(e,c){if(!d.wQ(e,c))throw new TypeError("unexpected type");};d.wQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};b.Yf=d.Yf;b.oP=d.oP;b.Eh=d.Eh;b.lP=d.lP;b.Ld=d.Ld;b.qP=d.qP;b.jP=d.jP;b.pP=d.pP;b.IF=d.IF;b.kP=d.kP;b.hk=d.hk;b.mP=d.mP;b.JF=d.JF;b.nP=d.nP;b.ne=
d.ne}
{"use strict";const d=self.D,b=new Map;d.zna=function(u,...w){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...w);b.set(u,-1)}))};let a;d.rqa=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,gW:0,kL:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.gW.toPrecision(3)} :: calls => ${this.kL}`}})};d.vja=function(u){performance.measure("measure",u);const w=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=w.duration;u.total+=u.current;u.gW=u.total/u.kL;u.kL++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};d.vy=function(){return Error().stack};d.kja=function(){debugger};d.dsa=function(u,w){return u&&u instanceof w?u:null};d.Yk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":d.Lm(u)?"<number>":d.Mi(u)?"<string>":d.Ao(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":d.hF(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};d.uD=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};d.range=function*(u,w){if(!isFinite(Math.abs(u-w)))throw Error("Invalid parameters");if(u>w)for(--u;u>=w;u--)yield u;else for(;u<w;u++)yield u};let e=new Map,c=new Map,g=new WeakMap,m=new WeakMap;d.qq={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",d.vy())}d.qq.get=function(u,w){w in u||"symbol"===typeof w||h.has(w)||l(`Accessed missing property '${w}' from defended object '${d.Yk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof w&&!h.has(w)&&l(`Accessed property '${w}' on a released object '${d.Yk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[w]};d.qq.set=function(u,w,q){w in u||e.has(u)||l(`Set non-existent property '${w}' to '${q}' on defended object '${d.Yk(u)}'`);{var v=d.uD(u[w]);
let y=d.uD(q);v="null"===v||"null"===y?!0:"undefined"===v||"undefined"===y?!1:v===y}v||e.has(u)||l(`Set '${d.uD(u[w])}' property '${w}' to type '${d.uD(q)}' on defended object '${d.Yk(u)}'`);m.has(u)&&l(`Set property '${w}' on a released object '${d.Yk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[w]=q;return!0};d.qq.deleteProperty=function(u,w){throw new ReferenceError(`Cannot delete property '${w}' from defended object '${d.Yk(u)}'`);};d.qq.defineProperty=function(u,
w){throw new ReferenceError(`Cannot define property '${w}' on defended object '${d.Yk(u)}'`);};d.qq.usa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${d.Yk(u)}'`);};let n=-1;function p(){n=-1;if(0<e.size||0<c.size){let u=[...new Set([...e.keys()].map(w=>d.Yk(w)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);e.clear();c.clear()}}
d.ja=class{constructor(){if(d.GL&&d.Cb.cP){var u=new.target;u=Object.create(u.prototype);var w=new Proxy(u,d.qq);e.set(u,w);c.set(w,u);g.set(w,u);-1===n&&(n=requestAnimationFrame(p));return w}}};d.Lfa=function(u){if(d.GL&&d.Cb.cP&&u instanceof d.ja){if(!c.has(u))return u;let w=c.get(u);c.delete(u);e.delete(w);return u}return d.Dx?Object.seal(u):u};d.A=function(u,...w){let q;try{q=new u(...w)}catch(A){throw c.clear(),e.clear(),A;}if(d.GL){w=q;var v=new Set;for(y in w)v.add(y);var y=v;if(w=r.get(u)){v=
[];for(let A of w.values())y.has(A)?y.delete(A):v.push(A);d.Un(v,[...y]);v.length&&console.warn(`[Defence] '${d.Yk(u)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else r.set(u,y)}return d.Lfa(q)};d.j=function(u){(u=g.get(u))&&m.set(u,d.vy())};d.Pz=function(){let u=g.get(void 0);return u?!!m.get(u):!1};let r=new Map;d.Mma=class{constructor(u){this.Ja="";u&&this.start(u)}start(u){this.Ja=u;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(u){this.end();this.Ja=u;performance.mark(this.Ja+"-Start")}}}
{"use strict";const d=self.D,b=2*Math.PI,a=Math.PI/180,e=180/Math.PI;d.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};d.Bga=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};d.normalize=function(g,m,h){return(g-m)/(h-m)};d.da=function(g,m,h){return g<m?m:g>h?h:g};d.Be=function(g){g%=b;0>g&&(g+=b);return g};d.nb=function(g){return g*a};d.Mf=function(g){return g*e};d.Xs=function(g,m,h,l){return Math.hypot(h-g,l-m)};d.pW=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};d.iL=function(g,m,h,l){return Math.atan2(l-m,h-g)};d.Ws=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};d.hL=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),r=Math.cos(m);return Math.acos(l*p+n*r)>h?0<n*p-l*r?d.Be(g+h):d.Be(g-h):d.Be(m)};d.Gf=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};d.gL=function(g,m,h,l=0){let n=d.Ws(g,m);l*=b;return d.Gf(m,
g)?d.Be(g+(n+l)*h):d.Be(g-(n+l)*h)};d.wfa=function(g,m,h,l=0){const n=d.Ws(g,m);l*=b;return d.Gf(m,g)?d.Be(g+(n+l)*h):d.Be((b-n+l)*h)};d.vfa=function(g,m,h,l=0){const n=d.Ws(g,m);l*=b;return d.Gf(m,g)?d.Be((-b+n-l)*h):d.Be(g-(n+l)*h)};d.Ud=function(g,m,h){return g+h*(m-g)};d.nt=function(g,m,h){return g===m?0:(h-g)/(m-g)};d.Qga=function(g,m,h,l){return d.Ud(0,l,d.nt(g,m,h))};d.CD=function(g,m,h,l){return d.Ud(d.Ud(g,m,l),d.Ud(m,h,l),l)};d.nW=function(g,m,h,l,n){return d.Ud(d.CD(g,m,h,n),d.CD(m,h,l,
n),n)};d.mW=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};d.vi=function(g){return 0<g&&0===(g-1&g)};d.AD=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};d.Iua=function(g,m){return Math.round(g*m)/m};d.Asa=function(g,m){return Math.floor(g*m)/m};d.DD=function(g){return Math.round(1E6*g)/1E6};d.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};d.i4=function(g,m,h){return d.da(g,0,255)|d.da(m,
0,255)<<8|d.da(h,0,255)<<16};d.rz=function(g,m,h,l){g=d.da(Math.floor(1024*g),-8192,8191);m=d.da(Math.floor(1024*m),-8192,8191);h=d.da(Math.floor(1024*h),-8192,8191);l=d.da(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};d.YO=function(g,m,h){return d.rz(g,m,h,1)};d.KE=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};d.DE=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};d.tE=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};d.C_=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};d.gga=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Ssa=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=d.gga(g,m);return[g/h,m/h]};d.Pua=function(g,m,h,l,n,p,r,u){var w=Math.min(g,h),q=Math.max(n,r);if(Math.max(g,h)<Math.min(n,r)||w>q)return!1;w=Math.min(m,l);q=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||w>q)return!1;w=n-g+r-h;q=p-m+u-l;g=h-g;m=l-m;n=r-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*q-p*w)>u?!1:Math.abs(g*q-m*w)<=u};d.vm=function(g,m,h,l,n,p,r,u,w,q,v,y){const A=Math.max(w,v);if(p<
Math.min(w,v)||n>A)return!1;n=Math.max(q,y);if(u<Math.min(q,y)||r>n)return!1;r=w-g+v-h;u=q-m+y-l;g=h-g;m=l-m;w=v-w;q=y-q;y=Math.abs(m*w-q*g);return Math.abs(w*u-q*r)>y?!1:Math.abs(g*u-m*r)<=y};d.ED=function(g,m,h,l,n){const p=Math.min(g,h),r=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l),q=n.Db,v=n.Eb,y=n.tc,A=n.uc,G=n.oc,z=n.pc,F=n.mc;n=n.nc;return d.vm(g,m,h,l,p,r,u,w,q,v,y,A)||d.vm(g,m,h,l,p,r,u,w,y,A,G,z)||d.vm(g,m,h,l,p,r,u,w,G,z,F,n)||d.vm(g,m,h,l,p,r,u,w,F,n,q,v)};d.Oua=function(g,m,h,l,n){const p=
Math.min(g,h),r=Math.max(g,h),u=Math.min(m,l),w=Math.max(m,l);let q=0;for(let v=n.length-4;q<=v;q+=2)if(d.vm(g,m,h,l,p,r,u,w,n[q],n[q+1],n[q+2],n[q+3]))return!0;return d.vm(g,m,h,l,p,r,u,w,n[q],n[q+1],n[0],n[1])};d.Pga=function(g,m,h,l,n,p,r,u){h-=g;p=u-p;const w=h*p-(l-m)*(r-n);if(0===w)return 2;l=((m-l)*(r-g)+h*(u-m))/w;return 0<l&&1.000001>l?(p*(r-g)+(n-r)*(u-m))/w:2};d.Mx=function(g,m,h,l,n,p,r,u,w){const q=(r-n)*w;w*=u-p;return d.Pga(g,m,h,l,n-q,p-w,r+q,u+w)};d.rga=function(g,m,h,l,n,p,r,u){n-=
h;p-=l;r-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*r+p*u;n=n*g+p*h;p=r*r+u*u;r=r*g+u*h;u=1/(m*p-l*l);p=(p*n-l*r)*u;n=(m*r-l*n)*u;return 0<=p&&0<=n&&1>=p+n};d.pha=function(g,m,h,l,n,p,r,u){n-=h;p-=l;r-=h;u-=l;g-=h;const w=m-l;m=n*n+p*p;l=n*r+p*u;h=r*r+u*u;n=g*n+w*p;p=g*r+w*u;r=m*h-l*l;u=(h*n-l*p)/r;n=(m*p-l*n)/r;return[1-u-n,u,n]};d.oha=function(g,m,h,l,n,p,r,u,w){return[g*l+m*p+h*u,g*n+m*r+h*w]}}
{"use strict";const d=self.D;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.Rja=function(){return a};d.uE=function(){if(!b)return"";const l=b.location;return d.F0(l.origin+l.pathname)+a};d.F0=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Vja=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.b0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Dy=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.n3=function(l){return l.replace(/\\/g,"/")};d.Lka=function(l,n){return n===(l?d.b0(l).slice(1):"")};d.Fja=function(l,n){let p,r;d.gF(l)&&(p=d.Dy(l.name));d.Mi(l)&&(p=
d.Dy(l));d.gF(n)&&(r=d.Dy(n.name));d.Mi(n)&&(r=d.Dy(n));return p===r};d.Kma=function(l){l=d.n3(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let r="",u=l,w="";0<p&&(r=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(w=u.slice(p),l=u.slice(0,-w.length));return{dir:r,Ura:u,name:l,root:n,ext:w,Nsa:n+r+u}};d.rG=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.Yua=function(l){try{l()}catch(n){d.Dx&&console.warn("Swallowed exception: ",n)}};d.Rta=function(){};d.Yn=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.vsa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.qha=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.ff=function(l,n){l.length=n};d.F=function(l){l&&0!==l.length&&d.ff(l,0)};d.Hfa=function(l){if(l){for(let n=0;n<l.length;n++)d.ff(l[n],0);d.ff(l,0)}};d.qD=function(l,n,p){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(p)};d.TW=function(l){var n=4;const p=l.length;n<p?d.ff(l,n):n>p&&d.qD(l,n,"0")};d.Tc=function(l,n){d.F(l);d.Un(l,n)};d.Un=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,r=n.length;p<r;++p)l.push(n[p])};
d.zfa=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.ff(l,p)}};d.Xk=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.Tra=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let r=0;r<p;++r)if(l[r]!==n[r])return!1;return!0};d.yfa=function(l,n){let p=[],r=0;for(let u=0,w=l.length;u<w;++u){let q=l[u];n(q)?p.push(q):(l[r]=q,++r)}d.ff(l,r);return p};d.tg=function(l,n){const p=l.length;let r=0;for(let u=0,w=l.length;u<w;++u){let q=l[u];n.has(q)||
(l[r++]=q)}d.ff(l,r);return p-r};d.oga=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.nva=function(l,n){if(!d.oga(l,n))throw new RangeError("array index out of bounds");};d.pL=function(l){return l.slice()};d.Mfa=function(l,n){let p=[];for(let r of l)if(d.nO(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");p.push(l)}else d.Ao(r)?p.push(d.Mfa(r,n)):p.push(r);return p};d.esa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.Nta=function(l,n){return new Set([...l,...n])};d.Ota=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.ata=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.v4=function(l,n){return l.length?new Promise((p,
r)=>{const u=[];let w=0,q=!1;for(let v=0,y=l.length;v<y;++v)u.push(void 0),l[v].then(A=>{q||(u[v]=A,++w,w===l.length?p(u):n(w,l.length))}).catch(A=>{q=!0;r(A)})}):Promise.resolve([])};let e=[];d.Rha=function(l){e.push(l)};d.Tja=function(){let l=0;for(let n of e){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};d.HF=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};d.pY=function(l){g.delete(l)};d.p4=d.HF;d.l7=function(){return new Promise(l=>d.p4(l))};const h=new Set;d.Ona=function(l){const n=self.requestAnimationFrame(async p=>{await d.l7();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};d.tia=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const d=self.D;d.dF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.pF=function(b){return!d.dF(b)};d.S6=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.ty=function(b){return fetch(b,void 0).then(a=>{d.S6(a);return a})};d.xt=function(b){return d.ty(b).then(a=>a.text())};d.cN=function(b){return d.ty(b).then(a=>a.json())};d.al=function(b){return d.ty(b).then(a=>a.blob())};d.wt=function(b){return d.ty(b).then(a=>
a.arrayBuffer())};d.t_=function(b){return new Promise((a,e)=>{const c=new Image;c.onload=()=>a(c);c.onerror=g=>e(g);c.src=b})};d.dY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(b)})};d.sM=function(b){return"function"===typeof b.text?b.text():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsText(b)})};d.kia=function(b){return d.sM(b).then(a=>
JSON.parse(a))};d.eY=async function(b){b=URL.createObjectURL(b);try{const a=await d.t_(b);URL.revokeObjectURL(b);b="";return a}finally{b&&URL.revokeObjectURL(b)}};d.vh=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=b;e.height=a;return e}return new OffscreenCanvas(b,a)};d.$x=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.da(e,0,1);return b.toBlob?new Promise(c=>b.toBlob(c,a,e)):b.convertToBlob?
b.convertToBlob({type:a,quality:e}):d.fo(()=>d.yM(b,a,e))};d.yM=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.da(e,0,1);return d.UY(b.toDataURL(a,e))};d.UY=function(b){b=d.j4(b);return d.cY(b.data,b.Cga)};d.j4=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var e=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=a[2];e="base64"===a[1]||"base64"===c?atob(e):
decodeURIComponent(e);return{Cga:b,data:e}};d.cY=function(b,a){var e=b.length;let c=e>>2,g=new Uint8Array(e),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(e&=3;e--;)g[l]=b.charCodeAt(l),++l;return a?new Blob([g],{type:a}):new Blob([g])};d.WM=function(b,a,e){const c=d.vh(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return d.$x(c,a,e)};d.mka=function(b,a,e){const c=d.vh(b.width,b.height);c.getContext("2d").putImageData(b,
0,0);return d.yM(c,a,e)};d.lka=function(b,a,e){if(d.Cb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>d.WM(c,a,e));if(d.Cb.ImageBitmap)return createImageBitmap(b).then(c=>d.WM(c,a,e));{const c=d.vh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.$x(c,a,e)}};d.KY=function(b,a){b.clear();for(const e of a)b.add(e)};d.Tla=function(b){const a=Object.create(null);for(const [e,c]of b.entries())a[e]=c;return a};d.pma=function(b,a){a.clear();for(const [e,
c]of Object.entries(b))a.set(e,c)};d.oG=function e(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>e(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(a))c[g]=e(m);return c}}return a};d.qE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(g=>c(g)));if("map"===e._c3type_)return new Map(e.data.map(g=>[g[0],c(g[1])]));
{const g=Object.create(null);for(const [m,h]of Object.entries(e))g[m]=c(h);return g}}return e};d.iY=function(e){let c="",g=!1;for(const m of e)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};d.Km=function(e){return"object"===typeof e&&"function"===typeof e.next};d.b3=function(e){const c=[];for(let g=0;g<e;++g)c.push(0);return c}}
{"use strict";const d=self.D;d.fb=class{constructor(b,a,e,c){this.Za=this.$a=this.ab=this.Xa=0;b instanceof d.fb?this.set(b):this.bo(b||0,a||0,e||0,c||0)}it(b,a,e){this.Xa=+b;this.ab=+a;this.$a=+e;this.da()}bo(b,a,e,c){this.Xa=+b;this.ab=+a;this.$a=+e;this.Za=+c;this.da()}set(b){this.Xa=b.Xa;this.ab=b.ab;this.$a=b.$a;this.Za=b.Za;return this}ta(b){return this.set(b)}add(b){this.Xa+=b.Xa;this.ab+=b.ab;this.$a+=b.$a;this.Za+=b.Za;this.da()}bW(b,a,e){this.Xa+=+b;this.ab+=+a;this.$a+=+e;this.Za+=0;this.da()}Bj(b){this.Xa=
b.Xa;this.ab=b.ab;this.$a=b.$a}ZW(b){this.Xa=d.da(+b,0,1)}Yga(b){this.ab=d.da(+b,0,1)}Vga(b){this.$a=d.da(+b,0,1)}gt(b){this.Za=d.da(+b,0,1)}clone(){return d.A(d.fb,this.Xa,this.ab,this.$a,this.Za)}toArray(){return[this.Xa,this.ab,this.$a,this.Za]}th(b,a){b[a++]=this.Xa;b[a++]=this.ab;b[a++]=this.$a;b[a]=this.Za}rd(b){return this.Xa===b.Xa&&this.ab===b.ab&&this.$a===b.$a&&this.Za===b.Za}tm(b){return this.Xa===b.Xa&&this.ab===b.ab&&this.$a===b.$a}pD(b,a,e,c){return this.Xa===b&&this.ab===a&&this.$a===
e&&this.Za===c}multiply(b){this.Xa*=b.Xa;this.ab*=b.ab;this.$a*=b.$a;this.Za*=b.Za}VL(){this.Xa*=this.Za;this.ab*=this.Za;this.$a*=this.Za}da(){this.Xa=d.da(this.Xa,0,1);this.ab=d.da(this.ab,0,1);this.$a=d.da(this.$a,0,1);this.Za=d.da(this.Za,0,1);return this}ht(b){this.Xa=d.KE(b);this.ab=d.DE(b);this.$a=d.tE(b);this.Za=d.C_(b)}cga(){return`rgb(${100*(d.Wf(void 0)?NaN:this.Xa)}%, ${100*(d.Wf(void 0)?NaN:this.ab)}%, ${100*(d.Wf(void 0)?NaN:this.$a)}%)`}LW(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var e=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.ZW(b);isFinite(e)&&this.Yga(e);isFinite(a)&&this.Vga(a);this.gt(1)}}}toJSON(){return[this.Xa,this.ab,this.$a,this.Za]}wm(b){!Array.isArray(b)||3>b.length||(this.Xa=b[0],this.ab=b[1],this.$a=b[2],this.Za=4<=b.length?b[3]:1)}set r(b){this.ZW(b)}get r(){return this.Xa}set iq(b){this.gt(b)}get iq(){return this.Za}static jE(b,a){return d.da(Math.max(b,
a)-Math.min(b,a),0,1)}};d.fb.Cra=Object.freeze(d.A(d.fb,1,1,1,1));d.fb.jia=Object.freeze(d.A(d.fb,0,0,0,1));d.fb.Vqa=Object.freeze(d.A(d.fb,0,0,0,0))}
{"use strict";const d=self.D;d.Du=class{constructor(b,a){this.R=this.T=0;b instanceof d.Du?this.ta(b):this.set(b||0,a||0)}set(b,a){this.T=+b;this.R=+a}ta(b){this.T=b.T;this.R=b.R}rd(b){return this.T===b.T&&this.R===b.R}toArray(){return[this.T,this.R]}th(b,a){b[a++]=this.T;b[a]=this.R}offset(b,a){this.T+=+b;this.R+=+a}scale(b,a){this.T*=b;this.R*=a}rm(b,a){this.T/=b;this.R/=a}round(){this.T=Math.round(this.T);this.R=Math.round(this.R)}floor(){this.T=Math.floor(this.T);this.R=Math.floor(this.R)}ceil(){this.T=
Math.ceil(this.T);this.R=Math.ceil(this.R)}angle(){return d.iL(0,0,this.T,this.R)}wga(){return this.T*this.T+this.R*this.R}length(){return Math.sqrt(this.wga())}Tga(b,a){const e=this.T*a-this.R*b;this.R=this.R*a+this.T*b;this.T=e}rotate(b){0!==b&&this.Tga(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.T+=Math.cos(b)*a,this.R+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.T/=b,this.R/=b)}da(b,a){this.T=d.da(this.T,b,a);this.R=d.da(this.R,b,a)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(b,a,e,c){this.ca=this.ia=this.S=this.Z=0;b instanceof d.Rect?this.ta(b):this.set(b||0,a||0,e||0,c||0)}set(b,a,e,c){this.Z=+b;this.S=+a;this.ia=+e;this.ca=+c}rh(b,a,e,c){b=+b;a=+a;this.Z=b;this.S=a;this.ia=b+ +e;this.ca=a+ +c}ta(b){this.Z=+b.Z;this.S=+b.S;this.ia=+b.ia;this.ca=+b.ca}clone(){return new d.Rect(this.Z,this.S,this.ia,this.ca)}rd(b){return this.Z===b.Z&&this.S===b.S&&this.ia===b.ia&&this.ca===b.ca}Wfa(b,a,e,c){return this.Z===b&&this.S===
a&&this.width()===e&&this.height()===c}toArray(){return[this.Z,this.S,this.ia,this.ca]}hha(){new DOMRect(this.Z,this.S,this.width(),this.height())}th(b,a){b[a++]=this.Z;b[a++]=this.S;b[a++]=this.ia;b[a]=this.ca}tha(b,a){b[a++]=this.Z;b[a++]=this.S;b[a++]=this.ia;b[a++]=this.S;b[a++]=this.ia;b[a++]=this.ca;b[a++]=this.Z;b[a]=this.ca}width(){return this.ia-this.Z}height(){return this.ca-this.S}et(){return(this.Z+this.ia)/2}ft(){return(this.S+this.ca)/2}offset(b,a){b=+b;a=+a;this.Z+=b;this.S+=a;this.ia+=
b;this.ca+=a}offsetLeft(b){this.Z+=+b}offsetTop(b){this.S+=+b}Jga(b){this.ia+=+b}Iga(b){this.ca+=+b}vD(b,a){b=+b;a=+a;this.Z-=b;this.S-=a;this.ia+=b;this.ca+=a}multiply(b,a){this.Z*=b;this.S*=a;this.ia*=b;this.ca*=a}rm(b,a){this.Z/=b;this.S/=a;this.ia/=b;this.ca/=a}Zn(){this.S=1-this.S;this.ca=1-this.ca}eha(){const b=this.Z;this.Z=this.ia;this.ia=b}fha(){const b=this.S;this.S=this.ca;this.ca=b}round(){this.Z=Math.round(this.Z);this.S=Math.round(this.S);this.ia=Math.round(this.ia);this.ca=Math.round(this.ca)}UW(){this.Z=
Math.floor(this.Z);this.S=Math.floor(this.S);this.ia=Math.ceil(this.ia);this.ca=Math.ceil(this.ca)}floor(){this.Z=Math.floor(this.Z);this.S=Math.floor(this.S);this.ia=Math.floor(this.ia);this.ca=Math.floor(this.ca)}ceil(){this.Z=Math.ceil(this.Z);this.S=Math.ceil(this.S);this.ia=Math.ceil(this.ia);this.ca=Math.ceil(this.ca)}da(b,a,e,c){this.Z<b&&(this.Z=+b);this.S<a&&(this.S=+a);this.ia>e&&(this.ia=+e);this.ca>c&&(this.ca=+c)}normalize(){this.Z>this.ia&&this.eha();this.S>this.ca&&this.fha()}wD(b){return!(b.ia<
this.Z||b.ca<this.S||b.Z>this.ia||b.S>this.ca)}nga(b,a,e){return!(b.ia+a<this.Z||b.ca+e<this.S||b.Z+a>this.ia||b.S+e>this.ca)}If(b,a){return b>=this.Z&&b<=this.ia&&a>=this.S&&a<=this.ca}}}
{"use strict";const d=self.D;d.Ed=class{constructor(b,a,e,c,g,m,h,l){this.nc=this.mc=this.pc=this.oc=this.uc=this.tc=this.Eb=this.Db=0;b instanceof d.Ed?this.ta(b):this.set(b||0,a||0,e||0,c||0,g||0,m||0,h||0,l||0)}set(b,a,e,c,g,m,h,l){this.Db=+b;this.Eb=+a;this.tc=+e;this.uc=+c;this.oc=+g;this.pc=+m;this.mc=+h;this.nc=+l}$W(b,a,e,c){this.set(b,a,e,a,e,c,b,c)}ta(b){this.Db=b.Db;this.Eb=b.Eb;this.tc=b.tc;this.uc=b.uc;this.oc=b.oc;this.pc=b.pc;this.mc=b.mc;this.nc=b.nc}rd(b){return this.Db===b.Db&&this.Eb===
b.Eb&&this.tc===b.tc&&this.uc===b.uc&&this.oc===b.oc&&this.pc===b.pc&&this.mc===b.mc&&this.nc===b.nc}toArray(){return[this.Db,this.Eb,this.tc,this.uc,this.oc,this.pc,this.mc,this.nc]}th(b,a){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=this.tc;b[a++]=this.uc;b[a++]=this.oc;b[a++]=this.pc;b[a++]=this.mc;b[a]=this.nc}uha(b,a,e){b[a++]=this.Db;b[a++]=this.Eb;b[a++]=e;b[a++]=this.tc;b[a++]=this.uc;b[a++]=e;b[a++]=this.oc;b[a++]=this.pc;b[a++]=e;b[a++]=this.mc;b[a++]=this.nc;b[a]=e}offset(b,a){b=+b;a=+a;this.Db+=
b;this.Eb+=a;this.tc+=b;this.uc+=a;this.oc+=b;this.pc+=a;this.mc+=b;this.nc+=a}round(){this.Db=Math.round(this.Db);this.Eb=Math.round(this.Eb);this.tc=Math.round(this.tc);this.uc=Math.round(this.uc);this.oc=Math.round(this.oc);this.pc=Math.round(this.pc);this.mc=Math.round(this.mc);this.nc=Math.round(this.nc)}floor(){this.Db=Math.floor(this.Db);this.Eb=Math.floor(this.Eb);this.tc=Math.floor(this.tc);this.uc=Math.floor(this.uc);this.oc=Math.floor(this.oc);this.pc=Math.floor(this.pc);this.mc=Math.floor(this.mc);
this.nc=Math.floor(this.nc)}ceil(){this.Db=Math.ceil(this.Db);this.Eb=Math.ceil(this.Eb);this.tc=Math.ceil(this.tc);this.uc=Math.ceil(this.uc);this.oc=Math.ceil(this.oc);this.pc=Math.ceil(this.pc);this.mc=Math.ceil(this.mc);this.nc=Math.ceil(this.nc)}Gj(b){this.Db=b.Z;this.Eb=b.S;this.tc=b.ia;this.uc=b.S;this.oc=b.ia;this.pc=b.ca;this.mc=b.Z;this.nc=b.ca}Xga(b,a){0===a?this.Gj(b):this.YW(b,Math.sin(a),Math.cos(a))}YW(b,a,e){const c=b.Z*a,g=b.S*a,m=b.ia*a;a*=b.ca;const h=b.Z*e,l=b.S*e,n=b.ia*e;b=b.ca*
e;this.Db=h-g;this.Eb=l+c;this.tc=n-g;this.uc=l+m;this.oc=n-a;this.pc=b+m;this.mc=h-a;this.nc=b+c}zL(b){b.set(Math.min(this.Db,this.tc,this.oc,this.mc),Math.min(this.Eb,this.uc,this.pc,this.nc),Math.max(this.Db,this.tc,this.oc,this.mc),Math.max(this.Eb,this.uc,this.pc,this.nc))}If(b,a){var e=this.tc-this.Db,c=this.uc-this.Eb;const g=this.oc-this.Db,m=this.pc-this.Eb;b-=this.Db;a-=this.Eb;var h=e*e+c*c;let l=e*g+c*m;c=e*b+c*a;const n=g*g+m*m,p=g*b+m*a;let r=1/(h*n-l*l);e=(n*c-l*p)*r;h=(h*p-l*c)*r;
if(0<=e&&0<h&&1>e+h)return!0;e=this.mc-this.Db;c=this.nc-this.Eb;h=e*e+c*c;l=e*g+c*m;c=e*b+c*a;r=1/(h*n-l*l);e=(n*c-l*p)*r;h=(h*p-l*c)*r;return 0<=e&&0<h&&1>e+h}et(){return(this.Db+this.tc+this.oc+this.mc)/4}ft(){return(this.Eb+this.uc+this.pc+this.nc)/4}CL(b){var a=b.et(),e=b.ft();if(this.If(a,e))return!0;a=this.et();e=this.ft();if(b.If(a,e))return!0;a=this.Db;e=this.Eb;const c=this.tc,g=this.uc,m=this.oc,h=this.pc,l=this.mc,n=this.nc;return d.ED(a,e,c,g,b)||d.ED(c,g,m,h,b)||d.ED(m,h,l,n,b)||d.ED(l,
n,a,e,b)}Sga(){const b=this.Db,a=this.Eb;this.Db=this.tc;this.Eb=this.uc;this.tc=this.oc;this.uc=this.pc;this.oc=this.mc;this.pc=this.nc;this.mc=b;this.nc=a}}}
{"use strict";const d=self.D,b=[0,0,1,0,1,1,0,1],a=d.A(d.Ed);d.lo=class extends d.ja{constructor(e,c=!0){super();e||(e=b);this.Rd=Float64Array.from(e);this.DA=new d.Rect;this.Dp=!0;this.Zg=c}j(){}MW(){return this.Rd.length/2}FD(e){this.Rd.length===e.length?this.Rd.set(e):this.Rd=Float64Array.from(e);this.Dp=!0}Wga(){this.FD(b)}ta(e){this.FD(e.Rd)}aM(){this.Dp=!0}ofa(){if(this.Dp){var e=this.Rd,c=e[0],g=e[1],m=c,h=g;for(let l=0,n=e.length;l<n;l+=2){const p=e[l],r=e[l+1];p<c&&(c=p);p>m&&(m=p);r<g&&
(g=r);r>h&&(h=r)}this.DA.set(c,g,m,h);this.Dp=!1}}Gj(e){let c=this.Rd;8!==c.length&&(this.Rd=c=new Float64Array(8));c[0]=e.Z-NaN;c[1]=e.S-NaN;c[2]=e.ia-NaN;c[3]=e.S-NaN;c[4]=e.ia-NaN;c[5]=e.ca-NaN;c[6]=e.Z-NaN;c[7]=e.ca-NaN;this.DA.ta(e);this.DA.offset(NaN,NaN);this.Dp=!1}bM(e,c,g){a.ta(e);a.offset(c,g);this.FD(a.toArray());this.Dp=!0}transform(e,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.iM(e,c,m,h)}iM(e,c,g,m){const h=this.Rd;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,r=h[l]*e,
u=h[p]*c;h[l]=r*m-u*g;h[p]=u*m+r*g}this.Dp=!0}offset(e,c){const g=this.Rd;for(let m=0,h=g.length;m<h;m+=2)g[m]+=e,g[m+1]+=c}If(e,c){const g=this.Rd;if(e===g[0]&&c===g[1])return!0;this.ofa();var m=this.DA;const h=m.Z-110,l=m.S-101,n=m.ia+131;m=m.ca+120;let p,r,u,w,q,v,y,A;h<e?(p=h,u=e):(p=e,u=h);l<c?(r=l,w=c):(r=c,w=l);n<e?(q=n,y=e):(q=e,y=n);m<c?(v=m,A=c):(v=c,A=m);let G=0,z=0;for(let H=0,J=g.length;H<J;H+=2){var F=(H+2)%J;const M=g[H],Q=g[H+1],R=g[F];F=g[F+1];d.vm(h,l,e,c,p,u,r,w,M,Q,R,F)&&++G;d.vm(n,
m,e,c,q,y,v,A,M,Q,R,F)&&++z}return 1===G%2||1===z%2}Cx(e,c,g){const m=e.Rd,h=this.Rd;if(this.If(m[0]+c,m[1]+g)||e.If(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;e=h[n];const r=h[n+1],u=h[l];l=h[l+1];let w,q,v,y;e<u?(w=e,v=u):(w=u,v=e);r<l?(q=r,y=l):(q=l,y=r);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(d.vm(e,r,u,l,w,v,q,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}Gm(){return this.Zg}}}
{"use strict";const d=self.D;d.fu=class extends d.ja{constructor(b){super();this.Ck=new Map;if(b)for(const [a,e,c]of b)this.Set(a,e,c)}j(){this.Ad();this.Ck=null}Ad(){const b=this.Ck;for(const a of b.values())a.clear();b.clear()}Set(b,a,e){const c=this.Ck;let g=c.get(b);g||(g=new Map,c.set(b,g));g.set(a,e)}ba(b,a){return(b=this.Ck.get(b))?b.get(a):b}Yy(b){return(b=this.Ck.get(b))?b.has(void 0):!1}mo(b,a){const e=this.Ck,c=e.get(b);c&&c.delete(a)&&0===c.size&&e.delete(b)}TM(b){const a=this.Ck,e=a.get(b);
e&&(e.clear(),a.delete(b));for(const [c,g]of a.entries())g.delete(b)&&0===g.size&&a.delete(c)}Fm(){let b=0;for(const a of this.Ck.values())b+=a.size;return b}*values(){for(const b of this.Ck.values())yield*b.values()}*entries(){for(const [b,a]of this.Ck.entries())for(const [e,c]of a.entries())yield[b,e,c]}}}
{"use strict";const d=self.D;d.UD=class extends d.ja{constructor(){super();this.Cn=new Set;this.AA=[];this.ww=!1}j(){this.Ad()}Ad(){this.Cn.clear();d.F(this.AA);this.ww=!1}Uc(b){this.Cn.has(b)||(this.Cn.add(b),this.ww||this.AA.push(b))}Yy(b){return this.Cn.has(b)}mo(b){this.Cn.delete(b)&&(this.ww=!0)}Fm(){return this.Cn.size}Do(){return 0===this.Cn.size}sE(){this.ww&&(this.mba(),this.ww=!1);return this.AA}mba(){const b=this.AA;d.F(b);for(const a of this.Cn)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,e=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.tt=class m{constructor(){}static w2(h){this.BG();return[...b.keys()].includes(h)}static Q9(h){const l=g.get(h);if(l)return d.get(l);if(m.w2(h))return d.get(h);if(c.has(h))return c.get(h)}static uo(h){this.BG();const l=m.Q9(h);return l?l:e.get(h)}static BG(){0===d.size&&(this.Fb("default",()=>{}),this.Fb("noease",this.m3),this.Fb("easeinsine",this.ZZ),this.Fb("easeoutsine",
this.h_),this.Fb("easeinoutsine",this.VZ),this.Fb("easeinelastic",this.KZ),this.Fb("easeoutelastic",this.c_),this.Fb("easeinoutelastic",this.QZ),this.Fb("easeinback",this.HZ),this.Fb("easeoutback",this.$Z),this.Fb("easeinoutback",this.MZ),this.Fb("easeinbounce",this.XM),this.Fb("easeoutbounce",this.mE),this.Fb("easeinoutbounce",this.NZ),this.Fb("easeincubic",this.JZ),this.Fb("easeoutcubic",this.b_),this.Fb("easeinoutcubic",this.PZ),this.Fb("easeinquad",this.WZ),this.Fb("easeoutquad",this.e_),this.Fb("easeinoutquad",
this.SZ),this.Fb("easeinquart",this.XZ),this.Fb("easeoutquart",this.f_),this.Fb("easeinoutquart",this.TZ),this.Fb("easeinquint",this.YZ),this.Fb("easeoutquint",this.g_),this.Fb("easeinoutquint",this.UZ),this.Fb("easeincirc",this.IZ),this.Fb("easeoutcirc",this.a_),this.Fb("easeinoutcirc",this.OZ),this.Fb("easeinexpo",this.LZ),this.Fb("easeoutexpo",this.d_),this.Fb("easeinoutexpo",this.RZ),this.EQ("cubicbezier",this.GZ),this.EQ("spline",this.i_))}static Fb(h,l){m.uG(h,l,"predefined")}static EQ(h,l){m.uG(h,
l,"private")}static zX(h,l){this.BG();m.uG(h,l,"custom",void 0)}static uG(h,l,n,p){switch(n){case "predefined":d.set(h,l);b.set(h,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(h,l)):e.set(h,l);break;case "private":d.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static m3(h,l,n,p){return n*h/p+l}static WZ(h,l,n,p){return n*(h/=p)*h+l}static e_(h,l,n,p){return-n*(h/=p)*(h-2)+l}static SZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static JZ(h,
l,n,p){return n*(h/=p)*h*h+l}static b_(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static PZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static XZ(h,l,n,p){return n*(h/=p)*h*h*h+l}static f_(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static TZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static YZ(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static g_(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static UZ(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static ZZ(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static h_(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static VZ(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static LZ(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static d_(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static RZ(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static IZ(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static a_(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static OZ(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static KZ(h,l,n,p){let r=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;r||(r=.3*p);u<Math.abs(n)?(u=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/r))+l}static c_(h,l,n,p){let r,u=0,w=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);w<Math.abs(n)?(w=n,r=u/4):r=u/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*h)*Math.sin(2*(h*p-r)*
Math.PI/u)+n+l}static QZ(h,l,n,p){let r,u=0,w=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);w<Math.abs(n)?(w=n,r=u/4):r=u/(2*Math.PI)*Math.asin(n/w);return 1>h?-.5*w*Math.pow(2,10*--h)*Math.sin(2*(h*p-r)*Math.PI/u)+l:w*Math.pow(2,-10*--h)*Math.sin(2*(h*p-r)*Math.PI/u)*.5+n+l}static HZ(h,l,n,p,r){void 0===r&&(r=1.70158);return n*(h/=p)*h*((r+1)*h-r)+l}static $Z(h,l,n,p,r){void 0===r&&(r=1.70158);return n*((h=h/p-1)*h*((r+1)*h+r)+1)+l}static MZ(h,l,n,p,r){void 0===r&&(r=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((r*=1.525)+1)*h-r)+l:n/2*((h-=2)*h*(((r*=1.525)+1)*h+r)+2)+l}static XM(h,l,n,p){return n-m.mE(p-h,0,n,p)+l}static mE(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static NZ(h,l,n,p){return h<p/2?.5*m.XM(2*h,0,n,p)+l:.5*m.mE(2*h-p,0,n,p)+.5*n+l}static GZ(h,l,n,p,r){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(r-l+3*n-3*p)}static i_(h,l,n,p,r,u,w,q,v,y){if(p===
r&&u===w)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;q=q-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*q*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((q*y+u)*y+l)*y-h)/(3*q*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((q*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((v-3*w+3*r-n)*h+(3*w-6*r+3*n))*h+3*(r-n))*h}static I_(h,l,n,p){const r=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,r.push(((p*l+n)*l+h)*l);return r}}}{"use strict";const d=self.D;d.rna=class{constructor(){this.EU=[]}j(){this.Ad();this.EU=null}Ad(){d.Hfa(this.EU)}}}"use strict";
self.D.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.pga=this.WL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.pga)throw Error(`cannot stop async event '${this.type}' propagation`);this.WL=!0}};
{"use strict";const d=self.D;d.Event.Z0=class extends d.ja{constructor(b){super();this.Ba=b;this.uf=[];this.Er=new Set;this.Bf=[];this.js=new Set;this.Hv=0;this.vs=[]}j(){0<this.Hv||(d.F(this.uf),this.Er.clear(),d.F(this.Bf),this.js.clear(),d.F(this.vs),d.j(this))}CQ(b,a){this.TR()?this.vs.push({QL:"add",ti:b,capture:a}):a?this.Er.has(b)||(this.uf.push(b),this.Er.add(b)):this.js.has(b)||(this.Bf.push(b),this.js.add(b))}Bba(b,a){this.TR()?this.vs.push({QL:"remove",ti:b,capture:a}):a?this.Er.has(b)&&
(this.Er.delete(b),d.Xk(this.uf,b)):this.js.has(b)&&(this.js.delete(b),d.Xk(this.Bf,b))}F$(){return!this.uf.length&&!this.Bf.length}TR(){return 0<this.Hv}jba(){const b=new Set,a=new Set;for(const e of this.vs)if("add"===e.QL)this.CQ(e.ti,e.capture),e.capture?a.delete(e.ti):b.delete(e.ti);else if("remove"===e.QL)e.capture?(this.Er.delete(e.ti),a.add(e.ti)):(this.js.delete(e.ti),b.add(e.ti));else throw Error("invalid op");d.tg(this.Bf,b);d.tg(this.uf,a);d.F(this.vs)}C9(b){this.pr();let a=!1;for(let e=
0,c=this.uf.length;e<c;++e)if(this.uf[e](b),b.WL){a=!0;break}if(!a)for(let e=0,c=this.Bf.length;e<c&&(this.Bf[e](b),!b.WL);++e);this.jr();return!b.defaultPrevented}E9(b){this.pr();for(let a=0,e=this.uf.length;a<e;++a)this.uf[a](b);for(let a=0,e=this.Bf.length;a<e;++a)this.Bf[a](b);this.jr();return!0}pr(){this.Hv++}jr(){this.Hv--;0===this.Hv&&0<this.vs.length&&this.jba()}Xq(b){b?this.pr():this.jr()}jR(b){const a=[];this.pr();for(let c=0,g=this.uf.length;c<g;++c){var e=this.uf[c](b);e instanceof Promise&&
a.push(e)}for(let c=0,g=this.Bf.length;c<g;++c)e=this.Bf[c](b),e instanceof Promise&&a.push(e);this.jr();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async z9(b){return await this.jR(b)}async A9(b){this.pr();for(let e=0,c=this.uf.length;e<c;++e){var a=this.uf[e](b);a instanceof Promise&&await a}for(let e=0,c=this.Bf.length;e<c;++e)a=this.Bf[e](b),a instanceof Promise&&await a;this.jr();return!b.defaultPrevented}*B9(b){this.pr();for(let e=0,c=this.uf.length;e<c;++e){var a=
this.uf[e](b);d.Km(a)&&(yield*a)}for(let e=0,c=this.Bf.length;e<c;++e)a=this.Bf[e](b),d.Km(a)&&(yield*a);this.jr()}}}
{"use strict";const d=self.D;d.Event.Rb=class extends d.ja{constructor(){super();this.sp=new Map;this.xI=!1}j(){if(this.xI)throw Error("already released");this.vY();this.xI=!0;d.j(this)}Pz(){return this.xI}vY(){for(let b of this.sp.values())b.j();this.sp.clear()}bp(b,a){let e=this.sp.get(b);return e?e:a?(e=d.A(d.Event.Z0,b),this.sp.set(b,e),e):null}SE(b){return this.sp.has(b)}addEventListener(b,a,e){this.bp(b,!0).CQ(a,!!e)}removeEventListener(b,a,e){let c=this.bp(b,!1);c&&(c.Bba(a,!!e),c.F$()&&this.sp.delete(b))}dispatchEvent(b){const a=
this.bp(b.type,!1);return a?b.cancelable?a.C9(b):a.E9(b):!0}async tL(b){const a=this.bp(b.type,!1);return a?await a.z9(b):!0}Rfa(b){const a=this.bp(b.type,!1);return a?a.jR(b):!0}async Qfa(b){const a=this.bp(b.type,!1);a&&await a.A9(b)}Sfa(b){const a=this.bp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.B9(b)}Xq(b){for(const a of this.sp.values())a.Xq(b)}}}
{"use strict";const d=self.D,b="undefined"!==typeof requestIdleCallback;let a=[],e=-1,c=0;function g(n){e=b&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){e=-1;if(a.length){var p=performance.now(),r=0;do{h(a.shift());var u=performance.now();++r;var w=(u-p)/r*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>u-p+w));-1===e&&a.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.ti()}catch(r){n.reject(r);return}n.resolve(p)}let l=d.CF.Yy("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.fo=function(n){let p=null;d.Dx&&(p=d.vy());return new Promise((r,u)=>{a.push({ti:n,resolve:r,reject:u,stack:p});l?h(a.pop()):-1===e&&g(16)})};d.fo.KP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let b=-1;function a(){b=-1}d.ry=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let e=-1,c=-1,g=new Set;function m(){c=e=-1;let h=Date.now();for(let l of g)if(l.c8(h)){let n=l.pp;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(e=self.setTimeout(m,Math.max(c-h+100,1E3)))}d.C1=class{constructor(h,l){this.Dr=h;this.VC=1E3*l;this.pp=0;this.Mb=!1}ld(){let h=d.ry();this.pp=h+this.VC;this.Mb||(g.add(this),this.Mb=!0);-1===e?(c=this.pp,e=self.setTimeout(m,this.VC+
100)):this.pp<c&&c>h+1E3&&(self.clearTimeout(e),c=this.pp,e=self.setTimeout(m,this.VC+100))}c8(h){return h>=this.pp?this.Dr()?(this.pp=h+this.VC,!0):this.Mb=!1:!0}nY(){this.Mb&&(g.delete(this),this.Mb=!1,0===g.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}j(){this.nY();this.Dr=null}}}
{"use strict";const d=self.D;d.Hc=class b{constructor(a){this.Pr=!1;this.yI=a}my(){this.Pr||(this.Pr=!0,this.yI&&(this.yI(),this.yI=null))}j(){this.my()}static j(a){return new b(()=>a.j())}static Bd(a,e,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const m=new d.pt;for(let h of e)a.addEventListener(h,c,g),m.Uc(d.A(d.Hc,()=>a.removeEventListener(h,c,g)));return m}a.addEventListener(e,
c,g);return d.A(d.Hc,()=>a.removeEventListener(e,c,g))}};d.Dqa=class extends d.Hc{};d.pt=class extends d.Hc{constructor(...b){super();this.wd=new Set;for(let a of b)this.Uc(a)}Uc(...b){if(this.Pr)throw Error("already disposed");for(let a of b)this.wd.add(a)}Dh(b){if(this.Pr)throw Error("already disposed");this.wd.delete(b)}my(){if(this.Pr)throw Error("already disposed");this.Pr=!0;for(let b of this.wd)b.my();this.wd.clear();this.wd=null}j(){this.my()}}}
{"use strict";const d=self.D;d.lz=class extends d.ja{constructor(){super();this.Es=this.Yw=this.R=this.GA=0}Uc(b){this.R=+b-this.GA;this.Yw=this.Es+this.R;this.GA=this.Yw-this.Es-this.R;this.Es=this.Yw}ba(){return this.Es}ld(){this.Es=this.Yw=this.R=this.GA=0}Set(b){this.Yw=this.R=this.GA=0;this.Es=+b}j(){}}}
{"use strict";const d=self.D,b={EF:function(a){this.jX=a;this.left=this.right=this.jX.sb;this.parent=null;this.color=!1;this.key=null},Ko:function(a){this.size=0;this.sb=new b.EF(this);this.sb.color=!1;this.root=this.sb;this.root.parent=this.sb;this.compare=a||this.Nfa}};xa=b.Ko.prototype;xa.Nfa=function(a,e){return a<e?-1:e<a?1:0};xa.clone=function(){var a=new b.Ko(this.compare);a.jga(this);return a};xa.clear=function(){this.size=0;this.sb=new b.EF(this);this.sb.color=!1;this.root=this.sb;this.root.parent=
this.sb};xa.Fx=function(a){var e=a.right;a.right=e.left;e.left!=this.sb&&(e.left.parent=a);e.parent=a.parent;a.parent==this.sb?this.root=e:a==a.parent.left?a.parent.left=e:a.parent.right=e;e.left=a;a.parent=e};xa.Nx=function(a){var e=a.left;a.left=e.right;e.right!=this.sb&&(e.right.parent=a);e.parent=a.parent;a.parent==this.sb?this.root=e:a==a.parent.right?a.parent.right=e:a.parent.left=e;e.right=a;a.parent=e};xa.Zs=function(a){if(this.contains(a))this.Ax(a).key=a;else{var e=new b.EF(this);e.key=
a;a=this.sb;for(var c=this.root;c!=this.sb;)a=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=a;a==this.sb?this.root=e:0>this.compare(e.key,a.key)?a.left=e:a.right=e;e.left=this.sb;e.right=this.sb;e.color=!0;this.kga(e);this.size++}};xa.kga=function(a){for(;a!=this.sb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var e=a.parent.parent.right;1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Fx(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.sb&&this.Nx(a.parent.parent))}else e=a.parent.parent.left,1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Nx(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.sb&&this.Fx(a.parent.parent));this.root.color=!1};xa.Pfa=function(a){var e=a.left==this.sb||a.right==this.sb?a:this.co(a);var c=e.left!=this.sb?e.left:e.right;c.parent=e.parent;e.parent==
this.sb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=a&&(a.key=e.key);0==e.color&&this.Ofa(c);this.size--};xa.Ofa=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var e=a.parent.right;1==e.color&&(e.color=!1,a.parent.color=!0,this.Fx(a.parent),e=a.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,a=a.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Nx(e),e=a.parent.right),e.color=a.parent.color,a.parent.color=!1,e.right.color=!1,this.Fx(a.parent),
a=this.root)}else e=a.parent.left,1==e.color&&(e.color=!1,a.parent.color=!0,this.Nx(a.parent),e=a.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,a=a.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Fx(e),e=a.parent.left),e.color=a.parent.color,a.parent.color=!1,e.left.color=!1,this.Nx(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Ax(a);if(a!=this.sb){var e=a.key;this.Pfa(a);return e}return null};xa.min=function(a){for(;a.left!=this.sb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.sb;)a=a.right;return a};xa.co=function(a){if(a.right!=this.sb)return this.min(a.right);for(var e=a.parent;e!=this.sb&&a==e.right;)a=e,e=e.parent;return e};xa.Ax=function(a){for(var e=this.root;e!=this.sb&&0!=this.compare(e.key,a);)e=0>this.compare(a,e.key)?e.left:e.right;return e};xa.contains=function(a){return null!=this.Ax(a).key};xa.AL=function(){var a=[];this.forEach(function(e){a.push(e)});return a};xa.jga=function(a){if("array"==b.jM(a))for(var e=0;e<a.length;e++)this.Zs(a[e]);
else if("function"==b.jM(a.forEach))a.forEach(this.Zs,this);else if("function"==b.jM(a.AL))for(a=a.AL(),e=0;e<a.length;e++)this.Zs(a[e]);else if("object"==b.jM(a))for(e in a)this.Zs(a[e])};xa.range=function(a,e){var c=[];this.nha(function(g){c.push(g)},a,e);return c};xa.nha=function(a,e,c){if(!this.ct())for(e=this.Ax(e),c=this.Ax(c);e!=c&&!a.call(void 0,e.key,this);)e=this.co(e)};xa.forEach=function(a,e){if(!this.ct())for(var c=this.min(this.root);c!=this.sb;c=this.co(c))a.call(e,c.key,c.key,this)};
xa.some=function(a,e){if(this.ct())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.co(c))if(a.call(e,c.key,c.key,this))return!0;return!1};xa.every=function(a,e){if(this.ct())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.co(c))if(!a.call(e,c.key,c.key,this))return!1;return!0};xa.map=function(a,e){var c=[];if(this.ct())return c;for(var g=this.min(this.root);g!=this.sb;g=this.co(g))c.push(a.call(e,g.key,g.key,this));return c};xa.filter=function(a,e){var c=[];if(this.ct())return c;
for(var g=this.min(this.root);g!=this.sb;g=this.co(g))a.call(e,g.key,g.key,this)&&c.push(g.key);return c};xa.ct=function(){return 0==this.size};d.Ko=class extends d.ja{constructor(a){super();this.ih=new b.Ko(a);this.Tr=!1;this.Up=new Set;this.Vp=new Set}Uc(a){this.Tr?this.ih.contains(a)?this.Vp.delete(a):this.Up.add(a):this.ih.Zs(a)}Dh(a){this.Tr?this.ih.contains(a)?this.Vp.add(a):this.Up.delete(a):this.ih.remove(a)}Yy(a){return this.Tr?this.Up.has(a)?!0:!this.Vp.has(a)&&this.ih.contains(a):this.ih.contains(a)}Ad(){this.ih.clear();
this.Up.clear();this.Vp.clear()}toArray(){if(this.Tr)throw Error("cannot be used in queueing mode");return this.ih.AL()}Fm(){return this.ih.size+this.Up.size-this.Vp.size}Do(){return 0===this.Fm()}Hh(a){a=!!a;if(this.Tr!==a&&(this.Tr=a,!a)){for(const e of this.Vp)this.ih.remove(e);this.Vp.clear();for(const e of this.Up)this.ih.Zs(e);this.Up.clear()}}fN(a){this.ih.forEach(a)}*values(){if(!this.Do()){var a=this.ih;for(let e=a.min(a.root);e!=a.sb;e=a.co(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.$O=class{constructor(b=d.hardwareConcurrency){this.Oea=b;this.mK=[];this.PH=0}Uc(b){return new Promise((a,e)=>{this.mK.push({ti:b,resolve:a,reject:e});this.dS()})}async dS(){if(this.mK.length&&!(this.PH>=this.Oea)){this.PH++;var b=this.mK.shift();try{const a=await b.ti();b.resolve(a)}catch(a){b.reject(a)}this.PH--;this.dS()}}}}
{"use strict";const d=self.D;d.F4=class{constructor(b,a,e){this.Dr=b;this.zea=a;this.Aea=e||2*a;this.Js=-1;this.WB=-Infinity;this.LV=()=>this.Xaa();this.eea=this.ZI=!1;this.sv=null}U9(){return"undefined"!==typeof d.aY&&d.aY.ala()?this.Aea:this.zea}mY(){var b=[];if(-1===this.Js){this.sv=b;b=d.ry();var a=b-this.WB,e=this.U9();a>=e&&this.eea?(this.WB=b,this.CS()):this.Js=self.setTimeout(this.LV,Math.max(e-a,4))}}CS(){this.ZI=!0;const b=this.sv;this.sv=null;b?this.Dr(...b):this.Dr();this.ZI=!1}ld(){this.ZI||
(this.LQ(),this.sv=null,this.WB=d.ry())}Xaa(){this.Js=-1;this.WB=d.ry();this.CS()}LQ(){-1!==this.Js&&(self.clearTimeout(this.Js),this.Js=-1)}j(){this.LQ();this.LV=this.sv=this.Dr=null}}}"use strict";function hc(d,b){if(!d.YT)throw Error("no get base size callback set");return d.YT(b)}self.D.Ooa=class{constructor(){this.wea=new Map;this.oV=this.qV=this.YT=null}wz(){if(!this.oV)throw Error("no redraw callback set");this.oV()}};"use strict";
self.D.Noa=class{constructor(d,b){this.fh=d;this.lea=b;this.Pc=0;hc(this.fh,b).then(()=>{this.fh.wz()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.fh.wz()});this.nK=null}j(){if(0>=this.Pc)throw Error("already released");this.Pc--;0===this.Pc&&this.Xu()}Xu(){if(this.nK){var d=this.fh;if(!d.qV)throw Error("no release result callback set");d.qV(this.nK);this.nK=null}this.fh.wea.delete(this.lea);this.fh=null}};
{"use strict";const d=self.D;d.ara="\ufeff";const b=new Set([..."0123456789"]);d.x2=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.sF=function(n){return a.has(n)};d.Gja=function(n){return[...n].filter(p=>!d.sF(p)).join("")};d.rF=function(n){for(const p of n)if(!d.sF(p))return!1;return!0};d.I2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.v_=function(n){return[...n].filter(p=>
!d.I2(p)).join("")};const e=new Set([..."0123456789.+-e"]);d.qla=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let r of n)if(!e.has(r))return!1;return!0};d.Q4=function(n){let p=n.length;for(;0<p&&d.x2(n.charAt(p-1));)--p;return n.substr(0,p)};d.tka=function(n){let p=d.Q4(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;d.n_=function(n){return n.replace(m,g)};d.wja=function(n){n=d.Qi(n,"\\","\\\\");n=d.Qi(n,'"','\\"');n=d.Qi(n,"\t","\\t");n=d.Qi(n,"\r","");return d.Qi(n,"\n","\\n")};d.xja=function(n){n=d.Qi(n,"&","&amp;");n=d.Qi(n,"<","&lt;");n=d.Qi(n,">","&gt;");return d.Qi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;d.ut=function(n){return n.replace(h,"\\$&")};d.Hja=function(n,p,r=!1){if(!p)return[];r||(n=n.toLowerCase(),p=p.toLowerCase());r=p.length;var u=0;let w=[];for(;-1<(u=n.indexOf(p,
u));)w.push(u),u+=r;return w};d.Qi=function(n,p,r){return n.replaceAll(p,()=>r)};d.Jna=function(n,p,r){return n.replace(new RegExp(d.ut(p),"gi"),()=>r)};d.mpa=function(n,p){"string"===typeof p?n.textContent=p:p.zU?n.textContent=p.toString():(n.innerHTML=p.fM(),p instanceof d.Am&&p.Afa(n))};d.yqa=function(n,p){return n instanceof d.XE||n instanceof d.Am?n.rd(p):p instanceof d.XE||p instanceof d.Am?p.rd(n):n===p};d.zqa=function(n,...p){let r=n;for(let u=0,w=p.length;u<w;++u){const q=`{${u}}`;if(!n.includes(q))throw Error(`missing placeholder '${q}' in string substitution`);
r=r.replace(q,p[u].toString())}return r};d.Aqa=function(n,...p){let r=n,u=-1,w=-1;for(let q=0,v=p.length;q<v;++q){const y=`{${q}}`;n.includes(y)?(w=q,r=r.replace(y,p[q].toString())):-1===u&&(u=q)}if(0<=u&&0<=w&&u<w)throw Error(`missing placeholder '${u}' in string substitution`);return r};d.Bqa=function(n,p){for(let [r,u]of Object.entries(p))n=n.replaceAll(r,u.toString());return n};d.jqa=function(n,p){return n>p?1:n<p?-1:0};d.kqa=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?
-1:0};d.Nja=function(n,p){p="common."+(p?"dataRates":"dataSizes")+".";const r=self.lta;if(1024>n)return r(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(p+"terabytes",n)};const l={xfa:!1,
Kfa:!0,iga:!0,Dga:!0,VW:!0};d.Oja=function(n,p){p=Object.assign({},l,p);d.L2.vna("common.time");const r=[],u=self.lang,w=self.kta;if(p.Kfa){var q=Math.floor(n/86400);0<q&&(n-=86400*q,r.push(w(".days",null,q)))}p.iga&&(q=Math.floor(n/3600),0<q||r.length)&&(n-=3600*q,r.push(w(".hours",null,q)));p.Dga&&(q=Math.floor(n/60),0<q||r.length||!p.VW)&&(n-=60*q,r.push(w(".minutes",null,q)));p.VW&&r.push(w(".seconds",null,Math.floor(n%60)));n=(p.xfa?u(".approx-prefix"):"")+r.join(u(".separator"));d.L2.lna();
return n};d.Lra=function(n,p){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();p-=n.length;for(let u=0;u<p;++u)r+="0";return r+n};d.Cqa=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Via=function(n,p){n=n.split(".").map(r=>r.trim());p=p.split(".").map(r=>r.trim());d.TW(n);d.TW(p);n=n.map(r=>parseInt(r,10));p=p.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const u=n[r]-p[r];if(0!==u)return 0>u?-1:1}return 0};d.hja=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};d.wqa=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let r=0;for(let u=0,w=n.length;u<w;++u)n.charAt(u)!==p.charAt(u)&&++r;return r};d.xqa=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let r,u,w,q;if(n.length>p.length){var v=n;n=p;p=v}q=Array(n.length+1);for(v=0;v<=n.length;v++)q[v]=v;for(v=1;v<=p.length;v++){u=v;for(r=1;r<=n.length;r++)w=p[v-1]===n[r-1]?
q[r-1]:Math.min(q[r-1]+1,Math.min(u+1,q[r]+1)),q[r-1]=u,u=w;q[n.length]=u}return q[n.length]}}
{"use strict";const d=self.D,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var r=b.get(p);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;d.Am=class{constructor(l,n){this.Oh=n&&n.Gga?l:d.n_(l);this.YI="";this.AT=!1;this.lw=[];if(n&&(this.AT=!!n.gsa,n.links)){if(9<n.links.length)throw Error("too many links");this.lw=n.links}this.cU=this.Oh.includes("[");this.bV=this.AT&&this.Oh.includes("\n");this.zU=!this.cU&&!this.bV&&!this.Oh.includes("&");this.gU=!1;this.Jv=[]}toString(){return this.Oh}valueOf(){return this.Oh}fM(){if(this.zU)return this.Oh;if(!this.YI&&this.Oh){let l=this.Oh;
this.cU&&(g=0,c=this.lw,l=l.replace(a,m),c=null);this.bV&&(l=l.replace(h,"<br>"));this.YI=l}return this.YI}Afa(l){if(this.lw.length)for(let n=0,p=this.lw.length;n<p;++n){const r=this.lw[n];if("function"!==typeof r)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=r}}rd(l){return l instanceof d.XE?this.fM()===l.fM():l instanceof d.Am?this.Oh===l.Oh:this.Oh===l}iha(){if(this.gU)return this.Jv;const l=this.Oh,n=[];let p=e.lastIndex=0;
for(var r;null!==(r=e.exec(l));){var u=r.index;if(0<u&&"\\"===l.charAt(u-1))continue;var w=r[1],q=r[2];const v=l.substring(p,u);p=u+r[0].length;v&&this.Jv.push({text:v,sd:n.slice(0)});if(q)if(w)for(q=q.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===q){n.splice(r,1);break}}else r=q,u=null,w=q.indexOf("="),-1!==w?(r=q.substring(0,w).toLowerCase(),u=q.substring(w+1)):r=r.toLowerCase(),n.push({tag:r,wi:u})}p<l.length&&this.Jv.push({text:l.substring(p),sd:n.slice(0)});for(const v of this.Jv)v.text=
this.iba(v.text);this.gU=!0;return this.Jv}iba(l){l=d.Qi(l,"\\[","[");return d.Qi(l,"\\\\","\\")}static iQ(l){return l.replace(e,"")}}}
{"use strict";const d=self.D;function b(e){return"\u00a0"===e||"\u202f"===e?!1:d.sF(e)}const a=/[\x09\x0A\x0B\x0C\x0D\x20\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u205F\u3000\u2028\u2029\uFEFF]*$/;d.sG=class{constructor(){this.sn=[]}fS(e,c){let g=0,m=0,h=0,l=0,n=0;for(const p of e)-1===p.width&&(e=c(p.text,p.sd),p.width=e.width,p.height=e.height,p.ug=e.ug||0,p.Jf=e.Jf||0,p.Nf=e.Nf||0),g+=p.width,m=Math.max(m,p.height),h=Math.max(h,p.ug),l=Math.max(l,p.Jf),n=Math.max(n,
p.Nf);return{width:g,height:m,ug:h,Jf:l,Nf:n}}Sz(e,c,g,m,h,l){this.sn.push({tW:e,width:c,height:g,ug:m,Jf:h,Nf:l})}sG(e,c,g,m,h){"string"===typeof e&&(e=[{text:e,sd:[]}]);d.F(this.sn);if(!(!e.length||1===e.length&&!e[0].text.length||2>g)){if(1===e.length){var l=e[0];const n=l.text;l=l.sd;if(100>=n.length&&!n.includes("\n")){let {width:p,height:r,ug:u,Jf:w,Nf:q}=c(n,l);p+=h;u=u||0;w=w||0;q=q||0;if(p<=g){this.Sz([{text:n,sd:l,width:p,height:r,ug:u,Jf:w,Nf:q}],p,r,u,w,q);return}}}if("word"===m)m=this.qda(e);
else{m=[];for(const n of e)d.Un(m,[...n.text].map(p=>[{text:p,sd:n.sd}]))}this.Kda(m,c,g,h)}}qda(e){const c=[];let g=[],m=!1;for(const l of e){var h=l.text;e=l.sd;for(const n of h)"\n"===n?(0<g.length&&c.push(g),c.push([{text:"\n",sd:e}]),g=[]):0===g.length?(g.push({text:n,sd:e}),m=b(n)):(h=b(n),h===m?(h=g.le(-1),h.sd===e?h.text+=n:g.push({text:n,sd:e})):(c.push(g),g=[],g.push({text:n,sd:e}),m=h))}0<g.length&&c.push(g);return c}f8(e){return e.map(c=>({text:c.text,sd:c.sd,width:c.width,height:c.height,
ug:c.ug,Jf:c.Jf,Nf:c.Nf}))}HQ(e,c){var g=e.length?e.le(-1):null;let m=0;g&&c[0].sd===g.sd&&(g.text+=c[0].text,g.width=-1,g.height=-1,g.ug=-1,g.Jf=-1,g.Nf=-1,m=1);for(g=c.length;m<g;++m){const h=c[m];e.push({text:h.text,sd:h.sd,width:-1,height:-1,ug:-1,Jf:-1,Nf:-1})}}Kda(e,c,g,m){let h=[],l=0,n=0,p=0,r=0;var u=0;for(const w of e){if(1===w.length&&"\n"===w[0].text){0===n&&(u=c(" ",w[0].sd),n=u.height,p=u.ug||0,r=u.Jf||0,u=u.Nf||0);this.Sz(h,l,n,p,r,u);h=[];u=r=p=n=l=0;continue}e=this.f8(h);this.HQ(e,
w);const q=this.fS(e,c),v=q.width;v>=g?(0<h.length&&this.Sz(h,l,n,p,r,u),h=[],d.rF(w[0].text)?u=r=p=n=l=0:(this.HQ(h,w),u=this.fS(h,c),l=u.width,n=u.height,p=u.ug,r=u.Jf,u=u.Nf)):(h=e,l=v,n=q.height,p=q.ug,r=q.Jf,u=q.Nf)}0<h.length&&this.Sz(h,l,n,p,r,u);this.tda(c,m)}tda(e,c){for(const m of this.sn){const h=m.tW;if(!h.length)continue;let l=h.le(-1);var g=l.text;const n=g.replace(a,"");if(!n)m.width-=l.width,h.pop();else if(n.length<g.length){g=e(n,l.sd).width;const p=l.width-g;l.width=g;l.text=n;
m.width-=p}0!==c&&0<h.length&&(l=h.le(-1),l.width+=c,m.width+=c)}}Ad(){d.F(this.sn)}x0(){return this.sn.reduce((e,c)=>Math.max(e,c.width),0)}T0(){return this.sn.reduce((e,c)=>e+c.height,0)}}}
{"use strict";const d=self.D,b=self.Ej,a=b.KD,e=b.Qx,c=b.um,g=a.create(),m=a.create(),h=a.create(),l=e.create(),n=c.create(),p=a.create(),r=a.create(),u=a.create(),w=a.create(),q=a.create(),v=a.create(),y=a.create(),A=a.create(),G=e.Kf(0,0,1,1);d.M={u4(J,M,Q,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*Q+R[12],Y=R[1]*J+R[5]*M+R[9]*Q+R[13],va=R[2]*J+R[6]*M+R[10]*Q+R[14];R=R[3]*J+R[7]*M+R[11]*Q+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;Q=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+Q*T);return!0},nk(J,M,Q,R,T,Z,X){c.multiply(n,T,R);if(null===c.bt(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*Q-1;l[3]=1;e.hM(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},c7(J,M,Q,R,T,Z,X){if(!d.M.nk(J,M,0,R,T,Z,g)||!d.M.nk(J,M,1,R,T,Z,m))return!1;a.ym(m,m,g);a.set(h,0,0,1);J=-Q;M=a.Xn(h,m);Q=0;if(0===M){if(0!==
a.Xn(h,g)+J)return!1}else if(Q=-(a.Xn(g,h)+J)/M,0>Q)return!1;a.$L(X,g,m,Q);return!0}};function z(J,M,Q,R){a.ym(g,Q,M);a.ym(m,J,M);a.rL(h,g,m);a.normalize(h,h);R.set(h[0],h[1],h[2],a.Xn(J,h))}function F(J,M,Q,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.rX,Na=X.sX;X=X.tX;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*Q*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*Q*Ua>ta}class H{constructor(){this.tX=this.sX=this.rX=this.w=this.z=this.y=this.x=NaN}set(J,M,Q,R){this.x=
J;this.y=M;this.z=Q;this.w=R;this.rX=0<J?1:0;this.sX=0<M?1:0;this.tX=0<Q?1:0}}d.M.k7=class{constructor(){this.RU=new H;this.MV=new H;this.tV=new H;this.tT=new H;this.WJ=new H;this.QT=new H}kY(J,M){d.M.nk(0,1,0,J,M,G,p);d.M.nk(1,1,0,J,M,G,r);d.M.nk(0,0,0,J,M,G,u);d.M.nk(1,0,0,J,M,G,w);d.M.nk(0,1,1,J,M,G,q);d.M.nk(1,1,1,J,M,G,v);d.M.nk(0,0,1,J,M,G,y);d.M.nk(1,0,1,J,M,G,A);z(u,p,q,this.RU);z(p,r,v,this.MV);z(r,w,A,this.tV);z(w,u,y,this.tT);z(y,q,v,this.QT);z(w,r,p,this.WJ)}IY(J,M,Q,R,T,Z){return F(J,
M,Q,R,T,Z,this.RU)&&F(J,M,Q,R,T,Z,this.MV)&&F(J,M,Q,R,T,Z,this.tV)&&F(J,M,Q,R,T,Z,this.tT)&&F(J,M,Q,R,T,Z,this.WJ)&&F(J,M,Q,R,T,Z,this.QT)}o2(J,M,Q){var R=this.WJ;return!(R.x*J+R.y*M+R.z*Q>=R.w)}}}
{"use strict";const d=self.D,b=self.Ej,a=b.KD,e=b.Qx,c=b.um,g=c.create(),m=a.Kf(0,0,0),h=a.Kf(0,0,0),l=a.Kf(0,0,0),n=a.Kf(0,1,0);e.Kf(0,0,0,0);new d.Ed;new d.Rect;const p=new d.Ed(0,0,1,0,1,1,0,1);d.M.T4=class{constructor(){this.U=this.Y=0;this.Xr=d.nb(45);this.Zw=Math.tan(this.Xr/2);this.lC=c.create();this.PJ=c.create();this.Vs=!1;this.ip=[];this.HC=new Map;this.zK=this.LC=this.MC=null;this.Ww=new Map;this.gj=null;this.fI=[];this.aV=new Map;this.Cv=this.nv=0;this.Kea=this.Lea=1;this.KJ=.5;this.Wh=
0;this.Sr=!0;this.nB=!1}u_(r){let u=0,w=r.length,q=0;for(;u<w;)r[u++]=q,r[u++]=q+1,r[u++]=q+2,r[u++]=q,r[u++]=q+2,r[u++]=q+3,q+=4}OQ(){this.Cv=this.nv=0;this.zK=this.LC=this.MC=null;this.d8()}dz(){this.OQ();this.gj=null}B3(){for(const r of this.ip)r.j();this.OQ()}fa(){return this.Y}aa(){return this.U}Qf(r){return this.pO()?100:r/(2*this.Zw)}UF(r){this.Xr=r;this.Zw=Math.tan(this.Xr/2)}z6(){this.Vs=!1}A6(){this.Vs=!0}pO(){return!this.Vs}io(r,u,w=.5,q=.5){var v=this.Xr;.5===w&&.5===q?c.perspective(r,
v,u,1,1E4):(w=1-w,v=1*this.Zw,u*=v,c.bga(r,(2*w-2)*u,2*w*u,(2*q-2)*v,2*q*v,1,1E4))}jY(r,u,w){const q=self.devicePixelRatio,v=2*this.Qf(w)*q*this.Zw/w;u=u*v/(2*q);w=w*v/(2*q);c.Kga(r,-u,u,-w,w,1,1E4)}vM(r,u,w,q,v,y=1){let A=1;this.pO()&&(A=200*this.Zw/v);a.set(l,A,-A,1);a.multiply(m,u,l);a.multiply(h,w,l);c.zga(r,m,h,q||n);l[2]=y;c.scale(r,r,l)}ot(r,u,w,q,v,y){a.set(m,r,u,w);a.set(h,q,v,0);this.vM(g,m,h,n,y,void 0);return g}M7(r){this.ip.push(r);this.HC.set(r.Ca(),r)}Dba(r){const u=this.ip.indexOf(r);
-1!==u&&this.ip.splice(u,1);this.HC.delete(r.Ca())}d8(){d.F(this.ip);this.HC.clear()}IN(r){return this.HC.get(r)||null}lk(){this.er(this.MC)}BP(){this.er(this.zK)}wca(r){this.gj=r}wX(r,u,w,q){const v=d.M.mG.yO(r,u,w,q);let y=this.Ww.get(v);y||(y=d.A(d.M.mG,this,r,u,w,q),this.Ww.set(v,y));y.IX();return y}gP(r){r.aZ();0===r.Pc&&(this.gj===r&&(this.gj=null),this.Ww.delete(r.q0()),r.j())}p$(r){d.F(this.fI);this.aV.clear();let u=0;for(const w of r){r=w[0];const q=w[1],v=w[2];this.fI.push([q,v]);this.aV.set(r,
{Tta:u,Xua:q,rsa:v});u++}}O9(r){return this.fI[r]}Wq(r){this.nv=r}ou(r){this.Cv=r;this.gj=null}oz(r,u,w,q,v,y){var A=this.KJ;r=r+A-y;u=u+A-v;w=w+A+y;q=q+A+v;A=2*y;const G=2*v;this.uz(r+v,u-y,0,w+v,q-y,0,w-v-A,q+y-G,0,r-v+A,u+y+G,0,p)}nz(r,u,w,q,v,y){const A=this.KJ;r=r+A-y;u=u+A-v;w=w+A+y;q=q+A+v;this.uz(r+v,u-y,0,w+v,q-y,0,w-v,q+y,0,r-v,u+y,0,p)}mz(r,u,w,q,v,y){const A=this.KJ;r+=A;u+=A;w+=A;q+=A;this.uz(r+v,u-y,0,w+v,q-y,0,w-v,q+y,0,r-v,u+y,0,p)}P2(r,u,w,q){const v=.5*this.Lea,y=this.Kea;2===y?
this.M$(r,u,w,q,v):1===y?this.L$(r,u,w,q,v):this.K$(r,u,w,q,v)}M$(r,u,w,q,v){this.oz(r,u,w,u,0,v);this.oz(w,u,w,q,v,0);this.oz(w,q,r,q,0,-v);this.oz(r,q,r,u,-v,0)}L$(r,u,w,q,v){this.nz(r,u,w,u,0,v);this.nz(w,u,w,q,v,0);this.nz(w,q,r,q,0,-v);this.nz(r,q,r,u,-v,0)}K$(r,u,w,q,v){this.mz(r,u,w,u,0,v);this.mz(w,u,w,q,v,0);this.mz(w,q,r,q,0,-v);this.mz(r,q,r,u,-v,0)}sO(r){this.P2(r.Z,r.S,r.ia,r.ca)}tq(){this.Jj();this.Wh++}F1(){this.Wh++}XF(r){this.Sr=!!r}S5(r){this.nB=!!r}Ni(){return!1}}}"use strict";
self.D.M.D6=class{constructor(d,b,a){this.Ja=b;this.ra=d;this.NT=a.wsa||0;this.OT=a.xsa||0;this.BT=!!a.isa;this.Qea=!!a.Pta;this.us=!!a.kua;this.Rda=!!a.Sra;this.gI=!!a.Xra;this.cD=!!a.mva;this.bD=!1}j(){this.ra=null}jb(){return this.ra}Ca(){return this.Ja}Mq(){return this.Qea}};
{"use strict";const d=self.D;d.M.mG=class{constructor(b,a,e,c,g){this.ra=b;this.Pc=0;this.ed=null;this.Mw="";this.Wg=e;this.hb=d.A(d.fb);this.hb.set(c);this.gd=g;"string"===typeof a?this.Mw=a:(this.ed=a,this.Mw=this.ed.Ca())}j(){if(0<this.Pc)throw Error("releasing state group still in use");this.ed=this.ra=null;this.Mw=""}PX(){const b=this.ra;b.er(this.ed);b.Zf(this.Wg);b.Rm(this.hb);b.ou(this.gd);b.wca(this)}q0(){return d.M.mG.yO(this.Mw,this.Wg,this.hb,this.gd)}IX(){++this.Pc}aZ(){--this.Pc}pl(){this.ed=
null}xF(b){this.ed=b.IN(this.Mw);if(!this.ed)throw Error("failed to restore shader program");}static yO(b,a,e,c){return("string"===typeof b?b:b.Ca())+","+a+","+e.Xa+","+e.ab+","+e.$a+","+e.Za+","+c}}}
{"use strict";const d=self.D,b=d.A(d.Ed);function a(e,c,g){const m=g.Db,h=g.Eb;return[m+(g.tc-m)*e+(g.mc-m)*c,h+(g.uc-h)*e+(g.nc-h)*c]}d.M.i3=class{constructor(e){this.TJ=e;this.ph=this.nh=this.gd=this.R=this.T=0}Tg(e,c,g,m){this.T=e;this.R=c;this.nh=g;this.ph=m}ka(){return this.T}Ng(e){this.T!==e&&(this.T=e,this.TJ.xH())}la(){return this.R}Kh(e){this.R!==e&&(this.R=e,this.TJ.xH())}gb(){return this.gd}sf(e){this.gd!==e&&(this.gd=Math.max(e,0),this.TJ.xH())}dG(e){this.nh=e}eG(e){this.ph=e}D$(e,c,g){[this.T,
this.R]=a(e.T,e.R,c);this.gd=e.gd;this.nh=d.Ud(g.Z,g.ia,e.nh);this.ph=d.Ud(g.S,g.ca,e.ph)}C$(e,c,g){[this.T,this.R]=a(e.T,e.R,c);this.gd=e.gd;[this.nh,this.ph]=a(e.nh,e.ph,g)}Fd(){return{x:this.ka(),y:this.la(),z:this.gb(),u:this.nh,v:this.ph}}ud(e){this.Ng(e.x);this.Kh(e.y);e.hasOwnProperty("z")&&this.sf(e.z);this.dG(e.u);this.eG(e.v)}};d.M.AO=class{constructor(e,c,g){if(2>e||2>c)throw Error("invalid mesh size");this.Dk=e;this.Rk=c;this.Zb=g||null;this.An=[];this.ZU=this.YU=0;this.VU=this.UU=1;this.WU=
0;this.hK=!1;g=e-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<e;++n){const p=d.A(d.M.i3,this,n,h),r=n/g,u=h/m;p.Tg(r,u,r,u);l.push(p)}this.An.push(l)}}j(){d.F(this.An)}xH(){this.hK=!0}Qu(){if(this.hK){var e=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.An)for(const n of l){const p=n.ka(),r=n.la();e=Math.min(e,p);c=Math.min(c,r);g=Math.max(g,p);m=Math.max(m,r);h=Math.max(h,n.gb())}this.YU=e;this.ZU=c;this.UU=g;this.VU=m;this.WU=h;this.hK=!1}}B0(){this.Qu();return this.YU}C0(){this.Qu();
return this.ZU}y0(){this.Qu();return this.UU}z0(){this.Qu();return this.VU}A0(){this.Qu();return this.WU}xq(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Dk||0>c||c>=this.Rk?null:this.An[c][e]}wM(e,c,g){const m=g instanceof d.Rect;if(e.Dk!==this.Dk||e.Rk!==this.Rk)throw Error("source mesh wrong size");e=e.An;const h=this.An;for(let l=0,n=h.length;l<n;++l){const p=e[l],r=h[l];for(let u=0,w=r.length;u<w;++u){const q=p[u],v=r[u];m?v.D$(q,c,g):v.C$(q,c,g)}}}xh(e){const c=this.An;let g=c[0];
for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let r=1,u=l.length;r<u;++r){const w=g[r],q=l[r];b.set(n.nh,n.ph,w.nh,w.ph,q.nh,q.ph,p.nh,p.ph);e.uz(n.ka(),n.la(),n.gb(),w.ka(),w.la(),w.gb(),q.ka(),q.la(),q.gb(),p.ka(),p.la(),p.gb(),b);n=w;p=q}g=l}}i2(e){e=e.Rd;const c=[],g=this.Dk-1,m=this.Rk-1,h=1/g,l=1/m,n=g-1,p=m-1;let r=e[0],u=e[1],w=d.da(Math.floor(r*g),0,n),q=d.da(Math.floor(u*m),0,p),v=0,y=0,A=0;var G=-1;const z=()=>{r=d.da(d.Ud(r,v,A),0,1);u=d.da(d.Ud(u,y,A),0,1);c.push(r,
u)};for(let F=0,H=e.length;F<H;F+=2)for(r=e[F],u=e[F+1],c.push(r,u),w=d.da(Math.floor(r*g),0,n),q=d.da(Math.floor(u*m),0,p),G=(F+2)%H,v=e[G],y=e[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*h,M=q*l,Q=(w+1)*h,R=(q+1)*l;if(0!==G&&(A=d.Mx(r,u,v,y,J,M,Q,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<q&&2!==G&&(A=d.Mx(r,u,v,y,J,M,Q,M,.001),0<=A&&.99999999>=A)){z();q--;G=4;continue}if(w<n&&3!==G&&(A=d.Mx(r,u,v,y,Q,M,Q,R,.001),0<=A&&.99999999>=A)){z();w++;G=1;continue}if(0<
w&&1!==G&&(A=d.Mx(r,u,v,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();w--;G=3;continue}if(q<p&&4!==G&&(A=d.Mx(r,u,v,y,J,R,Q,R,.001),0<=A&&.99999999>=A)){z();q++;G=2;continue}break}return d.A(d.lo,c)}X6(e,c){e=this.rda(e);this.hda(e);c.FD(e)}rda(e){const c=[];e=e.Rd;for(let g=0,m=e.length;g<m;g+=2){const [h,l]=this.mQ(e[g],e[g+1]);c.push(h,l)}return c}mQ(e,c){var g=this.Dk-1,m=this.Rk-1;const h=1/g,l=1/m;g=d.da(Math.floor(e*g),0,g-1);const n=d.da(Math.floor(c*m),0,m-1);m=g*h;const p=n*l,r=(g+1)*h,u=(n+
1)*l,w=this.xq(g,n),q=this.xq(g+1,n+1),v=d.rga(e,c,m,p,r,p,r,u);g=this.xq(g+(v?1:0),n+(v?0:1));const [y,A,G]=d.pha(e,c,m,p,v?m+h:m,v?p:p+l,r,u);return d.oha(y,A,G,w.ka(),w.la(),g.ka(),g.la(),q.ka(),q.la())}hda(e){const c=[];let g=e[0],m=e[1],h=g-e.le(-2),l=m-e.le(-1);for(let p=0,r=e.length;p<r;p+=2){var n=(p+2)%r;const u=e[n];n=e[n+1];const w=u-g,q=n-m,v=1E-7>Math.abs(q)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(h);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(h)&&Math.sign(q)===Math.sign(l)||v)&&1E-7<Math.abs(w/
h-q/l)||0==w&&0===q)&&c.push(g,m);g=u;m=n;h=w;l=q}6<=c.length&&c.length<e.length&&d.Tc(e,c)}Fd(){return{cols:this.Dk,rows:this.Rk,points:this.An.map(e=>e.map(c=>c.Fd()))}}ud(e){const c=this.Dk,g=this.Rk;if(e.cols!==c||e.rows!==g)throw Error("mesh data wrong size");e=e.points;for(let m=0;m<g;++m){const h=e[m];for(let l=0;l<c;++l)this.xq(l,m).ud(h[l])}}}}
{"use strict";const d=self.D,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let r,u;switch(n){case "rgba8":n=p.RGBA8;u=r=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=r=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=r=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=r=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=r=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{cM:n,$s:r,format:u,type:p}}const m={MD:"clamp-to-edge",ND:"clamp-to-edge",Fj:"trilinear",fW:0,TL:"rgba8",zD:!0,Jx:"default",premultiplyAlpha:!0,EW:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;d.M.Qz=class{constructor(n){this.ra=n;this.tb=null;this.U=this.Y=0;this.$h=!0;this.Us=this.Ts="clamp-to-edge";this.yd="trilinear";this.XH=0;this.yn="rgba8";this.Rl=!1;this.Np=
"default";this.Pc=0}u8(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.tb)throw Error("already created texture");this.Ts=p.MD;this.Us=p.ND;
this.yd=p.Fj;this.XH=p.fW;this.yn=p.TL;this.Rl=!!p.zD&&this.ra.Sr;this.Np=p.Jx;if(!c.has(this.Ts)||!c.has(this.Us))throw Error("invalid wrap mode");if(!a.has(this.yd))throw Error("invalid sampling");if(!b.has(this.yn))throw Error("invalid pixel format");if(!e.has(this.Np))throw Error("invalid mipmap quality");this.$h=!0;if(n instanceof ArrayBuffer||null===n||p.EW){if(this.Y=p.width,this.U=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.Y*this.U*4)throw Error("ArrayBuffer wrong size");}else this.Y=
n.width,this.U=n.height;if(0>=this.Y||0>=this.U)throw Error("invalid texture data size");if(p.EW){var r=d.vh(this.Y,this.U);r.getContext("2d").drawImage(n,0,0,this.Y,this.U);n=r}var u=d.vi(this.Y)&&d.vi(this.U);r=this.ra.mC;if(this.Y>r||this.U>r)throw Error("texture data exceeds maximum texture size");r=this.ra.W;var w=this.ra.Sc;this.tb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.tb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.yn,r);if(this.ra.Uo()||u||!this.YG())2<=w?(r.texStorage2D(r.TEXTURE_2D,this.Rl?Math.floor(Math.log2(Math.max(this.Y,this.U))+1):1,p.cM,this.Y,this.U),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.Y,this.U,p.format,p.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,p.$s,this.Y,this.U,0,p.format,p.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,p.$s,this.Y,this.U,0,p.format,
p.type,null):r.texImage2D(r.TEXTURE_2D,0,p.$s,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.Y,this.U));n instanceof ImageData&&(u=d.vh(this.Y,this.U),u.getContext("2d").putImageData(n,0,0),n=u);u=d.vh(d.AD(this.Y),d.AD(this.U));w=u.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.yd;w.drawImage(n,0,0,this.Y,this.U,0,0,u.width,u.height);
r.texImage2D(r.TEXTURE_2D,0,p.$s,p.format,p.type,u)}null!==n&&this.VS(r);r.bindTexture(r.TEXTURE_2D,null);this.ra.mH();this.Pc=1;l.add(this)}h8(n,p,r){r=Object.assign({},m,r);if(this.tb)throw Error("already created texture");this.Ts=r.MD;this.Us=r.ND;this.yd=r.Fj;this.yn=r.TL;this.Rl=!!r.zD&&this.ra.Sr;this.Np=r.Jx;if(!c.has(this.Ts)||!c.has(this.Us))throw Error("invalid wrap mode");if(!a.has(this.yd))throw Error("invalid sampling");if(!b.has(this.yn))throw Error("invalid pixel format");if(!e.has(this.Np))throw Error("invalid mipmap quality");
this.$h=!1;this.Y=Math.floor(n);this.U=Math.floor(p);n=d.vi(this.Y)&&d.vi(this.U);p=this.ra.mC;if(0>=this.Y||0>=this.U)throw Error("invalid texture size");if(this.Y>p||this.U>p)throw Error("texture exceeds maximum texture size");if(!this.ra.Uo()&&this.YG()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ra.W;p=this.ra.Sc;this.tb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.tb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=g(this.yn,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?r.cM:r.$s,this.Y,this.U,0,r.format,r.type,null);this.VS(n);n.bindTexture(n.TEXTURE_2D,null);this.ra.mH();this.Pc=1;l.add(this)}UG(n){if("default"===this.Np)return this.$h?n.NICEST:n.FASTEST;if("low"===this.Np)return n.FASTEST;if("high"===this.Np)return n.NICEST;throw Error("invalid mipmap quality");}YG(){return"clamp-to-edge"!==this.Ts||"clamp-to-edge"!==this.Us}GR(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}VS(n){var p=d.vi(this.Y)&&d.vi(this.U);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.GR(n,this.Ts));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.GR(n,this.Us));"nearest"===this.yd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.Rl=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.ra.Uo())&&this.Rl?(n.hint(n.GENERATE_MIPMAP_HINT,
this.UG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.yd||this.ra.nB?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.Rl=!1));(p=this.ra.jv)&&0<this.XH&&"nearest"!==this.yd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.XH,this.ra.RJ))}gT(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.tb||0>=this.Pc)throw Error("texture not created");if(this.$h)throw Error("cannot update static texture");p=Object.assign({},h,p);const r=n.width||n.videoWidth,u=n.height||n.videoHeight;var w=this.ra.Sc;
const q=this.ra.W;q.bindTexture(q.TEXTURE_2D,this.tb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.yn,q);w=2<=w?p.cM:p.$s;try{if(this.Y===r&&this.U===u){const v=d.vi(this.Y)&&d.vi(this.U);q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n);(v||this.ra.Uo())&&this.Rl&&(q.hint(q.GENERATE_MIPMAP_HINT,this.UG(q)),q.generateMipmap(q.TEXTURE_2D))}else{this.Y=r;this.U=u;const v=d.vi(this.Y)&&d.vi(this.U);if(!this.ra.Uo()&&this.YG()&&
!v)throw Error("non-power-of-two tiled textures not supported");q.texImage2D(q.TEXTURE_2D,0,w,p.format,p.type,n);(v||this.ra.Uo())&&this.Rl&&(q.hint(q.GENERATE_MIPMAP_HINT,this.UG(q)),q.generateMipmap(q.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}q.bindTexture(q.TEXTURE_2D,null);this.ra.mH()}IG(){if(0<this.Pc)throw Error("texture still has references");if(!this.tb)throw Error("already deleted texture");l.delete(this);this.ra.W.deleteTexture(this.tb);this.tb=null}jb(){return this.ra}Q6(){if(0>=
this.Pc)throw Error("no more references");this.Pc--}fa(){return this.Y}aa(){return this.U}yE(){let n=this.Y*this.U;switch(this.yn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.Rl&&(n+=Math.floor(n/3));return n}static pl(){l.clear()}static sfa(){return l.values()}}}
{"use strict";const d=self.Ej.um,b=new Set(["nearest","bilinear","trilinear"]),a={Fj:"trilinear",alpha:!0,depth:!1,HL:!0,zW:!0,Ega:0},e=new Set;self.D.M.yQ=class{constructor(c){this.ra=c;this.Mk=this.tb=this.xp=this.$g=null;this.U=this.Y=0;this.DB=!0;this.yd="trilinear";this.zr=!0;this.$c=!1;this.aw=!0;this.Yl=0;this.Kk=d.create();this.KU=0}g8(c,g,m){m=Object.assign({},a,m);const h=this.ra.Sc;if(this.tb||this.Mk)throw Error("already created render target");this.yd=m.Fj;this.zr=!!m.alpha;this.$c=!!m.depth;
this.aw=!!m.HL;this.DB=!!m.zW;this.Yl=m.Ega;if(!b.has(this.yd))throw Error("invalid sampling");if(0<this.Yl&&(2>h||this.aw))throw Error("invalid use of multisampling");2>h&&(this.aw=!0);this.Y=c;this.U=g;if(0>=this.Y||0>=this.U)throw Error("invalid render target size");this.wG();c=this.ra.W;this.$g=c.createFramebuffer();this.$c&&(this.xp=c.createFramebuffer());this.aw?(this.tb=this.ra.LM(this.Y,this.U,{Fj:this.yd,TL:this.zr?"rgba8":"rgb8",zD:!1}),g=this.tb.tb,c.bindFramebuffer(c.FRAMEBUFFER,this.$g),
c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.xp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Mk=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),g=this.zr?c.RGBA8:c.RGB8,0<this.Yl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.Yl>m&&(this.Yl=m)):this.Yl=0),0===this.Yl?c.renderbufferStorage(c.RENDERBUFFER,g,this.Y,this.U):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.Yl,g,this.Y,this.U),c.bindFramebuffer(c.FRAMEBUFFER,this.$g),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.xp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Mk)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.ra.Yg;this.$c&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.$g),this.ra.tv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);e.add(this)}xS(c,g){if(this.Y!==c||this.U!==g)this.Y=c,this.U=g,this.wG(),c=this.ra.W,c.bindFramebuffer(c.FRAMEBUFFER,this.$g),this.tb?this.tb.gT(new ImageData(this.Y,this.U)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Mk),c.renderbufferStorage(c.RENDERBUFFER,this.zr?c.RGBA8:c.RGB8,this.Y,this.U),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.ra.Yg,this.$c&&g&&(this.ra.tv?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}IG(){if(!this.tb&&!this.Mk)throw Error("already deleted render target");e.delete(this);var c=this.ra.W;this.tb?(c.bindFramebuffer(c.FRAMEBUFFER,this.$g),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.xp),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.ra.Ij(this.tb),this.tb=null):this.Mk&&(c.bindFramebuffer(c.FRAMEBUFFER,this.$g),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.$c&&(c.bindFramebuffer(c.FRAMEBUFFER,this.xp),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Mk),this.Mk=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.ra.Sc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.$g);
this.$c&&c.deleteFramebuffer(this.xp);c=this.ra.Bc;c.qm=null;this.$g=c.Cj=null}wG(){this.ra.io(this.Kk,this.Y/this.U);this.KU=this.ra.Xr}jb(){return this.ra}Yd(){return this.tb}I0(){this.ra.Xr!==this.KU&&this.wG();return this.Kk}mF(){return"nearest"!==this.yd}fa(){return this.Y}aa(){return this.U}r2(c){c=Object.assign({},a,c);return"nearest"!==c.Fj!==this.mF()||!!c.alpha!==this.zr||!!c.depth!==this.$c||2<=this.ra.Sc&&!!c.HL!==this.aw?!1:"number"===typeof c.width||"number"===typeof c.height?!this.DB&&
this.fa()===c.width&&this.aa()===c.height:this.DB}yE(){return this.tb?this.tb.yE():this.Y*this.U*(this.zr?4:3)}static pl(){e.clear()}}}
{"use strict";const d=self.D;d.M.Eu=class extends d.M.D6{static async FY(b,a,e,c){const g=b.W,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,a);g.compileShader(m);a=g.createShader(g.VERTEX_SHADER);g.shaderSource(a,e);g.compileShader(a);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,a);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=b.fK;l?await b.Hda(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await d.rG(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(a,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(a),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error linking shader program: "+
c);(b=d.v_(g.getProgramInfoLog(h)||"").trim())&&!d.rF(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);g.deleteShader(m);g.deleteShader(a);return h}static async Sa(b,a,e,c){e=await d.M.Eu.FY(b,a.src,e,c);return new d.M.Eu(b,e,a,c)}constructor(b,a,e,c){super(b,c,e);const g=b.W;var m=b.Bc;b.Jj();g.useProgram(a);this.W=g;this.ed=a;this.EB="<default-device-transform>"===c;c=g.getAttribLocation(a,"aPos");const h=g.getAttribLocation(a,"aTex");this.NJ=g.getAttribLocation(a,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,b.gD),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,b.TC),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.NJ&&(g.bindBuffer(g.ARRAY_BUFFER,b.wC),g.vertexAttribPointer(this.NJ,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.NJ));g.bindBuffer(g.ARRAY_BUFFER,null);this.QK=new d.M.lc(this,"matP","mat4");this.PK=new d.M.lc(this,"matMV","mat4");this.fq=new d.M.lc(this,"color",
"vec4");this.nfa=new d.M.lc(this,"samplerFront","sampler");this.TK=new d.M.lc(this,"pointTexStart","vec2");this.SK=new d.M.lc(this,"pointTexEnd","vec2");this.WK=new d.M.lc(this,"zElevation","float");this.UK=new d.M.lc(this,"tileSize","vec2");this.VK=new d.M.lc(this,"tileSpacing","vec2");this.OK=new d.M.lc(this,"color2_","vec4");this.RK=new d.M.lc(this,"outlineThickness","float");this.Qs=new d.M.lc(this,"samplerBack","sampler");this.mfa=new d.M.lc(this,"samplerDepth","sampler");this.Kn=new d.M.lc(this,
"destStart","vec2");this.Jn=new d.M.lc(this,"destEnd","vec2");this.xj=new d.M.lc(this,"srcStart","vec2");this.lm=new d.M.lc(this,"srcEnd","vec2");this.nm=new d.M.lc(this,"srcOriginStart","vec2");this.mm=new d.M.lc(this,"srcOriginEnd","vec2");this.oh=new d.M.lc(this,"pixelSize","vec2");this.Qn=new d.M.lc(this,"seconds","float");this.Ln=new d.M.lc(this,"devicePixelRatio","float");this.Nn=new d.M.lc(this,"layerScale","float");this.Mn=new d.M.lc(this,"layerAngle","float");this.Pn=new d.M.lc(this,"layoutStart",
"vec2");this.On=new d.M.lc(this,"layoutEnd","vec2");this.dU=!!(this.oh.$||this.Qn.$||this.Qs.$||this.Kn.$||this.Jn.$||this.xj.$||this.lm.$||this.nm.$||this.mm.$||this.Ln.$||this.Nn.$||this.Mn.$||this.Pn.$||this.On.$);b=e.parameters||[];this.gq=[];this.bD=this.oh.$||this.xj.$||this.lm.$||this.nm.$||this.mm.$;this.UI=this.VI=!1;this.fq.XN();this.OK.XN();this.nfa.$E(0);this.Qs.$E(1);this.mfa.$E(2);this.TK.Eg(0,0);this.SK.Eg(1,1);this.WK.zo(0);this.UK.Eg(0,0);this.VK.Eg(0,0);this.Kn.Eg(0,0);this.Jn.Eg(1,
1);this.xj.Eg(0,0);this.lm.Eg(0,0);this.nm.Eg(0,0);this.mm.Eg(0,0);this.oh.Eg(0,0);this.Ln.zo(1);this.Nn.zo(1);this.Mn.zo(0);this.Qn.zo(0);this.Pn.Eg(0,0);this.On.Eg(0,0);this.RK.zo(1);for(const l of b)b=l[2],a=new d.M.lc(this,l[0],b),"color"===b?a.G1():a.zo(0),this.gq.push(a);this.EB?this.lT(m.wx):(this.Nz(m.wx,!0),this.Mz(m.nD,!0));m=m.si;g.useProgram(m?m.ed:null)}j(){this.W.deleteProgram(this.ed);this.ed=null;this.ra.Dba(this);this.W=null;super.j()}Uf(){return this.ed}Ny(b){return this.gq[b].$j()}QX(b){for(let a=
0,e=b.length;a<e;++a)if(!this.gq[a].C2(b[a]))return!1;return!0}E5(b){for(let a=0,e=b.length;a<e;++a)this.gq[a].y5(b[a])}RX(b,a,e,c,g,m,h,l,n,p){return this.Qs.$||this.oh.$&&!this.oh.ol(g,m)||this.Kn.$&&!this.Kn.ol(b.Z,b.S)||this.Jn.$&&!this.Jn.ol(b.ia,b.ca)||this.Ln.$&&!this.Ln.kz(h)||this.Nn.$&&!this.Nn.kz(l)||this.Mn.$&&!this.Mn.kz(n)||this.xj.$&&!this.xj.ol(a.Z,a.S)||this.lm.$&&!this.lm.ol(a.ia,a.ca)||this.nm.$&&!this.nm.ol(e.Z,e.S)||this.mm.$&&!this.mm.ol(e.ia,e.ca)||this.Pn.$&&!this.Pn.ol(c.Z,
c.S)||this.On.$&&!this.On.ol(c.S,c.ca)||this.Qn.$&&!this.Qn.kz(p)?!1:!0}a6(b,a,e,c,g,m,h,l,n,p){this.Qs.$||(this.oh.$&&this.oh.ql(g,m),this.Kn.$&&this.Kn.ql(b.Z,b.S),this.Jn.$&&this.Jn.ql(b.ia,b.ca),this.Ln.$&&this.Ln.Cz(h),this.Nn.$&&this.Nn.Cz(l),this.Mn.$&&this.Mn.Cz(n),this.xj.$&&this.xj.ql(a.Z,a.S),this.lm.$&&this.lm.ql(a.ia,a.ca),this.nm.$&&this.nm.ql(e.Z,e.S),this.mm.$&&this.mm.ql(e.ia,e.ca),this.Pn.$&&this.Pn.ql(c.Z,c.S),this.On.$&&this.On.ql(c.S,c.ca),this.Qn.$&&this.Qn.Cz(p))}Nz(b,a){this.VI&&
!a||this.EB||(this.QK.$&&this.QK.Oz(b),this.VI=!0)}Z5(){this.VI=!1}Mz(b,a){this.UI&&!a||this.EB||(this.PK.$&&this.PK.Oz(b),this.UI=!0)}Y5(){this.UI=!1}lT(b){if(!this.EB)throw Error("not device transform shader");this.QK.Oz(b);b=this.ra;const a=b.fa()/2,e=b.aa()/2;b=b.ot(a,e,b.Qf(b.aa()),a,e,b.aa());this.PK.Oz(b)}f7(b){this.fq.$&&this.fq.Lz(b[0],b[1],b[2],b[3])}static Ay(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,b=self.Ej.um,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.M.lc=class{constructor(e,c,g){if(!a.has(g))throw Error("invalid uniform type");this.Zb=e;this.W=this.Zb.W;this.Ja=c;this.Ba=g;this.lJ="color"===this.Ba;this.ci=this.W.getUniformLocation(this.Zb.Uf(),c);this.$=!!this.ci;e=a.get(g);this.Nb=new Float32Array(e);this.qj=new Float32Array(e)}j(){this.ci=this.W=this.Zb=null}$j(){return this.Ba}zo(e){this.$&&
(this.Nb[0]=e,this.qj.set(this.Nb),this.W.uniform1f(this.ci,e))}$E(e){this.$&&(this.Nb[0]=e,this.qj.set(this.Nb),this.W.uniform1i(this.ci,e))}Eg(e,c){this.$&&(this.Nb[0]=e,this.Nb[1]=c,this.qj.set(this.Nb),this.W.uniform2f(this.ci,e,c))}G1(){this.$&&(this.Nb[0]=0,this.Nb[1]=0,this.Nb[2]=0,this.qj.set(this.Nb),this.W.uniform3f(this.ci,0,0,0))}XN(){this.$&&(this.Nb[0]=1,this.Nb[1]=1,this.Nb[2]=1,this.Nb[3]=1,this.qj.set(this.Nb),this.W.uniform4f(this.ci,1,1,1,1))}Xo(e){e=Math.fround(e);const c=this.Nb;
c[0]!==e&&(c[0]=e,this.W.uniform1f(this.ci,e))}Pe(e,c){e=Math.fround(e);c=Math.fround(c);const g=this.Nb;if(g[0]!==e||g[1]!==c)g[0]=e,g[1]=c,this.W.uniform2f(this.ci,e,c)}d7(e,c,g){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);const m=this.Nb;if(m[0]!==e||m[1]!==c||m[2]!==g)m[0]=e,m[1]=c,m[2]=g,this.W.uniform3f(this.ci,e,c,g)}Lz(e,c,g,m){e=Math.fround(e);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Nb;if(h[0]!==e||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=e,h[1]=c,h[2]=g,h[3]=m,this.W.uniform4f(this.ci,
e,c,g,m)}Oz(e){const c=this.Nb;b.Dj(c,e)||(d.qha(c,e),this.W.uniformMatrix4fv(this.ci,!1,e))}C2(e){const c=this.qj;return this.lJ?c[0]===Math.fround(e.Xa)&&c[1]===Math.fround(e.ab)&&c[2]===Math.fround(e.$a):c[0]===Math.fround(e)}y5(e){const c=this.qj;this.lJ?(c[0]=e.Xa,c[1]=e.ab,c[2]=e.$a):c[0]=e}kz(e){return this.qj[0]===Math.fround(e)}ol(e,c){const g=this.qj;return g[0]===Math.fround(e)&&g[1]===Math.fround(c)}Cz(e){this.qj[0]=e}ql(e,c){const g=this.qj;g[0]=e;g[1]=c}}}
{"use strict";const d=self.D,b=self.Ej,a=b.Qx,e=b.um;d.M.$X=class{constructor(c){this.ao=c;this.nD=e.create();this.wx=e.create();this.Cj=this.qm=null;this.AW=!1;this.mD=a.Kf(1,1,1,1);this.si=null;this.UL=new d.Rect;this.clearColor=d.A(d.fb,0,0,0,0)}};d.M.p7=class{constructor(c){const g=new ArrayBuffer(96);this.Ba=0;this.Bc=c;this.W=c.ao.W;this.Ol=this.Sd=0;this.$e=null;this.ue=new Float32Array(g,0,16);this.np=new Float32Array(g,64,4);this.EV=new Float32Array(g,80,4);this.FC=[]}U1(c){this.Ba=1;this.Sd=
c;this.Ol=6}oZ(){const c=this.W;c.drawElements(c.TRIANGLES,this.Ol,c.UNSIGNED_SHORT,this.Sd)}d2(c){this.Ba=2;this.$e=c}CZ(){const c=this.W,g=this.$e;c.bindTexture(c.TEXTURE_2D,g?g.tb:null)}aF(c){this.Ba=3;c.th(this.np,0)}qZ(){const c=this.np,g=this.Bc;a.ta(g.mD,c);g.si.f7(c)}uZ(){const c=this.np,g=this.Bc.si;g.OK.$&&g.OK.Lz(c[0],c[1],c[2],c[3])}V1(c,g){this.Ba=4;this.Sd=c;this.Ol=g}pZ(){this.W.blendFunc(this.Sd,this.Ol)}e2(c,g){this.Ba=5;const m=this.np;m[0]=0;m[1]=0;m[2]=c;m[3]=g}EZ(){const c=this.np;
this.W.viewport(c[0],c[1],c[2],c[3])}b2(c){this.Ba=6;e.ta(this.ue,c)}zZ(){const c=this.Bc,g=c.ao.ip,m=c.si,h=this.ue;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.Nz(h,!0):p.Z5()}e.ta(c.wx,h)}Y1(c){this.Ba=7;e.ta(this.ue,c)}vZ(){const c=this.Bc,g=c.ao.ip,m=c.si,h=this.ue;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.Mz(h,!0):p.Y5()}e.ta(c.nD,h)}c2(c){this.Ba=8;this.$e=c}AZ(){const c=this.W,g=this.$e,m=this.Bc;g?(m.qm=g.$g,m.Cj=g.xp,m.AW&&m.Cj?c.bindFramebuffer(c.FRAMEBUFFER,m.Cj):c.bindFramebuffer(c.FRAMEBUFFER,
m.qm)):(m.qm=null,m.Cj=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}K1(c){this.Ba=9;c.th(this.ue,0)}L1(){this.Ba=9;const c=this.ue;c[0]=0;c[1]=0;c[2]=0;c[3]=0}hZ(){const c=this.W;var g=this.ue;const m=this.Bc.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.pD(h,l,n,g)||(c.clearColor(h,l,n,g),m.bo(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}wZ(){const c=this.ue;this.Bc.UL.set(c[0],c[1],c[2],c[3])}nZ(){const c=this.W,g=this.Bc,m=g.ao.LC;c.useProgram(m.ed);m.Nz(g.wx,!1);m.Mz(g.nD,!1);var h=g.UL;m.TK.$&&m.TK.Pe(h.Z,
h.S);m.SK.$&&m.SK.Pe(h.ia,h.ca);h=this.ue[0];m.WK.$&&m.WK.Xo(h);m.fq.$&&(h=g.mD,m.fq.Lz(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.Sd/4,this.Ol);c.useProgram(g.si.ed)}Z1(c){this.Ba=11;this.$e=c}xZ(){var c=this.W;const g=this.Bc,m=this.$e;g.si=m;c.useProgram(m.ed);m.Nz(g.wx,!1);m.Mz(g.nD,!1);m.fq.$&&(c=g.mD,m.fq.Lz(c[0],c[1],c[2],c[3]))}a2(){this.Ba=12}yZ(){const c=this.Bc.si;c.dU&&this.b9(c);c.gq.length&&this.c9(c)}b9(c){const g=this.W,m=this.ue,h=this.np,l=this.EV;if(c.Qs.$){const n=this.Bc.ao,
p=this.$e;n.rn!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.tb:null),n.rn=p,g.activeTexture(g.TEXTURE0))}c.oh.$&&c.oh.Pe(m[0],m[1]);c.Kn.$&&c.Kn.Pe(m[2],m[3]);c.Jn.$&&c.Jn.Pe(m[4],m[5]);c.Ln.$&&c.Ln.Xo(this.Ol);c.Nn.$&&c.Nn.Xo(m[6]);c.Mn.$&&c.Mn.Xo(m[7]);c.xj.$&&c.xj.Pe(m[12],m[13]);c.lm.$&&c.lm.Pe(m[14],m[15]);c.nm.$&&c.nm.Pe(l[0],l[1]);c.mm.$&&c.mm.Pe(l[2],l[3]);c.Pn.$&&c.Pn.Pe(h[0],h[1]);c.On.$&&c.On.Pe(h[2],h[3]);c.Qn.$&&c.Qn.Xo(this.Sd)}c9(c){c=c.gq;const g=this.FC;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.lJ?l.d7(n.Xa,n.ab,n.$a):l.Xo(n)}}Q1(c){this.Ba=13;this.$e=c}mZ(){const c=this.W,g=this.$e,m=this.Bc.qm;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}H1(c,g){this.Ba=16;var m=this.ue;const h=this.Bc.ao;m[0]=c.fa();m[1]=c.aa();m[2]=g?g.fa():h.fa();m[3]=g?g.aa():h.aa();m[4]=c.mF()?1:0;m[5]=!0;m=this.FC;d.F(m);m.push(c.$g);m.push(g?g.$g:null)}fZ(){var c=this.ue,
g=this.FC;const m=this.W;var h=c[0],l=c[1],n=c[2];const p=c[3],r=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,r?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}g2(c){this.Ba=17;this.$e=c}FZ(){this.$e.VD();this.$e=null}P1(c){this.Ba=18;this.$e=c}lZ(){this.$e.oE();this.$e=
null}tZ(){const c=this.Bc.si,g=this.ue;c.oh.$&&c.oh.Pe(g[0],g[1]);c.RK.$&&c.RK.Xo(g[2])}DZ(){const c=this.Bc.si,g=this.ue;c.xj.$&&c.xj.Pe(g[0],g[1]);c.oh.$&&c.oh.Pe(g[4],g[5]);c.UK.$&&c.UK.Pe(g[6],g[7]);c.VK.$&&c.VK.Pe(g[8],g[9])}J1(c){this.Ba=21;this.Sd=c?1:0}gZ(){const c=this.W,g=0!==this.Sd;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}W1(c){this.Ba=22;this.Sd=c?1:0}rZ(){const c=this.W;0===this.Sd?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}X1(c){this.Ba=
23;this.Sd=c?1:0}sZ(){const c=this.W,g=this.Bc,m=g.ao,h=0!==this.Sd;g.AW=h;c.activeTexture(c.TEXTURE2);h?(g.Cj&&c.bindFramebuffer(c.FRAMEBUFFER,g.Cj),c.bindTexture(c.TEXTURE_2D,m.Yg)):(c.bindTexture(c.TEXTURE_2D,null),g.Cj&&c.bindFramebuffer(c.FRAMEBUFFER,g.qm));c.activeTexture(c.TEXTURE0)}O1(){this.Ba=24}kZ(){const c=this.W;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}N1(){this.Ba=25}jZ(){const c=
this.W;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}M1(){this.Ba=26}iZ(){const c=this.W;c.disable(c.STENCIL_TEST)}YN(c,g,m,h,l){this.Ba=27;this.Sd=c?1:0;c=this.ue;c[0]=g;c[1]=m;c[2]=h;c[3]=l}BZ(){const c=this.W,g=this.ue;1===this.Sd?(c.enable(c.SCISSOR_TEST),c.scissor(g[0],g[1],g[2],g[3])):c.disable(c.SCISSOR_TEST)}wa(){switch(this.Ba){case 1:this.oZ();break;case 2:this.CZ();break;case 3:this.qZ();break;case 4:this.pZ();break;case 5:this.EZ();break;case 6:this.zZ();
break;case 7:this.vZ();break;case 8:this.AZ();break;case 9:this.hZ();break;case 10:this.nZ();break;case 11:this.xZ();break;case 12:this.yZ();break;case 13:this.mZ();break;case 14:this.wZ();break;case 15:this.DZ();break;case 16:this.fZ();break;case 17:this.FZ();break;case 18:this.lZ();break;case 19:this.tZ();break;case 20:this.uZ();break;case 21:this.gZ();break;case 22:this.rZ();break;case 23:this.sZ();break;case 24:this.kZ();break;case 25:this.jZ();break;case 26:this.iZ();break;case 27:this.BZ()}}}}
{"use strict";const d=self.D,b={timeout:60},a=new d.fb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;d.z_&&d.z_.addEventListener("fontload",p=>{p=p.font.Ca();for(const r of m)(r.Yh||d.Yn(r.eB,p))&&r.uk()});function h(p,r,u,w,q,v){r?"Gecko"===d.Sb.Yx?p.strokeText(u,w,q,v):p.strokeText(u,w,q):"Gecko"===d.Sb.Yx?p.fillText(u,w,q,v):p.fillText(u,w,q)}let l=!1,n=!1;d.M.FF=class{constructor(p,r){r=Object.assign({},b,r);this.ra=
p;this.eB="Arial";this.fB=16;this.gB=1;this.Mp=0;this.yf=this.xf=!1;this.OA="black";this.Yh=!1;this.PL=null;this.VH=new Set;this.vf="left";this.df="top";this.pd="";this.qv=null;this.Tn=d.A(d.sG);this.dL="word";this.yJ=this.UC=!1;this.Wv=!0;this.qp=-1;this.U=this.Y=this.tI=this.Kr=this.Qr=0;this.ri=1;this.oI=!1;this.rw=this.Xl=this.ie=this.aq=null;this.IU=this.JU=-1;this.$B=this.LU=this.CJ="";this.DJ=this.EJ=1;this.XU=(u,w)=>this.gS(u,w);this.tb=null;this.$w=this.bx=0;this.lg=new d.Rect;this.Iw=1;
this.YJ=!1;this.KK=new d.C1(()=>{this.Pi();this.US(8,8)},r.timeout);this.BD=null;this.tx=!1;m.add(this)}j(){this.PL=null;this.VH.clear();this.XU=this.rw=this.Xl=this.ie=this.aq=this.qv=null;this.KK.j();this.BD=null;this.Pi();this.Tn.Ad();this.ra=this.Tn=null;this.tx=!0;m.delete(this)}fp(){this.oI=!0}uk(){this.fp();this.Tn.Ad();this.UC=!0}PP(){this.Wv=!1}Fg(){return this.Wv}x5(p){p=!!p;this.Yh!==p&&(p=(this.Yh=p)?"alphabetic":"top",this.ie&&(this.ie.textBaseline=p),this.Xl&&(this.Xl.textBaseline=p),
this.uk())}TF(p){p||(p="serif");this.eB!==p&&(this.eB=p,this.uk())}Fz(p){.1>p&&(p=.1);this.fB!==p&&(this.fB=p,this.uk())}P5(p){this.gB!==p&&(this.gB=p,this.uk())}TP(p){this.Mp!==p&&(this.Mp=p,this.fp())}AP(p){p=!!p;this.xf!==p&&(this.xf=p,this.uk())}RP(p){p=!!p;this.yf!==p&&(this.yf=p,this.uk())}SF(p){p=Math.floor(p);this.qp!==p&&(this.qp=p,this.fp())}Xi(p,r){for(let u=p.length-1;0<=u;--u){const w=p[u];if(w.tag===r)return w}return null}nr(p,r){return!!this.Xi(p,r)}sR(p,r){let u=[];(this.xf||this.nr(r,
"b"))&&u.push("bold");(this.yf||this.nr(r,"i"))&&u.push("italic");var w=this.Xi(r,"size");w=(w?parseFloat(w.wi):this.fB)*this.gB;p?u.push(w+"pt"):u.push(w*this.Iw*this.ri*self.devicePixelRatio+"pt");p=this.eB;(r=this.Xi(r,"font"))&&r.wi&&(p=r.wi,this.PL&&!this.VH.has(p)&&(this.PL(p),this.VH.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}Rm(p){p instanceof d.fb&&(p=p.cga());this.OA!==p&&(this.OA=p,this.fp())}CP(p,r,u){a.it(p,r,u);this.Rm(a)}LP(p){if(!e.has(p))throw Error("invalid horizontal alignment");
this.vf!==p&&(this.vf=p,this.fp())}fQ(p){if(!c.has(p))throw Error("invalid vertical alignment");this.df!==p&&(this.df=p,this.fp())}y6(p){if(!g.has(p))throw Error("invalid word wrap mode");this.dL!==p&&(this.dL=p,this.uk())}zu(p){this.pd!==p&&(this.pd=p,this.uk())}Xc(p,r,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Kr===p&&this.tI===r&&this.ri===u)){1===this.ri!==(1===u)&&(this.YJ=!0);var w=this.Kr,q=this.ri;this.Kr=p;this.tI=r;this.ri=u;p=self.devicePixelRatio;this.Y=this.Kr*this.ri*p;this.U=
this.tI*this.ri*p;p=Math.max(this.Y,this.U);r=Math.min(this.ra.mC,4096);u=1;p>r&&(u=r/p,this.Y=Math.min(this.Y*u,r),this.U=Math.min(this.U*u,r));this.Iw=u;0<this.bx&&0<this.$w&&this.ri===q&&this.lg.set(0,0,this.Y/this.bx,this.U/this.$w);this.Kr!==w?this.uk():this.fp()}}fa(){return this.Y}aa(){return this.U}Q0(){this.fH();return this.Tn.x0()}P0(){this.fH();return this.Tn.T0()+this.Tn.sn.length*(this.Mp+4)-this.Mp}Yd(){this.KK.ld();this.naa();return this.tb}naa(){this.tb&&!this.oI&&!this.UC||this.yJ||
0>=this.Y||0>=this.U||(this.oI=!1,this.yJ=!0,this.Wv?d.fo(()=>this.aR()):this.aR())}aR(){this.tx||(this.US(Math.ceil(this.Y),Math.ceil(this.U)),this.fH(),this.r9(),this.Cda(),this.KK.ld(),this.yJ=!1)}US(p,r){this.aq||(this.aq=d.vh(16,16));let u=!1;if(this.JU!==p||this.IU!==r)this.JU=p,this.IU=r,this.aq.width=p,this.aq.height=r,u=!0;this.ie||(this.ie=this.aq.getContext("2d"),u=!0);u?(this.ie.textBaseline=this.Yh?"alphabetic":"top",this.ie.font=this.CJ,this.ie.fillStyle=this.$B,this.ie.strokeStyle=
this.$B,this.ie.globalAlpha=this.EJ,this.ie.lineWidth=this.DJ):this.ie.clearRect(0,0,p,r)}ZR(){this.Xl||(this.Xl=d.vh(16,16).getContext("2d"),this.rw=d.vh(16,16).getContext("2d"),this.Xl.textBaseline=this.Yh?"alphabetic":"top",this.rw.textBaseline="top")}Rca(p){this.LU!==p&&(this.LU=p,this.Xl.font=p,this.rw.font=p)}cT(){if(!l){l=!0;this.ZR();const p=this.Xl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}fH(){this.UC&&(this.ZR(),
!this.Yh||this.qv&&this.qv.toString()===this.pd||(this.qv=new d.Am(this.pd,{Gga:!0})),this.Tn.sG(this.Yh?this.qv.iha():this.pd,this.XU,this.Kr,this.dL,0),this.UC=!1)}gS(p,r){this.Rca(this.sR(!0,r));r=this.Xi(r,"size");r=(r?parseFloat(r.wi):this.fB)*this.gB;const u=this.Xl.measureText(p);let w=0;this.Yh&&this.cT()&&(w=u.fontBoundingBoxAscent-this.rw.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*r,ug:u.fontBoundingBoxAscent||0,Jf:u.fontBoundingBoxDescent||0,Nf:w}}zca(p){this.CJ!==
p&&(this.CJ=p,this.ie.font=p)}kA(p){this.$B!==p&&(this.$B=p,this.ie.fillStyle=p,this.ie.strokeStyle=p)}yca(p){this.EJ!==p&&(this.EJ=p,this.ie.globalAlpha=p)}OS(p){this.DJ!==p&&(this.DJ=p,this.ie.lineWidth=p)}r9(){this.Qr=0;const p=this.Iw*this.ri*self.devicePixelRatio,r=(4+this.Mp)*p;var u=0;const w=this.Tn.sn;if(0!==w.length){var q=this.Yh&&this.cT(),v=w[0].height*p;"center"===this.df?(u=w.reduce((y,A)=>y+A.height*p+r,0)-r,u=Math.max(this.U/2-u/2,0),q&&(v=w[0].Nf*p)):"bottom"===this.df&&(u=w.reduce((y,
A)=>y+A.height*p+r,0)-this.Mp*p,u=this.U-u-(q?w.le(-1).Jf*p:0)-2);for(let y=0,A=w.length;y<A;++y){q=w[y];const G=q.height*p,z=u;if(this.Yh){if(u+=0===y?v:G,0<y&&u>this.U-4*p)break}else if(0<y&&u>=this.U-G)break;0<=z&&this.q9(q,u,p);this.Yh||(u+=G);u+=r}}}q9(p,r,u){let w=0;"center"===this.vf?w=(this.Y-p.width*u)/2:"right"===this.vf&&(w=this.Y-p.width*u);for(const q of p.tW)this.p9(q,w,r,u,p.height),w+=q.width*u}p9(p,r,u,w,q){const v=this.ie;var y=q/16;q=p.width*w;const A=p.height*w,G=p.height/16;var z=
(4+this.Mp)*w,F=p.sd,H=p.text;if(-1!==this.qp){if(this.Qr>=this.qp)return;this.Qr+H.length>this.qp&&(H=H.substr(0,this.qp-this.Qr),q=this.gS(H,F).width*w);this.Qr+=H.length}var J=this.Xi(F,"background"),M=this.nr(F,"u");p=this.nr(F,"s");if((!d.rF(H)||J||M||p)&&!this.nr(F,"hide")){var Q=this.Xi(F,"offsetx");r+=Q?parseFloat(Q.wi)*w:0;Q=this.Xi(F,"offsety");u+=Q?parseFloat(Q.wi)*w:0;J&&(this.kA(J.wi),v.fillRect(r,u-A,q,A+z));Q=this.Xi(F,"color");this.kA(Q?Q.wi:this.OA);z=this.Xi(F,"opacity");this.yca(z?
parseFloat(z.wi)/100:1);z=(z=this.Xi(F,"linethickness"))?parseFloat(z.wi):1;(J=this.nr(F,"stroke"))&&this.OS(.5*G*z*this.Iw*this.ri*self.devicePixelRatio);this.zca(this.sR(!1,F));h(v,J,H,r,u,q);!J&&(this.OS(.5*G*z*this.Iw*this.ri*self.devicePixelRatio),F=this.Xi(F,"outline"))&&(this.kA(F.wi),h(v,!0,H,r,u,q));this.kA(Q?Q.wi:this.OA);M&&(F=r,H=u+w*y,M=q,y=w*y*z,J?v.strokeRect(F,H,M,y):v.fillRect(F,H,M,y));p&&(w*=G,v.fillRect(r,u-A/4+w/2-w*z/2,q,w*z))}}Cda(){this.ra.Bo()||(this.bx=Math.ceil(this.Y),
this.$w=Math.ceil(this.U),this.lg.set(0,0,this.Y/this.bx,this.U/this.$w),this.YJ&&(this.Pi(),this.YJ=!1),this.tb||(this.tb=this.ra.LM(this.bx,this.$w,{zD:1===this.ri,Jx:"high"})),this.ra.i7(this.aq,this.tb),this.BD&&this.BD())}Ji(){return this.lg}Pi(){this.tb&&(this.ra.Bo()||this.ra.Ij(this.tb),this.tb=null)}static pl(){for(const p of m)p.Pi()}}}
{"use strict";const d=self.D;class b{constructor(a){this.W=a.W;this.Sc=a.Sc;this.Jd=a.Jd;this.gi=null;this.Nv=this.Mb=!1;this.CC=0;this.gi=1===this.Sc?this.Jd.createQueryEXT():this.W.createQuery()}j(){this.WQ();this.Jd=this.W=null;this.Nv=!1}WQ(){this.gi&&(1===this.Sc?this.Jd.deleteQueryEXT(this.gi):this.W.deleteQuery(this.gi),this.gi=null)}VD(){if(this.Mb)throw Error("query already active");1===this.Sc?this.Jd.beginQueryEXT(this.Jd.TIME_ELAPSED_EXT,this.gi):this.W.beginQuery(this.Jd.TIME_ELAPSED_EXT,
this.gi);this.Mb=!0}oE(){if(!this.Mb)throw Error("query not active");1===this.Sc?this.Jd.endQueryEXT(this.Jd.TIME_ELAPSED_EXT):this.W.endQuery(this.Jd.TIME_ELAPSED_EXT);this.Mb=!1}cE(){if(this.gi&&!this.Nv&&!this.Mb){var a=1===this.Sc?this.Jd.getQueryObjectEXT(this.gi,this.Jd.QUERY_RESULT_AVAILABLE_EXT):this.W.getQueryParameter(this.gi,this.W.QUERY_RESULT_AVAILABLE);var e=this.W.getParameter(this.Jd.GPU_DISJOINT_EXT);a&&!e&&(this.CC=1===this.Sc?this.Jd.getQueryObjectEXT(this.gi,this.Jd.QUERY_RESULT_EXT):
this.W.getQueryParameter(this.gi,this.W.QUERY_RESULT),this.CC/=1E9,this.Nv=!0);(a||e)&&this.WQ()}}$y(){return this.Nv}Sy(){if(!this.Nv)throw Error("no result available");return this.CC}}d.M.r7=class{constructor(a){this.ra=a;this.Wh=a.Wh;this.Mb=!1;this.wn=null;this.pn=!1;this.xs=null;this.Tp=[]}j(){for(const a of this.Tp)a instanceof b&&a.j();d.F(this.Tp);this.ra=this.xs=this.wn=null}VD(){if(this.Mb)throw Error("query already active");const a=this.ra.KV;0<a.length?(this.pn=!0,this.wn=a.le(-1),this.wn.fR(),
this.wn.Tp.push(this)):(this.pn=!1,this.wn=null);this.Mb=!0;a.push(this);this.$S()}oE(){if(!this.Mb)throw Error("query not active");if(this.ra.KV.pop()!==this)throw Error("can only end most nested query");this.Mb=!1;this.fR();this.wn&&(this.wn.$S(),this.wn=null)}$S(){this.xs=d.A(b,this.ra);this.Tp.push(this.xs);this.xs.VD()}fR(){this.xs.oE();this.xs=null}cE(){for(const a of this.Tp)a.cE()}$y(){return this.Tp.every(a=>a.$y())}Sy(){return this.Tp.reduce((a,e)=>a+e.Sy(),0)}}}
{"use strict";const d=self.D;d.M.xQ=class{constructor(b,a=1E3){this.ra=b;this.Pea=a;this.zk=[];this.ra.L7(this)}j(){this.Ad();this.ra.Cba(this);this.ra=null}Ad(){for(const b of this.zk)b.j();d.F(this.zk)}TD(){const b=new d.M.r7(this.ra);this.zk.push(b);this.zk.length>this.Pea&&this.zk.shift().j();return b}tY(b){for(const a of this.zk){if(a.Wh>=b)break;if(a.pn)break;a.cE()}}uN(b,a){if(a<=b)return NaN;let e=0;for(const c of this.zk){if(c.Wh>=a)break;if(!(c.Wh<b))if(c.$y())e+=c.Sy();else return NaN}return e}SM(b){for(let a=
0,e=this.zk.length;a<e;++a){const c=this.zk[a];if(c.Wh<b)c.j();else{0<a&&this.zk.splice(0,a);break}}}}}
{"use strict";const d=self.D,b=self.Ej,a=b.Qx,e=b.um,c={powerPreference:"default",sW:!0,alpha:!1,JL:!1,depth:!1,nL:!1,HW:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new d.Ed(0,0,1,0,1,1,0,1),h=e.create(),l=e.create(),n=new d.Ed,p=new d.Rect;let r=null;d.Dx&&(self.lsa=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.msa=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let w=-1;function q(){w=-1;for(const v of u)v.Bfa()&&(v.resolve(),u.delete(v));0<u.size&&(w=self.requestAnimationFrame(q))}d.M.q7=class extends d.M.T4{constructor(v,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.JL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.HW&&(G=v.getContext("webgl2",
A),z=2);G||(G=v.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.W=G;this.qT=G.getContextAttributes();y.JL&&!this.qT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Sc=z;this.rg=a.create();this.hn=!1;this.CA=e.create();this.pm=!!y.depth;this.tv=!(!y.depth||!y.nL);this.Ep=this.pm;this.mJ=!1;this.Yg=null;this.kJ=!0;this.CT=this.DT=0;this.wC=this.oU=this.TC=this.gD=null;this.ox=
new Float32Array(24E3);this.pU=new Uint16Array(12E3);this.$p=new Float32Array(16E3);this.jV=new Float32Array(32E3);this.MU=this.xC=this.Ae=this.pi=0;this.Xp=this.Kp=null;this.pv=[];this.ac=this.$m=0;this.$d=null;this.Bc=d.A(d.M.$X,this);this.iw=d.A(d.fb,1,1,1,1);this.rn=this.Vl=null;this.zJ=this.BJ=0;this.Iea=new d.Rect;this.ZB=d.A(d.Rect,0,0,-1,-1);this.mC=-1;this.SJ=0;this.Rs="(unavailable)";this.pJ=!1;this.Dv=this.jv=this.fK=null;this.RJ=0;this.Fea=!!y.sW;this.Jd=null;this.wA=new Set;this.KV=[];
this.u_(this.pU)}Ni(){return!0}async dz(){super.dz();var v=this.W;this.iw.bo(1,1,1,1);this.rn=this.Vl=null;this.xC=this.pi=0;this.MU=23988;d.F(this.pv);this.ac=this.$m=0;this.$d=this.Kp=null;this.Iea.set(0,0,1,1);var y=this.Bc;y.si=null;y.qm=null;y.Cj=null;a.set(y.mD,1,1,1,1);y.clearColor.bo(0,0,0,0);y.UL.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.BJ=v.ONE;this.zJ=v.ONE_MINUS_SRC_ALPHA;this.q$(v);v.disable(v.CULL_FACE);
v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.pm?(v.enable(v.DEPTH_TEST),v.depthMask(!0),v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.Ep=this.pm;this.mJ=!1;this.wC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.wC);v.bufferData(v.ARRAY_BUFFER,this.jV.byteLength,v.DYNAMIC_DRAW);this.gD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.gD);v.bufferData(v.ARRAY_BUFFER,this.ox.byteLength,v.DYNAMIC_DRAW);this.TC=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.TC);v.bufferData(v.ARRAY_BUFFER,
this.$p.byteLength,v.DYNAMIC_DRAW);this.oU=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,this.oU);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.pU,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.mC=v.getParameter(v.MAX_TEXTURE_SIZE);this.SJ=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.SJ&&(this.SJ=2048);if(y=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Rs=v.getParameter(y.UNMASKED_RENDERER_WEBGL);this.fK=v.getExtension("KHR_parallel_shader_compile");
d.Dx&&(r=v.getExtension("WEBGL_lose_context"));if(this.Fea)if(1===this.Sc){if("Chromium"!==d.Sb.Yx||81<=d.Sb.XD||"undefined"!==typeof document)this.Jd=v.getExtension("EXT_disjoint_timer_query")}else this.Jd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.RJ=(this.jv=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.jv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Sc&&this.pm&&this.tv&&(this.Dv=v.getExtension("WEBGL_depth_texture"),
!this.Dv))throw Error("no depth texture support");2>this.Sc&&v.getExtension("EXT_frag_depth");v=d.M.Eu;y=v.Ay(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],
["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}","attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",
"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Ay(!0),"<tilemap>"]].map(A=>this.hE({src:A[0]},A[1],A[2])));this.MC=v[0];this.Xp=v[1];this.LC=v[2];this.zK=v[3];this.lk()}async hE(v,y,A){v=await d.M.Eu.Sa(this,v,y,A);this.M7(v);return v}Z4(){this.Kp=null}Xc(v,y,A){if(this.Y!==v||this.U!==y||A){this.Jj();A=this.W;var G=this.Bc;this.Y=v;this.U=y;this.XS(v,y);this.io(this.CA,v/y);this.Ro(this.CA);this.Xp&&(A.useProgram(this.Xp.Uf()),this.Xp.lT(this.lC),this.Kp=this.Xp,this.Bc.si=this.Xp);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.rn=this.Vl=null;this.pm&&this.kJ&&this.vH(this.Y,this.U);this.$d&&this.$d.xS(this.Y,this.U);A.bindFramebuffer(A.FRAMEBUFFER,null);this.$d=null;G.qm=null;G.Cj=null}}vH(v,y){const A=this.W;this.Yg&&this.DT===v&&this.CT===y||(this.tv?(this.Yg&&A.deleteTexture(this.Yg),this.Yg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.Yg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Sc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,v,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.Dv&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,v,y,0,A.DEPTH_STENCIL,this.Dv.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.Yg&&A.deleteRenderbuffer(this.Yg),this.Yg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.Yg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Sc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,v,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.DT=v,this.CT=y)}O5(v,y){this.pm&&(this.kJ=!1,this.vH(v,y))}w5(){this.pm&&(this.kJ=!0,this.vH(this.Y,this.U))}XS(v,y){const A=this.rg;if(0!==A[0]||0!==A[1]||A[2]!==v||A[3]!==y)this.xc().e2(v,y),a.set(A,0,0,v,y),this.ac=0}UF(v){super.UF(v);this.io(this.CA,this.Y/this.U)}Ro(v){e.Dj(this.lC,v)||(this.xc().b2(v),e.ta(this.lC,v),this.ac=0,this.hn=!0)}FP(){let v,y;var A=this.$d;
null===A?(v=this.CA,y=this.fa(),A=this.aa()):(v=A.I0(),y=A.fa(),A=A.aa());this.Ro(v);this.XS(y,A)}$q(v){e.Dj(this.PJ,v)||(this.xc().Y1(v),e.ta(this.PJ,v),this.ac=0,this.hn=!0)}X4(){this.hn=!1}xc(){const v=this.pv;this.$m===v.length&&v.push(new d.M.p7(this.Bc));return v[this.$m++]}Jj(){0===this.$m||this.Bo()||(this.Lda(),this.u9(),this.ac=this.xC=this.Ae=this.pi=this.$m=0)}Lda(){const v=this.W;0<this.xC&&(v.bindBuffer(v.ARRAY_BUFFER,this.wC),v.bufferSubData(v.ARRAY_BUFFER,0,this.jV.subarray(0,this.xC)));
0<this.pi&&(v.bindBuffer(v.ARRAY_BUFFER,this.gD),v.bufferSubData(v.ARRAY_BUFFER,0,this.ox.subarray(0,this.pi)),v.bindBuffer(v.ARRAY_BUFFER,this.TC),v.bufferSubData(v.ARRAY_BUFFER,0,this.$p.subarray(0,this.Ae)))}u9(){const v=this.pv;for(let y=0,A=this.$m;y<A;++y)v[y].wa()}Vd(){return this.iw.Za}rf(v,y,A,G){const z=this.iw;z.pD(v,y,A,G)||(z.bo(v,y,A,G),this.xc().aF(z),this.ac=0,this.gj=null)}Lg(v){const y=this.iw;y.Za!==v&&(y.gt(v),this.xc().aF(y),this.ac=0,this.gj=null)}Rm(v){const y=this.iw;y.rd(v)||
(y.set(v),this.xc().aF(y),this.ac=0,this.gj=null)}ku(){this.rf(1,1,1,1)}$f(v){v!==this.Vl&&(this.xc().d2(v),this.Vl=v,this.ac=0)}mH(){this.Vl=null}Zf(v){v=this.O9(v);this.uH(v[0],v[1])}uH(v,y){if(v!==this.BJ||y!==this.zJ)this.xc().V1(v,y),this.BJ=v,this.zJ=y,this.ac=0,this.gj=null}zP(){this.uH(this.W.ONE,this.W.ONE_MINUS_SRC_ALPHA)}RF(){this.uH(this.W.ONE,this.W.ZERO)}Rect(v){this.fP(v.Z,v.S,v.ia,v.ca)}fP(v,y,A,G){this.B4(v,y,A,y,A,G,v,G)}Ju(){let v=this.pi;v>=this.MU&&(this.Jj(),v=0);1===this.ac?
this.pv[this.$m-1].Ol+=6:(this.xc().U1(v),this.ac=1)}IH(v){v.uha(this.ox,this.pi,this.nv+this.Cv);this.pi+=12}Ed(v){this.Ju();this.IH(v);m.th(this.$p,this.Ae);this.Ae+=8}B4(v,y,A,G,z,F,H,J){this.Ju();const M=this.ox;let Q=this.pi;const R=this.nv+this.Cv;M[Q++]=v;M[Q++]=y;M[Q++]=R;M[Q++]=A;M[Q++]=G;M[Q++]=R;M[Q++]=z;M[Q++]=F;M[Q++]=R;M[Q++]=H;M[Q++]=J;M[Q++]=R;this.pi=Q;m.th(this.$p,this.Ae);this.Ae+=8}Pq(v,y){this.Ju();this.IH(v);y.tha(this.$p,this.Ae);this.Ae+=8}C4(v,y){this.Ju();this.IH(v);y.th(this.$p,
this.Ae);this.Ae+=8}uz(v,y,A,G,z,F,H,J,M,Q,R,T,Z){this.Ju();const X=this.ox;let ba=this.pi;const Y=this.nv+this.Cv;X[ba++]=v;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=H;X[ba++]=J;X[ba++]=Y+M;X[ba++]=Q;X[ba++]=R;X[ba++]=Y+T;this.pi=ba;Z.th(this.$p,this.Ae);this.Ae+=8}B_(v,y){e.ta(h,this.lC);e.ta(l,this.PJ);this.FP();const [A,G]=this.Ot(this.$d);var z=this.ot(0,0,this.Qf(G),0,0,G);this.$q(z);if("crop"===v&&this.$d&&y){v=this.Y/2;z=this.U/2;const J=y.fa();y=y.aa();var F=this.$d.fa(),
H=this.$d.aa();F=Math.min(F,J);const M=Math.min(H,y),Q=Math.max(y-H,0);H=Math.max(H-y,0);p.set(-v,z-H,-v+F,z-M-H);n.Gj(p);p.set(0,Q,F,M+Q);p.rm(J,y);this.Pq(n,p)}else v=A/2,z=G/2,this.fP(-v,z,v,-z);this.Ro(h);this.$q(l)}er(v){this.Kp!==v&&(this.xc().Z1(v),this.Kp=v,this.ac=0,this.gj=null)}$P(v,y,A,G,z,F,H,J,M,Q,R,T){const Z=this.Kp;var X=Z.dU;const ba=!!T.length;if(X&&!Z.RX(y,A,G,z,F,H,J,M,Q,R)||ba&&!Z.QX(T)){var Y=this.xc();Y.a2();X&&(Z.a6(y,A,G,z,F,H,J,M,Q,R),X=Y.ue,X[0]=F,X[1]=H,y.th(X,2),X[6]=
M,X[7]=Q,A.th(X,12),y=Y.np,z.th(y,0),z=y[1],y[1]=y[3],y[3]=z,G.th(Y.EV,0),Y.Sd=R,Y.Ol=J,Y.$e=Z.Qs.$?v?v.Yd():null:null);ba&&(Z.E5(T),d.Tc(Y.FC,T));this.ac=0}}ko(){this.xc().L1();this.ac=0}Ad(v){this.xc().K1(v);this.ac=0}Bu(){}tq(){super.tq();this.W.flush()}uY(){this.pm&&this.$d&&this.$d.$c&&(this.xc().J1(this.Ep),this.ac=0)}Kg(v){v=!!v;this.Ep!==v&&this.pm&&(this.Ep=v,this.xc().W1(v),this.ac=0)}pu(v){v=!!v;if(this.tv&&this.mJ!==v){if(v&&this.Ep)throw Error("depth still enabled");this.mJ=v;this.xc().X1(v);
this.ac=0}}i6(v,y,A,G,z=0){v=Math.floor(v);y=Math.floor(y);A=Math.floor(A);G=Math.floor(G);this.ZB.Wfa(v,y,A,G)||(this.ZB.rh(v,y,A,G),y=(z||this.Ot(this.Wj())[1])-y-G,this.xc().YN(!0,v,y,A,G),this.ac=0)}hP(){-1!==this.ZB.ia&&(this.ZB.set(0,0,-1,-1),this.xc().YN(!1,0,0,0,0),this.ac=0)}sY(){for(const v of this.wA)v.tY(this.Wh)}Bo(){return!this.W||this.W.isContextLost()||this.pJ}pl(){super.B3();d.M.Qz.pl();d.M.yQ.pl();d.M.FF.pl();for(const v of this.wA)v.Ad();this.Dv=this.jv=this.fK=this.Jd=null;this.RJ=
0;this.Rs="(unavailable)";this.Yg=this.Xp=this.Kp=null;for(const v of this.Ww.values())v.pl()}async xF(){this.pJ=!0;await this.dz();this.pJ=!1;for(const v of this.Ww.values())v.xF(this);this.Xc(this.Y,this.U,!0)}OM(v,y){if(this.Bo())throw Error("context lost");this.Jj();const A=d.A(d.M.Qz,this);A.u8(v,y);return A}async iE(v,y){if(this.Bo())throw Error("context lost");y=Object.assign({},y);if(d.Cb.ImageBitmapOptions){let A=await createImageBitmap(v,{premultiplyAlpha:"premultiply"});const G=y.MD&&"clamp-to-edge"!==
y.MD||y.ND&&"clamp-to-edge"!==y.ND,z=d.vi(A.width)&&d.vi(A.height);this.Uo()||z||!G?y.premultiplyAlpha=!1:d.Cb.bz?(A=await createImageBitmap(v,{premultiplyAlpha:"premultiply",resizeWidth:d.AD(A.width),resizeHeight:d.AD(A.height)}),y.premultiplyAlpha=!1):A=await createImageBitmap(v,{premultiplyAlpha:"none"});return await d.fo(()=>this.OM(A,y))}if(v instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");v=await d.eY(v)}return await d.fo(()=>this.OM(v,
y))}LM(v,y,A){this.Jj();const G=d.A(d.M.Qz,this);G.h8(v,y,A);return G}i7(v,y){this.Jj();y.gT(v,void 0)}Ij(v){v&&(v.Q6(),0<v.Pc||(this.Jj(),v===this.Vl&&(this.W.bindTexture(this.W.TEXTURE_2D,null),this.Vl=null),v===this.rn&&(this.W.activeTexture(this.W.TEXTURE1),this.W.bindTexture(this.W.TEXTURE_2D,null),this.W.activeTexture(this.W.TEXTURE0),this.rn=null),v.IG()))}SY(v){let y=this.Y,A=this.U,G=!0;v&&("number"===typeof v.width&&(y=v.width,G=!1),"number"===typeof v.height&&(A=v.height,G=!1));if(0>=y||
0>=A)throw Error("invalid size");this.Jj();const z=d.A(d.M.yQ,this);z.g8(y,A,Object.assign({zW:G},v));this.$d=null;this.Bc.qm=null;this.Bc.Cj=null;return z}Mg(v,y=!0){v!==this.$d&&(v&&v.DB&&v.xS(this.Y,this.U),this.xc().c2(v),this.$d=v,this.ac=0,y&&this.FP())}Wj(){return this.$d}Ot(v){return v?[v.fa(),v.aa()]:[this.Y,this.U]}IM(v){2>this.Sc||this.$d&&0<this.$d.Yl?(this.RF(),this.ku(),this.ny(v,"stretch")):(this.xc().H1(v,this.$d),this.ac=0)}ny(v,y="stretch"){v=v.Yd();if(!v)throw Error("not a texture-backed render target");
this.$f(v);this.B_(y,v)}Gq(v){2>this.Sc||(this.xc().Q1(v.$g),this.ac=0)}dZ(v){this.Mg(null);this.Jj();const y=v.Yd();y===this.Vl&&(this.W.bindTexture(this.W.TEXTURE_2D,null),this.Vl=null);y===this.rn&&(this.W.activeTexture(this.W.TEXTURE1),this.W.bindTexture(this.W.TEXTURE_2D,null),this.W.activeTexture(this.W.TEXTURE0),this.rn=null);v.IG()}HM(){this.Kg(!0);this.xc().O1();this.ac=0}GM(){this.Kg(!1);this.xc().N1();this.ac=0}FM(){this.Kg(!0);this.xc().M1();this.ac=0}lG(v){this.mk()&&(this.xc().g2(v),
this.ac=0)}nE(v){this.mk()&&(this.xc().P1(v),this.ac=0)}Hda(v){const y=new Promise(A=>u.add({resolve:A,Bfa:v}));-1===w&&(w=self.requestAnimationFrame(q));return y}s2(){return!!this.qT.desynchronized}T_(){let v=0;for(const y of d.M.Qz.sfa())v+=y.yE();return v}Uo(){return 2<=this.Sc}mk(){return!!this.Jd}L7(v){this.wA.add(v)}Cba(v){this.wA.delete(v)}q$(v){this.p$([["normal",v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",
v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";const d={uW:null,vW:null,SW:null,getTime:null,RW:null};self.D.M.j_=class{constructor(b){b=Object.assign({},d,b);this.wT=b.uW;this.fea=b.vW;this.iea=b.SW;this.gea=b.getTime;this.hea=b.RW}nN(b){return this.wT?this.wT(b):[b.fa(),b.aa()]}Wj(b){return this.fea(b)}J4(b,a){this.iea(b,a)}Da(){return this.gea()}wz(b){this.hea(b)}}}
{"use strict";const d=self.D,b=self.Ej.um,a=d.A(d.Rect),e=d.A(d.Rect),c=d.A(d.Rect),g=d.A(d.Rect),m=b.create(),h=b.create(),l={oD:null,wW:null,tD:null,DL:!1},n={Ys:null,rD:!1,vL:!1,EL:!1,IL:!1,BW:!1,JD:!1},p={kD:null,fsa:null,Vn:0,devicePixelRatio:1,Ex:1,xD:0,dt:null,zx:null,rW:null,kW:0,lW:0,mX:!1};d.M.Ee=class{constructor(r,u){u=Object.assign({},l,u);this.fh=r;this.lI=u.oD;this.vv=u.wW;this.xT=u.tD;this.KA=null;this.GC=[];this.Lw=[];this.Zp=[];this.Wg=0;this.Rn=this.uv=this.ET=this.hn=this.BB=this.jJ=
!1;this.Op=0;this.fm=[null,null,null];this.uU=!!u.DL;this.Nc=this.ad=this.Cr=this.Br=0;this.dn=null;this.jw=d.A(d.Rect);this.Bk=d.A(d.Rect);this.em=d.A(d.Rect);this.ws=d.A(d.Rect);this.Bn=d.A(d.Rect);this.eC=this.gn=1;this.ic=this.FJ=0;this.UA=null;this.rI=this.qI=0;this.XK=!1;this.Kk=b.create();this.vw=b.create()}j(){d.F(this.Zp);d.F(this.GC);d.F(this.Lw);this.xT=this.vv=this.lI=this.dn=null}YD(r,u){u=Object.assign({},n,u);d.F(this.Zp);this.Cr=this.Br=0;this.BB=this.jJ=!1;this.Op=0;this.Rn=!!u.JD;
d.Tc(this.GC,r);if(0!==r.length){if(u.Ys){if(u.Ys.length!==r.length)throw Error("incorrect indexMap length");d.Tc(this.Lw,u.Ys)}else{d.F(this.Lw);for(let v=0,y=r.length;v<y;++v)this.Lw.push(v)}for(var w of r)this.Br+=w.NT,this.Cr+=w.OT,w.Rda&&(this.jJ=!0),w.cD&&(this.BB=!0);w=r[0];if(1!==r.length||w.gI||w.BT||!u.JD&&(0!==w.NT||0!==w.OT)||u.rD||w.Mq()||u.vL||u.EL||!this.Rn&&w.cD||w.jb().Ni()&&w.bD&&u.IL){this.uv=!1;w=this.fda(w,u);u=this.eda(r.le(-1),u);var q=0;w&&(this.Op=1,this.Zp.push(d.A(d.M.Ee.Qg.r4,
this,-1,1)),q=1);for(let v=0,y=r.length;v<y;++v)0!==v||w?(r=1===q?2:1,v!==y-1||u||(r=0),this.Op=Math.max(this.Op,r),this.Zp.push(d.A(d.M.Ee.Qg.fY,this,q,r,v)),q=r):(this.Op=1,this.Zp.push(d.A(d.M.Ee.Qg.y_,this,-1,1,v)),q=1);u&&this.Zp.push(d.A(d.M.Ee.Qg.o4,this,q,0))}else this.uv=!0}}fda(r,u){const w=r.jb().Ni()&&u.IL;return u.rD||u.EL||!this.Rn&&r.cD||r.Mq()||r.gI&&(u.BW||w)||w&&r.bD||0!==this.Br||0!==this.Cr}eda(r,u){return u.vL||r.gI||r.BT}Oo(r,u,w){w=Object.assign({},p,w);this.UA=u;this.dn=w.kD;
this.Wg=w.Vn;this.gn=w.devicePixelRatio;this.eC=w.Ex;this.FJ=w.xD;this.ic=this.fh.Da();this.hn=!1;r.X4();this.jJ&&this.nba();if(this.uv)this.Fba(r,w);else{var [q,v]=this.fh.nN(r);this.Aca(r,q,v);this.Z7(w);r.ku();r.Wq(0);r.ou(0);this.KA=w.rW;this.qI=w.kW||0;this.rI=w.lW||0;this.XK=!!w.mX;this.Aaa(r);this.fm[0]=u;this.fm[1]=1<=this.Op?this.zR():null;this.fm[2]=2===this.Op?this.zR():null;for(const y of this.Zp)y.lu(r,this.AR(y.hfa),this.AR(y.FT));this.fm[1]&&this.sS(this.fm[1]);this.fm[2]&&this.sS(this.fm[2]);
this.fm.fill(null);this.xaa(r);this.KA=this.dn=this.UA=null}}Aca(r,u,w){if(0>=u||0>=w)throw Error("invalid draw size");this.ad===u&&this.Nc===w||this.KQ(r,u,w,0,0,this.Kk,this.vw);this.ad=u;this.Nc=w}KQ(r,u,w,q,v,y,A){q=u/2+q;v=w/2+v;r.io(y,u/w);r=r.ot(q,v,r.Qf(w),q,v,w);b.ta(A,r)}Z7(r){this.jw.ta(r.dt);r.zx?this.Bk.ta(r.zx):this.Bk.set(0,0,this.ad,this.Nc);this.em.ta(this.Bk);this.em.rm(this.ad,this.Nc);r=r.Ex*r.devicePixelRatio;this.Bk.vD(this.Br*r,this.Cr*r);this.Bn.ta(this.Bk);this.Bn.rm(this.ad,
this.Nc);this.Bk.da(0,0,this.ad,this.Nc);this.ws.ta(this.Bk);this.ws.rm(this.ad,this.Nc)}Aaa(r){this.ET=r.Ep;if(this.Rn)r.Kg(!1),this.BB&&r.pu(!0);else{a.ta(this.Bk);if(r.Ni()){const u=this.eC*this.gn;a.vD(Math.max(this.Br,1)*u,Math.max(this.Cr,1)*u);a.UW();a.da(0,0,this.ad,this.Nc)}else a.UW();r.i6(a.Z,a.S,a.width(),a.height(),this.Nc)}}waa(r){r.ku();this.Rn||(r.Kg(!1),this.BB&&r.pu(!0))}xaa(r){r.pu(!1);r.Kg(this.ET);this.Rn||r.hP();this.hn=r.hn}MQ(){this.Bn.da(0,0,1,1)}AR(r){return 0>r?null:this.fm[r]}zR(){return this.fh.Wj(this)}sS(r){this.fh.J4(r,
this)}e$(r){return this.GC[r]}LG(r){this.KA?this.KA(this,r,()=>this.lI(r,this)):this.lI(r,this);this.uv||this.waa(r)}H$(r){if(this.Rn)return!0;if(0!==this.qI||0!==this.rI)return!1;const [u,w]=r.Ot(r.Wj());return u!==this.ad||w!==this.Nc?!1:!0}NS(r,u){let w=this.Kk,q=this.vw;if(u&&!this.H$(r)){w=m;q=h;const [v,y]=r.Ot(r.Wj());this.KQ(r,v,y,this.qI,this.rI,w,q);this.Rn||r.hP()}r.Ro(w);r.$q(q)}nba(){this.fh.wz(this)}FR(r){return this.xT(this.Lw[r])}Sca(r,u){let w=this.Bn,q=this.ws,v=this.em;r.Ni()&&
(e.ta(w),e.Zn(),w=e,c.ta(q),c.Zn(),q=c,g.ta(v),g.Zn(),v=g);this.$Q(r,u,q,v,w,1/this.ad,1/this.Nc)}Cca(r,u){let w=this.ws,q=this.em,v=1/this.ad,y=1/this.Nc;if(this.vv){let {eX:G,fX:z,dX:F}=this.vv(this.dn);G||(a.set(0,0,0,0),G=a);z||(z=this.ad);F||(F=this.Nc);q=w=G;v=1/z;y=1/F}else r.Ni()&&(c.ta(w),c.Zn(),w=c,g.ta(q),g.Zn(),q=g);let A=this.Bn;r.Ni()&&(A=e,A.ta(this.Bn),A.Zn());this.$Q(r,u,w,q,A,v,y)}$Q(r,u,w,q,v,y,A){u=this.FR(u);r.$P(this.UA,v,w,q,this.jw,y,A,this.gn,this.eC,this.FJ,this.ic,u)}Fba(r,
u){var w=this.GC[0];const q=r.Ep,v=w.cD;v&&(r.Kg(!1),r.pu(!0),this.Bn.set(0,0,1,1),this.em.set(0,0,1,1));r.er(w);r.Zf(this.Wg);r.Mg(this.UA);let y;this.em.set(0,0,1,1);if(w.bD&&this.vv){const {eX:A,fX:G,dX:z}=this.vv(this.dn);A&&this.em.ta(A);w=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.fh.nN(r);w=1/A;y=1/G}u.dt?this.jw.ta(u.dt):this.jw.set(0,0,0,0);u=this.FR(0);r.$P(null,this.Bn,this.em,this.em,this.jw,w,y,this.gn,this.eC,this.FJ,this.ic,u);r.Wq(0);this.LG(r);v&&(r.pu(!1),
r.Kg(q))}}}"use strict";self.D.M.Ee.Qg=class{constructor(d,b,a,e=-1){this.Sh=d;this.hfa=b;this.FT=a;this.Ra=e}Ci(){return this.Sh}Ka(){return this.Ra}Uf(){return this.Ci().e$(this.Ka())}lu(){}};{"use strict";const d=self.D;d.M.Ee.Qg.r4=class extends d.M.Ee.Qg{constructor(b,a,e,c){super(b,a,e,c)}lu(b,a,e){a=this.Ci();b.zP();b.lk();b.Mg(e,a.XK);b.ko();a.LG(b);a.MQ()}}}
{"use strict";const d=self.D,b=d.A(d.Rect),a=d.A(d.Ed);d.M.Ee.Qg.o4=class extends d.M.Ee.Qg{constructor(e,c,g,m){super(e,c,g,m)}lu(e,c,g){const m=this.Ci();e.lk();e.Mg(g);m.NS(e,!0);e.Zf(m.Wg);e.$f(c.Yd());a.Gj(m.Bk);b.ta(m.ws);b.Zn();e.Pq(a,b);m.uU&&e.Gq(c)}}}{"use strict";const d=self.D;d.M.Ee.Qg.y_=class extends d.M.Ee.Qg{constructor(b,a,e,c){super(b,a,e,c)}lu(b,a,e){a=this.Ci();b.Mg(e,a.XK);b.ko();b.RF();b.er(this.Uf());a.Cca(b,this.Ka());a.LG(b);a.MQ()}}}
{"use strict";const d=self.D,b=d.A(d.Rect),a=d.A(d.Ed);d.M.Ee.Qg.fY=class extends d.M.Ee.Qg{constructor(e,c,g,m){super(e,c,g,m)}lu(e,c,g){const m=this.Ci();e.Mg(g);(g=0===this.FT)?e.Zf(m.Wg):(e.ko(),e.RF());e.er(this.Uf());m.Sca(e,this.Ka());e.$f(c.Yd());m.NS(e,g);a.Gj(m.Bk);b.ta(m.ws);b.Zn();e.Pq(a,b);m.uU&&e.Gq(c)}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.x1=class{constructor(e){d=e;Object.defineProperties(this,{fga:{value:{},writable:!1},storage:{value:new self.z1(d),writable:!1},hta:{value:d.te,writable:!1}});d.ke.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.ke.addEventListener("keyup",c=>b.delete(c.key));d.Rb().addEventListener("window-blur",()=>b.clear());d.te&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}t$(e){Object.defineProperties(this.fga,e)}addEventListener(e,c){d.ke.addEventListener(e,c)}removeEventListener(e,c){d.ke.removeEventListener(e,c)}get uL(){return d.Cy()}random(){return d.Qq()}get yD(){return d.Wb().Qv}get keyboard(){const e=d.xv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get IW(){const e=d.xv.IW;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get gM(){const e=d.xv.gM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Io("runtime","alert",{message:e+(d.te?" [via Web Worker]":"")})}}}"use strict";self.s1=class{constructor(){}};{"use strict";const d=self.xg;self.z1=class{constructor(b){this.Xw=b.b$()}getItem(b){d.Ld(b);return this.Xw.getItem(b)}setItem(b,a){d.Ld(b);return this.Xw.setItem(b,a)}removeItem(b){d.Ld(b);return this.Xw.removeItem(b)}clear(){return this.Xw.clear()}keys(){return this.Xw.keys()}}}
{"use strict";const d=self.xg,b=new WeakMap;self.ZE=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Ca(),writable:!1}});a.J().WR(this,a)}addEventListener(a,e){d.Ld(a);d.hk(e);b.get(this).ke.addEventListener(a,e)}removeEventListener(a,e){d.Ld(a);d.hk(e);b.get(this).ke.removeEventListener(a,e)}*yW(){for(const a of b.get(this).oa())yield a.zh()}qL(a){d.Yf(void 0);d.Yf(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var e=
b.get(this);const c=e.J();a=c.Wb().ea(a);if(!a)throw Error("invalid layer");e=c.fE(e,a,void 0,void 0,void 0);a=c.na();a.Ce(!0);e.rA();a.Ce(!1);a.$t()||c.Kd();return e.zh()}}}
{"use strict";const d=self.xg,b=new WeakMap;self.w1=class{constructor(a){b.set(this,a);const e=[],c=a.Qa,g=c.zg().length;for(let m=0;m<g;++m)e.push(new self.YE(c,m));Object.defineProperties(this,{name:{value:a.Ca(),writable:!1},index:{value:a.Ka(),writable:!1}})}addEventListener(a,e){d.Ld(a);d.hk(e);b.get(this).ke.addEventListener(a,e)}removeEventListener(a,e){d.Ld(a);d.hk(e);b.get(this).ke.removeEventListener(a,e)}get width(){return b.get(this).fa()}set width(a){b.get(this).Jh(a)}get height(){return b.get(this).aa()}set height(a){b.get(this).Fh(a)}set scale(a){d.Eh(a);
b.get(this).YF(a)}get scale(){return b.get(this).zd}set angle(a){d.Eh(a);b.get(this).Jc(a)}get angle(){return b.get(this).Na()}set scrollX(a){d.Yf(a);b.get(this).Si(a)}get scrollX(){return b.get(this).Sf()}set scrollY(a){d.Yf(a);b.get(this).Ti(a)}get scrollY(){return b.get(this).Tf()}scrollTo(a,e){d.Yf(a);d.Yf(e);const c=b.get(this);c.Si(a);c.Ti(e)}*fL(){for(const a of b.get(this).fL())yield a.rB}set OW(a){d.Ld(a);const e=b.get(this);if("perspective"===a)e.ZP();else if("orthographic"===a)e.WP();else throw Error("invalid projection");
}get OW(){return b.get(this).zf?"orthographic":"perspective"}}}
{"use strict";const d=self.D,b=self.xg,a=new WeakMap,e=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...e.entries()].map(m=>[m[1],m[0]])),g=d.A(d.fb);self.v1=class{constructor(m){a.set(this,m);const h=[],l=m.Qa,n=l.zg().length;for(let p=0;p<n;++p)h.push(new self.YE(l,p));Object.defineProperties(this,{name:{value:m.Ca(),writable:!1},index:{value:m.Ka(),
writable:!1},yD:{value:m.kc().Qv,writable:!1}})}*RL(){for(const m of a.get(this).RL())yield m.rB}get isVisible(){return a.get(this).ds}set isVisible(m){a.get(this).Ih(m)}get opacity(){return a.get(this).Vd()}set opacity(m){m=d.da(+m,0,1);isNaN(m)||a.get(this).Lg(m)}set scale(m){b.Eh(m);a.get(this).XP(m)}get scale(){return a.get(this).zd}set angle(m){b.Eh(m);a.get(this).Jc(m)}get angle(){return a.get(this).qe}set Sx(m){b.Eh(m);a.get(this).sf(m)}get Sx(){return a.get(this).gb()}set Vn(m){b.Ld(m);m=
e.get(m);if("number"!==typeof m)throw Error("invalid blend mode");a.get(this).Zf(m)}get Vn(){return c.get(a.get(this).Kj())}set backgroundColor(m){b.IF(m);if(3>m.length)throw Error("expected 3 elements");g.it(m[0],m[1],m[2]);m=a.get(this);const h=m.Fl;h.tm(g)||(h.Bj(g),m.J().ga())}get backgroundColor(){const m=a.get(this).Fl;return[m.Xa,m.ab,m.$a]}set scrollX(m){b.Yf(m);const h=a.get(this);h.uu(!0);h.Si(m)}get scrollX(){return a.get(this).Sf()}set scrollY(m){b.Yf(m);const h=a.get(this);h.uu(!0);h.Ti(m)}get scrollY(){return a.get(this).Tf()}scrollTo(m,
h){b.Yf(m);b.Yf(h);const l=a.get(this);l.uu(!0);l.Si(m);l.Ti(h)}}}
{"use strict";const d=self.D,b=self.xg,a=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.A(d.Event.Rb);e.set(m,h);return h}let g=null;self.Xt=class{constructor(){a.set(this,g);const m={Lf:{value:g.J().mj,writable:!1},OL:{value:g.K().Rv,writable:!1},uid:{value:g.fd,writable:!1}};g.S9(m);g.N9(m);Object.defineProperties(this,m);g.J().WR(this,g)}static Tg(m){g=m}static lr(){return g}Xu(){const m=e.get(this);m&&(m.j(),e.delete(this));a.delete(this)}addEventListener(m,h,l){b.Ld(m);
b.hk(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){b.Ld(m);b.hk(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const d=self.D,b=self.xg,a=self.Xt,e=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));d.A(d.fb);self.az=class m extends a{constructor(){super();var h=a.lr();e.set(this,h);const l=[];var n=h.m();if(h=n.jg){n=n.K().Qa.zg().length;for(let p=0;p<n;++p)l.push(new self.YE(h,p))}}get yD(){return e.get(this).m().kc().Qv}get GW(){return e.get(this).m().ea().rB}get x(){return e.get(this).m().ka()}set x(h){h=
+h;const l=e.get(this).m();isNaN(h)||l.ka()===h||(l.Ng(h),l.Ia())}get y(){return e.get(this).m().la()}set y(h){h=+h;const l=e.get(this).m();isNaN(h)||l.la()===h||(l.Kh(h),l.Ia())}get Sx(){return e.get(this).m().gb()}set Sx(h){h=+h;const l=e.get(this),n=l.m();isNaN(h)||n.gb()===h||(n.sf(h),l.J().ga())}get width(){return e.get(this).m().fa()}set width(h){h=+h;const l=e.get(this).m();isNaN(h)||l.fa()===h||(l.Jh(h),l.Ia())}get height(){return e.get(this).m().aa()}set height(h){h=+h;const l=e.get(this).m();
isNaN(h)||l.aa()===h||(l.Fh(h),l.Ia())}get angle(){return e.get(this).m().Na()}set angle(h){h=d.Be(+h);const l=e.get(this).m();isNaN(h)||l.Na()===h||(l.Jc(h),l.Ia())}zL(){e.get(this).m().Vc().hha()}get isVisible(){return e.get(this).m().kd()}set isVisible(h){h=!!h;const l=e.get(this),n=l.m();n.kd()!==h&&(n.Ih(h),l.J().ga())}get opacity(){return e.get(this).m().Vd()}set opacity(h){h=d.da(+h,0,1);const l=e.get(this),n=l.m();isNaN(h)||n.Vd()===h||(n.Lg(h),l.J().ga())}set Vn(h){b.Ld(h);h=c.get(h);if("number"!==
typeof h)throw Error("invalid blend mode");const l=e.get(this);l.m().Zf(h);l.J().ga()}get Vn(){return g.get(e.get(this).m().Kj())}get zIndex(){return e.get(this).m().ak()}If(h,l){b.Yf(h);b.Yf(l);return e.get(this).m().qt(+h,+l)}getParent(){const h=e.get(this).Ha();return h?h.zh():null}*Kx(){for(const h of e.get(this).Kx())yield h.zh()}*children(){for(const h of e.get(this).children())yield h.zh()}*Wk(){for(const h of e.get(this).Wk())yield h.zh()}removeChild(h){b.JF(h,m);const l=e.get(this);h=e.get(h);
l.gk(h)}}}{"use strict";const d=new WeakMap;self.jka=class extends self.az{constructor(){super();d.set(this,self.Xt.lr())}focus(){d.get(this).pa.eN()}blur(){d.get(this).pa.tM()}}}
{"use strict";const d=self.D,b=self.xg,a=new WeakMap,e=new WeakMap;function c(m){let h=e.get(m);if(h)return h;h=d.A(d.Event.Rb);e.set(m,h);return h}let g=null;self.UN=class{constructor(){a.set(this,g);const m={Lf:{value:g.J().mj,writable:!1},behavior:{value:g.Bm().i0(),writable:!1}};Object.defineProperties(this,m)}static Tg(m){g=m}static lr(){return g}get instance(){return a.get(this).X.zh()}Xu(){const m=e.get(this);m&&(m.j(),e.delete(this));a.delete(this)}addEventListener(m,h,l){b.Ld(m);b.hk(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){b.Ld(m);b.hk(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const d=new WeakMap;self.t1=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Lf:{value:b.J().mj,writable:!1}})}}}
{"use strict";const d=self.D,b=self.xg,a=new WeakMap;self.YE=class{constructor(e,c){a.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).zg()[this.index].Ca()}getParameter(e){b.Eh(e);e=Math.floor(+e);const c=a.get(this).cl(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.fb?[e.Xa,e.ab,e.$a]:e}}}
{"use strict";const d=new WeakMap;self.q1=class{constructor(b){d.set(this,b);Object.defineProperties(this,{name:{value:b.Ca(),writable:!1},speed:{value:b.Zj(),writable:!1},wua:{value:b.Dg(),writable:!1}})}*frames(){for(const b of d.get(this).Gd)yield b.vea}}}{"use strict";const d=new WeakMap;self.VN=class{constructor(b){d.set(this,b)}get width(){return d.get(this).fa()}get height(){return d.get(this).aa()}}}
{"use strict";const d=new WeakMap;self.r1=class extends self.VN{constructor(b){super(b.kf());d.set(this,b);Object.defineProperties(this,{duration:{value:b.VA,writable:!1}})}}}
{"use strict";const d=self.D,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.VX=class extends d.ja{constructor(e,c){super();var g=c.exportType;this.g=e;this.hC=new Map;this.os=new Map;this.Nea=new Map;this.CB="cordova"===g;this.DU=!!c.isiOSCordova;this.Zv=!!c.isFileProtocol;this.jfa=c.supportedAudioFormats||{};this.Sda=
new Map;this.jU=this.TT="";this.SA="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.RH=[];this.aI=new Map;this.cL=[];this.fC=[];this.eU=!1;this.YB=this.$H=this.ix=0;this.WI=!1;this.Mea=d.A(d.F4,()=>this.kR(),50);this.lK=new d.$O(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(e,g);(g=c.projectData)&&(e["data.json"]=g);for(const [m,h]of Object.entries(e))this.hC.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.Nea.set(m,h);new self.s1(this)}j(){this.hC.clear();for(const e of this.os.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.os.clear();for(const e of this.RH)e.j();d.F(this.RH);this.aI.clear();d.F(this.fC);this.g=null}J(){return this.g}Gca(e){this.TT=e}Lca(e){this.jU=e}WG(e){return this.hC.has(e.toLowerCase())}Zz(e){return this.hC.get(e.toLowerCase())||null}zN(e){if(!this.WG(e))return e;e=e.toLowerCase();var c=this.os.get(e);c||(c=this.Zz(e),c=URL.createObjectURL(c),
this.os.set(e,c));return c}al(e,c){c=c||this.SA;const g=this.Zz(e);if(g)return Promise.resolve(g);if(d.pF(e)){const m=e.toLowerCase();return this.CB&&this.Zv?this.KM(m):"local"===c?this.lK.Uc(()=>d.al(m)):d.al(m)}return d.al(e)}wt(e){const c=this.Zz(e);if(c)return d.dY(c);if(d.pF(e)){const g=e.toLowerCase();return this.CB&&this.Zv?this.JM(g):"local"===this.SA?this.lK.Uc(()=>d.wt(g)):d.wt(g)}return d.wt(e)}xt(e){const c=this.Zz(e);if(c)return d.sM(c);if(d.pF(e)){const g=e.toLowerCase();return this.CB&&
this.Zv?this.MY(g):"local"===this.SA?this.lK.Uc(()=>d.xt(g)):d.xt(g)}return d.xt(e)}async cN(e){e=await this.xt(e);return JSON.parse(e)}zG(e,c){return this.g.Io("runtime","cordova-fetch-local-file",{filename:e,as:c})}MY(e){return this.zG(e,"text")}async KM(e){const c=await this.zG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":a.get(e.le(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async LY(e){e=e.toLowerCase();var c=this.os.get(e);if(c)return c;c=await this.KM(e);c=URL.createObjectURL(c);
this.os.set(e,c);return c}JM(e){return this.zG(e,"buffer")}JE(e,c=""){if(d.dF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.WG(e)?Promise.resolve(this.zN(e)):this.CB&&this.Zv?this.LY(c+e):Promise.resolve(c+e.toLowerCase())}pz(e){if(e.Hx&&!b.has(e.Hx))throw Error("invalid load policy");let c=this.aI.get(e.url);if(c)return c;c=d.A(d.WN,this,{url:e.url,size:e.size||0,Hx:e.Hx||this.SA});this.RH.push(c);this.aI.set(c.Qk,c);this.eU||(this.ix+=c.Fm(),
this.fC.push(c.tO().then(()=>this.DQ(c.Fm()))));return c}async vQ(){try{await Promise.all(this.fC),this.YB=1}catch(e){console.error("Error loading: ",e),this.WI=!0,this.kR()}}T5(){this.eU=!0}DQ(e){this.$H+=e;this.Mea.mY()}kR(){const e=d.A(d.Event,"loadingprogress");this.YB=d.da(this.$H/this.ix,0,1);e.progress=this.YB;this.g.Rb().dispatchEvent(e)}ada(e){d.Tc(this.cL,e);this.cL.length&&this.fC.push(this.haa())}haa(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,g,
m]of this.cL)this.ix+=m,e.push(this.gaa(c,g).then(()=>this.DQ(m)));return Promise.all(e)}async gaa(e,c){try{const g=await this.JE(c,this.TT),m=new FontFace(e,`url('${g}')`);this.g.te?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${e}': `,g)}}n2(){return!!this.jfa["audio/webm; codecs=opus"]}rca(e){for(const [c,g,m]of e)this.Sda.set(c,{fileName:c,Bsa:g.map(h=>({type:h[0],ysa:h[1],Osa:c+h[1],fileSize:h[2]})),ita:m})}async xO(e){e=
await this.JE(e);return await this.g.Io("runtime","add-stylesheet",{url:e})}}}
{"use strict";const d=self.D;d.UX=class extends d.ja{constructor(b,a){super();this.nd=b;this.g=b.J();this.Qk=a.url;this.Bs=a.size;this.LJ=a.Hx;this.rv=null;this.sJ=!1;this.tn=null}j(){this.rv=this.g=this.nd=this.tn=null}Fm(){return this.Bs}tO(){return"local"===this.LJ||this.rv?(this.sJ=!0,Promise.resolve()):this.tn?this.tn:this.tn=this.nd.al(this.Qk,this.LJ).then(b=>{this.sJ=!0;this.tn=null;return this.rv=b}).catch(b=>console.error("Error loading resource: ",b))}nF(){return this.sJ}J_(){return this.rv?
Promise.resolve(this.rv):this.tn?this.tn:this.nd.al(this.Qk,this.LJ)}}}
{"use strict";const d=self.D,b=new d.$O,a=new Set;d.WN=class extends d.UX{constructor(e,c){super(e,c);this.Sk=this.bq=null;this.Pc=0;this.lU=this.nU=-1;a.add(this)}j(){this.Pi();if(0!==this.Pc)throw Error("released image asset which still has texture references");this.bq=null;a.delete(this);super.j()}static Nq(){for(const e of a)e.bq=null,e.Sk=null,e.Pc=0}au(e,c){c=c||{};this.Pc++;if(this.Sk)return Promise.resolve(this.Sk);if(this.bq)return this.bq;c.fW=this.g.P.JV;return this.bq=this.J_().then(g=>
b.Uc(()=>e.iE(g,c).then(m=>{this.bq=null;if(0===this.Pc)return e.Ij(m),null;this.Sk=m;this.nU=m.fa();this.lU=m.aa();return this.Sk}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Pi(){if(0>=this.Pc)throw Error("texture released too many times");this.Pc--;0===this.Pc&&this.Sk&&(this.Sk.jb().Ij(this.Sk),this.Sk=null)}Yd(){return this.Sk}fa(){return this.nU}aa(){return this.lU}}}
{"use strict";const d=self.D;function b(a,e){return a.m().Vk-e.m().Vk}d.R4=class extends d.ja{constructor(a,e,c){super();this.T=e;this.R=c;this.G=[];this.bw=!0;this.sj=new Set;this.Vv=!1}j(){d.F(this.G);this.sj.clear()}ld(){d.F(this.G);this.bw=!0;this.sj.clear();this.Vv=!1}C5(){this.bw=!1}Do(){if(!this.G.length)return!0;if(this.G.length>this.sj.size)return!1;this.SG();return!0}bF(a){this.sj.has(a)?(this.sj.delete(a),0===this.sj.size&&(this.Vv=!1)):(this.G.push(a),this.bw=1===this.G.length)}Dh(a){this.sj.add(a);
this.Vv=!0;50<=this.sj.size&&this.SG()}SG(){this.Vv&&(this.G.length===this.sj.size?this.ld():(d.tg(this.G,this.sj),this.sj.clear(),this.Vv=!1))}t9(){this.bw||(this.G.sort(b),this.bw=!0)}lE(a){this.SG();this.t9();this.G.length&&a.push(this.G)}}}
{"use strict";const d=self.D;d.S4=class extends d.ja{constructor(b,a){super();this.nI=b;this.mI=a;this.ej=d.A(d.fu)}j(){this.ej.j();this.ej=null}Cm(b,a,e){let c=this.ej.ba(b,a);return c?c:e?(c=d.A(d.R4,this,b,a),this.ej.Set(b,a,c),c):null}Vi(b){return Math.floor(b/this.nI)}Wi(b){return Math.floor(b/this.mI)}ul(b,a,e){if(a)for(let c=a.Z,g=a.ia;c<=g;++c)for(let m=a.S,h=a.ca;m<=h;++m){if(e&&e.If(c,m))continue;const l=this.Cm(c,m,!1);l&&(l.Dh(b),l.Do()&&this.ej.mo(c,m))}if(e)for(let c=e.Z,g=e.ia;c<=g;++c)for(let m=
e.S,h=e.ca;m<=h;++m)a&&a.If(c,m)||this.Cm(c,m,!0).bF(b)}vz(b,a){let e=this.Vi(b.Z);const c=this.Wi(b.S),g=this.Vi(b.ia);for(b=this.Wi(b.ca);e<=g;++e)for(let m=c;m<=b;++m){const h=this.Cm(e,m,!1);h&&h.lE(a)}}d3(b){let a=b.Z;const e=b.S,c=b.ia;for(b=b.ca;a<=c;++a)for(let g=e;g<=b;++g){const m=this.Cm(a,g,!1);m&&m.C5()}}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.Ed,e=[];new d.Rect;new d.Rect;const c=self.Ej,g=c.KD,m=c.Qx,h=c.um;h.create();const l=g.create(),n=m.create(),p=g.create(),r=g.create(),u=g.create(),w=d.A(d.Du);d.A(d.Rect);function q(z,F){return z.m().Vk-F.m().Vk}function v(z,F){return z.m().gb()-F.m().gb()}const y=[],A=[],G=[];d.rO=class extends d.ja{constructor(z,F,H){super();this.eh=z;this.g=z.J();this.gV=F;this.Ja=H[0];this.Ra=-1;this.lb=H[2];this.ds=!!H[3];this.KB=!!H[13];this.Fl=d.A(d.fb);this.Fl.wm(H[4].map(M=>
M/255));this.Hk=!!H[5];this.ee=H[6];this.fe=H[7];this.hb=d.A(d.fb,1,1,1,H[8]);this.yC=d.A(d.fb);this.nJ=H[9];this.cfa=H[17];this.PV=H[18];this.pfa=H[10];this.vj=H[11];this.Wg=H[12];this.Se=null;this.zd=1;this.gd=H[16];this.ki=this.ji=this.qe=0;this.Nl=!1;this.rg=d.A(d.Rect);this.WV=d.A(d.Rect);this.Sn=d.A(d.Rect);this.Kk=h.create();this.wJ=!0;this.vw=h.create();this.tJ=!0;this.VV=d.A(d.M.k7);this.VB=!0;this.GV=[];this.qU=H[14];this.Fk=[];this.QA=[];this.rU=new Map;this.G=[];this.jp=this.eL=!1;const J=
this.g.P;this.Qa=d.A(d.Zk,this,H[15]);this.Sh=d.A(d.M.Ee,J.AI,{oD:(M,Q)=>{Q=Q.dn;const R=Q.Wj();M.Rm(Q.IE());M.ny(R);M.Gq(R);J.Lo(R)},tD:M=>this.Qa.cl(M)});this.rx=this.Zl=!0;this.ys=null;this.AJ=[];this.OB=!1;this.Jea=d.A(d.Rect,0,0,-1,-1);this.kea=d.A(d.Rect,0,0,-1,-1);this.rB=null;this.mT();this.Yo()&&(this.ys=d.A(d.S4,this.g.hh,this.g.gh));this.Fn=H[19].map(M=>d.A(d.rO,this.eh,this,M))}Tg(){for(const z of this.qU){const F=this.g.lf(z[1]);this.eh.BQ(F);F.Nr||F.EP(z);this.Fk.push(z);this.rU.set(z[2],
z)}d.Tc(this.GV,this.Fk);this.qU=null;this.rB=new self.v1(this)}j(){this.g=this.eh=null}l0(z){return this.rU.get(z)}PY(z){const F=this.eh.Gp;let H=0;const J=this.Fk;for(let Q=0,R=J.length;Q<R;++Q){var M=J[Q];const T=this.g.lf(M[1]);let Z=!0;if(!T.VE()||F)M=this.g.Bi(M,this,!0),z.push(M),T.Xf()&&(Z=!1,this.QA.push(M.fd));Z&&(J[H]=J[Q],++H)}d.ff(J,H);this.g.Kd();this.Pg()}Sg(z,F){const H=z.m();if(H.ea()!==this)throw Error("instance added to wrong layer");this.G.push(z);0!==H.gb()&&(this.jp=!0);F&&this.Yo()&&
z.m().Ia();this.Pg()}jaa(z){this.G.includes(z)||(this.G.push(z),0!==z.m().gb()&&(this.jp=!0),this.Pg())}hba(z){const F=z.m();if(F.ea()!==this)throw Error("instance added to wrong layer");this.G.unshift(z);0!==F.gb()&&(this.jp=!0);this.Pg()}ep(z,F){const H=this.G.indexOf(z);0>H||(F&&this.Yo()&&z.m().uS(),this.G.splice(H,1),this.Pg(),this.bS())}KS(){this.jp=!0}bS(){0===this.G.length&&(this.jp=!1)}CH(z){if(z){z=new Set;for(var F of this.G){var H=F.m().Vk;0<=H&&z.add(H)}F=-1;for(const J of this.G)if(H=
J.m(),!(0<=H.Vk)){for(++F;z.has(F);)++F;H.pA(F)}}this.G.sort(q)}s9(){for(const z of this.G)z.K().Xf()||this.g.no(z);this.g.Kd();d.F(this.G);this.jp=!1;this.Pg()}iu(z,F,H,J,M){const Q=this.g.na(),R=this.g.Yc,T=z.bb,Z=[];for(const Y of this.Fk){var X=Y[0];if(F.If(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.bN(X))continue}else continue;X=this;var ba=this.g.Oa();this.kc()!==ba&&((X=ba.xN(this.Ca()))||(X=ba.Iy(this.Ka())));ba=this.g.Bi(Y,X,!1,void 0,void 0,!1,M);X.hG(ba);X=ba.m();X.eu(H,J);X.Ia();Q.Ce(!0);
ba.rA();Q.Ce(!1);Z.push(ba)}}return Z}kc(){return this.eh}Ca(){return this.Ja}wH(z){this.Ra=z}Ka(){return this.Ra}J(){return this.g}bl(){return this.g.bl()}Ci(){this.Su();return this.Sh}Su(){const z=this.Fq();if(this.Zl||z!==this.rx){var F=this.Qa.bg;this.Sh.YD(F.map(H=>H.Uf()),{Ys:F.map(H=>H.Ka()),rD:!z,JD:!0});this.Zl=!1;this.rx=z}}Lh(){this.Qa.Lh();this.Zl=!0}Yo(){return this.pfa&&!this.PV}g6(){this.OB=!1}kd(){for(const z of this.XW())if(!z.ds)return!1;return!0}Ih(z){z=!!z;this.ds!==z&&(this.ds=
z,this.g.ga())}W5(z){this.KB=!!z}jz(){for(const z of this.XW())if(!z.KB)return!1;return!0}uu(z){z=!!z;if(this.Nl!==z){if(this.Nl=z)z=this.kc(),this.ji=z.Sf(),this.ki=z.Tf();this.sk();this.g.ga()}}Si(z){var F=this.kc();const H=F.FN();F=F.GN();z>F&&(z=F);z<H&&(z=H);this.ji!==z&&(this.ji=z,this.Nl&&(this.sk(),this.g.ga()))}Ti(z){var F=this.kc();const H=F.HN();F=F.EN();z>F&&(z=F);z<H&&(z=H);this.ki!==z&&(this.ki=z,this.Nl&&(this.sk(),this.g.ga()))}Sf(){return this.Nl?this.ji:this.kc().Sf()}Tf(){return this.Nl?
this.ki:this.kc().Tf()}VG(){const z=this.kc();return[z.OE(),z.PE()]}Qf(){return this.g.Qf()}PN(z,F){var H=this.WV;if(0===z)F.ta(H);else{let R=H.et(),T=H.ft();var J=this.gN(z);const Z=H.width()/J;H=H.height()/J;const [X,ba]=this.VG();if(.5!==X||.5!==ba){const Y=this.Dt();var M=this.g,Q=this.Qf()/Y;J=(X-.5)*M.sg/Q;M=(ba-.5)*M.ef/Q;Q=this.Na();0!==Q&&(w.set(J,M),w.rotate(Q),J=w.T,M=w.R);z=d.nt(Y,0,z);R+=d.Ud(J,0,z);T+=d.Ud(M,0,z)}F.set(R-Z/2,T-H/2,R+Z/2,T+H/2)}}Vd(){return this.hb.Za}Lg(z){z=d.da(z,
0,1);this.hb.Za!==z&&(this.hb.gt(z),this.mT(),this.g.ga())}mT(){this.yC.ta(this.hb);this.yC.VL()}IE(){return this.yC}Fq(){return this.hb.pD(1,1,1,1)}h6(z){this.vj!==z&&(this.vj=z,this.sk(),this.g.ga())}c6(z,F){if(this.ee!==z||this.fe!==F)if(this.ee=z,this.fe=F,this.sk(),this.g.ga(),1!==this.ee||1!==this.fe)for(const H of this.G)H.K().tH(!0)}sf(z){this.gd!==z&&(this.gd=z,this.g.ga())}gb(){return this.gd}Jc(z){z=d.Be(z);this.qe!==z&&(this.qe=z,this.sk(),this.g.ga())}Na(){return d.Be(this.eh.Na()+this.qe)}h1(){return 0<
this.G.length}TG(){return this.GF()&&this.PV?(d.Tc(G,this.G),G.sort((z,F)=>this.jda(z,F)),G):this.G}IQ(z){d.Un(z,this.TG());for(const F of this.Fn)F.kd()&&0<F.Vd()&&F.IQ(z)}jda(z,F){var H=this.kc().vT,J=H[0],M=H[1];H=H[2];var Q=z.m();const R=F.m();F=Q.ka()-J;z=Q.la()-M;Q=Q.gb()-H;J=R.ka()-J;M=R.la()-M;H=R.gb()-H;return J*J+M*M+H*H-(F*F+z*z+Q*Q)}t6(z){z=!!z;this.Hk!==z&&(this.Hk=z,this.g.ga())}Q5(z){z=!!z;this.nJ!==z&&(this.nJ=z,this.g.ga())}iP(){return!this.J().om||!this.cfa}GF(){return!this.iP()}Eq(){return this.GF()&&
this.kc().Bea}PF(){if(!this.Eq())return!1;for(const z of this.Fn)if(!z.PF())return!1;return!0}Zf(z){this.Wg!==z&&(this.Wg=z,this.g.ga())}Kj(){return this.Wg}c1(){for(const z of this.Fn)if(z.Iz())return!0;return!1}*WW(){for(const z of this.Fn)yield*z.WW();yield this}*RL(){let z=this.gV;for(;z;)yield z,z=z.gV}*XW(){yield this;yield*this.RL()}H2(z){return this===z||this.ee===z.ee&&this.fe===z.fe&&this.zd===z.zd&&this.vj===z.vj&&this.qe===z.qe&&this.Sf()===z.Sf()&&this.Tf()===z.Tf()}vba(z){0!==z.size&&
0<d.tg(this.G,z)&&(this.bS(),this.Pg())}Pg(){this.OB=this.eL=!1}dv(){if(!this.eL){this.G.sort(v);if(this.Yo())for(let z=0,F=this.G.length;z<F;++z){const H=this.G[z].m();H.pA(z);this.ys.d3(H.Ew)}else for(let z=0,F=this.G.length;z<F;++z)this.G[z].m().pA(z);this.eL=!0}}j3(z,F,H){var J=z.m();F=F.m();if(J.ea()!==this||F.ea()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.ak();F=F.ak();if(J===F+(H?1:-1))return!1;d.zfa(this.G,J);J<F&&F--;H&&F++;F===this.G.length?this.G.push(z):
this.G.splice(F,0,z);this.Pg();return!0}raa(z,F){const H=[];let J=0,M=0,Q=z.length,R=F.length;for(;J<Q&&M<R;){const T=z[J],Z=F[M];T.m().Vk<Z.m().Vk?(H.push(T),++J):(H.push(Z),++M)}for(;J<Q;++J)H.push(z[J]);for(;M<R;++M)H.push(F[M]);return H}qaa(z){const F=[],H=z.length;for(let J=0;J<H-1;J+=2)F.push(this.raa(z[J],z[J+1]));1===H%2&&F.push(z[H-1]);return F}paa(z){for(;1<z.length;)z=this.qaa(z);return z[0]}d$(){this.dv();d.F(e);this.ys.vz(this.rg,e);return e.length?1===e.length?e[0]:this.paa(e):[]}Iz(){return this.kd()&&
0<this.Vd()&&this.eR()}eR(){if(this.h1()||!this.Hk)return!0;for(const z of this.Fn)if(z.eR())return!0;return!1}Cu(){return this.nJ||!this.Fq()||0!==this.Kj()||this.Qa.Vt()}QF(){if(this.Cu())return!0;for(const z of this.Fn)if(z.QF())return!0;return!1}Wj(){return this.Se}gN(z){if(this.eh.zf)return 1;{const F=this.Dt();return F/(F-z)}}Dt(){return this.Qf()/this.Gi()}sk(){this.VB=this.tJ=!0}$z(z){this.tJ&&(this.X7(z,this.vw),this.tJ=!1);return this.vw}L9(){var z=this.g,F=this.kc(),H=z.qC,J=z.rC;H=(this.Sf()-
H)*this.ee+H;var M=(this.Tf()-J)*this.fe+J;z.Sl&&(H=Math.round(H),M=Math.round(M));J=H+0;H=M+0;F=F.zf?this.Qf():this.Dt();const [Q,R]=this.VG();if(.5!==Q||.5!==R){var T=this.Qf()/F;M=(Q-.5)*z.sg/T;z=(R-.5)*z.ef/T;T=this.Na();0!==T&&(w.set(M,z),w.rotate(T),M=w.T,z=w.R);J+=M;H+=z}return[J,H,F]}X7(z,F){const H=this.g;var J=this.kc();if(this.Eq()){g.ta(p,J.vT);g.ta(r,J.cea);g.ta(u,J.dea);J=H.qC;const M=H.rC,Q=r[0]-p[0],R=r[1]-p[1],T=r[2]-p[2];p[0]=(p[0]-J)*this.ee+J;p[1]=(p[1]-M)*this.fe+M;p[2]*=Math.max(this.ee,
this.fe);r[0]=p[0]+Q;r[1]=p[1]+R;r[2]=p[2]+T}else{const [M,Q,R]=this.L9();g.set(p,M,Q,R);g.set(r,M,Q,R-100);J=this.Na();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.vM(F,p,r,u,H.ef)}Tca(){this.VB=this.wJ=!0}aA(z){this.wJ&&(this.Y7(z),this.wJ=!1);return this.Kk}Y7(z){const F=this.g.P,[H,J]=this.VG();this.eh.zf?z.jY(this.Kk,F.Oj(),F.Nj()):.5===H&&.5===J?h.ta(this.Kk,F.TA):z.io(this.Kk,F.Oj()/F.Nj(),H,J)}nA(z){z.Ro(this.aA(z));let F;F=this.$z(z);z.$q(F)}s4(z){this.nA(z);z.Wq(this.gb())}xh(z,
F,H){var J=this.g.P;const M=this.Cu();var Q=null;let R=null;if(this.g.iF()&&z.Ni()){const T=J.yN(this);T&&(R=T.TD(),z.lG(R))}M?(Q={Fj:this.g.yd},"low"===J.Xh&&(Q.width=J.Oj(),Q.height=J.Nj()),this.Se=Q=this.g.At(Q),z.Mg(Q),this.Hk&&z.ko()):(this.Se=F,z.Mg(F));this.Hk||z.Ad(this.Fl);this.eh.cR(z,this.Se,this.Fn,M&&this.Hk);this.nA(z);z.Wq(this.gb());z.Kg(this.GF());this.Gi()>Number.EPSILON&&(this.dv(),J=this.Yo()&&0===this.gb()&&!this.jp,this.Eq()?this.i9(z):J?this.j9(z):this.bR(z,this.TG()));z.Wq(0);
z.ou(0);M&&(z.Kg(!1),this.k9(z,Q,F,H));R&&z.nE(R);this.Se=null}bR(z,F){const H=this.rg,J=this.Se,M=this.kc().zf,Q=this.kc().TN();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.m();ba.kd()&&ba.jO(H,Q,M)&&this.yl(X,ba,z,J)}}i9(z){const F=this.Se,H=this.mr(),J=this.TG();for(let T=0,Z=J.length;T<Z;){var M=J[T],Q=M.m();if(!Q.kd()||!Q.Iq(H)){++T;continue}(!M.Rq()||0<Q.$c)&&A.push(M);var R=M.m().nf();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.m();if(Y.kd()&&
Y.Iq(H)){if(Y.nf()!==R)break;ba.Rq()?(0<Y.$c&&A.push(ba),y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].BO()){this.f9(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],Q=M.m(),Q.lA(!0),this.yl(M,Q,z,F),Q.lA(!1)}else{this.yl(M,Q,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)Q=A[ba],Q!==M&&(R=Q.m(),R.ea().yl(Q,R,z,F))}T=X;d.F(y);d.F(A)}}f9(z,F){const H=this.Se;z.HM();for(let Q=0,R=F.length;Q<R;++Q){var J=F[Q],M=J.m();M.jA(!0);this.MG(J,M,z)}z.GM();for(let Q=0,R=F.length;Q<R;++Q)J=F[Q],M=J.m(),this.yl(J,M,z,H),
M.jA(!1);z.FM()}j9(z){var F=this.ys;const H=this.kea,J=this.Jea,M=this.rg;H.set(F.Vi(M.Z),F.Wi(M.S),F.Vi(M.ia),F.Wi(M.ca));this.OB&&H.rd(J)?F=this.AJ:(F=this.d$(),this.OB=!0,J.ta(H));this.bR(z,F);F!==this.AJ&&d.Tc(this.AJ,F)}yl(z,F,H,J){F.Vt()?this.h9(z,F,H,J):this.MG(z,F,H)}MG(z,F,H){F=F.Yp;H.gj!==F&&F.PX();z.xh(H)}h9(z,F,H,J){this.g9(z,F,H,J)&&this.nA(H)}g9(z,F,H,J){const M=F.jg.Ci();M.Oo(H,J,{kD:z,Vn:F.Kj(),devicePixelRatio:this.g.Jt(),Ex:this.g.Kt()*this.Gi(),xD:this.Na(),dt:F.Vc(),zx:M.uv?null:
this.A$(F),rW:null,kW:null,lW:null,mX:null});H.Wq(this.gb());return M.hn}k9(z,F,H,J){const M=this.g;0===this.Qa.bg.length?(z.Mg(H),z.lk(),J&&0===this.Wg&&this.Fq()?z.IM(F):(z.Zf(this.Wg),z.Rm(this.yC),z.ny(F)),z.Gq(F),M.Lo(F)):this.Ci().Oo(z,H,{kD:this,Vn:this.Kj(),devicePixelRatio:M.Jt(),Ex:M.Kt()*this.Gi(),xD:this.Na(),dt:this.rg,zx:null,DL:!0})}XP(z){this.zd!==z&&(this.zd=z,this.eh.Xx(),this.sk(),this.g.ga())}zq(){return this.Gi()*this.g.zq()}Mj(){return this.Gi()*this.g.Mj()}Gi(){return(this.zd*
this.eh.zd-1)*this.vj+1}qG(){var z=this.g.qC,F=this.g.rC,H=(this.Sf()-z)*this.ee+z,J=(this.Tf()-F)*this.fe+F;z=this.Gi();F=this.g.sg/z;z=this.g.ef/z;H-=F/2;let M=J-z/2;this.g.Sl&&(H=Math.round(H),M=Math.round(M));J=this.WV;J.set(H,M,H+F,M+z);F=this.Na();0!==F&&(b.ta(J),b.offset(-J.et(),-J.ft()),a.Xga(b,F),a.zL(b),b.offset(J.et(),J.ft()),J.ta(b));F=this.gd;this.PN(F,this.rg);this.Eq()?this.lY(F,this.Sn):this.Sn.ta(this.rg)}lY(z,F){var H=this.g.P,J=H.Mc;H=H.Cc;const [M,Q]=this.uh(0,0,z),[R,T]=this.uh(J,
0,z),[Z,X]=this.uh(J,H,z),[ba,Y]=this.uh(0,H,z);z=Math.min(M,R,Z,ba);J=Math.min(Q,T,X,Y);H=Math.max(M,R,Z,ba);let va=Math.max(Q,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(H)||(H=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,H,va)}uh(z,F,H=0){return this.b8(z,F,H,this.Mj())}b8(z,F,H,J){const M=this.g;var Q=M.jb();const R=this.Gi();m.set(n,0,0,M.sg/R,M.ef/R);z/=J;F=n[3]-F/J;J=this.aA(Q);Q=this.$z(Q);return d.M.c7(z,F,H,Q,J,n,l)?[l[0],l[1]]:[NaN,NaN]}qY(z,F){const H=this.zd,
J=this.vj,M=this.ee,Q=this.fe,R=this.qe;this.fe=this.ee=this.vj=this.zd=1;this.qe=0;this.sk();z=this.uh(z,F);this.zd=H;this.vj=J;this.ee=M;this.fe=Q;this.qe=R;this.sk();return z}Ho(z,F){return this.UR(z,F,0,this.Mj())}dk(z,F,H=0){return this.UR(z,F,H,this.zq()*this.bl())}UR(z,F,H,J){var M=this.g,Q=M.jb();const R=this.Gi();m.set(n,0,0,M.sg/R,M.ef/R);M=this.aA(Q);Q=this.$z(Q);return d.M.u4(z,F,H,Q,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}A$(z){var F=z.Vc(),H=z.nf();z=z.$c;const J=H+z,M=F.Z,Q=F.S,R=F.ia;
F=F.ca;if(this.Eq()){if(this.Xm(M,Q,H)||this.Xm(R,Q,H)||this.Xm(R,F,H)||this.Xm(M,F,H)||0<z&&(this.Xm(M,Q,J)||this.Xm(R,Q,J)||this.Xm(R,F,J)||this.Xm(M,F,J)))return null}else if(J>=this.Dt())return null;let [T,Z]=this.dk(M,Q,H),[X,ba]=this.dk(R,F,H);if(0!==this.Na()||0<z){const [Y,va]=this.dk(R,Q,H),[ta,ya]=this.dk(M,F,H);if(0<z){const [Na,Sa]=this.dk(M,Q,J),[Ta,Ua]=this.dk(R,Q,J),[Wa,eb]=this.dk(R,F,J),[fb,Pa]=this.dk(M,F,J);H=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=H;H=
Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=H}else H=Math.min(T,X,Y,ta),X=Math.max(T,X,Y,ta),T=H,H=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=H}b.set(T,Z,X,ba);return b}mr(){this.VB&&(this.Gda(),this.VB=!1);return this.VV}Gda(){var z=this.g.jb();const F=this.aA(z);z=this.$z(z);this.VV.kY(z,F)}Xm(z,F,H){return this.mr().o2(z,F,H)}ma(){return{s:this.zd,a:this.qe,vl:this.rg.Z,vt:this.rg.S,vr:this.rg.ia,vb:this.rg.ca,v:this.ds,i:this.KB,bc:this.Fl.toJSON(),t:this.Hk,sx:this.ji,
sy:this.ki,hosp:this.Nl,px:this.ee,py:this.fe,c:this.hb.toJSON(),sr:this.vj,fx:this.Qa.Fd(),cg:this.QA}}qa(z){this.zd=z.s;this.qe=z.a;this.rg.set(z.vl,z.vt,z.vr,z.vb);this.ds=!!z.v;this.KB=z.hasOwnProperty("i")?z.i:!0;this.Fl.wm(z.bc);this.Hk=!!z.t;z.hasOwnProperty("sx")&&(this.ji=z.sx);z.hasOwnProperty("sy")&&(this.ki=z.sy);z.hasOwnProperty("hosp")&&(this.Nl=!!z.hosp);this.ee=z.px;this.fe=z.py;this.hb.wm(z.c);this.vj=z.sr;d.Tc(this.QA,z.cg);d.Tc(this.Fk,this.GV);const F=new Set(this.QA);let H=0;
for(let J=0,M=this.Fk.length;J<M;++J)F.has(this.Fk[J][2])||(this.Fk[H]=this.Fk[J],++H);d.ff(this.Fk,H);this.Qa.ud(z.fx);this.Zl=!0;this.CH(!1);this.Pg()}hG(z){if(!this.G.includes(z))if(z.pf()){var F=[...z.Wk()];F.push(z);F.sort((J,M)=>{J=J.m().Aq();M=M.m().Aq();return J-M});for(var H of F)if(H.cc())for(const J of H.Hd)F.includes(J)||(z=[...J.Wk()],z.push(J),z.sort((M,Q)=>{M=M.m().Aq();Q=Q.m().Aq();return M-Q}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.Sg(J,!0)}else if(this.Sg(z,
!0),z.cc())for(F of z.Hd)if(H=[...F.Wk()],H.push(F),H.sort((J,M)=>{J=J.m().Aq();M=M.m().Aq();return J-M}),H&&H.length)for(const J of H)this.Sg(J,!0)}}}
{"use strict";const d=self.D,b=self.wg;d.A(d.Rect);d.A(d.Rect);const a=d.A(d.Rect),e=d.A(d.fb),c=self.Ej.KD,g=[],m=[],h=[],l=[];let n=null;function p(r,u){n!==r&&(r.s4(u),n=r)}d.N2=class extends d.ja{constructor(r,u,w){super();this.eb=r;this.g=r.J();this.Ja=w[0];this.Zea=w[1];this.Yea=w[2];this.Y=w[1];this.U=w[2];this.UB=!!w[3];this.zf=!!w[4];this.eD=w[5];this.fD=w[6];this.MT=w[7];this.bd=null;this.lb=w[8];this.Ra=u;this.ki=this.ji=0;this.zd=1;this.qe=0;this.$r=new Set;this.mh=new Set;this.ax=new Set;
this.Jr=[];this.bJ=[];this.Bea=!1;this.vT=c.create();this.cea=c.create();this.dea=c.create();this.DC=[];this.ec=[];this.PU=new Map;this.QU=new Map;const q=this.g.P;this.Qa=d.A(d.Zk,this,w[11]);this.Sh=d.A(d.M.Ee,q.AI,{oD:(v,y)=>{y=y.dn.Wj();v.ku();v.ny(y);v.Gq(y);q.Lo(y)},tD:v=>this.Qa.cl(v)});this.Zl=!0;this.YV=!1;this.Se=null;this.Qp={};this.Gp=!0;this.Qv=new self.w1(this);this.ke=d.A(d.Event.Rb);for(const v of w[9])this.DC.push(d.A(d.rO,this,null,v));this.ec=[...this.fL()];for(let v=0,y=this.ec.length;v<
y;++v)r=this.ec[v],r.wH(v),r.Tg(),this.PU.set(r.Ca().toLowerCase(),r),this.QU.set(r.lb,r);for(const v of w[10]){w=this.g.lf(v[1]);if(!w)throw Error("missing nonworld object class");w.Nr||w.EP(v);this.bJ.push(v);this.BQ(w)}}j(){for(const r of this.ec)r.j();d.F(this.ec);this.ax.clear();this.g=this.eb=this.bd=null}J(){return this.g}Ca(){return this.Ja}Ka(){return this.Ra}Ci(){this.Su();return this.Sh}Su(){const r="low"===this.g.P.Xh;if(this.Zl||this.YV!==r){var u=this.Qa.bg;this.Sh.YD(u.map(w=>w.Uf()),
{Ys:u.map(w=>w.Ka()),vL:r,JD:!0});this.Zl=!1;this.YV=r}}Lh(){this.Qa.Lh();this.Zl=!0}AN(){let r=this.ec[0].Gi();for(let u=1,w=this.ec.length;u<w;++u){const q=this.ec[u];if(0!==q.ee||0!==q.fe)r=Math.min(r,q.Gi())}return r}DR(){return.5*this.g.sg/this.AN()}ER(){return.5*this.g.ef/this.AN()}FN(){return this.UB?-Infinity:this.DR()}GN(){return this.UB?Infinity:this.fa()-this.DR()}HN(){return this.UB?-Infinity:this.ER()}EN(){return this.UB?Infinity:this.aa()-this.ER()}Si(r){const u=this.FN(),w=this.GN();
r>w&&(r=w);r<u&&(r=u);this.ji!==r&&(this.ji=r,this.rk(),this.g.ga())}Sf(){return this.ji}Ti(r){const u=this.HN(),w=this.EN();r>w&&(r=w);r<u&&(r=u);this.ki!==r&&(this.ki=r,this.rk(),this.g.ga())}Tf(){return this.ki}Xx(){this.Si(this.Sf());this.Ti(this.Tf());for(const r of this.ec)r.Nl&&(r.Si(r.Sf()),r.Ti(r.Tf()))}w6(r,u){if(this.eD!==r||this.fD!==u)this.eD=r,this.fD=u,this.y2()&&(this.ur(),this.rk(),this.g.ga())}OE(){return this.zf?.5:this.eD}PE(){return this.zf?.5:this.fD}TN(){const r=this.OE(),u=
this.PE();return 0>r||1<r||0>u||1<u}ZP(){this.zf&&(this.zf=!1,this.ur(),this.rk(),this.g.ga())}WP(){this.zf||(this.zf=!0,this.ur(),this.rk(),this.g.ga())}y2(){return!this.zf}YF(r){this.zd!==r&&(this.zd=r,this.rk(),this.Xx(),this.g.ga())}Jc(r){r=d.Be(r);this.qe!==r&&(this.qe=r,this.rk(),this.g.ga())}Na(){return this.qe}fa(){return this.Y}Jh(r){!isFinite(r)||1>r||(this.Y=r)}aa(){return this.U}Fh(r){!isFinite(r)||1>r||(this.U=r)}*fL(){for(const r of this.DC)yield*r.WW()}ea(r){return"number"===typeof r?
this.Iy(r):this.xN(r.toString())}Iy(r){r=d.da(Math.floor(r),0,this.ec.length-1);return this.ec[r]}xN(r){return this.PU.get(r.toLowerCase())||null}Jy(r){return this.QU.get(r)||null}ur(){for(const r of this.ec)r.Tca()}rk(){for(const r of this.ec)r.sk()}v0(){let r=this.DC.filter(u=>u.Iz())[0];for(;r;){if(!r.Hk)return e.Bj(r.Fl),e.gt(1),e;if(r.Cu())return e.bo(0,0,0,0),e;r=r.Fn.filter(u=>u.Iz())[0]}e.bo(0,0,0,0);return e}uR(){return[...this.$r]}BQ(r){if(r.cc())for(const u of r.Xg.dm)this.$r.add(u);else this.$r.add(r)}j$(){return[...this.mh]}ZG(r,
u){if(r===this||!u)return Promise.resolve();r&&(d.KY(this.mh,r.mh),r.mh.clear());r=[];for(const w of this.$r)this.mh.has(w)||(r.push(w.Lq(u)),this.mh.add(w));return Promise.all(r)}async zO(r){if(r.bb)throw Error("cannot load textures for family");var u=this.g.jb();!u||u.Bo()||this.mh.has(r)||(this.mh.add(r),u=r.Lq(u),this.K7(u),await u,r.qz(),this.g.ga())}K7(r){this.ax.add(r);r.then(()=>this.ax.delete(r)).catch(()=>this.ax.delete(r))}m7(){return Promise.all([...this.ax])}h3(r){if(r.bb||0<r.G.length)throw Error("cannot unload textures");
this.g.jb()&&this.mh.has(r)&&(this.mh.delete(r),r.Mo())}vda(r,u){if(r!==this&&u)for(const w of this.mh)w.Xf()||r.$r.has(w)||(w.Mo(),this.mh.delete(w))}Vu(){this.mh.clear()}async aT(r){const u=this.g,w=this.eb,q=u.na();this.MT&&(this.bd=q.qN(this.MT),this.bd.GH());w.RS(this);this.Y=this.Zea;this.U=this.Yea;this.ji=u.hh/2;this.ki=u.gh/2;this.Xx();this.saa(r);this.o8();this.Gp||this.q8();this.QQ(this.Jr);this.p8();w.xY();u.Kd();const v=this.g.Mda;await Promise.all(v);d.F(v);if(!u.Zh){for(const y of this.Jr)y.C6();
for(const y of this.Jr)y.dT()}d.F(this.Jr);await Promise.all([...this.$r].map(y=>y.BF(this.g.jb())));r&&(u.Rb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await u.oo(new d.Event("beforeprojectstart")));await this.oo(new d.Event("beforelayoutstart"));u.Zh||await u.md(d.B.Ga.I.NO,null,null);await this.oo(new d.Event("afterlayoutstart"));r&&(u.Rb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await u.oo(new d.Event("afterprojectstart")));q.Tba(w);await this.m7();this.ur();this.rk();
this.Gp=!1}saa(r){for(const w of this.g.Yc)if(!w.bb&&w.Af)for(const q of w.oa()){const v=q.m();var u=v.ea();u=d.da(u.Ka(),0,this.ec.length-1);u=this.ec[u];v.$u(u);u.jaa(q)}if(!r)for(const w of this.ec)w.CH(!1)}o8(){for(const r of this.ec)r.PY(this.Jr),r.qG()}q8(){let r=!1;for(const [w,q]of Object.entries(this.Qp)){const v=this.g.My(parseInt(w,10));if(v&&!v.bb&&v.VE()){for(const y of q){var u=null;if(v.Af&&(u=this.Jy(y.w.l),!u))continue;u=this.g.Bi(v,u,!1,0,0,!0);u.ud(y);r=!0;this.Jr.push(u)}d.F(q)}}for(const w of this.ec)w.CH(!0),
w.Pg();r&&(this.g.Kd(),this.g.pS())}QQ(r){for(const w of r){if(!w.cc())continue;const q=w.m(),v=w.ro();for(const y of w.K().Xg.dm)if(y!==w.K()){var u=y.oa();u.length>v?w.ir(u[v]):(u=q?this.g.Bi(y,q.ea(),!0,q.ka(),q.la(),!0):this.g.Bi(y,null,!0,0,0,!0),this.g.Kd(),y.sA(),w.ir(u),r.push(u))}}}p8(){for(const r of this.bJ)this.g.lf(r[1]).cc()||this.g.Bi(r,null,!0)}m8(){const r=[],u=this.bJ;let w=0;for(let q=0,v=u.length;q<v;++q){const y=u[q],A=this.g.lf(y[1]);A.Xf()?A.cc()&&A.Xg.d1()||r.push(this.g.Bi(y,
null,!0)):(u[w]=y,++w)}d.ff(u,w);this.g.Kd();this.QQ(r)}iu(r,u,w,q,v,y){if(w)return w.iu(r,u,q,v,y);w=[];for(const A of this.ec)w.push(A.iu(r,u,q,v,y));return w.flat()}async nda(){const r=this.eb;this.g.Zh||await this.g.md(d.B.Ga.I.J3,null,null);r.QP(!0);this.g.na().by();this.Gp||this.dca();for(const u of this.ec)u.s9();for(const u of this.g.Yc)if(!(u.Xf()||u.Af||u.Ab().qn||u.bb)){for(const w of u.oa())this.g.no(w);this.g.Kd()}r.QP(!1);r.Wb()===this&&r.RS(null)}aca(r){const u=r.K().lb.toString();
this.Qp.hasOwnProperty(u)||(this.Qp[u]=[]);this.Qp[u].push(r.Fd())}dca(){for(const r of this.ec){r.dv();for(const u of r.G){const w=u.K();!w.Xf()&&w.VE()&&this.aca(u)}}}a5(){this.Qp={};this.Gp=!0}Wj(){return this.Se}Cu(){const r=this.g,u=r.jb().Ni();return"low"===r.P.Xh||u&&r.aD||"low-latency"===r.Ir||this.Qa.Vt()||u&&r.om}xh(r){const u=this.g.P,w=this.Cu();if(w){"low-latency"!==this.g.Ir&&(r.Mg(null),r.ko());const q={Fj:this.g.yd,HL:this.g.aD||this.Qa.Vt()};"low"===u.Xh&&(q.width=u.Oj(),q.height=
u.Nj());this.Se=this.g.At(q)}else this.Se=null;r.Mg(this.Se);r.Ad(this.v0());this.g.om&&r.uY();for(const q of this.ec)q.qG();this.cR(r,this.Se,this.DC,!0);w&&(r.Kg(!1),this.l9(r,this.Se));this.Se=null}cR(r,u,w,q){w=w.filter(v=>v.Iz());for(let v=0,y=w.length;v<y;){const A=w[v];if(A.PF()&&!A.QF()){g.push(A);for(let G=v+1;G<y;++G){const z=w[G];if(z.PF()&&!z.QF())g.push(w[G]);else break}if(2<=g.length||1===g.length&&g[0].c1()){this.d9(r,u,g);v+=g.length;d.F(g);continue}d.F(g)}A.xh(r,u,q&&0===v);++v}}l9(r,
u){const w=this.g;0===this.Qa.bg.length?(r.Mg(null),r.lk(),r.IM(u),r.Gq(u),w.Lo(u)):(a.set(0,0,w.sg,w.ef),this.Ci().Oo(r,null,{kD:this,Vn:3,devicePixelRatio:this.g.Jt(),Ex:this.g.Kt()*this.zd,xD:this.Na(),dt:a,zx:null,DL:!0}))}d9(r,u,w){w[0].Hk||(e.Bj(w[0].Fl),e.gt(1),r.Ad(e));var q=this.g.P;r.Kg(!0);for(var v of w)v.dv(),v.IQ(m);v=w[0];w=null;this.g.iF()&&r.Ni()&&(q=q.yN(v))&&(w=q.TD(),r.lG(w));for(let z=0,F=m.length;z<F;){v=m[z];var y=v.m(),A=y.ea();if(y.kd()&&y.Iq(A.mr())){(!v.Rq()||0<y.$c)&&l.push(v);
var G=v.m().nf();h.push(v);for(q=z+1;q<F;++q){const H=m[q],J=H.m();if(J.kd()&&J.Iq(J.ea().mr())){if(J.nf()!==G)break;H.Rq()?(0<J.$c&&l.push(H),h.push(H)):l.push(H)}}if(1!==h.length||h[0].BO()){this.e9(r,u,h);for(let H=0,J=l.length;H<J;++H)v=l[H],y=v.m(),A=y.ea(),y.lA(!0),p(A,r),A.yl(v,y,r,u),y.lA(!1)}else{p(A,r);A.yl(v,y,r,u);for(let H=0,J=l.length;H<J;++H)y=l[H],y!==v&&(A=y.m(),G=A.ea(),p(G,r),G.yl(y,A,r,u))}z=q;d.F(h);d.F(l)}else++z}w&&r.nE(w);d.F(m);n=null}e9(r,u,w){r.HM();for(let A=0,G=w.length;A<
G;++A){var q=w[A],v=q.m(),y=v.ea();v.jA(!0);p(y,r);y.MG(q,v,r)}r.GM();for(let A=0,G=w.length;A<G;++A)q=w[A],v=q.m(),y=v.ea(),p(y,r),y.yl(q,v,r,u),v.jA(!1);r.FM()}ma(){const r={sx:this.Sf(),sy:this.Tf(),s:this.zd,a:this.Na(),w:this.fa(),h:this.aa(),ortho:this.zf,vpX:this.OE(),vpY:this.PE(),fv:this.Gp,persist:this.Qp,fx:this.Qa.Fd(),layers:{}};for(const u of this.ec)r.layers[u.lb.toString()]=u.ma();return r}qa(r){this.ji=r.sx;this.ki=r.sy;this.zd=r.s;this.qe=r.a;this.Y=r.w;this.U=r.h;this.zf=!!r.ortho;
r.hasOwnProperty("vpX")&&(this.eD=r.vpX);r.hasOwnProperty("vpY")&&(this.fD=r.vpY);this.Gp=!!r.fv;this.Qp=r.persist;this.Qa.ud(r.fx);this.Zl=!0;for(const [u,w]of Object.entries(r.layers))(r=this.Jy(parseInt(u,10)))&&r.qa(w);this.ur();this.rk()}wh(r){r.yD=this.Qv;var u=this.g;(u=u.yb&&!u.na().$t())&&b.kG();this.ke.dispatchEvent(r);u&&b.SD()}oo(r){r.yD=this.Qv;return this.ke.tL(r)}}}
{"use strict";const d=self.D;d.O2=class extends d.ja{constructor(b){super();this.g=b;this.aj=[];this.IJ=new Map;this.JJ=new Map;this.qw=null;this.rK=[];this.dB=null;this.HB=0;this.Aw=null}j(){this.Aw=this.dB=this.qw=this.g=null;d.F(this.aj);this.IJ.clear();this.JJ.clear();d.F(this.rK)}Sa(b){b=d.A(d.N2,this,this.aj.length,b);this.aj.push(b);this.IJ.set(b.Ca().toLowerCase(),b);this.JJ.set(b.lb,b)}J(){return this.g}N5(b){this.dB=b}d0(){if(this.dB)return this.dB;if(this.aj.length)return this.aj[0];throw Error("no first layout");
}wq(b){return this.IJ.get(b.toLowerCase())||null}FE(b){return this.JJ.get(b)||null}w0(b){b=d.da(Math.floor(b),0,this.aj.length-1);return this.aj[b]}kc(b){return"number"===typeof b?this.w0(b):this.wq(b.toString())}RS(b){this.qw=b}Wb(){return this.qw}*Ox(){this.qw&&(yield this.qw);this.rK.length&&(yield*this.rK)}QP(b){if(b)this.HB++;else{if(0>=this.HB)throw Error("already unset");this.HB--}}gO(){return 0<this.HB}ay(b){this.Aw=b}xY(){this.Aw=null}Jq(){return!!this.Aw}Qo(){const b=this.Wb();b&&b.ur()}Po(){const b=
this.Wb();b&&b.rk()}}}
{"use strict";const d=self.D;d.U6=class extends d.ja{constructor(b){super();this.g=b;this.gx=d.A(d.Rg);this.$ea=null;this.Gn=[];this.hx=new Map;this.cm=new Map;this.Hn=new Map;this.kh=[];this.ge=[];this.di=[];this.dw=this.Gr=this.yp=!1;this.km=()=>this.Waa();this.Is=()=>this.jH();this.bI=()=>this.Uu();this.HJ=()=>this.uaa();this.fJ=a=>this.iS(a.instance);this.QH=()=>this.gH();this.Ev=[];this.Qc=0}j(){this.O4();this.QH=this.fJ=this.HJ=this.bI=this.Is=this.km=null;for(const b of this.Gn)b.Ne(),b.j();
d.F(this.Gn);this.Gn=null;this.gx.j();this.gx=null;d.F(this.kh);this.kh=null;d.F(this.ge);this.ge=null;d.F(this.di);this.di=null;this.hx.clear();this.hx=null;this.cm.clear();this.cm=null;this.Hn.clear();this.Hn=null;d.F(this.Ev);this.g=this.Ev=null}JX(){const b=this.g.Rb();b.addEventListener("pretick",this.km);b.addEventListener("tick2",this.Is);b.addEventListener("beforelayoutchange",this.bI);b.addEventListener("layoutchange",this.HJ);b.addEventListener("instancedestroy",this.fJ);b.addEventListener("afterload",
this.QH)}O4(){const b=this.g.Rb();b.removeEventListener("pretick",this.km);b.removeEventListener("tick2",this.Is);b.removeEventListener("beforelayoutchange",this.bI);b.removeEventListener("layoutchange",this.HJ);b.removeEventListener("instancedestroy",this.fJ);b.removeEventListener("afterload",this.QH)}Sa(b){this.gx.Uc(b);b=d.Wo.OY(b,this);this.Uc(b);this.l6(b);this.Hn.set(b.Ca(),0)}eE(b){b=b.LN();var a=this.gx.ba(b);a=d.Wo.eE(`${b}:${this.Hn.get(b)}`,a,this);this.LR(b);this.Uc(a);return a}LR(b){this.Hn.set(b,
this.Hn.get(b)+1)}vca(){for(const b of this.Gn)b.cs||this.LR(b.LN())}e8(){for(const b of this.Hn.keys())this.Hn.set(b,0)}Uc(b){this.Gn.push(b);this.hx.set(b.Ca().toLowerCase(),b)}Dh(b){b.zz();b.cs||(d.Xk(this.Gn,b),d.Xk(this.kh,b),d.Xk(this.ge,b),d.Xk(this.di,b),this.hx.delete(b.Ca().toLowerCase()),this.P4(b),b.jh||b.j())}xa(b){this.g.xa(b,this.$ea,null)}J(){return this.g}bQ(b,a){this.cm.has(b)||this.cm.set(b,new Set);this.cm.get(b).add(a)}l6(b){for(const a of b.HE())this.bQ(a,b)}P4(b){for(const [a,
e]of this.cm.entries())e.has(b)&&(e.delete(b),0===e.size&&this.cm.delete(a))}S0(b){if(this.cm.has(b))return this.cm.get(b)}Uy(b){return this.hx.get(b.toLowerCase())||null}N4(b){d.Xk(this.ge,b);this.Ru()}xP(b){this.ge.includes(b)?(b.dr(!0),b.fr(!1),b.Gz(!1)):(b.dr(!1),b.fr(!0),b.Gz(!1),this.kh.includes(b)||this.kh.push(b));this.$R()}hy(b){b.dr(!1);b.fr(!1);b.KF();d.Xk(this.kh,b);this.Ru()}CM(b){b.dr(!1);b.fr(!1);this.ge.includes(b)&&(b.Gz(!0),this.di.push(b),d.Xk(this.ge,b))}DM(b){b.dr(!1);b.fr(!1);
b.Gz(!1);b.jk(1);d.Xk(this.ge,b)}GY(b){this.CM(b);b.KF()}Waa(){if(!this.J().Zh&&this.yp&&!this.Gr){for(this.dw=!0;this.kh.length;){var b=this.kh.pop();b.Wc();0!==b.Qc&&(this.Qc=1);this.ge.push(b)}b=this.g.Gv;var a=this.g.Rr,e=this.g.je;for(let c=this.ge.length-1;0<=c;c--)this.ge[c].Oe(b,e,a);this.dw=!1;0!==this.Qc&&this.J().ga()}}jH(){if(!this.J().Zh&&this.yp&&!this.Gr){var b;for(let a=0,e=this.di.length;a<e;a++){const c=this.di[a];b||(b=new Set);c.zz();this.aS(c);b.add(c)}if(b){d.tg(this.di,b);this.Qc=
0;for(let a=0,e=this.ge.length;a<e;a++)if(0!==this.ge[a].Qc){this.Qc=1;break}}this.Ru()}}aS(b){b.jh||b.SN()&&b.fg&&b.nn&&b.dN()}$R(){this.yp||(this.yp=!0)}Ru(){this.di.length||this.ge.length||this.kh.length||this.dw||(this.yp=!1)}Uu(){for(this.Gr=!0;this.kh.length;)this.hy(this.kh.pop());const b=new Set;for(const a of this.ge)a.Uu()&&(a.zz(),b.add(a));d.tg(this.ge,b);b.clear();for(const a of this.di)a.Uu()&&(a.zz(),b.add(a));d.tg(this.di,b);this.Ru();for(const a of this.Gn)a.Hj()}uaa(){this.Gr=!1}iS(b){var a=
b.K();if(a=this.S0(a))if(this.g.Zh)this.Ev.push(b);else for(const e of a)e.cs||(e.jh?this.Dh(e):e.SN()||(this.aS(e),this.Dh(e)))}gH(){for(const b of this.Ev)this.iS(b);d.F(this.Ev)}ma(){return{timelinesJson:this.ica(),scheduledTimelinesJson:this.gca(),playingTimelinesJson:this.eca(),markedForRemovalTimelinesJson:this.cca(),hasRuntimeListeners:this.yp,changingLayout:this.Gr,isTickingTimelines:this.dw}}qa(b){b&&(this.e8(),this.daa(b.timelinesJson),this.aaa(b.scheduledTimelinesJson),this.Z$(b.playingTimelinesJson),
this.Y$(b.markedForRemovalTimelinesJson),this.yp=!b.hasRuntimeListeners,this.Gr=!!b.changingLayout,this.dw=!!b.isTickingTimelines,this.vca(),this.$R(),this.Ru())}ica(){return this.Gn.map(b=>b.ma())}daa(b){for(const a of b){b=this.Uy(a.name);if(!b){b=this.g$(a);if(!b)continue;b=this.Uy(b);b=this.eE(b)}b.qa(a);b.m1()||this.Dh(b)}}g$(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}gca(){return this.rH(this.kh)}aaa(b){this.bH(b,this.kh)}eca(){return this.rH(this.ge)}Z$(b){this.bH(b,this.ge)}cca(){return this.rH(this.di)}Y$(b){this.bH(b,
this.di)}J$(b,a){if(!a)return!1;for(const e of a)if(e===b.Ca())return!0;return!1}rH(b){return b.map(a=>a.Ca())}bH(b,a){var e=new Set;for(const c of a)this.J$(c,b)||e.add(c);d.tg(a,e);if(b){e=c=>g=>g.Ca()===c;for(const c of b)(b=this.Uy(c))&&(a.find(e(c))||a.push(b))}}}}
{"use strict";const d=self.D;d.Wo=class extends d.ja{constructor(b,a,e){super();this.g=e.J();this.Hb=e;this.Td=a;this.Ja=b;this.mb=[];this.NV=0;this.Ar=null;this.rT=0;this.PM();this.vC=this.Bw=null;this.Vb=0;this.cd=1;this.Qd=0;this.Nd=1;this.nn=this.Tl=this.NB=!1;this.fg=!0;this.kC=this.jh=!1;this.Hr=-1;this.Ve=this.vp=this.cs=this.uB=!1;this.XB=NaN;this.lh=[""];this.HV="";this.JK=!1;this.oB=this.Qc=0}static OY(b,a){const e=a.gx.ba(b[0]);b=d.A(d.Wo,b[0],e,a);b.X5();return b}static eE(b,a,e){return d.A(d.Wo,
b,a,e)}j(){if(!this.jh){this.Hb.hy(this);this.Hb.GY(this);for(const b of this.mb)b.j();d.F(this.mb);this.Td=this.Hb=this.g=this.mb=null;this.jh=!0;this.vC=this.Bw=null}}PM(){for(const b of this.Td.Tt().gX())this.NV=this.mb.push(d.pG.Sa(this,b))}J(){return this.g}Pt(b,a,e){if(this.oB){var c;for(let m=0;m<this.mb.length;m++){var g=this.mb[m];b===g.Ea()&&(g=g.Rf(e))&&a.constructor===g.Bb().constructor&&(c||(c=[]),c.push(g))}return c}}m1(){return!!this.mb.length}Hz(b){this.Ja=b}Ca(){return this.Ja}LN(){return this.Td.Ca()}td(){return this.Td.td()}Qt(){return this.Td.Qt()}Ei(){return this.Td.Ei()}me(){return this.Td.me()}ik(b){for(const a of this.mb)a.ik(b)}Ky(){return this.Td.Ky()}Oy(){return this.Td.Oy()}Dg(){return this.Td.Dg()}jk(b){this.cd=
b}Ki(){return this.IsPlaying()?0<this.cd:!0}BN(){this.Bw||(this.Bw=new Promise(b=>{this.vC=b}))}KF(){this.Bw&&(this.vC(),this.vC=this.Bw=null)}aQ(b){this.lh=d.Wo.f$(b);this.JK=!0}PO(){d.B.Lc.I.So(this);this.Hb.xa(d.B.Lc.I.Ema);this.Hb.xa(d.B.Lc.I.Fma);this.Hb.xa(d.B.Lc.I.Gma);this.Hb.xa(d.B.Lc.I.uma);d.B.Lc.I.So(null)}wF(){this.Hr=this.g.Nk}dN(){this.vp||(this.vp=!0,d.B.Lc.I.So(this),this.Hb.xa(d.B.Lc.I.Bma),this.Hb.xa(d.B.Lc.I.Cma),this.Hb.xa(d.B.Lc.I.Dma),this.Hb.xa(d.B.Lc.I.tma),d.B.Lc.I.So(null))}dr(b){this.NB=
b}bO(){return this.Hr===this.g.Nk}IsPlaying(b=!1){return this.bO()||this.Tl&&!b?!0:this.NB}qr(){return this.IsPlaying(!0)}fr(b){this.Tl=b}DP(b){this.fg=b;b=this.Da();if(0>=b||b>=this.td())this.fg=!0}Gz(b){this.kC=b}VF(b){this.uB=b}X5(){this.cs=!0}Da(){return this.Vb}gr(b){const a=this.Da();this.Zd(b);this.DP(!1);this.fg||this.VF(!0);if(this.qr()||this.Tl||!this.nn)this.qr()||this.Tl||this.nn?this.qr()?this.Ne():this.Tl&&(this.Hb.hy(this),this.NP()):this.NP();this.bv();this.XG(this.Da(),!0,a);this.BH();
this.Qc&&this.J().ga();this.mS()}Zd(b){d.Wf(b)||(b=this.td());this.Vb=0>b?0:b>=this.td()?this.td():b}Cl(b){d.Wf(b)||(b=this.td());this.Vb=0>b?0:b>=this.td()?this.td():b;for(const a of this.mb)a.Ri()}mS(){d.B.Lc&&this.constructor===d.Wo&&(d.B.Lc.I.So(this),this.Hb.xa(d.B.Lc.I.yma),this.Hb.xa(d.B.Lc.I.zma),this.Hb.xa(d.B.Lc.I.Ama),d.B.Lc.I.So(null))}Play(b=!1){return this.jh||this.Tl?!1:this.qr()&&this.bO()?this.mca():this.qr()||!this.fg&&!b&&!this.uB?!1:this.nca()}mca(){this.VF(!1);this.Hb.N4(this);
this.Hb.xP(this);this.BN();return!0}nca(){this.VF(!1);this.Hb.xP(this);this.BN();return!0}Ne(b=!1){this.jh||(this.DP(b),this.Hb.CM(this),this.fg&&this.KF())}ld(b=!0,a=!1){if(!this.jh)if(!this.qr()&&this.Tl)this.Hb.hy(this);else if(!this.fg){this.Ne(!0);this.Ki()?this.Zd(0):this.Zd(this.td());var e=this.Da();this.bv();a?this.B$(e):this.XG(e,!1);b&&this.mS();this.BH();this.Qc&&b&&this.J().ga()}}rP(){this.ld(!1,!0)}B$(b){this.XG(b,!1,NaN,!1,!0)}Uu(){if(this.jh)return!0;if(!this.J().Zh&&this.n1())return!1;
this.Hb.DM(this);this.J().Zh||this.rP();return!0}NP(){this.Wc(!0)}Wc(b){if(!this.kC){if(b){this.Ve=this.nn=!0;this.bv();for(const a of this.mb)a.Wc()}else if(this.dr(!0),this.fr(!1),this.PO(),this.fg){this.Hr=-1;this.Qd=0;this.Nd=1;this.vp=this.fg=!1;this.Ve=this.nn=!0;this.Ki()?this.Zd(0):this.Zd(this.td());this.bv();for(const a of this.mb)a.Wc()}else{this.Ve=!0;this.bv();for(const a of this.mb)a.Le()}this.BH()}}bv(){this.oB=0;for(const b of this.mb)b.pn&&(this.oB=1)}BH(){this.Qc=0;for(const b of this.mb)b.oA(),
0===this.Qc&&1===b.Qc&&(this.Qc=1),this.Ar||1!==b.vn||(this.Ar||(this.Ar=[]),this.rT=this.Ar.push(b))}Oe(b,a){if(0!==b||0!==this.XB){this.XB=b;var e=this.Vb;a=e+b*a*this.cd;b=this.Td.Ms;this.Vb=0>a?0:a>=b?b:a;var c=!1;a=!1;var g=this.Ky(),m=this.Oy();g||m?g&&!m?0<this.cd?this.Vb>=b&&(this.Cl(0),a=!0):0>=this.Vb&&(this.Cl(b),a=!0):!g&&m?0<this.cd?this.Vb>=b&&(this.Zd(b),this.jk(-1*this.cd),a=!0,1===this.Qd?this.Nd<this.Dg()?(this.Nd++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):0>=this.Vb&&(this.Zd(0),
this.jk(-1*this.cd),a=!0,1===this.Qd?this.Nd<this.Dg()?(this.Nd++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):g&&m&&(0<this.cd?this.Vb>=b&&(this.Zd(b),this.jk(-1*this.cd),a=!0):0>=this.Vb&&(this.Zd(0),this.jk(-1*this.cd),a=!0)):0<this.cd?this.Vb>=b&&(this.Nd<this.Dg()?(this.Nd++,this.Cl(0),a=!0):(this.Zd(b),c=!0)):0>=this.Vb&&(this.Nd<this.Dg()?(this.Nd++,this.Cl(b),a=!0):(this.Zd(0),c=!0));g=this.NV;if(c){for(c=0;c<g;c++)this.mb[c].HP();this.Ne(!0);this.wF()}else{m=this.rT;for(c=0;c<m;c++)this.Ar[c].ho();
if(1===this.oB)for(c=0;c<g;c++){const h=this.mb[c],l=h.mf(),n=e-l;0>this.Vb-l&&0<n?(this.Vb=0>l?0:l>=b?b:l,h.Fa(l,!0,!1,a,this.Ve,!1)):h.Fa(this.Vb,!0,!1,a,this.Ve,!1)}else for(c=0;c<g;c++)this.mb[c].Fa(this.Vb,!0,!1,a,this.Ve,!1);for(c=0;c<m;c++)this.Ar[c].eo();this.Ve&&(this.Ve=!1)}}}XG(b,a=!1,e=NaN,c=!1,g=!1){for(var m of this.mb)m.ho();for(const h of this.mb){m=b;if("number"===typeof e&&!isNaN(e)){const l=this.Da()-h.mf(),n=e-h.mf();0>l&&0<n&&(m=h.mf(),this.Zd(m))}h.Fa(m,!1,a,!0,this.Ve,g)}for(const h of this.mb)h.eo();
this.Ve&&c&&(this.Ve=!1)}zz(){if(!this.jh)for(const b of this.mb)b.sl()}Hj(){for(const b of this.mb)b.Hj()}yY(){for(const b of this.mb)b.wY()}m6(b,a){if(a)for(const e of this.mb)if(e.Li()){if(b){if(e.Pj()!==b)continue}else if(e.g1())continue;e.U5(a);this.Hb.bQ(a.K(),this);break}}SN(){return this.mb.some(b=>b.Li()?b.aE():!0)}n1(){return this.mb.some(b=>b.Li()?b.aE()?(b=b.K())?b.Xf():!1:!1:!1)}Rf(b){for(const a of this.mb)for(const e of a.Wa)if(e.ya.dd===b)return e}MN(b){for(const a of this.mb)if(b===
a.Ea())return a;return null}HE(){const b=[];for(const a of this.mb)b.push(a.K());return b.filter(a=>a)}ma(){return{tracksJson:this.kca(),name:this.Ja,playheadTime:this.Da(),playbackRate:this.cd,pingPongState:this.Qd,currentRepeatCount:this.Nd,isPlaying:this.NB,isScheduled:this.Tl,initialStateSet:this.nn,finishedTriggers:this.vp,complete:this.fg,released:this.jh,markedForRemoval:this.kC,completedTick:this.Hr,implicitPause:this.uB,isTemplate:this.cs,tags:this.lh.join(" "),stringTags:this.HV,tagsChanged:this.JK,
firstTick:this.Ve}}qa(b){b&&(this.eaa(b.tracksJson),this.Ja=b.name,this.Vb=b.playheadTime,this.cd=b.playbackRate,this.Qd=b.pingPongState,this.Nd=b.currentRepeatCount,this.NB=!!b.isPlaying,this.Tl=!!b.isScheduled,this.nn=!!b.initialStateSet,this.vp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.fg=!!b.complete,this.jh=!!b.released,this.kC=!!b.markedForRemoval,this.Hr=b.completedTick,this.uB=!!b.implicitPause,this.cs=!!b.isTemplate,this.lh=b.tags.split(" "),this.HV=b.stringTags,this.JK=
!!b.tagsChanged,this.Ve=!!b.firstTick)}kca(){return this.mb.map(b=>b.ma())}eaa(b){b.forEach((a,e)=>{this.mb[e].qa(a)});this.mb.filter(a=>a.aE())}static f$(b){if(d.Ao(b))return b.slice(0);if(d.Mi(b))return b.split(" ")}}}
{"use strict";const d=self.D;d.pG=class extends d.ja{constructor(b,a){super();this.ni=b;this.Qb=a;this.bf=a.Tt();this.$l=this.Pl=NaN;this.Va=this.qc=null;this.pn=0<a.mf();this.rp=this.bs=!1;this.Ik=null;this.rc=this.Qb.Rj().rc;this.Wa=[];this.NM();this.vn=this.Qc=this.Tk=0}static Sa(b,a){return d.A(d.pG,b,a)}j(){this.rc=null;for(const b of this.Wa)b.j();d.F(this.Wa);this.Ik=this.Qb=this.Va=this.qc=this.ni=this.Wa=null}NM(){for(const b of this.Qb.Wd().QW())this.Wa.push(d.cb.Sa(this,b))}sl(){for(const b of this.Wa)b.sl()}Hj(){for(const b of this.Wa)b.Hj();
this.Va=this.qc=null}ub(){return this.ni}J(){return this.ni.J()}u0(){return this.rc?this.rc:this.rc=this.Qb.Rj().rc}Rf(b){for(let a=0;a<this.Wa.length;a++){const e=this.Wa[a];if(e.ya.dd===b)return e}}cu(){this.qc||this.Ea()}Jm(){return this.qc?!this.qc.Yt():!1}aE(){if(!this.Li())return!1;const b=this.J().Qj(this.Lt());return b?!b.Yt():!1}K(){if(this.Li()){var b=this.GE();if(-1!==b)return this.J().lf(b)}}wY(){this.qc=null;this.Pl=-1;this.Va=null;this.$l=-1}g1(){return!!this.qc}Ea(){return this.qc&&
this.Jm()?this.qc:this.qc=this.J().Qj(this.Lt())}U5(b){if(this.qc!==b){this.Hj();this.qc=b;this.$l=b.K().Ka();this.Pl=b.fd;this.Va=b.m();for(const m of this.Oga()){const h=m.bha;switch(m.Nga.Xd()){case "instance-variable":var a=b.K(),e=a.n0(m.name),c=a.wN(e);a=a.Mt(e);c===m.name&&a===m.type&&h.h7(e);break;case "behavior":var g=m.jL;e=this.K();c=b.K();a=h.Ag(c);g&&a&&(g=g.Ca(),e.Ct(g),c.Ct(g),h.e7(a.lb))}}}}*Oga(){for(const e of this.Wa){var b=e.Bb(),a=this.K();const c={Nga:e,bha:b};switch(e.Xd()){case "world-instance":c.lua=
e.ya.dd;break;case "instance-variable":b=b.vq();c.name=a.wN(b);c.type=a.Mt(b);break;case "effect":a=b.xE(a.Qa);c.tsa=a;break;case "behavior":a=b.Ag(a);c.jL=a;break;case "plugin":c.hua=a.Ab()}yield c}}m(){if(this.Va&&this.Jm())return this.Va;const b=this.Ea();b&&(this.Va=b.m());return this.Va}Lt(){return this.Pl?this.Pl:this.Qb.Lt()}Ei(){return this.Qb.Ei()}me(){return this.Qb.me()}Pj(){return this.Qb.Pj()}mf(){return this.Qb.mf()}gl(){return this.Qb.gl()}ik(b){for(const a of this.u0())a.ik(b);for(const a of this.Wa)a.ik(b)}el(){return this.Qb.el()}rl(b){this.Qb.rl(b)}GE(){return isNaN(this.$l)?
this.Qb.GE():this.$l}Tj(){const b=this.Ea();return b&&b.pa.Eo()?b.pa.Tj():this.Qb.Tj()}Sj(){const b=this.Ea();return b&&b.pa.Eo()?b.pa.Sj():this.Qb.Sj()}$j(){return this.Qb.$j()}Ca(){return this.Qb.Ca()}Li(){return 0===this.$j()}Ri(){for(const b of this.Wa)b.Ri()}Wc(){this.cu();if(this.Jm()||!this.Li()){var b=this.ub().Ki()?0:this.gl();for(const a of this.Wa)a.Wc(b),0===this.Tk&&1===a.Tk&&(this.Tk=1),0===this.Qc&&1===a.Qc&&(this.Qc=1);this.vn=0;this.Wa.some(a=>a.vn)&&(this.vn=1);this.Ik=this.wR(b);
this.rp=this.bs=!1;this.Fa(b)}}Le(){this.cu();if(this.Jm()||!this.Li()){this.ni.Ki();var b=this.ni.Da()-this.mf();this.Ik=this.wR(b);for(const a of this.Wa)a.Le(b)}}HP(){if(!(this.ub().fg||(this.cu(),!this.Jm()&&this.Li()||this.pn))){const b=this.ni.Da();b>=this.mf()+this.gl()?this.Fa(this.gl(),!0,!1,!0):0>=b&&this.Fa(0,!0,!1,!0)}}oA(){for(let b=0,a=this.Wa.length;b<a;b++){const e=this.Wa[b];e.oA();0===this.Tk&&1===e.Tk&&(this.Tk=1);0===this.Qc&&1===e.Qc&&(this.Qc=1)}}ho(){const b=this.Wa.length;
for(let a=0;a<b;a++)this.Wa[a].ho()}Fa(b,a=!1,e=!1,c=!1,g=!1,m=!1){this.qc||this.Ea();const h=0===this.Qb.Ba;if(!((!this.qc||this.qc.Yt())&&h||m&&h&&this.K().Xf()||(b-=this.mf(),0>b))){this.f3(b,a);this.g3(b,a,g);for(let l=0,n=this.Wa.length;l<n;l++)this.Wa[l].Fa(b,e,c);this.e3(b,a);0!==this.Tk&&(this.Va||(this.Va=this.qc.m()),this.Va&&this.Va.Ia())}}eo(){const b=this.Wa.length;for(let a=0;a<b;a++)this.Wa[a].eo()}f3(b,a){if(a&&this.pn&&!this.bs){if(this.ub().Ki()){if(0>b)return;for(const e of this.Wa)e.Fa(0,
!1,!0)}else{if(b>this.gl())return;for(const e of this.Wa)e.Fa(this.gl(),!1,!0)}for(const e of this.Wa)e.Wc();this.bs=!0}}e3(b,a){if(a&&this.pn&&!this.rp)if(this.ub().Ki()){if(b>=this.gl()){for(const e of this.Wa)e.Fa(this.gl(),!1,!0);this.rp=!0}}else if(0>=b){for(const e of this.Wa)e.Fa(0,!1,!0);this.rp=!0}}g3(b,a,e){if(!e&&a&&d.B.Lc){a=this.ub();e=this.Ik.Ye;var c=this.Ik.Da(),g=e?e.Da():a.td();if(b<=c||b>=g)this.Ik=this.bf.rN(b,this.Qb),a.Ki()?e&&this.zF(this.Ik):(b=this.Ik.Ye)&&this.zF(b)}}wR(b){const a=
this.bf.r0(b,this.Qb);return a?a:this.bf.rN(b,this.Qb)}zF(b){const a=this.ub();d.B.Lc.I.So(a);d.B.Lc.I.u6(b);b=a.Hb;b.xa(d.B.Lc.I.sma);b.xa(d.B.Lc.I.zF);d.B.Lc.I.So(null);d.B.Lc.I.u6(null)}FX(){return this.Qb.Rj().AX()}cZ(b){this.Qb.Rj().bZ(b)}ly(b){for(const a of this.Wa)a.ly(b)}Qm(){for(const b of this.Wa)b.Qm()}yi(){this.cu();if(this.Jm()||!this.Li())for(const b of this.Wa)b.yi()}Ai(){this.cu();if(this.Jm()||!this.Li()){var b=!1;for(const a of this.Wa){const e=a.Ai();!b&&e&&(b=!0)}b&&(b=this.FX(),
b.gr(this.ub().Da()),b.ik("noease"),b.rl(!0),b.aQ(""))}}ma(){var b=this.Ea();b=b?b.fd:this.Lt();return{propertyTracksJson:this.fca(),lastKeyframeDataItemJson:this.bca(),initialStateOfNestedSet:this.bs,endStateOfNestedSet:this.rp,instanceUid:b}}qa(b){b&&(this.$$(b.propertyTracksJson),this.X$(b.lastKeyframeDataItemJson),this.U$(b.instanceUid),this.bs=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.bs=b.initialStateOfNestedSet),this.rp=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.rp=b.endStateOfNestedSet))}bca(){return this.Qb.Rj().t0(this.Ik)}fca(){return this.Wa.map(b=>
b.ma())}$$(b){b.forEach((a,e)=>{this.Wa[e].qa(a)})}U$(b){if(d.Wf(b)&&(b=this.J().Qj(b))){var a=this.ub();a.yY();a.m6(this.Qb.Pj(),b)}}X$(b){this.Ik=this.Qb.Rj().s0(b)}}}
{"use strict";const d=self.D;d.cb=class extends d.ja{constructor(b,a){super();this.rb=b;this.ya=a;this.sc=a.Wd();this.vn=this.Qc=this.Tk=0;this.ye=this.Bb();this.Ob=this.ya.Cg().Ob;this.gv=this.Oc=null}static Sa(b,a){return d.A(d.cb,b,a)}j(){this.rb=null;this.ye&&(this.ye.j(),this.ye=null);this.sc=this.ya=this.Ob=null}RE(){return!!this.gv}t5(b){this.gv=b}Wd(){return this.sc}ub(){return this.rb.ub()}J(){return this.rb.J()}Ea(){return this.rb.Ea()}Bb(){if(this.ye)return this.ye;let b;switch(this.ya.Xd()){case "behavior":b=
new d.cb.bY(this);break;case "effect":b=new d.cb.k_(this);this.Qc=1;break;case "instance-variable":b=new d.cb.k2(this);break;case "plugin":b=new d.cb.m4(this);this.Qc=1;break;case "world-instance":b=new d.cb.Jo(this);this.Tk=this.Qc=1;break;case "value":b=new d.cb.j7(this);break;case "audio":b=new d.cb.WX(this)}return this.ye=b}Xd(){return this.ya.Xd()}Qy(){return this.ya.$j()}Nt(){return this.Wd().Ey(this.ya).$j()}el(){return this.ya.el()}rl(b){this.ya.rl(b)}Ei(){return this.ya.Ei()}me(){return this.ya.me()}ik(b){for(const a of this.Py())a.ik(b)}$D(){return this.ya.$D()}Py(){return this.Ob?
this.Ob:this.Ob=this.ya.Cg().Ob}sl(){this.Bb().sl()}Hj(){this.Bb().Hj()}Fe(){return this.Bb().Fe()}Ri(){this.Bb().Ri()}Wc(b){this.Bb().Wc();this.Oc=this.xR(b);this.oA()}Le(b){this.Bb().Le();this.Oc=this.xR(b)}oA(){var b=this.rb;this.vn=0;if(b.Li()){var a=this.ub();b=b.Ea();const e=this.Bb(),c=this.ya.dd;e.ek()?(a=a.Pt(b,e,c))&&a.length&&(this.vn=1):this.vn=0}}xR(b){const a=this.ub(),e=this.sc.K0(b,this.ya);return e?e:a.Ki()?this.sc.Di(b,this.ya):this.sc.tN(b,this.ya)}ho(){this.ye.ho()}Fa(b,a=!1,e=
!1){let c;if(a)var g=this.sc.Di(b,this.ya);else{if(this.Oc){var m=this.ub();const h=this.Oc.Ye;g=this.Oc.Da();m=h?h.Da():m.td();if(b<=g||b>=m)this.Oc=this.sc.Di(b,this.ya)}else this.Oc=this.sc.Di(b,this.ya);g=this.Oc}g&&(c=g.Ye);this.ye.Fa(b,g,c,a,e)}Ie(b){if(this.Oc){var a=this.ub();const c=this.Oc.Ye;var e=this.Oc.Da();a=c?c.Da():a.td();if(b<=e||b>=a)this.Oc=this.sc.Di(b,this.ya)}else this.Oc=this.sc.Di(b,this.ya);e=this.Oc;return this.ye.Ie(b,e,e.Ye)}eo(){this.ye.eo()}static KN(b,a){return a.sc.Di(b,
a.ya)}pM(){const b=this.ya.Cg().nM();this.Oc=null;return b}ly(b){this.Oc=null;this.ya.Cg().UM(b)}Qm(){this.Bb().Qm()}yi(){if(this.Bb().yi()){const b=this.sc.Ey(this.ya),a=this.Bb().Fe();b.yP(a)}}Ai(){const b=this.Bb().Ai();b&&this.HX();this.Bb().fy();return b}HX(){const b=this.ub().Da(),a=this.Bb(),e=d.cb.KN(b,this),c=this.pM();c.cQ(e.$j());c.gr(b);c.ik(e.Dm());c.rl(!0);c.Me(a.NE());c.yP(a.Fe())}ma(){return{sourceAdapterJson:this.Bb().ma()}}qa(b){b&&this.Bb().qa(b.sourceAdapterJson)}}}
{"use strict";const d=self.D.cb;d.Jo=class{constructor(b){this.N=b;this.Ef=null;this.Bg()}j(){this.Ef&&(this.Ef.j(),this.Ef=null);this.N=null}ek(){return this.Ef.ek()}Rf(){return this.N}sl(){this.Ef&&this.Ef.sl()}Hj(){this.Ef&&this.Ef.Hj()}Bg(){return this.Ef?this.Ef:this.Ef=this.r8()}vq(){}Ka(){return this.vq()}St(){}Ri(){this.Bg().Ri()}Wc(){this.Bg().Wc()}Le(){this.Bg().Le()}ho(){this.Ef.mq()}Fa(b,a,e,c,g){let m;switch(this.N.Nt()){case "numeric":m=d.du.Fa(b,a,e,this.N);break;case "angle":m=d.Ux.Fa(b,
a,e,this.N);break;case "boolean":m=d.Wx.Fa(b,a,e,this.N);break;case "color":m=d.gy.Fa(b,a,e,this.N);break;case "text":m=d.Kz.Fa(b,a,e,this.N)}this.Ef.jo(b,m,a,e,c,g)}Ie(b,a,e){switch(this.N.Nt()){case "numeric":return d.du.Fa(b,a,e,this.N);case "angle":return d.Ux.Fa(b,a,e,this.N);case "boolean":return d.Wx.Fa(b,a,e,this.N);case "color":return d.gy.Fa(b,a,e,this.N);case "text":return d.Kz.Fa(b,a,e,this.N)}}eo(){this.Ef.lq()}Qm(){var b=this.Bg();b.hi=b.Fe()}fy(){this.Bg().fy()}Fe(){return this.Bg().Fe()}yi(){return this.Bg().yi()}Ai(){return this.Bg().Ai()}NE(){const b=
this.N,a=b.rb.ub().Da(),e=d.KN(a,b),c=e.Ye;switch(b.Nt()){case "numeric":return d.du.Fa(a,e,c,b);case "angle":return d.Ux.Fa(a,e,c,b);case "boolean":return d.Wx.Fa(a,e,c,b);case "color":return d.gy.Fa(a,e,c,b);case "text":return d.Kz.Fa(a,e,c,b)}}r8(){const b=this.N;switch(b.$D()?b.Nt():""){case "combo":case "boolean":case "text":case "string":return new d.qf.CO(this);case "numeric":case "number":case "angle":return"combo"===this.N.Qy()?new d.qf.CO(this):new d.qf.DO(this);case "color":case "offsetColor":return new d.qf.BY(this);
default:return new d.qf.DO(this)}}ma(){return{propertyAdapterJson:this.Bg().ma()}}qa(b){b&&this.Bg().qa(b.propertyAdapterJson)}}}
{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a);this.mx=NaN}vq(){return this.N.ya.og[0]}Ka(){return this.mx?this.mx:super.Ka()}St(){return this.N.rb.Ea()}h7(a){this.N.ya.og[0]!==a&&(this.mx=a)}Fa(a,e,c,g,m){this.Bg().ZD(e.H())&&super.Fa(a,e,c,g,m)}Ie(a,e,c){if(this.Bg().ZD(e.H()))return super.Ie(a,e,c)}ma(){return Object.assign(super.ma(),{index:this.mx})}qa(a){a&&(super.qa(a),this.mx=a.index)}}d.cb.k2=b}
{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a);this.lb=NaN}vq(){return this.N.ya.og[1]}St(){var a=this.N.ya,e=this.lb?this.lb:a.og[0];a=this.N.rb.Ea();e=a.jN(e);return a.od[e].pa}Ag(a){return a.uy(this.N.ya.og[2])}e7(a){this.N.ya.og[0]!==a&&(this.lb=a)}Fa(a,e,c,g,m){const h=this.N.rb.Ea();this.Ag(h.K())&&super.Fa(a,e,c,g,m)}Ie(a,e,c){const g=this.N.rb.Ea();if(this.Ag(g.K()))return super.Ie(a,e,c)}ma(){return Object.assign(super.ma(),{sid:this.lb})}qa(a){a&&(super.qa(a),
this.lb=a.sid)}}d.cb.bY=b}{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a)}vq(){return this.N.ya.og[1]}St(){const a=this.N.rb.m().jg,e=this.xE(a.Qa).Ka();return a.Zt(e)?a.cl(e):null}xE(a){return a.dl(this.N.ya.og[0])}Fa(a,e,c,g,m){this.SR()&&super.Fa(a,e,c,g,m)}Ie(a,e,c){if(this.SR())return super.Ie(a,e,c)}SR(){const a=this.N.rb.m().jg,e=this.xE(a.Qa);if(e)return a.Zt(e.Ka())}}d.cb.k_=b}
{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a)}vq(){return this.N.ya.og[0]}St(){return this.N.rb.Ea().pa}Fa(a,e,c,g,m){var h=this.N.rb;const l=h.K().Ab();h=h.Ea().K().Ab();l===h&&super.Fa(a,e,c,g,m)}Ie(a,e,c){var g=this.N.rb;const m=g.K().Ab();g=g.Ea().K().Ab();if(m===g)return super.Ie(a,e,c)}}d.cb.m4=b}
{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a);this.Gc=0;this.vB=!1}ek(){return!1}Wc(){const a=this.N.Wd();let e=this.N.ya;e=a.Ey(e);this.Gc=e.wc()}Le(){}H(){this.vB||this.N.Fa(0);return this.Gc}Fa(a,e,c){this.Gc=d.cb.du.Fa(a,e,c,this.N);this.vB=!0}Qm(){}fy(){}Fe(){return this.Gc}yi(){return!1}Ai(){return!1}ma(){return{value:this.Gc,init:this.vB}}qa(a){a&&(this.Gc=a.value,this.vB=a.hasOwnProperty("init")?a.init:!0)}}d.cb.j7=b}
{"use strict";const d=self.D;class b extends d.cb.Jo{constructor(a){super(a);this.yk=!1;this.Vr=this.Xb=this.xe=null;this.ni=this.N.ub();this.rb=this.N.rb;this.Uw=this.N.ya.og;this.MI=this.Uw[0];this.FK=this.Uw[1];this.Nh=this.Uw[3]?this.Uw[3]:Math.random().toString(36).slice(2);this.qx=this.Pp=this.xn=NaN;this.Vg=null;this.RR()}j(){super.j();this.Vg=this.MI=this.Uw=this.rb=this.ni=this.Vr=this.Xb=this.xe=null}RR(){if(self.D.B.Audio){var a=this.N.J().Ly("audio");a&&(this.xe=a.Ii().pa);this.Xb=self.D.B.Audio.Ya;
this.Vr=self.D.B.Audio.kb}}cS(){if(!this.Vg){var a=this.N.rb.Rf("audioSource");a&&(this.Vg=a.Bb())}}Z9(){const a=this.N.rb.Rf("volume");return a?a.Bb().Pp:this.Pp}sl(){super.sl();this.yk=!1;this.xe&&(this.Vr&&(this.xn=this.Vr.gna.call(this.xe,this.Nh),this.Pp=this.Vr.pra.call(this.xe,this.Nh)),this.Xb&&this.Xb.Ne.call(this.xe,this.Nh))}To(a){this.qx=a}Wc(){super.Wc();this.xn=NaN;this.yk=!1}Le(){super.Le();const a=this.N.ub().Da();this.xn=a-this.FK;switch(this.N.ya.dd){case "volume":this.Pp=this.N.Ie(a)}this.yk=
!1}Fa(a,e,c,g,m){if(this.xe)switch(this.N.ya.dd){case "audioSource":if(!this.ni.Ki())break;if(g){this.Xb&&this.Xb.Ne.call(this.xe,this.Nh);break}if(a<this.FK){this.yk=!1;break}e=this.Vr.fna.call(this.xe,this.Nh);this.ni.cd!==e&&this.Xb.jk.call(this.xe,this.Nh);if(this.yk)break;this.yk=!0;if(isNaN(this.xn)){const h=self.performance.now(),l=a-this.FK;this.xe.sz("get-suspended").then(n=>{if("suspended"===n)this.yk=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Xb){let p=this.qx;isNaN(p)?(this.To(0),
p=0):this.To(p);this.Xb.Play.call(this.xe,this.MI,0,p,this.Nh,n)}})}else{const h=this.xn;this.xn=NaN;const l=this.Z9();this.Pp=NaN;this.xe.sz("get-suspended").then(n=>{"suspended"===n?this.yk=!1:this.Xb&&(this.To(l),this.Xb.Play.call(this.xe,this.MI,0,l,this.Nh,h))})}break;case "volume":this.cS(),super.Fa(a,e,c,g,m)}}Ie(a,e,c){if(this.xe)switch(this.N.ya.dd){case "volume":return this.cS(),super.Ie(a,e,c)}}QN(){return this.Vg?this.Vg.qx:0}B6(a,e){this.Vg&&this.Vg.To(this.QN()+e);this.Xb&&this.Vg&&
this.Xb.To.call(this.xe,this.Vg.Nh)}vX(a,e){this.Vg&&this.Vg.To(e);this.Xb&&this.Vg&&this.Xb.To.call(this.xe,this.Vg.Nh)}ma(){return{audioPlaybackStarted:this.yk,audioTag:this.Nh,pauseTime:this.xn,pauseVolume:this.Pp,volume:this.qx}}qa(a){a&&(this.yk=a.audioPlaybackStarted,this.Nh=a.audioTag,this.xn=a.pauseTime,this.Pp=a.pauseVolume,this.qx=a.volume,this.RR())}}d.cb.WX=b}"use strict";function ic(d,b,a){return d.N.ub().Ki()?b():a()}function jc(d,b,a){return"relative"===d.N.me()?b():a()}
function kc(d){if(d.Gs)return d.Gs;d.Gs=d.ye.St();return d.Gs}function lc(d,b=!1){const a=[];for(const e of d){d=e.rb.mf();for(const c of e.Py())b&&0===c.Da()?a.push({time:d+c.Da(),value:c.Mh}):b||a.push({time:d+c.Da(),value:c.Mh})}return a.sort((e,c)=>e.time-c.time)}function mc(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.D.cb.qf=class{constructor(d){this.ye=d;this.N=d.Rf();this.Va=this.N.rb.m();this.dd=this.N.ya.dd;this.Wr=!1;this.Gs=this.hi=null}j(){this.Gs=this.hi=this.Va=this.N=this.ye=null}ek(){return!1}sl(){}Hj(){this.Gs=this.hi=this.Va=null}Bb(){return this.ye}Rf(){return this.N}m(){return this.Va?this.Va:this.Va=this.N.rb.m()}Ri(){}Wc(){}Le(){}fy(){this.hi=null}Fe(){}yi(){}Ai(){}ZD(d){return typeof this.zl()===typeof d}mq(){}jo(){}lq(){}$o(){return ic(this,()=>{const d=this.N.ya;return this.N.Wd().Ey(d)},
()=>{const d=this.N.ya;return this.N.Wd().to(d)}).Mh}Uz(){const d=this.N.ub().Da()-this.N.rb.mf();return ic(this,()=>{const b=this.N.ya;return this.N.Wd().Di(d,b)},()=>{const b=this.N.ya,a=this.N.Wd(),e=a.tN(d,b);return e?e:a.to(b)}).Mh}Xz(){}Qe(){return this.ye.Ka()}ma(){return{firstAbsoluteUpdate:this.Wr,saveState:this.hi}}qa(d){d&&(this.Wr=d.firstAbsoluteUpdate,this.hi=d.saveState)}};
{"use strict";const d=self.D,b=new Map,a=[0,0,0];class e extends d.cb.qf{constructor(c){super(c)}Ri(){}Wc(){}Le(){}Fe(){const c=this.N.Xd(),g=kc(this),m=this.Qe();switch(c){case "behavior":return this.qA(g.Ic(m));case "effect":return this.qA(g[m]);case "plugin":return this.qA(g.Ic(m));case "world-instance":return this.qA(this.zl())}}yi(){const c=this.$o();return!this.PQ(c,this.zl())}Ai(){return d.ne(this.hi)?!1:!this.PQ(this.hi,this.zl())}PQ(c,g){c=this.kr(c);g=this.kr(g);return c.tm(g)}$o(){const c=
super.$o();return this.kr(c)}Uz(){const c=super.Uz();return this.kr(c)}Xz(){}qA(c){return d.Im(c,d.fb)?c.toArray().slice(0,3):c.slice(0,3)}kr(c){return d.Im(c,d.fb)?c:new d.fb(c[0],c[1],c[2],1)}ZD(){return!0}ek(){return!0}mq(){var c=this.N.ub(),g=this.N.Ea();const m=this.N.Bb();(c=c.Pt(g,m,this.dd))&&1<c.length&&(b.has(g)||b.set(g,new Map),g=b.get(g),c=this.N.Xd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.dd)||g.set(this.dd,{nX:!1,color:new d.fb(0,0,0,1)}))}HR(c,g,m){c=b.get(c).get(g).get(m);
c.nX=!0;return c.color}jo(c,g){var m=this.N.ub(),h=this.N.rb;c=this.N.Ea();var l=this.N.Bb();const n=this.N.Xd();if((l=m.Pt(c,l,this.dd))&&1<l.length){if(l=lc(l,!0),m=m.Da(),m=mc(m,l))l=m.time-h.mf(),0===l?this.HR(c,n,this.dd).bW(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.N.Fa(l,!1,!0),m=d.fb.jE(m,l[0]),h=d.fb.jE(h,l[1]),g=d.fb.jE(g,l[2]),this.HR(c,n,this.dd).bW(m,h,g))}else this.vk(g[0],g[1],g[2])}lq(){const c=this.N.Ea();if(b.has(c)){var g=b.get(c),m=this.N.Xd();if(g.has(m)){var h=g.get(m);
if(h.has(this.dd)){var l=h.get(this.dd),n=l.color;l.nX&&this.vk(n.Xa,n.ab,n.$a);0===h.size&&g.delete(m);0===g.size&&b.delete(c)}}}}zl(){const c=this.N.Xd(),g=kc(this),m=this.Qe();switch(c){case "behavior":return this.kr(g.Ic(m));case "effect":return g[m].clone();case "plugin":return this.kr(g.Ic(m));case "world-instance":return this.m().hb.clone()}}vk(c,g,m){const h=this.N.Xd(),l=kc(this),n=this.Qe();switch(h){case "behavior":a[0]=c;a[1]=g;a[2]=m;l.Gh(n,a);break;case "effect":l[n].it(c,g,m);break;
case "plugin":a[0]=c;a[1]=g;a[2]=m;l.Gh(n,a);break;case "world-instance":this.m().v6(c,g,m)}}ma(){}qa(){}}d.cb.qf.BY=e}
{"use strict";const d=self.D,b=d.cb;class a extends d.cb.qf{constructor(e){super(e)}Ri(){}Wc(){}Le(){}Fe(){return this.zl()}yi(){return this.$o()!==this.Fe()}Ai(){return d.ne(this.hi)?!1:this.hi!==this.Fe()}ek(){return!1}jo(e,c){const g=this.N,m=g.rb,h=g.Xd();var l=g.ub();const n=m.Ea(),p=g.Bb();(l=l.Pt(n,p,this.dd))&&1<l.length&&(l=lc(l),e=mc(e+m.mf(),l))&&(c=e.value);switch(g.Nt()){case "numeric":if(!b.du.wl(this.Qe(),kc(this),c,h))return;break;case "angle":if(!b.Ux.wl(this.Qe(),kc(this),c,h))return;
break;case "boolean":if(!b.Wx.wl(this.Qe(),kc(this),c,h))return;break;case "color":if(!b.gy.wl(this.Qe(),kc(this),c,h))return;break;case "text":if(!b.Kz.wl(this.Qe(),kc(this),c,h))return}this.vk(c)}zl(){const e=this.N.Xd(),c=kc(this),g=this.Qe();switch(e){case "behavior":return c.Ic(g);case "effect":return c[g];case "instance-variable":return c.He(g);case "plugin":return c.Ic(g)}}vk(e){const c=this.N.Xd(),g=kc(this),m=this.Qe();switch(c){case "behavior":g.Gh(m,e);break;case "effect":g[m]=e;break;
case "instance-variable":g.Tm(m,e);break;case "plugin":g.Gh(m,e)}}}d.cb.qf.CO=a}
{"use strict";const d=self.D,b=new Map,a=(c,g,m,h,l,n=!1,p=null,r=null)=>{b.set(c,{Zga:g,qfa:m,ega:h,round:l,Xfa:n,init:p,reset:r})};a("offsetX",(c,g)=>c.GO(g),(c,g)=>c.Ng(g),c=>c.ka(),!0);a("offsetY",(c,g)=>c.HO(g),(c,g)=>c.Kh(g),c=>c.la(),!0);a("offsetWidth",(c,g)=>c.FO(g),(c,g)=>c.Jh(g),c=>c.fa(),!0);a("offsetHeight",(c,g)=>c.EO(g),(c,g)=>c.Fh(g),c=>c.aa(),!0);a("offsetAngle",(c,g)=>c.q3(g),(c,g)=>c.Jc(g),c=>c.Na(),!1);a("offsetOpacity",(c,g,m,h)=>{m=c.Vd()+g;0===h.Dc?(1<m?h.Dc+=m-1:0>m&&(h.Dc+=
m),c.r3(g)):(c=c.Vd()+g,0<g&&0<h.Dc?1<c&&(h.Dc+=c-1):0<g&&0>h.Dc?(h.Dc+=g,0<h.Dc&&(h.Dc=0)):0>g&&0<h.Dc?(h.Dc+=g,0>h.Dc&&(h.Dc=0)):0>g&&0>h.Dc&&0>c&&(h.Dc+=c))},(c,g)=>{c.Lg(g)},c=>c.Vd(),!1,!0,c=>{c.Dc=0;switch(c.N.me()){case "relative":{c.N.Wd();const l=c.N.ya.Cg().Ob;var g=c.m().Vd(),m=g;for(var h of l)m=h.Da(),m=c.N.Ie(m),m=g+m,m=d.da(m,0,1);c.Ls=g-m;c.Ls=Math.round(100*(c.Ls+Number.EPSILON))/100;m=g;for(g=l.length-1;0<=g;g--)h=l[g].Da(),h=c.N.Ie(h),m-=h,m=d.da(m,0,1);c.Ks=m;c.Ks=Math.round(100*
(c.Ks+Number.EPSILON))/100}}},c=>{switch(c.N.me()){case "relative":{c.Dc=0;const g=c.m();let m=g.Vd();m=Math.round(100*(m+Number.EPSILON))/100;c.N.ub().Ki()?(g.Lg(m+c.Ls),c.Nb=0):(g.Lg(m-c.Ks),c.Nb=c.Bb().NE())}}});a("offsetOriginX",(c,g)=>c.s3(g),(c,g)=>c.br(g),c=>c.hl(),!1);a("offsetOriginY",(c,g)=>c.t3(g),(c,g)=>c.cr(g),c=>c.il(),!1);a("offsetZElevation",(c,g)=>c.u3(g),(c,g)=>c.sf(g),c=>c.gb(),!0);a("offsetScaleX",(c,g,m)=>{const h=0>c.fa()?-1:1;c.FO(m.Tj()*h*g)},(c,g,m)=>{c.Jh(m.Tj()*g)},(c,g)=>
{const m=0>c.fa()?-1:1;if(c.wo()){var h=c.Ha(),l=g.ub().MN(h.Ea());l?h=h.fa()/l.Tj():(l=h.Ea().pa,h=l.Eo()?h.fa()/l.Tj():1);return c.fa()*m/(g.Tj()*h)}return c.fa()*m/g.Tj()},!1);a("offsetScaleY",(c,g,m)=>{const h=0>c.aa()?-1:1;c.EO(m.Sj()*h*g)},(c,g,m)=>{c.Fh(m.Sj()*g)},(c,g)=>{const m=0>c.aa()?-1:1;if(c.vo()){var h=c.Ha(),l=g.ub().MN(h.Ea());l?h=h.aa()/l.Sj():(l=h.Ea().pa,h=l.Eo()?h.aa()/l.Sj():1);return c.aa()*m/(g.Sj()*h)}return c.aa()*m/g.Sj()},!1);class e extends d.cb.qf{constructor(c){super(c);
this.Ks=this.Ls=this.Dc=this.Nb=0;this.zV=this.BV=this.AV=this.aJ=this.oK=this.gJ=this.iJ=this.hJ=null;this.II=this.qK=!1;this.In=d.Im(this.N.ub(),d.a7)?new d.cb.qf.p3(this):new d.cb.qf.o3(this);const g=this.N.ya.dd;switch(this.N.Xd()){case "world-instance":c=b.get(g);this.hJ=c.ega;this.iJ=c.Zga;this.gJ=c.qfa;this.qK=c.round;this.II=c.Xfa;this.aJ=c.init;this.oK=c.reset;break;case "audio":this.AV=c.QN,this.BV=c.B6,this.zV=c.vX,this.qK=!0,this.II=!1}}j(){this.gJ=this.iJ=this.hJ=this.In=null;super.j()}ek(){return this.In.ek()}SP(c){this.Nb=
c}Ri(){this.oK&&this.oK(this)}Wc(){const c=this.In.Wc();"number"===typeof c&&(this.Nb=c);this.aJ&&this.aJ(this)}Le(){const c=this.In.Le();"number"===typeof c&&(this.Nb=c)}Fe(){return this.zl()}yi(){return this.$o()!==this.Fe()}Ai(){return d.ne(this.hi)?!1:this.hi!==this.Fe()}mq(){this.In.mq()}jo(c,g,m,h,l,n,p){return this.In.jo(c,g,m,h,l,n,p)}lq(){this.In.lq()}zl(){const c=kc(this),g=this.Qe(),m=this.m(),h=this.N.rb;switch(this.N.Xd()){case "behavior":return c.Ic(g);case "effect":return c[g];case "instance-variable":return c.He(g);
case "plugin":return c.Ic(g);case "world-instance":return this.hJ(m,h);case "audio":return this.AV.call(this.Bb(),m,h)}}vk(c){const g=kc(this),m=this.Qe(),h=this.m(),l=this.N.rb;switch(this.N.Xd()){case "behavior":g.vF(m,c);break;case "effect":g[m]+=c;break;case "instance-variable":g.V5(m,c);break;case "plugin":g.vF(m,c);break;case "world-instance":this.iJ(h,c,l,this);break;case "audio":this.BV.call(this.Bb(),h,c,l,this)}}YS(c){const g=kc(this),m=this.Qe(),h=this.m(),l=this.N.rb;switch(this.N.Xd()){case "behavior":g.Gh(m,
c);break;case "effect":g[m]=c;break;case "instance-variable":g.Tm(m,c);break;case "plugin":g.Gh(m,c);break;case "world-instance":this.gJ(h,c,l);break;case "audio":this.zV.call(this.Bb(),h,c,l)}}rr(c,g,m,h,l,n){this.In.rr(c,g,m,h,l,n)}xl(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.zl();this.vk((0===c?this.qK?Math.round(h):this.II?Math.round(100*(h+Number.EPSILON))/100:h:d.toFixed(h,c))-h,g,m)}ma(){return Object.assign(super.ma(),{v:this.Nb,a:this.Dc,fod:this.Ls,bod:this.Ks})}qa(c){c&&
(super.qa(c),this.Nb=c.v,this.Dc=c.a,this.Ls=d.Wf(c.fod)?c.fod:0,this.Ks=d.Wf(c.bod)?c.bod:0)}}d.cb.qf.DO=e}
{"use strict";class d{constructor(a){this.YK=!1;this.Gc=0;this.Wa=a;for(let e=0,c=this.Wa.length;e<c;e++)this.Wa[e].t5(this)}eQ(){this.YK=!0}Me(a){this.Gc=a}H(){return this.Gc}ld(){this.YK=!1;this.Gc=0}}class b{constructor(a){this.ve=a}j(){this.ve=null}Wc(){const a=this.ve;this.ve.Rf();return jc(a,()=>ic(a,()=>0,()=>a.Bb().NE()),()=>{})}Le(){}ek(){switch(this.ve.Rf().me()){case "relative":return!1;case "absolute":return!0}}mq(){var a=this.ve.Rf(),e=a.ya.dd;switch(a.me()){case "absolute":if(a.RE())a.gv.ld();
else{const c=a.ub(),g=a.Ea();a=a.Bb();(e=c.Pt(g,a,e))&&1<e.length&&new d(e)}}}jo(a,e,c,g,m,h){var l=this.ve,n=this.ve.Rf();switch(n.me()){case "relative":n=l.Nb;l.vk(e-n,c,g);h&&this.rr(a,c,g,m,n,e);l.SP(e);break;case "absolute":if(c=n.ub(),a=n.rb,n.Ea(),n.Bb(),n.RE()){if(l=n.gv,g=lc(l.Wa,!0),c=c.Da(),c=mc(c,g))a=c.time-a.mf(),0===a?(l.eQ(),l.Me(l.H()+e)):0>a||(n=n.Ie(a),l.eQ(),l.Me(l.H()+(e-n)))}else l.YS(e)}}lq(){const a=this.ve;var e=this.ve.Rf();switch(e.me()){case "absolute":e.RE()&&(e=e.gv,
e.YK&&a.YS(e.H()))}}rr(a,e,c,g,m,h){const l=this.ve;g||(e&&a===e.Da()?l.xl(e.wc(),e,c):c&&a===c.Da()?l.xl(c.wc(),e,c):0===h-m&&l.xl(e.wc(),e,c))}}self.D.cb.qf.o3=b}
{"use strict";class d{constructor(b){this.ve=b}j(){this.ve=null}Wc(){const b=this.ve;b.Wr=!0;return this.Xz(b.$o())}Le(){const b=this.ve;if(b.$o()!==b.Uz())return b.Wr=!0,this.Xz(b.Uz())}ek(){return!1}mq(){}jo(b,a,e,c,g,m){const h=this.ve,l=h.Nb;switch(h.Rf().me()){case "relative":h.vk(a-l,e,c);m&&this.rr(b,e,c,g,l,a);break;case "absolute":h.Wr?(h.Wr=!1,h.vk(l,e,c)):(h.vk(a-l,e,c),m&&this.rr(b,e,c,g,l,a))}h.SP(a)}lq(){}Xz(b){return b-this.ve.Fe()}rr(b,a,e,c,g,m){const h=this.ve;c?a&&b===a.Da()?h.xl(a.wc(),
a,e):e&&b===e.Da()?h.xl(e.wc(),a,e):e||h.xl(a.wc(),a,e):a&&b===a.Da()?h.xl(a.wc(),a,e):e&&b===e.Da()?h.xl(e.wc(),a,e):0===m-g&&h.xl(a.wc(),a,e)}}self.D.cb.qf.p3=d}
{"use strict";const d=self.D,b=self.tt;d.cb.du=class{constructor(){}static wl(a,e,c,g){let m;switch(g){case "behavior":m=e.Ic(a);break;case "effect":m=e[a];break;case "instance-variable":m=e.He(a);break;case "plugin":m=e.Ic(a)}return m===c?!1:!0}static Fa(a,e,c,g){if(!c)return c=g.ya,c=g.Wd().to(c),c.wc();var m=g.Ei();"default"===m&&(m="continuous");"combo"===g.Qy()&&(m="discrete");if("discrete"===m)return e.wc();if("continuous"===m||"step"===m){"step"===m&&(m=g.ub().Qt(),0!==m&&(m=1/m,a=Math.floor(a*
m)/m));var h=e.Da();const l=c.Da();m=e.wc();const n=c.wc();if(m===n)return m;a=d.normalize(a,h,l);const p=e.Dm();e=e.rE("cubic-bezier");c=c.rE("cubic-bezier");e&&e.Vw&&c&&c.YA?(h=l-h,h=b.uo(p)(h*a,0,1,h),h=b.uo("cubicbezier")(h,m,m+e.DK,n+c.DI,n)):h=b.uo(p)((l-h)*a,m,n-m,l-h);return"integer"===g.Qy()?Math.floor(h):h}}}}
{"use strict";const d=self.D;d.cb.Ux=class{constructor(){}static wl(b,a,e,c){let g;switch(c){case "behavior":g=a.Ic(b);break;case "effect":g=a[b];break;case "instance-variable":g=a.He(b);break;case "plugin":g=a.Ic(b)}return g===e?!1:!0}static Fa(b,a,e,c){if(!e)return a=c.ya,a=c.Wd().to(a),a.wc();var g=c.Ei();"default"===g&&(g="continuous");"combo"===c.Qy()&&(g="discrete");if("discrete"===g)return a.wc();if("continuous"===g||"step"===g){"step"===g&&(c=c.ub().Qt(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const m=a.Da(),h=e.Da();c=a.wc();e=e.wc();if(g=a.rE("angle")){const l=g.pK;if(c===e&&0===l)return c;b=d.normalize(b,m,h);a=self.tt.uo(a.Dm())(b,0,1,1);switch(g.wI){case "closest":return d.gL(c,e,a,l);case "clockwise":return d.wfa(c,e,a,l);case "anti-clockwise":return d.vfa(c,e,a,l)}}else{if(c===e)return c;b=d.normalize(b,m,h);a=self.tt.uo(a.Dm());return d.gL(c,e,a(b,0,1,1))}}}}}"use strict";
self.D.cb.Wx=class{constructor(){}static wl(d,b,a,e){let c;switch(e){case "behavior":c=b.Ic(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.He(d);break;case "plugin":c=b.Ic(d)}return!!c===!!a?!1:!0}static Fa(d,b,a,e){return a?b.wc()?1:0:(d=e.ya,d=e.Wd().to(d),d.wc()?1:0)}};
{"use strict";const d=self.D,b=[0,0,0],a=[0,0,0],e=[0,0,0];d.cb.gy=class{constructor(){}static wl(c,g,m,h){let l;switch(h){case "behavior":l=g.Ic(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.He(c);break;case "plugin":l=g.Ic(c)}Array.isArray(m)?(b[0]=m[0],b[1]=m[1],b[2]=m[2]):(e.LW(m),b[0]=Math.floor(255*e.Xa),b[1]=Math.floor(255*e.ab),b[2]=Math.floor(255*e.$a));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(e.LW(l),a[0]=Math.floor(255*e.Xa),a[1]=Math.floor(255*e.ab),a[2]=Math.floor(255*
e.$a));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static Fa(c,g,m,h){if(!m)return g=h.ya,g=h.Wd().to(g),g=g.wc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;var l=h.Ei();"default"===l&&(l="continuous");if("discrete"===l)return g=g.wc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;if("continuous"===l||"step"===l){"step"===l&&(h=h.ub().Qt(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.Da();l=m.Da();var n=g.wc(),p=m.wc();const r=d.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],w=p[1];p=p[2];g=self.tt.uo(g.Dm());h=l-h;
l=h*r;b[0]=c===u?c:g(l,c,u-c,h);b[1]=m===w?m:g(l,m,w-m,h);b[2]=n===p?n:g(l,n,p-n,h);return b}}}}"use strict";self.D.cb.Kz=class{constructor(){}static wl(d,b,a,e){let c;switch(e){case "behavior":c=b.Ic(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.He(d);break;case "plugin":c=b.Ic(d)}return c===a?!1:!0}static Fa(d,b,a,e){return a?b.wc():(d=e.ya,d=e.Wd().to(d),d.wc())}};
{"use strict";const d=self.D;d.Rg=class{constructor(){this.cx=new Map}j(){for(const b of this.cx.values())b.j();this.cx.clear();this.cx=null}Uc(b){b=new d.T6(b);this.cx.set(b.Ca(),b)}ba(b){return this.cx.get(b)}static Fu(b,a,e,c){if(a)for(const g of a)d.Rg.RQ("create",g,b,e,c)}static Pu(b,a,e,c){b.length?a.forEach((g,m)=>{b[m].qa(g)}):a.forEach(g=>{d.Rg.RQ("load",g,b,e,c)})}static RQ(b,a,e,c,g){let m;if("function"===typeof c)switch(b){case "load":m=new c(null,g);break;case "create":m=new c(a,g)}else if("object"===
typeof c)switch(c=c.map.get(a[c.PW]),b){case "load":m=new c(null,g);break;case "create":m=new c(a,g)}switch(b){case "load":m.qa(a);e.push(m);break;case "create":"function"!==typeof m.el||m.el()?e.push(m):m.j()}}}}
{"use strict";const d=self.D;d.T6=class{constructor(b){this.Ja="";this.Ms=NaN;this.RC=0;this.mg=this.kg="default";this.uC=this.iC=!1;this.zs=1;this.bf=null;b&&(this.Ja=b[0],this.Ms=b[1],this.RC=b[2],this.kg=b[3],this.mg=b[4],this.iC=!!b[6],this.uC=!!b[7],this.zs=b[8],this.bf=new d.lQ(b[5],this))}j(){this.bf.j();this.bf=null}Tt(){this.bf||(this.bf=new d.lQ(null,this));return this.bf}Ca(){return this.Ja}Hz(b){this.Ja=b}td(){return this.Ms}Qt(){return this.RC}Ei(){return this.kg}me(){return this.mg}Ky(){return this.iC}Oy(){return this.uC}Dg(){return this.zs}ma(){return{trackDataJson:this.bf.ma(),
name:this.Ja,totalTime:this.Ms,step:this.RC,interpolationMode:this.kg,resultMode:this.mg,loop:this.iC,pingPong:this.uC,repeatCount:this.zs}}qa(b){b&&(this.Tt().qa(b.trackDataJson),this.Ja=b.name,this.Ms=b.totalTime,this.RC=b.step,this.kg=b.interpolationMode,this.mg=b.resultMode,this.iC=b.loop,this.uC=b.pingPong,this.zs=b.repeatCount)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.bf=e;this.Ym=this.yB=null;this.$l=this.Pl=NaN;this.mg=this.kg="default";this.Zg=!1;this.sc=this.ai=null;this.We="";this.qs=null;this.EK=0;this.gC=this.bf.Td.td();this.Ba=0;this.Ja="";a&&(a[0]&&(this.yB=a[0],this.Pl=a[0][2],this.$l=a[0][1]),this.kg=a[1],this.mg=a[2],this.Zg=!!a[3],a[6]&&(this.We=a[6]),a[7]&&(this.qs=a[7],this.EK=a[7][0],this.gC=a[7][1]),a[8]&&(this.Ym=a[8]),a[8]&&(this.Ym=a[8]),a[9]&&(this.Ba=a[9]),a[10]&&(this.Ja=a[10]),this.ai=
new d.qO(a[4],this),this.sc=new d.bP(a[5],this))}j(){this.bf=this.yB=null;this.ai&&(this.ai.j(),this.ai=null);this.sc&&(this.sc.j(),this.sc=null);this.qs=null}Tt(){return this.bf}Rj(){this.ai||(this.ai=new d.qO(null,this));return this.ai}Wd(){this.sc||(this.sc=new d.bP(null,this));return this.sc}GE(){return this.$l}Lt(){return this.Pl}Ei(){return this.kg}me(){return this.mg}el(){return this.Zg}rl(a){this.Zg=!!a}Pj(){return this.We}mf(){return this.EK}gl(){return this.gC}Tj(){return this.Ym[0]}Sj(){this.Ym||
(this.Ym=[]);return this.Ym[1]}$j(){return this.Ba}Ca(){return this.Ja}ma(){return{keyframeDataJson:this.ai.ma(),propertyTrackDataJson:this.sc.ma(),instanceData:this.yB,additionalInstanceData:this.Ym,instanceUid:this.Pl,objectClassIndex:this.$l,interpolationMode:this.kg,resultMode:this.mg,enabled:this.Zg,id:this.We,nestedData:this.qs,type:this.Ba,name:this.Ja}}qa(a){a&&(this.yB=a.instanceData,this.Pl=a.instanceUid,this.$l=a.objectClassIndex,this.kg=a.interpolationMode,this.mg=a.resultMode,this.Zg=
a.enabled,this.We=a.id,this.Ba=a.type?a.type:0,this.Ja=a.name?a.name:"",this.gC=this.bf.Td.td(),a.nestedData&&(this.qs=a.nestedData,this.EK=this.qs[0],this.gC=this.qs[1]),a.additionalInstanceData&&(this.Ym=a.additionalInstanceData),this.Rj().qa(a.keyframeDataJson),this.Wd().qa(a.propertyTrackDataJson))}}d.lQ=class{constructor(a,e){this.Td=e;this.cq=[];d.Rg.Fu(this.cq,a,b,this)}j(){this.Td=null;for(const a of this.cq)a.j();d.F(this.cq);this.cq=null}r0(a,e){e=e.Rj().rc;const c=e.length;for(let g=0;g<
c;g++){const m=e[g];if(m.Da()===a)return m}}rN(a,e){e=e.Rj().rc;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Da()<=a)return g}}*gX(){for(const a of this.cq)yield a}ma(){return{trackDataItemsJson:this.cq.map(a=>a.ma())}}qa(a){a&&d.Rg.Pu(this.cq,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.sc=e;this.JC="";this.Ba=this.dd=this.og=null;this.QJ=this.UJ=NaN;this.mg=this.kg="default";this.Zg=!1;this.uj=null;this.JA=!0;a&&(this.JC=a[0][0],this.og=a[0].slice(1),this.dd=a[1],this.Ba=a[2],this.UJ=a[3],this.QJ=a[4],this.kg=a[5],this.mg=a[6],this.Zg=!!a[7],this.uj=new d.aP(a[8],this),this.JA=a[9])}j(){this.uj.j();this.og=this.sc=this.uj=null}Wd(){return this.sc}Cg(){this.uj||(this.uj=new d.aP(null,this));return this.uj}Xd(){return this.JC}$j(){return this.Ba}cQ(a){this.Ba=
a}Ei(){return this.kg}me(){return this.mg}el(){return this.Zg}rl(a){this.Zg=!!a}$D(){return!!this.JA}ma(){return{propertyKeyframeDataJson:this.uj.ma(),sourceAdapterId:this.JC,sourceAdapterArguments:this.og,property:this.dd,type:this.Ba,min:this.UJ,max:this.QJ,interpolationMode:this.kg,resultMode:this.mg,enabled:this.Zg,canHavePropertyKeyframes:this.JA}}qa(a){a&&(this.JC=a.sourceAdapterId,this.og=a.sourceAdapterArguments,this.dd=a.property,this.Ba=a.type,this.UJ=a.min,this.QJ=a.max,this.kg=a.interpolationMode,
this.mg=a.resultMode,this.Zg=a.enabled,this.JA=a.canHavePropertyKeyframes,this.Cg().qa(a.propertyKeyframeDataJson))}}d.bP=class{constructor(a,e){this.Qb=e;this.Rp=[];d.Rg.Fu(this.Rp,a,b,this)}j(){this.Qb=null;for(const a of this.Rp)a.j();d.F(this.Rp);this.Rp=null}Ey(a){return a.Cg().Ob[0]}to(a){return a.Cg().Ob.le(-1)}K0(a,e){e=e.Cg().Ob;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Da()===a)return m}}tN(a,e){e=e.Cg().Ob;const c=e.length;for(let g=0;g<c;g++){const m=e[g];if(m.Da()>=a)return m}}Di(a,
e){e=e.Cg().Ob;for(let c=e.length-1;0<=c;c--){const g=e[c];if(g.Da()<=a)return g}}*QW(){for(const a of this.Rp)yield a}ma(){return{propertyTrackDataItemsJson:this.Rp.map(a=>a.ma())}}qa(a){a&&d.Rg.Pu(this.Rp,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.ai=e;this.ic=-1;this.hj="noease";this.ij=!1;this.pw=this.lh=null;a&&(this.ic=a[0],this.hj=a[1],this.ij=!!a[2],this.lh=(a=a[3])?a.split(" "):[],this.pw=new Set(this.lh.map(c=>c.toLowerCase())),this.Ye=null)}j(){this.ai=null;d.F(this.lh);this.lh=null;this.pw.clear();this.pw=null}Rj(){return this.ai}tu(a){this.Ye=a}Da(){return this.ic}gr(a){this.ic=a;this.ai.Nu()}Dm(){return this.hj}ik(a){this.hj=a}el(){return this.ij}rl(a){this.ij=!!a}aQ(a){this.lh=
a?a.split(" "):[];this.pw=new Set(this.lh.map(e=>e.toLowerCase()))}ma(){return{time:this.ic,ease:this.hj,enable:this.ij,tags:this.lh}}qa(a){a&&(this.ic=a.time,this.hj=a.ease,this.ij=a.enable,this.lh=a.tags,this.pw=new Set(this.lh.map(e=>e.toLowerCase())))}}d.qO=class{constructor(a,e){this.Qb=e;this.rc=[];d.Rg.Fu(this.rc,a,b,this);this.Nu()}j(){this.Qb=null;for(const a of this.rc)a.j();d.F(this.rc);this.rc=null}Nu(){this.rc.sort((a,e)=>a.Da()-e.Da());for(let a=0;a<this.rc.length;a++)this.rc[a].tu(this.rc[a+
1])}AX(){const a=new b(null,this);this.rc.push(a);this.Nu();return a}bZ(a){for(const e of this.rc){if(!a(e))continue;const c=this.rc.indexOf(e);-1!==c&&(e.j(),this.rc.splice(c,1))}this.H6();this.Nu()}H6(){this.rc.sort((a,e)=>a.Da()-e.Da())}t0(a){return this.rc.indexOf(a)}s0(a){return this.rc[a]}ma(){return{keyframeDataItemsJson:this.rc.map(a=>a.ma())}}qa(a){a&&(d.Rg.Pu(this.rc,a.keyframeDataItemsJson,b,this),this.Nu())}}}
{"use strict";const d=self.D;class b{constructor(a,e){this.uj=e;this.Mh=this.Gc=null;this.Ba="";this.ic=NaN;this.hj="noease";this.ij=!1;this.$i=null;this.Dl=void 0;a&&(this.Gc=a[0][0],this.Mh=a[0][1],this.Ba=a[0][2],this.ic=a[1],this.hj=a[2],this.ij=!!a[3],this.$i=null,a[4]&&(this.$i=new d.LX(a[4],this)),this.Ye=null)}j(){this.uj=null;this.$i&&(this.$i.j(),this.$i=null)}tu(a){this.Ye=a}H(){return this.Gc}Me(a){"color"===this.Ba&&d.Wf(a)?(this.Gc[0]=d.KE(a),this.Gc[1]=d.DE(a),this.Gc[2]=d.tE(a)):this.Gc=
a}yP(a){"color"===this.Ba&&d.Wf(a)?(this.Mh[0]=d.KE(a),this.Mh[1]=d.DE(a),this.Mh[2]=d.tE(a)):this.Mh=a}wc(){const a=this.uj.ya.me();if("relative"===a)return this.H();if("absolute"===a)return this.Mh}$j(){return this.Ba}cQ(a){this.Ba=a}Da(){return this.ic}gr(a){this.ic=a;this.uj.Ou()}Dm(){return this.hj}ik(a){this.hj=a}el(){return this.ij}rl(a){this.ij=!!a}rE(a){if(this.$i){if(this.Dl||null===this.Dl)return this.Dl;var e=this.$i.hp;if(!e)return this.Dl=null;var c=e.length;for(let g=0;g<c;g++){const m=
e[g];if(m.Pj()===a)return this.Dl=m}return this.Dl=null}}ma(){const a=this.$i;return{addonDataJson:a?a.ma():a,value:this.Gc,aValue:this.Mh,type:this.Ba,time:this.ic,ease:this.hj,enable:this.ij}}qa(a){a&&(a.addonDataJson&&this.$i.Nra(a.addonDataJson),this.Gc=a.value,this.Mh=a.aValue,this.Ba=a.type,this.ic=a.time,this.hj=a.ease,this.ij=a.enable)}}d.aP=class{constructor(a,e){this.ya=e;this.Ob=[];d.Rg.Fu(this.Ob,a,b,this);this.Ou()}j(){this.ya=null;for(const a of this.Ob)a.j();d.F(this.Ob);this.Ob=null}Ou(){this.Ob.sort((a,
e)=>a.Da()-e.Da());for(let a=0;a<this.Ob.length;a++)this.Ob[a].tu(this.Ob[a+1])}nM(){const a=new b(null,this);this.Ob.push(a);this.Ou();return a}UM(a){for(const e of this.Ob){if(!a(e))continue;const c=this.Ob.indexOf(e);-1!==c&&(e.j(),this.Ob.splice(c,1))}this.I6();this.Ou()}I6(){this.Ob.sort((a,e)=>a.Da()-e.Da())}ma(){return{propertyKeyframeDataItemsJson:this.Ob.map(a=>a.ma())}}qa(a){a&&(d.Rg.Pu(this.Ob,a.propertyKeyframeDataItemsJson,b,this),this.Ou())}}}
{"use strict";const d=self.D;class b{constructor(c,g){this.$i=g;this.We=c[0];this.Jl=c[1]}j(){this.Jl=this.$i=null}Pj(){return this.We}ma(){return{id:this.We,data:this.Jl}}qa(c){c&&(this.We=c.id,this.Jl=c.data)}}class a extends b{constructor(c,g){super(c,g);this.DK=this.Jl[0];this.Vw=!!this.Jl[1];this.DI=this.Jl[2];this.YA=!!this.Jl[3]}j(){super.j()}ma(){return Object.assign(super.ma(),{startAnchor:this.DK,startEnable:!!this.Vw,endAnchor:this.DI,endEnable:!!this.YA})}qa(c){c&&(super.qa(c),this.DK=
c.startAnchor,this.Vw=!!c.startEnable,this.DI=c.endAnchor,this.YA=!!c.endEnable)}}class e extends b{constructor(c,g){super(c,g);this.wI=this.Jl[0];this.pK=this.Jl[1]}j(){super.j()}ma(){return Object.assign(super.ma(),{direction:this.wI,revolutions:this.pK})}qa(c){c&&(super.qa(c),this.wI=c.direction,this.pK=c.revolutions)}}d.LX=class{constructor(c){this.hp=[];d.Rg.Fu(this.hp,c,{PW:0,map:new Map([["cubic-bezier",a],["angle",e]])},this)}j(){for(const c of this.hp)c.j();d.F(this.hp);this.hp=null}ma(){return{addonDataItemsJson:this.hp.map(c=>
c.ma())}}qa(c){c&&d.Rg.Pu(this.hp,c.addonDataItemsJson,{PW:"id",map:new Map([["cubic-bezier",a],["angle",e]])},this)}}}
{"use strict";const d=self.D;let b=0;d.a7=class extends d.Wo{constructor(a,e){super(`tween-${b++}`,a,e);this.We="";this.GT=!1;this.cJ="start-value";this.rb=this.dV=this.cV=this.qc=null}PM(){for(const a of this.Td.Tt().gX())this.mb.push(d.qQ.Sa(this,a));this.rb=this.mb[0]}Rf(){return this.rb.Wa[0]}Ea(){var a=this.mb;if(a&&a.length&&(this.rb=a=a[0])){var e=a.Ea();return a.Jm()?e:void 0}}Pj(){return this.We}PO(){if(this.dV)for(const a of this.dV)a(this);if(!this.fg)for(const a of this.mb)a.Ai()}wF(){this.Hr=
this.g.Nk}dN(){if(!this.vp&&(this.vp=!0,this.cV))for(const a of this.cV)a(this)}gr(a){this.VQ();super.gr(a)}Cl(a){d.Wf(a)||(a=this.td());this.Vb=0>a?0:a>=this.td()?this.td():a;this.rb.Ri()}Wc(a){if(!this.nn&&"current-state"===this.cJ)for(const e of this.mb)e.yi();super.Wc(a)}Ne(a=!1){super.Ne(a);if(!this.fg)for(const e of this.mb)e.Qm()}ld(a=!0,e=!1){this.VQ();super.ld(a,e)}VQ(){for(const a of this.mb){const e=c=>{c=c.Da();const g=this.td();return 0!==c&&c!==g};a.cZ(e);a.ly(e)}}Uu(){if(this.jh)return!0;
const a=this.Ea();if(a&&a.K().Xf())return!1;this.Hb.DM(this);this.rP();return!0}Oe(a,e,c){this.qc||(this.qc=this.Ea());if(this.qc&&!this.qc.Yt()&&(e=this.qc.je,-1!==e&&(a=c*e),0!==a||0!==this.XB)){this.XB=a;c=this.Vb+a*this.cd;a=this.Td.Ms;this.Vb=0>c?0:c>=a?a:c;e=c=!1;var g=this.Ky(),m=this.Oy();g||m?g&&!m?0<this.cd?this.Vb>=a&&(this.Cl(0),e=!0):0>=this.Vb&&(this.Cl(a),e=!0):!g&&m?0<this.cd?this.Vb>=a&&(this.Zd(a),this.jk(-1*this.cd),e=!0,1===this.Qd?this.Nd<this.Dg()?(this.Nd++,this.Qd=0):c=!0:
0===this.Qd&&(this.Qd=1)):0>=this.Vb&&(this.Zd(0),this.jk(-1*this.cd),e=!0,1===this.Qd?this.Nd<this.Dg()?(this.Nd++,this.Qd=0):c=!0:0===this.Qd&&(this.Qd=1)):g&&m&&(0<this.cd?this.Vb>=a&&(this.Zd(a),this.jk(-1*this.cd),e=!0):0>=this.Vb&&(this.Zd(0),this.jk(-1*this.cd),e=!0)):0<this.cd?this.Vb>=a&&(this.Nd<this.Dg()?(this.Nd++,this.Cl(0),e=!0):(this.Zd(a),c=!0)):0>=this.Vb&&(this.Nd<this.Dg()?(this.Nd++,this.Cl(a),e=!0):(this.Zd(0),c=!0));c?(this.rb.HP(),this.Ne(!0),this.wF()):(this.rb.Fa(this.Vb,
!0,!1,e,this.Ve,!1),this.Ve&&(this.Ve=!1))}}ma(){const a=super.ma();return Object.assign(a,{tweenDataItemJson:this.Td.ma(),id:this.We,destroyInstanceOnComplete:this.GT,initialValueMode:this.cJ})}qa(a){a&&(this.Td.qa(a.tweenDataItemJson),super.qa(a),this.We=a.id,this.GT=a.destroyInstanceOnComplete,this.cJ=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.D;d.qQ=class extends d.pG{constructor(b,a){super(b,a);this.tK=this.Iv=null}static Sa(b,a){return d.A(d.qQ,b,a)}JQ(){1===this.Wa.length?this.Iv=this.Wa[0]:(this.Iv=this.Wa[0],this.tK=this.Wa[1])}NM(){for(const b of this.Qb.Wd().QW())this.Wa.push(d.pQ.Sa(this,b));this.JQ()}ho(){}Fa(b,a,e=!1,c=!1,g,m=!1){this.qc||this.Ea();if(this.qc){if(this.qc.Yt()||m&&this.K().Xf())return!1;this.tK?(this.Iv.Fa(b,e,c),this.tK.Fa(b,e,c)):this.Iv.Fa(b,e,c);0!==this.Iv.Tk&&(this.Va||(this.Va=
this.qc.m()),this.Va&&this.Va.Ia())}}eo(){}qa(b){super.qa(b);this.JQ()}}}
{"use strict";const d=self.D;d.pQ=class extends d.cb{constructor(b,a){super(b,a);this.ov=!1}static Sa(b,a){return d.A(d.pQ,b,a)}Fa(b,a=!1,e=!1){if(this.ov){var c=this.Ob[0];var g=this.Ob[1]}else{if(a)c=this.sc.Di(b,this.ya);else{if(this.Oc){g=this.ub();const m=this.Oc.Ye;c=this.Oc.Da();g=m?m.Da():g.td();if(b<=c||b>=g)this.Oc=this.sc.Di(b,this.ya)}else this.Oc=this.sc.Di(b,this.ya);c=this.Oc}g=c.Ye}this.ye.Fa(b,c,g,a,e)}pM(){const b=this.ya.Cg().nM();this.Oc=null;this.ov=2>=this.Py().length;return b}ly(b){this.Oc=
null;this.ya.Cg().UM(b);this.ov=2>=this.Py().length}ma(){return{sourceAdapterJson:this.Bb().ma(),basic:this.ov}}qa(b){b&&(this.Bb().qa(b.sourceAdapterJson),this.ov=b.basic)}}}
{"use strict";const d=self.D,b=self.tt;d.nQ=class extends d.ja{constructor(a){super();this.Ja=a[0];this.pg=[];for(var e of a[1])a=d.oQ.Sa(this,e),this.pg.push(a);for(e=0;e<this.pg.length;e++)this.pg[e].tu(this.pg[e+1]);this.Cw=new Map;this.OV=new Map;this.gba();b.zX(this.Ja,(c,g,m,h)=>this.Fa(c,g,m,h))}static Sa(a){return d.A(d.nQ,a)}j(){for(const a of this.pg)a.j();d.F(this.pg);this.pg=null;this.Cw.clear();this.Cw=null;this.OV.clear();this.OV=null}f0(a){for(let e=this.pg.length-1;0<=e;e--){const c=
this.pg[e];if(c.qg<a)return c}}e0(a){for(let e=this.pg.length-1;0<=e;e--){const c=this.pg[e];if(c.qg<=a)return c}}Fa(a,e,c,g){var m=a/g;a=this.e0(m);g=a.Ye;g||(a=this.f0(m),g=a.Ye);m=d.Bga(m,a.qg,g.qg,g.qg-a.qg);const h=a.qg,l=a.nx,n=a.qg+a.FV,p=a.nx+a.ifa,r=g.qg+g.LT,u=g.nx+g.qea,w=g.qg;g=g.nx;g=b.uo("spline")(m,h,l,n,p,r,u,w,g,this.Cw.get(a));g+=a.nx;return(1-g)*e+g*(e+c)}gba(){this.Cw.clear();for(let e=0;e<this.pg.length-1;e++){var a=this.pg[e];if(!a.Vw)continue;const c=this.pg[e+1];this.Cw.set(a,
b.I_(a.qg,a.qg+a.FV,c.qg+c.LT,c.qg))}}}}{"use strict";const d=self.D;d.oQ=class extends d.ja{constructor(b,a){super();this.qg=a[0];this.nx=a[1];this.FV=a[2];this.ifa=a[3];this.LT=a[4];this.qea=a[5];this.Vw=a[6];this.YA=a[7];this.Ye=null}j(){}static Sa(b,a){return d.A(d.oQ,b,a)}tu(b){this.Ye=b}}}{"use strict";const d=self.D;d.Y6=class extends d.ja{constructor(b){super();this.g=b;this.WC=[]}j(){for(const b of this.WC)b.j();d.F(this.WC);this.WC=null}Sa(b){this.WC.push(d.nQ.Sa(b))}}}
{"use strict";const d=self.D;d.G6=class extends d.ja{constructor(b){super();this.O=b;this.ob=[];this.ob.push(d.A(d.gG,this));this.Ra=0;this.fj=this.ob[0]}j(){for(const b of this.ob)b.j();d.F(this.ob);this.O=this.fj=null}K(){return this.O}V(){return this.fj}Ad(){this.V().Ad()}w4(){var b=this.ob,a=++this.Ra;a===b.length?(a=d.A(d.gG,this),b.push(a),this.fj=a):(b=b[a],b.ld(),this.fj=b)}x4(){const b=this.ob,a=++this.Ra;a===b.length&&b.push(d.A(d.gG,this));const e=b[a];e.JY(b[a-1]);this.fj=e}Pa(){this.fj=
this.ob[--this.Ra]}No(b){const a=this.ob;for(let e=0,c=a.length;e<c;++e)a[e].No(b)}}}
{"use strict";const d=self.D;d.gG=class extends d.ja{constructor(b){super();this.ob=b;this.O=this.ob.K();this.Od=this.O.J().jd();this.$b=!0;this.G=[];this.hc=[]}j(){this.cy();this.Od=this.O=this.ob=null}cy(){d.F(this.G);d.F(this.hc)}K(){return this.O}TE(){return this.$b?!!this.O.G.length:!!this.G.length}oa(){return this.$b?this.O.oa():this.G}a1(){return!!this.hc.length}AE(){const b=this.oa();return b.length?b:this.hc}ld(){this.$b=!0;d.F(this.hc)}Ad(){this.$b=!0}JY(b){b.$b?this.ld():(this.$b=!1,d.Tc(this.G,
b.G),d.F(this.hc))}cp(b){this.G.push(b)}Al(b){this.hc.push(b)}oe(b){this.$b=!!b}kk(b){this.$b=!1;d.F(this.G);this.G.push(b)}mu(b){this.$b=!1;d.Tc(this.G,b)}wu(b){this.$b=!1;d.F(this.G);for(const a of b)this.G.push(a)}mM(b,a){for(const e of a)b.has(e)||this.hc.push(e)}W6(b){for(const a of b)this.G.push(a);d.tg(this.hc,b)}Nm(b){b&&(this.Od.jf().Ib().Pd?(this.$b&&(d.F(this.G),d.Tc(this.hc,b.K().oa()),this.$b=!1),b=this.hc.indexOf(b),-1!==b&&(this.G.push(this.hc[b]),this.hc.splice(b,1))):this.kk(b))}No(b){d.tg(this.G,
b);d.tg(this.hc,b)}}}
{"use strict";const d=self.D;d.r_=class extends d.ja{constructor(b){super();this.za=b;this.g=this.za.J();this.ob=[];this.ob.push(d.A(d.aN,this,null));this.Ra=0;this.$A=[]}j(){for(const b of this.ob)b.j();d.F(this.ob);d.F(this.$A);this.g=this.za=null}na(){return this.za}J(){return this.g}jf(){return this.ob[this.Ra]}Ta(b){var a=this.ob;const e=++this.Ra;if(e===a.length)return b=d.A(d.aN,this,b),a.push(b),b;a=a[e];a.ld(b);return a}Pa(){--this.Ra}y4(b){this.$A.push(b)}n4(){this.$A.pop()}P_(){const b=this.$A;
return 0===b.length?null:b.le(-1)}}}
{"use strict";const d=self.D;d.aN=class extends d.ja{constructor(b,a){super();this.ob=b;this.g=this.ob.J();this.zv=a;this.ag=this.Hl=0;this.CI=this.Jp=!1;this.HI=null;this.QI=this.XT=0}j(){this.ld(null);this.g=this.ob=null}ld(b){this.zv=b;this.ag=this.Hl=0;this.CI=this.Jp=!1}nH(b,a){this.zv=b;this.Hl=0;this.ag=a}sP(){this.ag=this.Hl=0}Ib(){return this.zv}Jg(b){this.zv=b}Sm(b){this.Hl=b}Az(b){this.ag=b}Um(b){this.Jp=!!b}Yq(b){this.CI=!!b}M5(b){this.HI=b}I1(b,a){this.XT=b;this.QI=a}su(b){this.QI=b}ck(){const b=
this.zv;return b.RB?!0:this.Hl<b.fc.length-1?!!b.Cd().length:!1}}}{"use strict";const d=self.D;d.Y2=class extends d.ja{constructor(b){super();this.za=b;this.g=this.za.J();this.ob=[];this.Ra=-1;this.fj=null;this.wB=[]}j(){d.F(this.ob);this.g=this.za=null}Nca(b){this.wB=b;b=this.wB.slice(0);this.ob.push(b);this.Ra=0;this.fj=b}na(){return this.za}J(){return this.g}uq(){return this.fj}Ta(){const b=++this.Ra,a=this.ob;b===a.length?a.push(this.wB.slice(0)):d.Tc(a[b],this.wB);this.fj=a[b]}Pa(){this.fj=this.ob[--this.Ra]}}}
{"use strict";const d=self.D;d.a3=class extends d.ja{constructor(b){super();this.za=b;this.g=this.za.J();this.ob=[];this.Ra=-1}j(){d.F(this.ob);this.g=this.za=null}na(){return this.za}J(){return this.g}iO(){return 0<=this.Ra}uq(){return this.ob[this.Ra]}Ta(){++this.Ra;if(this.Ra===this.ob.length){var b=d.A(d.Z2,this);this.ob.push(b);return b}b=this.ob[this.Ra];b.ld();return b}Pa(){--this.Ra}w_(b){const a=this.ob;for(let e=this.Ra;0<=e;--e){const c=a[e];if(c.Ca()===b)return c}return null}}}
{"use strict";const d=self.D;d.Z2=class extends d.ja{constructor(b){super();this.Cf=b;this.Ja="";this.Ra=0;this.yc=!1}ld(){this.Ja="";this.Ra=0;this.yc=!1}Hz(b){this.Ja=b}Ca(){return this.Ja}Kc(b){this.Ra=b}Ka(){return this.Ra}Ne(){this.yc=!0}}}{"use strict";const d=self.D;d.SX=class extends d.ja{constructor(){super();this.ob=[];this.Ra=-1}j(){d.F(this.ob)}uq(){return this.ob[this.Ra]}Ta(){++this.Ra;if(this.Ra===this.ob.length){const b=[];this.ob.push(b);return b}return this.ob[this.Ra]}Pa(){--this.Ra}}}
{"use strict";const d=self.D;function b(a,e){return a.Ka()-e.Ka()}d.q_=class extends d.ja{constructor(a){super();this.g=a;this.hv=[];this.uK=new Map;this.UH=[];this.aU=new Map;this.iI=new Map;this.pI=new Map;this.uA=new Map;this.oT=new Map;this.FI=new Map;this.Wea=0;this.TH=[];this.Pda=[];this.SU=[];this.NI=new Map;this.Od=d.A(d.r_,this);this.xd=d.A(d.Y2,this);this.Cf=d.A(d.a3,this);this.NK=[];this.BC=[];this.AC=[];this.hI=this.Ml=this.im=0;this.ng=[];this.BA=[];self.c3_callFunction=(e,c)=>this.cA(e,
c)}j(){this.by();this.Od.j();this.Od=null;this.xd.j();this.xd=null;d.F(this.BC);d.F(this.AC);this.g=null;d.F(this.hv);this.uK.clear()}Sa(a){a=d.A(d.p_,this,a);this.hv.push(a);this.uK.set(a.Ca().toLowerCase(),a)}O7(a){this.NK.push(a)}Ub(){for(const a of this.NI.values())a.Ub(!1);for(const a of this.hv)a.Ub();for(const a of this.hv)a.GH();for(const a of this.NK)a.Ub(!1);d.F(this.NK);this.xd.Nca(this.SU)}J(){return this.g}qN(a){return this.uK.get(a.toLowerCase())||null}tba(a){this.UH.push(a);this.aU.set(a.$T,
a)}qba(a){this.iI.set(a.lb,a)}pba(a){this.pI.set(a.lb,a)}oba(a){this.uA.set(a.lb,a)}sba(a){this.NI.set(a.kB.toLowerCase(),a)}rba(a){this.FI.set(a.lb,a);a.Xf()?this.TH.push(a):this.Pda.push(a)}Vz(a){2<=a.length&&a.sort(b);let e=this.oT.get(a.length);e||(e=[],this.oT.set(a.length,e));for(let g=0,m=e.length;g<m;++g){const h=e[g];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}e.push(a);return a}Y9(a){this.SU.push(a.Ap);return this.Wea++}jd(){return this.Od}hf(){return this.jd().jf()}Ib(){return this.hf().Ib()}Pf(){const a=
this.hf();return a.Ib().lN(a.Hl)}Gt(){const a=this.hf();return a.Ib().hN(a.ag)}F_(a){const e=[];for(a=a.Bq();a;)d.Un(e,a.mR()),a=a.Bq();return e}yR(a){const e={};for(const c of this.F_(a))e[c.Fi()]=c.CR();return Object.create(Object.prototype,e)}zE(a){return this.FI.get(a)||null}U_(a){return this.iI.get(a)||null}D_(a){return this.uA.get(a)||null}Gy(a){return this.NI.get(a.toLowerCase())||null}V4(){for(const a of this.TH)a.b5()}pN(a){return this.aU.get(a.toLowerCase())||null}V_(a){return(a=this.iI.get(a))&&
a.oj?a:null}W4(){for(const a of this.UH)a.Y4()}wS(){for(const a of this.hv)a.Iba()}g5(a){this.wS();this.im++;for(const e of a.Ox())if(a=e.bd)this.g.hu(e),a.wa(),this.g.gu();this.im--}async XY(a){this.wS();this.im++;for(const e of this.L8(a))await this.g.pq(e);this.im--}*L8(a){for(const e of a.Ox())if(a=e.bd)this.g.hu(e),yield*a.pb(),this.g.gu()}cv(a,e,c,g){let m=!1;if(!a.Wb())return this.DF(e,c,g);this.Ml++;for(const h of a.Ox())if(a=h.bd){this.g.hu(h);for(const l of a.RA){const n=l.cv(e,c,g);m=m||
n}a=a.cv(e,c,g);m=m||a;this.g.gu()}this.Ml--;return m}*Hu(a,e,c,g){let m=!1;if(!a.Wb())return this.DF(e,c,g);this.Ml++;for(const h of a.Ox())if(a=h.bd){this.g.hu(h);for(const l of a.RA){const n=yield*l.Hu(e,c,g);m=m||n}a=yield*a.Hu(e,c,g);m=m||a;this.g.gu()}this.Ml--;return m}DF(a,e,c){this.BC.push([a,e,c]);return!1}D4(a,e,c){let g=null;const m=new Promise(h=>g=h);this.AC.push([a,e,c,g]);return m}*Sba(){if(this.g.Wt())throw Error("should not be in breakpoint");const a=this.g.eb;for(;this.AC.length;){const [e,
c,g,m]=this.AC.shift(),h=yield*this.Hu(a,e,c,g);m(h)}}async uP(){for(const a of this.Sba())await this.g.pq(a)}lF(){return 0<this.Ml}Lu(){return++this.Ml}Iu(){--this.Ml}B2(){return 0<this.im}$t(){return this.B2()||this.lF()}Tba(a){for(const [e,c,g]of this.BC)this.cv(a,e,c,g);d.F(this.BC)}Ce(a){a?this.hI++:this.hI--}hO(){return 0<this.hI}oq(a){for(let e=0,c=a.length;e<c;++e)a[e].Dn.Ad()}Hg(a){for(let e=0,c=a.length;e<c;++e)a[e].Dn.w4()}Ke(a){for(let e=0,c=a.length;e<c;++e)a[e].Dn.x4()}Tb(a){for(let e=
0,c=a.length;e<c;++e)a[e].Dn.Pa()}RD(){const a=d.A(d.OF,this);this.ng.push(a);return a}i5(){if(this.ng.length){var a=this.hf(),e=!1;this.im++;for(let c=0,g=this.ng.length;c<g;++c){const m=this.ng[c];m.ZS()&&m.Kba(a);m.Nw&&(e=!0)}e&&this.iR();this.im--}}async ZY(){if(this.ng.length){var a=this.hf(),e=!1;this.im++;for(let c=0,g=this.ng.length;c<g;++c){const m=this.ng[c];m.ZS()&&await m.F8(a);m.Nw&&(e=!0)}e&&this.iR();this.im--}}iR(){const a=d.yfa(this.ng,e=>e.Nw);for(const e of a)e.j()}by(){for(const a of this.ng)a.j();
d.F(this.ng)}M4(a){for(const e of this.ng)e.No(a)}OD(a){this.BA.push(a)}ey(){d.F(this.BA)}J0(){const a=Promise.all(this.BA);this.BA=[];return a}ma(){return{groups:this.$ba(),cnds:this.Zba(),acts:this.Yba(),vars:this.lca(),waits:this.hca()}}qa(a){this.T$(a.groups);this.O$(a.cnds);this.N$(a.acts);this.faa(a.vars);this.baa(a.waits)}$ba(){const a={};for(const e of this.UH)a[e.lb.toString()]=e.Hq();return a}T$(a){for(const [e,c]of Object.entries(a))(a=this.V_(parseInt(e,10)))&&a.Zq(c)}Zba(){const a={};
for(const [e,c]of this.pI){const g=c.ma();g&&(a[e.toString()]=g)}return a}O$(a){const e=new Map;for(const [c,g]of Object.entries(a))e.set(parseInt(c,10),g);for(const [c,g]of this.pI)g.qa(e.get(c)||null)}Yba(){const a={};for(const [e,c]of this.uA){const g=c.ma();g&&(a[e.toString()]=g)}return a}N$(a){const e=new Map;for(const [c,g]of Object.entries(a))e.set(parseInt(c,10),g);for(const [c,g]of this.uA)g.qa(e.get(c)||null)}lca(){const a={};for(const [e,c]of this.FI)c.xb||!c.Xf()&&!c.$h||(a[e.toString()]=
c.H());return a}faa(a){for(const [e,c]of Object.entries(a))(a=this.zE(parseInt(e,10)))&&a.Me(c)}hca(){return this.ng.filter(a=>!a.z2()).map(a=>a.ma())}baa(a){this.by();for(const e of a)(a=d.OF.k8(this,e))&&this.ng.push(a)}pE(a){for(;a;)if(a=a.Bq(),a instanceof d.zt)return a;return null}cA(a,e){Array.isArray(e)||(e=[]);a=this.Gy(a.toLowerCase());if(!a)return null;if(!a.Gm())return a.It();var c=a.ah;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Ap);while(e.length<c.length)}c=a.Ge();return c.LF(c.Dd(),
a.gm,a.It(),...e)}}}
{"use strict";const d=self.D;d.p_=class extends d.ja{constructor(b,a){super();this.za=b;this.g=b.J();this.Ja=a[0];this.ZA=[];this.ZC=new Map;this.RT=new Map;this.rea=new Map;this.Ov=!1;this.vV=[];this.RA=[];this.pT=new Set;for(const e of a[1])this.SQ(e,null,this.ZA);this.tj=this.g.yb?{type:"sheet",name:this.Ja,Px:0,children:[]}:null}j(){this.g=this.za=null}SQ(b,a,e){switch(b[0]){case 0:case 3:this.i8(b,a,e);break;case 1:this.j8(b,a,e);break;case 2:this.n8(b,a,e);break;case 4:this.l8(b,a);break;case 5:this.s8(b,
a,e);break;default:throw Error("invalid event type");}}i8(b,a,e){b=d.$k.Sa(this,a,b);if(b.Pd){e.push(b);e=b.fc;for(let c=0,g=e.length;c<g;++c)e[c].Go()&&this.NR(b,c)}else b.Go()?this.NR(b,0):e.push(b)}l8(b,a){b=d.zt.Sa(this,a,b);this.za.sba(b)}j8(b,a,e){b=d.qy.Sa(this,a,b);e.push(b)}n8(b,a,e){b=d.$M.Sa(this,a,b);e.push(b)}s8(b,a,e){b=d.oy.Sa(this,a,b);e.push(b)}NR(b,a){b.Pd||this.za.O7(b);var e=b.lN(a),c=e.La,g=e.K();if(e.xU){var m=this.RT.get(g);m||(m=new Map,this.RT.set(g,m));e=e.$_().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(e);c||(c=[],g.set(e,c));c.push([b,a])}else m=this.ZC.get(g),m||(m={LL:new Map,vx:new Map},this.ZC.set(g,m)),(g=e.Ag())?(e=m.vx.get(g),e||(e=new Map,m.vx.set(g,e))):e=m.LL,m=e.get(c),m||(m=[],e.set(c,m)),m.push([b,a])}Ub(){const b=this.ZA;for(let a=0,e=b.length;a<e;++a)b[a].Ub(a<e-1&&b[a+1]instanceof d.$k&&b[a+1].gz())}N7(b){this.vV.push(b)}GH(){d.F(this.RA);this.AQ(this);this.pT.clear()}AQ(b){const a=b.RA,e=b.pT;for(const c of this.vV){const g=c.Tv;c.Mb&&
b!==g&&!e.has(g)&&(e.add(g),g.AQ(b),a.push(g))}}na(){return this.za}J(){return this.g}Ca(){return this.Ja}qS(b,a){this.rea.set(a,b)}Iba(){this.Ov=!1}wa(){if(!this.Ov){var b=this.g,a=b.eF(),e=a?performance.now():0;this.Ov=!0;var c=this.na(),g=c.hf();for(const m of this.ZA)m.wa(g),c.oq(m.Cd()),c.ey(),b.Kd();g.ld(null);a&&(this.tj.Px+=performance.now()-e)}}*pb(){if(!this.Ov){this.Ov=!0;var b=this.g,a=this.na(),e=a.hf();for(const c of this.ZA)yield*c.pb(e),a.oq(c.Cd()),a.ey(),b.Kd();e.ld(null)}}cv(b,
a,e){if(a){const c=a.K();this.EH(b,a,c,e);for(const g of c.Uh)this.EH(b,a,g,e)}else return this.EH(b,a,null,null)}EH(b,a,e,c){e=this.ZC.get(e);if(!e)return!1;c=c?e.vx.get(c):e.LL;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [g,m]of c)c=this.hR(a,g,m),b=b||c;return b}*Hu(b,a,e){if(a){const c=a.K();yield*this.HG(b,a,c,e);for(const g of c.Uh)yield*this.HG(b,a,g,e)}else return yield*this.HG(b,a,null,null)}*HG(b,a,e,c){e=this.ZC.get(e);if(!e)return!1;c=c?e.vx.get(c):e.LL;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [g,m]of c)c=g.De()?this.hR(a,g,m):yield*this.z8(a,g,m),b=b||c;return b}hR(b,a,e){const c=this.g,g=this.za,m=g.Ib(),h=g.jd(),l=g.Ml;let n=!1;m&&g.Hg(m.Dd());g.Hg(a.Dd());const p=1<l;p&&g.xd.Ta();const r=h.Ta(a);b&&(a.fc[e].K().V().kk(b),b.cc()&&b.Ui());b=!0;if(a.Ha()){const u=a.eq;for(let w=0,q=u.length;w<q;++w)if(!u[w].tP(r)){b=!1;break}}b&&(c.ml(),a.Pd?a.h5(r,e):a.wa(r),n=r.Jp);h.Pa();p&&g.xd.Pa();g.Tb(a.Dd());m&&g.Tb(m.Dd());m||1!==l||(g.ey(),g.hO()||c.Kd());return n}*z8(b,
a,e){const c=this.g,g=this.za,m=g.Ib(),h=g.jd(),l=g.Ml;let n=!1;m&&g.Hg(m.Dd());g.Hg(a.Dd());const p=1<l;p&&g.xd.Ta();const r=h.Ta(a);b&&(a.fc[e].K().V().kk(b),b.cc()&&b.Ui());b=!0;if(a.Ha()){const u=a.eq;for(let w=0,q=u.length;w<q;++w)if(!(yield*u[w].RM(r))){b=!1;break}}b&&(c.ml(),a.Pd?yield*a.YY(r,e):yield*a.pb(r),n=r.Jp);h.Pa();p&&g.xd.Pa();g.Tb(a.Dd());m&&g.Tb(m.Dd());m||1!==l||(g.ey(),g.hO()||c.Kd());return n}}}
{"use strict";const d=self.D,b=[];function a(){return!0}function*e(){return!0}d.$k=class extends d.ja{constructor(c,g,m){super();this.bd=c;this.g=c.J();this.Ec=g;this.he=null;this.Od=this.g.na().jd();this.Ze=[];this.Ds=[];this.Lv=this.TB=this.RB=this.fU=!1;this.Pd=!!m[2];this.GB=!1;this.eq=null;this.fc=[];this.Xb=[];this.mi=[];this.Zi=a;this.Zo=e;this.qJ=this.oj=!1;this.$T="";this.IB=!1;this.tj=this.PA=null;this.lb=m[4];this.Or=m[5];this.bd.qS(this,this.Or);this.Ua=this.g.yb?{hd:m[3][0],FL:m[3][1],
iW:!1,lL:!1,mL:!1,jW:!1}:null;this.na().qba(this);3===m[0]&&this.u$(m[1]);c=0;for(var h of m[6])g=d.EM.Sa(this,h,c++),this.fc.push(g),this.FQ(g.K());c=0;for(const l of m[7])h=d.Tx.Sa(this,l,c++),this.Xb.push(h);if(9===m.length){m=m[8];for(const l of m)this.bd.SQ(l,this,this.mi)}this.fc.length&&(this.GB=null===this.fc[0].K()&&this.fc[0].La===d.B.Ga.I.ZM);0===this.fc.length&&(this.fc=b);0===this.Xb.length&&(this.Xb=b);0===this.mi.length&&(this.mi=b)}static Sa(c,g,m){return d.A(d.$k,c,g,m)}u$(c){this.oj=
!0;this.IB=this.qJ=!!c[0];this.$T=c[1].toLowerCase();this.PA=[];this.na().tba(this);this.g.yb&&(this.tj={type:"group",name:c[1],Px:0,children:[]})}F7(c){this.PA.push(c)}zQ(c,g){for(const m of c.Xg.dm)g.includes(m)||g.push(m)}GQ(c,g){if(c)if(g.includes(c)||g.push(c),c.bb)for(const m of c.up)m.cc()&&this.zQ(m,g);else c.cc()&&this.zQ(c,g)}FQ(c){this.GQ(c,this.Ze)}J7(c){this.GQ(c,this.Ds)}u5(){this.Ze=this.g.Yc}Ub(c){this.Lv=!!c;this.n$();this.o$();for(const m of this.fc)m.Ub();if(0<this.Xb.length){c=
!1;for(var g of this.Xb)g.Ub(),g.j1()&&(c=!0);c?(this.Zi=this.Mba,this.Zo=this.H8):(this.Zi=this.Lba,this.Zo=this.G8)}g=this.mi;for(let m=0,h=g.length;m<h;++m)g[m].Ub(m<h-1&&g[m+1]instanceof d.$k&&g[m+1].gz());this.Ua&&this.xda();this.tj&&this.a$().tj.children.push(this.tj)}a$(){let c=this.Ha();for(;c;){if(c.oj)return c;c=c.Ha()}return this.bd}xda(){const c=this.Ua;c.iW=this.fc.every(g=>g.De());c.lL=this.Xb.every(g=>g.De());c.mL=this.mi.every(g=>g.De());c.jW=c.iW&&c.lL&&c.mL}n$(){if(this.oj){var c=
this.Ha();for(this.TB=!0;c;){if(!c.oj){this.TB=!1;break}c=c.Ha()}}}m$(){var c=this.g.Yc;if(this.Ze===c)this.Ds=c;else{this.Ds=d.pL(this.Ze);for(c=this.Ha();c;){for(var g of c.Ze)this.J7(g);c=c.Ha()}g=this.na();this.Ze=g.Vz(this.Ze);this.Ds=g.Vz(this.Ds)}}o$(){if(this.b1()){this.eq=[];for(var c=this.Ha();c;)this.eq.push(c),c=c.Ha();this.eq.reverse()}}xu(){this.RB=!0;this.Ec&&this.Ec.xu()}Cd(){return this.Ze}Dd(){this.fU||(this.fU=!0,this.m$());return this.Ds}l1(c){return this.Ze.includes(c)}na(){return this.bd.na()}J(){return this.g}Ha(){return this.Ec}Uca(c){this.he=
c}Bq(){return this.he||this.Ec}fF(){return this.Ua&&this.Ua.FL}Co(){return this.fF()&&this.Ua.hd}gz(){return this.GB}Hq(){return this.IB}Y4(){this.Zq(this.qJ)}Zq(c){c=!!c;if(!this.oj)throw Error("not a group");if(this.IB!==c){this.IB=c;for(const g of this.PA)g.rQ();this.PA.length&&(c=this.g.Oa().bd)&&c.GH()}}Go(){return this.fc.length&&this.fc[0].Go()}u2(){return this.he&&this.he instanceof d.zt}b1(){return this.u2()||this.fc.some(c=>c.Go())}lN(c){c=Math.floor(c);if(0>c||c>=this.fc.length)throw new RangeError("invalid condition index");
return this.fc[c]}t2(c){let g=c.Ka();if(0===g)return!0;for(--g;0<=g;--g)if(this.fc[g].K()===c.K())return!1;return!0}hN(c){c=Math.floor(c);if(0>c||c>=this.Xb.length)throw new RangeError("invalid action index");return this.Xb[c]}l$(c){c=Math.floor(c);return 0<=c&&c<this.Xb.length}mR(){return this.mi.filter(c=>c instanceof d.qy)}tP(c){c.Jg(this);let g=!1;const m=this.fc;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Sm(h);if(n.LB)throw Error("trigger cannot be used as sub-event to a loop");if(n.wa())g=
!0;else if(!this.Pd)return!1}return this.Pd?g:!0}h5(c,g){c.Jg(this);this.fc[g].wa()&&(this.Zi(c,0)&&this.Bl(),c.Um(!0))}*RM(c){c.Jg(this);let g=!1;const m=this.fc;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.Sm(h);if(n.LB)throw Error("trigger cannot be used as sub-event to a loop");if(n.De()?n.wa():yield*n.pb())g=!0;else if(!this.Pd)return!1}return this.Pd?g:!0}*YY(c,g){c.Jg(this);g=this.fc[g];if(g.De()?g.wa():yield*g.pb())(this.iy()?this.Zi(c,0):yield*this.Zo(c,0))&&(this.jy()?this.Bl():yield*this.Gu()),
c.Um(!0)}wa(c){c.Jg(this);this.GB||c.Yq(!1);this.Pd?this.Rba(c):this.hA(c)}*pb(c){if(this.Co()||this.g.vc())yield this;c.Jg(this);this.GB||c.Yq(!1);this.Pd?yield*this.T8(c):yield*this.EG(c)}Rba(c){const g=this.fc;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Go()||(c.Sm(l),h=h.wa(),m=m||h)}c.Um(m);m&&(this.Zi(c,0)&&this.Bl(),this.Lv&&c.Yq(!0))}*T8(c){const g=this.fc;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Go()||(c.Sm(l),h=h.De()?h.wa():yield*h.pb(),m=m||h)}c.Um(m);
m&&((this.iy()?this.Zi(c,0):yield*this.Zo(c,0))&&(this.jy()?this.Bl():yield*this.Gu()),this.Lv&&c.Yq(!0))}hA(c){const g=this.fc;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Sm(m);if(!l.wa()){c.Um(!1);return}}c.Um(!0);this.Zi(c,0)&&this.Bl();c.Jp&&this.Lv&&c.Yq(!0)}*EG(c){const g=this.fc;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.Sm(m);if(l.De()?!l.wa():!(yield*l.pb())){c.Um(!1);return}}c.Um(!0);(this.iy()?this.Zi(c,0):yield*this.Zo(c,0))&&(this.jy()?this.Bl():yield*this.Gu());c.Jp&&this.Lv&&
c.Yq(!0)}Lba(c,g){const m=this.Xb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Az(h),g.wa();return!0}*G8(c,g){const m=this.Xb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Az(h),g.De()?g.wa():yield*g.pb();return!0}Mba(c,g){const m=this.na(),h=this.Xb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Az(l);const p=g.wa();if(g.xM()&&!0===p)return!1;g.Fg()&&p instanceof Promise&&m.OD(p)}return!0}*H8(c,g){const m=this.na(),h=this.Xb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Az(l);let p;p=g.De()?g.wa():yield*g.pb();if(g.xM()&&
!0===p)return!1;g.Fg()&&p instanceof Promise&&m.OD(p)}return!0}Jba(c){this.Zi(c,c.ag)&&this.Bl()}*E8(c){if(yield*this.Zo(c,c.ag))yield*this.Gu()}Bl(){if(this.mi.length){var c=this.oj&&this.g.eF(),g=c?performance.now():0,m=this.Od,h=m.Ta(this);this.RB?this.Wba(h):this.Vba(h);m.Pa();c&&(this.tj.Px+=performance.now()-g)}}Wba(c){const g=this.oj,m=this.TB,h=this.na(),l=this.mi;for(let n=0,p=l.length,r=p-1;n<p;++n){const u=l[n],w=u.Cd(),q=!m||!g&&n<r;q&&h.Ke(w);u.wa(c);q?h.Tb(w):h.oq(w)}}Vba(c){const g=
this.mi;for(let m=0,h=g.length;m<h;++m)g[m].wa(c)}*Gu(){if(this.mi.length){var c=this.Od,g=c.Ta(this);this.RB?yield*this.W8(g):yield*this.V8(g);c.Pa()}}*W8(c){const g=this.oj,m=this.TB,h=this.na(),l=this.mi;for(let n=0,p=l.length,r=p-1;n<p;++n){const u=l[n],w=u.Cd(),q=!m||!g&&n<r;q&&h.Ke(w);yield*u.pb(c);q?h.Tb(w):h.oq(w)}}*V8(c){const g=this.mi;for(let m=0,h=g.length;m<h;++m)yield*g[m].pb(c)}Ig(c,g){this.g.ml();g.sP();const m=this.fc;if(!this.Pd)for(let h=c.Hl+1,l=m.length;h<l;++h)if(c=m[h],g.Sm(h),
!c.wa())return!1;this.Zi(g,0)&&this.Bl();return!0}*yg(c,g){this.g.ml();g.sP();const m=this.fc;if(!this.Pd)for(let h=c.Hl+1,l=m.length;h<l;++h)if(c=m[h],g.Sm(h),c.De()?!c.wa():!(yield*c.pb()))return!1;(this.iy()?this.Zi(g,0):yield*this.Zo(g,0))&&(this.jy()?this.Bl():yield*this.Gu());return!0}De(){return!this.Co()&&!this.g.vc()&&this.Ua.jW}iy(){return!this.g.vc()&&this.Ua.lL}jy(){return!this.g.vc()&&this.Ua.mL}xG(c){if(this.Ha()){const g=this.eq;for(let m=0,h=g.length;m<h;++m)if(!g[m].tP(c))return!1}return!0}*TQ(c){if(this.Ha()){const g=
this.eq;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].RM(c)))return!1}return!0}gR(c,g,m){0<g.length?m?(g=g.map(h=>h.ba(0)),c.xd.Ta(),this.he.ru(g)):this.he.o_(g):m&&c.xd.Ta()}e5(c,g){let m,h;const l=0<c.length;var n=this.g;const p=this.Od,r=n.na(),u=1<r.Lu();this.gR(r,g,u);l&&r.Hg(c);g=p.Ta(this);this.xG(g)&&(n.ml(),g.Jg(this),(n=this.he.Fg())&&([h,m]=this.he.jG()),this.hA(g),n&&this.he.bu(h));p.Pa();u&&r.xd.Pa();l&&r.Tb(c);r.Iu();return m}*VY(c,g){let m,h;if(this.Co()||this.g.vc())yield this;const l=
0<c.length;var n=this.g;const p=this.Od,r=n.na(),u=1<r.Lu();this.gR(r,g,u);l&&r.Hg(c);g=p.Ta(this);if(yield*this.TQ(g))n.ml(),g.Jg(this),(n=this.he.Fg())&&([h,m]=this.he.jG()),yield*this.EG(g),n&&this.he.bu(h);p.Pa();u&&r.xd.Pa();l&&r.Tb(c);r.Iu();return m}f5(c){const g=this.Dd(),m=0<g.length,h=this.g,l=this.Od,n=h.na(),p=1<n.Lu();p&&n.xd.Ta();this.he.ru(c);m&&n.Hg(g);c=l.Ta(this);this.xG(c)&&(h.ml(),c.Jg(this),this.hA(c));l.Pa();p&&n.xd.Pa();m&&n.Tb(g);n.Iu()}*WY(c){if(this.Co()||this.g.vc())yield this;
const g=this.Dd(),m=0<g.length,h=this.g,l=this.Od,n=h.na(),p=1<n.Lu();p&&n.xd.Ta();this.he.ru(c);m&&n.Hg(g);c=l.Ta(this);if(yield*this.TQ(c))h.ml(),c.Jg(this),yield*this.EG(c);l.Pa();p&&n.xd.Pa();m&&n.Tb(g);n.Iu()}LF(c,g,m,...h){let l,n;const p=0<c.length,r=this.g,u=this.Od,w=r.na(),q=1<w.Lu();q&&w.xd.Ta();0<h.length&&this.he.ru(h);p&&w.Hg(c);h=u.Ta(this);h.I1(g,m);u.y4(h);r.Dz(!1);this.xG(h)&&(r.ml(),h.Jg(this),(g=this.he.Fg())&&([n,l]=this.he.jG()),this.hA(h),g&&this.he.bu(n));r.Dz(!0);u.Pa();u.n4();
q&&w.xd.Pa();p&&w.Tb(c);w.Iu();return l||h.QI}}}
{"use strict";const d=self.D,b=[];let a=!1;d.oy=class extends d.ja{constructor(e,c,g){super();const m=e.J(),h=e.na();this.bd=e;this.za=h;this.g=e.J();this.Ec=c;this.La=m.Ah(g[1]);this.Or=g[2];this.bd.qS(this,this.Or);this.Ua=m.yb?{hd:g[3][0],FL:g[3][1]}:null}static Sa(e,c,g){return d.A(d.oy,e,c,g)}Ub(){const e=this.La,c=this.g.na().yR(this);this.La=e.bind(null,this.g.mj,c)}Ha(){return this.Ec}Bq(){return this.Ec}fF(){return this.Ua&&this.Ua.FL}Co(){return this.fF()&&this.Ua.hd}gz(){return!1}Cd(){return b}Dd(){return this.Ec?
this.Ec.Dd():b}wa(e){e.Jg(this);this.za.OD(this.Xba())}async Xba(){try{await this.La()}catch(e){console.error(`Unhandled exception running script %c${this.bd.Ca()}, event ${this.Or}:`,"font-size: 1.2em; font-weight: bold;",e),self.wg&&self.wg.Pca(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*pb(e){e.Jg(this);if(this.Co()||this.g.vc())yield this;
this.wa(e)}De(){return!this.Co()&&!this.g.vc()}static X0(){return a}static R5(){a=!0}}}
{"use strict";const d=self.D;d.zt=class extends d.ja{constructor(b,a,e){super();this.bd=b;this.g=b.J();this.Ec=a;const c=e[1];this.kB=c[0];this.gm=c[1];this.ah=c[2].map(g=>d.qy.Sa(b,this,g));this.dh=c[3];this.dJ=[];this.Wv=c[4];this.Sea=0;this.yv=-1;this.lv=new Map;this.ae=d.$k.Sa(b,a,e);this.ae.Uca(this)}static Sa(b,a,e){return d.A(d.zt,b,a,e)}Ub(){for(const b of this.ah)b.Ub();this.ae.Ub(!1)}mR(){return this.ah}uba(b){this.dJ.push(b)}o_(b){const a=this.ah;for(let e=0,c=a.length;e<c;++e)a[e].Me(b[e].ba(0))}ru(b){const a=
this.ah;for(let e=0,c=a.length;e<c;++e)a[e].Me(b[e])}rY(){return this.ah.map(b=>b.H())}Ha(){return this.Ec}Bq(){return this.Ec}Gm(){return this.dh}It(){switch(this.gm){case 0:return null;case 2:return"";default:return 0}}Ge(){return this.ae}Fg(){return this.Wv}jG(){const b=this.Sea++;this.yv=b;let a;const e=new Promise(c=>a=c);this.lv.set(b,{resolve:a,SL:0});return[b,e]}bu(b){const a=this.lv.get(b);0===a.SL&&(a.resolve(),this.lv.delete(b));this.yv=-1}k4(){this.lv.get(this.yv).SL++;return this.yv}d5(b){this.yv=
b;this.lv.get(b).SL--}}}
{"use strict";const d=self.D,b=[];d.qy=class extends d.ja{constructor(a,e,c){super();const g=a.na();this.bd=a;this.za=g;this.g=a.J();this.Ec=e;this.xd=g.xd;this.Ja=c[1];this.Ba=c[2];this.Ap=c[3];this.$h=!!c[4];this.xb=!!c[5];this.Dea=e instanceof d.zt;this.lb=c[6];this.hw=this.g.Fi(c[8]);this.ffa=m=>this.Me(m);this.dfa=()=>this.H();this.hU=!this.Ec||this.$h||this.xb;this.Gc=this.Ap;this.OJ=-1;this.aO()&&(this.Gc=this.Gc?1:0);!this.oF()||this.$h||this.xb||(this.OJ=g.Y9(this));g.rba(this)}static Sa(a,
e,c){return d.A(d.qy,a,e,c)}Ub(){if(this.oF()&&!this.$h&&!this.xb&&!this.Dea){const a=this.za.pE(this);a&&a.uba(this)}}Ca(){return this.Ja}Fi(){return this.hw}Ha(){return this.Ec}Bq(){return this.Ha()}Xf(){return!this.Ha()}oF(){return!this.Xf()}Lm(){return 0===this.Ba}Mi(){return 1===this.Ba}aO(){return 2===this.Ba}gz(){return!1}Cd(){return b}wa(){!this.oF()||this.$h||this.xb||this.Me(this.Ap)}De(){return!0}*pb(a){this.wa(a)}Me(a){this.Lm()?"number"!==typeof a&&(a=parseFloat(a)):this.Mi()?"string"!==
typeof a&&(a=a.toString()):this.aO()&&(a=a?1:0);this.hU?this.Gc=a:this.xd.uq()[this.OJ]=a}H(){return this.hU?this.Gc:this.xd.uq()[this.OJ]}b5(){this.Gc=this.Ap}CR(){return{configurable:!1,enumerable:!0,get:this.dfa,set:this.ffa}}}}
{"use strict";const d=self.D,b=[];d.$M=class extends d.ja{constructor(a,e,c){super();const g=a.na();this.bd=a;this.za=g;this.g=a.J();this.Ec=e;this.Tv=null;this.xea=c[1];this.Mb=!0}static Sa(a,e,c){return d.A(d.$M,a,e,c)}Ub(){this.Tv=this.za.qN(this.xea);this.bd.N7(this);let a=this.Ha();for(;a;)a instanceof d.$k&&a.oj&&a.F7(this),a=a.Ha();this.rQ();this.g.yb&&this.bd.tj.children.push(this.Tv.tj)}Ha(){return this.Ec}Cd(){return b}wa(){const a=!!this.Ha(),e=this.g.Yc;a&&this.za.Hg(e);this.Tv.wa();a&&
this.za.Tb(e)}*pb(){const a=!!this.Ha(),e=this.g.Yc;a&&this.za.Hg(e);yield*this.Tv.pb();a&&this.za.Tb(e)}De(){return!1}rQ(){let a=this.Ha();for(;a;){if(a instanceof d.$k&&a.oj&&!a.Hq()){this.Mb=!1;return}a=a.Ha()}this.Mb=!0}}}
{"use strict";const d=self.D;d.po=class extends d.ja{constructor(l){super();this.Zb=l;this.g=l.J()}Ub(){}static QY(l,n){return d.A([m,c,g,h,b,a][n[0]],l,n)}};class b extends d.po{constructor(l,n){super(l);this.Id=this.g.Rt();this.La=this.g.Ah(n[1]);this.La!==d.B.Ga.kb.random&&this.La!==d.B.Ga.kb.Dfa||this.Zb.fG()}ua(){return this.Id.pk(this.La,this.Id)}}class a extends d.po{constructor(l,n){super(l);this.Yr=null;this.kB=n[1];this.Zb.fG()}Ub(){const l=this.g.na();this.Yr=l.Gy(this.kB);this.kB=null;
const n=this.Yr.Ge();this.Il=[...new Set([...this.Zb.Ge().Dd(),...n.Dd()])];this.Il=l.Vz(this.Il)}ua(){const l=this.Yr;if(l.Gm())return d.$k.prototype.LF.bind(l.Ge(),this.Il,l.gm,l.It());{const n=l.It();return()=>n}}}function e(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.po{constructor(l,n){super(l);this.O=this.g.lf(n[1]);this.La=this.g.Ah(n[2]);this.Fw=!!n[3];this.Od=this.g.na().jd();this.Zb.eH(this.O)}ua(){return this.O.Ab().pk(this.La,this.O.Ii().pa)}Of(){const l=
this.O,n=l.V().AE();var p=n.length;if(0===p)return this.Fw?"":0;p=e(this.Zb.Cs,p);this.Od.jf().M5(l);return this.La.apply(n[p].pa,[])}}class g extends d.po{constructor(l,n){super(l);this.O=this.g.lf(n[1]);this.TV=n[3];this.Fw=!!n[2];this.Zb.eH(this.O)}Ac(){const l=this.O.V().AE();var n=l.length;if(0===n)return this.Fw?"":0;n=e(this.Zb.Cs,n);return l[n].vR(this.TV)}sq(){var l=this.O,n=l.V().AE(),p=n.length;if(0===p)return this.Fw?"":0;p=e(this.Zb.Cs,p);n=n[p];l=n.K().BE(l.Vh);return n.vR(this.TV+l)}}
class m extends d.po{constructor(l,n){super(l);this.O=this.g.lf(n[1]);this.Zc=this.O.uy(n[2]);this.cj=this.O.Ct(n[2]);this.La=this.g.Ah(n[3]);this.Fw=!!n[4];this.Od=this.g.na().jd();this.Zb.eH(this.O)}}class h extends d.po{constructor(l,n){super(l);this.L=null;this.EI=n[1]}Ub(){this.L=this.g.na().zE(this.EI)}}}
{"use strict";const d=self.D;d.Je=class extends d.ja{constructor(A,G,z){super();this.Zb=A;this.Ra=z;this.Ba=G;this.ba=null;this.xb=this.cf=!1}static Sa(A,G,z){const F=G[0];return d.A([a,e,p,g,h,c,l,a,g,g,r,u,p,q,e,n,m,w,v,y][F],A,F,z,G)}Ub(){}fG(){this.cf=!0}eH(A){this.cf||!A||A.Ab().qn||(this.cf=!0)}Ka(){return this.Ra}J(){return this.Zb.J()}Ge(){return this.Zb.Ge()}};function b(A){A=self.gY[A];if(!A)throw Error("invalid expression number");return A}class a extends d.Je{constructor(A,G,z,F){super(A,
G,z);this.Cs=0;A=F[1];this.GI=A[0];this.rs=[];this.aB=null;for(let H=1,J=A.length;H<J;++H)this.rs.push(d.po.QY(this,A[H]));this.rs.length?this.ba=this.Y_:(this.ba=b(this.GI),this.xb=!0)}C(A){if(0>A||A>=this.rs.length)throw new RangeError("invalid numbered node");return this.rs[A]}Ub(){for(var A of this.rs)A.Ub();A=b(this.GI);this.aB=this.rs.length?A(this):A}Y_(A){this.Cs=A;return this.aB()}}class e extends a{constructor(A,G,z,F){super(A,G,z,F);this.ba=this.O0;14===G&&(this.Ge().u5(),this.Zb instanceof
d.Tx&&this.Ge().xu())}O0(A){this.Cs=A;A=this.aB();return"string"===typeof A?A:""}R9(){return b(this.GI)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.ba=this.ea;this.xb=!1}ea(A){this.Cs=A;A=this.aB();return this.J().Oa().ea(A)}}class g extends d.Je{constructor(A,G,z,F){super(A,G,z);this.jea=F[1];this.ba=this.O_;this.xb=!0}O_(){return this.jea}}class m extends d.Je{constructor(A,G,z,F){super(A,G,z);this.Wda=F[1];this.ba=this.K_;this.xb=!0}K_(){return this.Wda}}class h extends d.Je{constructor(A,
G,z,F){super(A,G,z);this.O=this.J().lf(F[1]);this.ba=this.K;A=this.Ge();A.FQ(this.O);this.Zb instanceof d.Tx?A.xu():A.Ha()&&A.Ha().xu();this.xb=!0}K(){return this.O}}class l extends d.Je{constructor(A,G,z,F){super(A,G,z);this.eh=this.J().eb.wq(F[1]);this.ba=this.kc;this.xb=!0}kc(){return this.eh}}class n extends d.Je{constructor(A,G,z,F){super(A,G,z);this.ni=this.J().Hb.Uy(F[1]);this.ba=this.ub;this.xb=!0}ub(){return this.ni}}class p extends d.Je{constructor(A,G,z,F){super(A,G,z);this.sea=F[1];this.ba=
this.a0;this.xb=!0}a0(){return this.sea}}class r extends d.Je{constructor(A,G,z,F){super(A,G,z);this.sU=F[1];(A=this.Zb.K())&&A.bb?(this.ba=this.Z_,this.fG()):(this.ba=this.m0,this.xb=!0)}m0(){return this.sU}Z_(A){A=A||0;const G=this.Zb.K();var z=G.V();const F=z.oa();if(F.length)A=F[A%F.length].K();else if(z.a1())z=z.hc,A=z[A%z.length].K();else if(0<G.G.length)z=G.oa(),A=z[A%z.length].K();else return 0;return this.sU+A.BE(G.Vh)}}class u extends d.Je{constructor(A,G,z,F){super(A,G,z);this.EI=F[1];
this.L=null;this.ba=this.W_;this.xb=!0}Ub(){this.L=this.J().na().zE(this.EI)}W_(){return this.L}}class w extends d.Je{constructor(A,G,z,F){super(A,G,z);this.VT=F[1];this.Yr=null;this.ba=this.g0;this.xb=!0}Ub(){this.Yr=this.J().na().Gy(this.VT);this.VT=null}g0(){return this.Yr}}class q extends d.Je{constructor(A,G,z,F){super(A,G,z);this.IK=[];this.UV=[];this.xb=!0;for(let H=1,J=F.length;H<J;++H)A=d.Je.Sa(this.Zb,F[H],0),this.IK.push(A),this.UV.push(0),A.xb||(this.xb=!1);this.ba=this.U0}Ub(){for(const A of this.IK)A.Ub()}U0(){const A=
this.IK,G=this.UV;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].ba(0);return G}}class v extends d.Je{constructor(A,G,z,F){super(A,G,z);this.oea=F[1];this.ba=this.Dm;this.xb=!0}Dm(){return this.oea}}class y extends d.Je{constructor(A,G,z,F){super(A,G,z);this.bea=F[1];this.ba=this.R0;this.xb=!0}R0(){return this.bea}}}
{"use strict";const d=self.D;function b(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].ba(0)}const a=[],e=function(){};d.EM=class extends d.ja{constructor(c,g,m){super();this.ae=c;this.g=c.J();this.Ra=m;this.La=this.g.Ah(g[1]);this.xJ=0<g[3];this.xU=2===g[3];this.LB=!!g[4];this.pj=!!g[5];this.$h=!!g[6];this.lb=g[7];this.yU=this.ae.Pd;this.Zc=this.O=null;this.cj=-1;this.Id=null;this.pb=this.wa=e;this.Ma=[];this.zb=[];this.El=!1;this.oi=this.Gb=null;this.Ua=this.g.yb?{hd:g[8][0],Hf:g[8][1]}:null;-1===
g[0]?this.Id=this.g.Rt():(this.O=this.g.lf(g[0]),g[2]&&(this.Zc=this.O.uy(g[2]),this.cj=this.O.Ct(g[2])),this.ae.Ha()&&this.ae.Ha().xu());if(10===g.length){c=g[9];for(let h of c)this.Ma.push(d.Je.Sa(this,h,this.Ma.length)),this.zb.push(0)}0===this.Ma.length&&(this.zb=this.Ma=a);this.ae.na().pba(this)}static Sa(c,g,m){return d.A(d.EM,c,g,m)}Ub(){for(const c of this.Ma)c.Ub(),c.cf&&(this.El=!0);this.xU?(this.wa=this.Nba,this.pb=this.M8):this.Id?(this.AH(),this.pb=this.GG):this.O.Ab().qn?(this.yH(),
this.pb=this.FG):this.$h?(this.wa=this.Uba,this.pb=this.U8):(this.wa=this.DS,this.pb=this.N8)}AH(){this.av(this.Id,this.Id,this.qH)}yH(){const c=this.O.Ab(),g=this.O.Ii().pa;this.av(c,g,this.pH)}av(c,g,m){const h=this.La,l=this.pj,n=this.Ma;if(0===n.length){const p=c.pk(h,g);this.wa=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.xb)this.wa=c.oR(h,g,p.ba(0));else{const r=c.pk(h,g);this.wa=function(){return d.xor(r(p.ba(0)),l)}}}else if(2===n.length){const p=n[0],r=
n[1];if(!l&&p.xb&&r.xb)this.wa=c.pR(h,g,p.ba(0),r.ba(0));else{const u=c.pk(h,g);this.wa=function(){return d.xor(u(p.ba(0),r.ba(0)),l)}}}else if(3===n.length){const p=n[0],r=n[1],u=n[2];if(!l&&p.xb&&r.xb&&u.xb)this.wa=c.qR(h,g,p.ba(0),r.ba(0),u.ba(0));else{const w=c.pk(h,g);this.wa=function(){return d.xor(w(p.ba(0),r.ba(0),u.ba(0)),l)}}}else this.wa=m}K(){return this.O}Ag(){return this.Zc}Ge(){return this.ae}J(){return this.g}Ka(){return this.Ra}mN(){return this.Ka()}Go(){return this.xJ}De(){return!this.Ua.hd&&
!this.g.vc()&&!this.Ua.Hf}Hi(){this.Gb||(this.Gb=new Map);return this.Gb}Ut(){this.oi||(this.oi=new Map);return this.oi}qH(){const c=this.zb;b(this.Ma,c);return d.xor(this.La.apply(this.Id,c),this.pj)}*GG(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){var c=this.zb;b(this.Ma,c);c=this.La.apply(this.Id,c);d.Km(c)&&(c=yield*c);return d.xor(c,this.pj)}return this.wa()}pH(){const c=this.zb;b(this.Ma,c);const g=this.O.Ii().pa;return d.xor(this.La.apply(g,c),this.pj)}*FG(){if(this.Ua.hd||this.g.vc())yield this;
if(this.Ua.Hf){var c=this.zb;b(this.Ma,c);const g=this.O.Ii().pa;c=this.La.apply(g,c);d.Km(c)&&(c=yield*c);return d.xor(c,this.pj)}return this.wa()}Nba(){return!0}*M8(){if(this.Ua.hd||this.g.vc())yield this;return!0}Uba(){var c=this.zb;b(this.Ma,c);c=this.La.apply(this.Zc||this.O,c);this.O.jc();return c}*U8(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){var c=this.zb;b(this.Ma,c);c=this.La.apply(this.Zc||this.O,c);d.Km(c)&&(c=yield*c);this.O.jc();return c}return this.wa()}DS(){const c=this.Ma,
g=this.zb,m=this.O.V();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.cf||(g[h]=n.ba(0))}return m.$b?this.Oba(m):this.Pba(m)}*N8(){if(this.Ua.hd||this.g.vc())yield this;return this.DS()}PG(c){const g=this.Ma,m=this.zb;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.cf&&(m[h]=n.ba(c))}}Oba(c){const g=this.O,m=g.bb,h=g.Vh,l=this.cj,n=0<=l,p=g.oa(),r=this.El,u=this.zb,w=this.La,q=this.pj,v=this.yU&&!this.xJ;c.cy();for(let A=0,G=p.length;A<G;++A){const z=p[A];r&&this.PG(A);var y=void 0;n?(y=m?z.K().qo(h):
0,y=w.apply(z.od[l+y].pa,u)):y=w.apply(z.pa,u);d.xor(y,q)?c.cp(z):v&&c.Al(z)}g.yt(!0);c.oe(!1);g.jc();return c.TE()}Pba(c){const g=this.O;var m=g.bb;const h=g.Vh,l=g.cc(),n=this.cj,p=0<=n,r=this.El,u=this.zb,w=this.La,q=this.pj,v=this.yU&&!this.xJ,y=c.G,A=c.hc,G=v&&!this.ae.t2(this),z=G?A:y;let F=0,H=!1;for(let M=0,Q=z.length;M<Q;++M){const R=z[M];r&&this.PG(M);var J=void 0;p?(J=m?R.K().qo(h):0,J=w.apply(R.od[n+J].pa,u)):J=w.apply(R.pa,u);d.xor(J,q)?(H=!0,G?(y.push(R),l&&R.lba()):(z[F]=R,l&&R.Wca(F),
++F)):G?(z[F]=R,l&&R.Vca(F),++F):v&&(A.push(R),l&&R.kba())}d.ff(z,F);l&&g.uda(G,F);m=H;G&&!H&&(H=this.dba(y));g.yt(m||v);return v?H:c.TE()}dba(c){var g=this.O;const m=g.bb;g=g.Vh;const h=this.El,l=this.cj,n=0<=l,p=this.zb,r=this.La,u=this.pj;for(let q=0,v=c.length;q<v;++q){var w=c[q];h&&this.PG(q);if(n){const y=m?w.K().qo(g):0;w=r.apply(w.od[l+y].pa,p)}else w=r.apply(w.pa,p);if(d.xor(w,u))return!0}return!1}ju(c,g){return this.Ma[c].ba(g)}$_(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].R9()}ma(){if(!this.Gb||!this.Gb.size)return null;const c={};for(const [g,m]of this.Gb.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].fd,l[1].fd,l[2]]));c[g]=h}return{ex:c}}qa(c){this.Gb&&(this.Gb.clear(),this.Gb=null);if(c){var g=this.g,m=c.ex;if(m){c=this.Hi();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=d.A(d.fu,l.map(n=>[g.Qj(n[0]),g.Qj(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const d=self.D;function b(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].ba(0)}const a=[],e=function(){},c=function*(){};d.Tx=class extends d.ja{constructor(g,m,h){super();this.ae=g;this.g=g=g.J();this.Ra=h;this.lb=4<=m.length?m[3]:-1;this.tA=5<=m.length?m[4]:0;this.Zc=this.O=this.La=null;this.cj=-1;this.Id=null;this.IA="";this.Il=this.HA=null;this.pb=this.wa=e;this.Ma=[];this.zb=[];this.El=!1;this.oi=this.Gb=null;const l=(h=-3===m[0])?m[2]:m[5];this.Ua=g.yb||h?{hd:l[0],Hf:l[1],index:l[2]}:
null;-1===m[0]?(this.Id=g.Rt(),this.La=g.Ah(m[1])):-2===m[0]?this.IA=m[1]:h?(this.La=g.Ah(m[1]),this.wa=this.MF,this.pb=this.$Y,this.tA=1):(this.La=g.Ah(m[1]),this.O=g.lf(m[0]),m[2]&&(this.Zc=this.O.uy(m[2]),this.cj=this.O.Ct(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ma.push(d.Je.Sa(this,n,this.Ma.length)),this.zb.push(0)}0===this.Ma.length&&(this.zb=this.Ma=a);this.ae.na().oba(this)}static Sa(g,m,h){return d.A(d.Tx,g,m,h)}Ub(){for(var g of this.Ma)g.Ub(),g.cf&&(this.El=!0);if(this.Id)this.AH(),
this.pb=this.GG;else if(this.IA)this.tca(),this.IA="";else if(this.wa===this.MF){g=this.La;const m=this.g.na().yR(this.ae);this.La=g.bind(null,this.g.mj,m)}else this.Zc?this.Fg()?(this.wa=this.BS,this.pb=this.J8):(this.wa=this.AS,this.pb=this.I8):this.O.Ab().qn?(this.yH(),this.pb=this.FG):this.Fg()?(this.wa=this.FS,this.pb=this.P8):this.Ma.length?this.Ma.every(m=>m.cf)?(this.wa=this.ES,this.pb=this.O8):this.El?(this.wa=this.HS,this.pb=this.S8):this.Ma.every(m=>m.xb)?(b(this.Ma,this.zb),this.wa=this.oH,
this.pb=this.UQ):(this.wa=this.GS,this.pb=this.Q8):(this.wa=this.oH,this.pb=this.UQ)}AH(){this.av(this.Id,this.Id,this.qH)}yH(){const g=this.O.Ab(),m=this.O.Ii().pa;this.av(g,m,this.pH)}tca(){const g=this.ae.na(),m=g.Gy(this.IA);m.Gm()?(this.HA=m.Ge(),this.Il=[...new Set([...this.ae.Dd(),...this.HA.Dd()])],this.Il=g.Vz(this.Il),this.wa=d.$k.prototype.e5.bind(this.HA,this.Il,this.Ma),this.pb=this.K8):(this.wa=e,this.pb=c)}av(g,m,h){const l=this.La,n=this.Ma;if(0===n.length)this.wa=g.pk(l,m);else if(1===
n.length){const p=n[0];if(p.xb)this.wa=g.oR(l,m,p.ba(0));else{const r=g.pk(l,m);this.wa=function(){return r(p.ba(0))}}}else if(2===n.length){const p=n[0],r=n[1];if(p.xb&&r.xb)this.wa=g.pR(l,m,p.ba(0),r.ba(0));else{const u=g.pk(l,m);this.wa=function(){return u(p.ba(0),r.ba(0))}}}else if(3===n.length){const p=n[0],r=n[1],u=n[2];if(p.xb&&r.xb&&u.xb)this.wa=g.qR(l,m,p.ba(0),r.ba(0),u.ba(0));else{const w=g.pk(l,m);this.wa=function(){return w(p.ba(0),r.ba(0),u.ba(0))}}}else this.wa=h}Fg(){return 1===this.tA}xM(){return 2===
this.tA}j1(){return 0!==this.tA}K(){return this.O}Ge(){return this.ae}J(){return this.g}Ka(){return this.Ra}mN(){return this.Ua.index}De(){return!this.Ua.hd&&!this.g.vc()&&!this.Ua.Hf}Hi(){this.Gb||(this.Gb=new Map);return this.Gb}Ut(){this.oi||(this.oi=new Map);return this.oi}qH(){const g=this.zb;b(this.Ma,g);return this.La.apply(this.Id,g)}*GG(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){const g=this.zb;b(this.Ma,g);return yield*this.La.apply(this.Id,g)}return this.wa()}*K8(){if(this.Ua.hd||
this.g.vc())yield this;return yield*this.HA.VY(this.Il,this.Ma)}pH(){const g=this.zb;b(this.Ma,g);return this.La.apply(this.O.Ii().pa,g)}*FG(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){const g=this.zb;b(this.Ma,g);return yield*this.La.apply(this.O.Ii().pa,g)}return this.wa()}oH(){const g=this.zb,m=this.O.V().oa();for(let h=0,l=m.length;h<l;++h)this.La.apply(m[h].pa,g)}*UQ(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){const g=this.zb,m=this.O.V().oa();for(let h=0,l=m.length;h<l;++h)yield*this.La.apply(m[h].pa,
g)}else this.oH()}GS(){const g=this.zb;b(this.Ma,g);const m=this.O.V().oa();for(let h=0,l=m.length;h<l;++h)this.La.apply(m[h].pa,g)}*Q8(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){const g=this.zb;b(this.Ma,g);const m=this.O.V().oa();for(let h=0,l=m.length;h<l;++h)yield*this.La.apply(m[h].pa,g)}else this.GS()}ES(){const g=this.Ma,m=this.zb,h=this.La,l=this.O.V().oa();for(let n=0,p=l.length;n<p;++n){const r=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].ba(n);h.apply(r.pa,m)}}*O8(){if(this.Ua.hd||
this.g.vc())yield this;if(this.Ua.Hf){const g=this.Ma,m=this.zb,h=this.La,l=this.O.V().oa();for(let n=0,p=l.length;n<p;++n){const r=l[n];for(let u=0,w=g.length;u<w;++u)m[u]=g[u].ba(n);yield*h.apply(r.pa,m)}}else this.ES()}HS(){const g=this.Ma,m=this.zb,h=this.La,l=this.O.V().oa();for(let p=0,r=g.length;p<r;++p){var n=g[p];n.cf||(m[p]=n.ba(0))}for(let p=0,r=l.length;p<r;++p){n=l[p];for(let u=0,w=g.length;u<w;++u){const q=g[u];q.cf&&(m[u]=q.ba(p))}h.apply(n.pa,m)}}*S8(){if(this.Ua.hd||this.g.vc())yield this;
if(this.Ua.Hf){const m=this.Ma,h=this.zb,l=this.La,n=this.O.V().oa();for(let p=0,r=m.length;p<r;++p){var g=m[p];g.cf||(h[p]=g.ba(0))}for(let p=0,r=n.length;p<r;++p){g=n[p];for(let u=0,w=m.length;u<w;++u){const q=m[u];q.cf&&(h[u]=q.ba(p))}yield*l.apply(g.pa,h)}}else this.HS()}AS(){var g=this.O;const m=g.bb,h=g.Vh,l=this.Ma,n=this.El,p=this.zb,r=this.La,u=this.cj;g=g.V().oa();for(let v=0,y=l.length;v<y;++v){var w=l[v];w.cf||(p[v]=w.ba(0))}for(let v=0,y=g.length;v<y;++v){w=g[v];if(n)for(let A=0,G=l.length;A<
G;++A){var q=l[A];q.cf&&(p[A]=q.ba(v))}q=m?w.K().qo(h):0;r.apply(w.od[u+q].pa,p)}}*I8(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){var g=this.O;const l=g.bb,n=g.Vh,p=this.Ma,r=this.El,u=this.zb,w=this.La,q=this.cj;g=g.V().oa();for(let v=0,y=p.length;v<y;++v){var m=p[v];m.cf||(u[v]=m.ba(0))}for(let v=0,y=g.length;v<y;++v){m=g[v];if(r)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.cf&&(u[A]=h.ba(v))}h=l?m.K().qo(n):0;yield*w.apply(m.od[q+h].pa,u)}}else this.AS()}FS(){const g=this.Ma,m=this.zb,
h=this.La,l=this.O.V().oa(),n=[];for(let p=0,r=l.length;p<r;++p){const u=l[p];for(let w=0,q=g.length;w<q;++w)m[w]=g[w].ba(p);n.push(h.apply(u.pa,m))}return Promise.all(n)}*P8(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){const g=this.Ma,m=this.zb,h=this.La,l=this.O.V().oa(),n=[];for(let p=0,r=l.length;p<r;++p){const u=l[p];for(let w=0,q=g.length;w<q;++w)m[w]=g[w].ba(p);n.push(yield*h.apply(u.pa,m))}return Promise.all(n)}return this.FS()}BS(){var g=this.O;const m=g.bb,h=g.Vh,l=this.Ma,n=this.zb,
p=this.La,r=this.cj;g=g.V().oa();const u=[];for(let w=0,q=g.length;w<q;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].ba(w);const y=m?v.K().qo(h):0;u.push(p.apply(v.od[r+y].pa,n))}return Promise.all(u)}*J8(){if(this.Ua.hd||this.g.vc())yield this;if(this.Ua.Hf){var g=this.O;const m=g.bb,h=g.Vh,l=this.Ma,n=this.zb,p=this.La,r=this.cj;g=g.V().oa();const u=[];for(let w=0,q=g.length;w<q;++w){const v=g[w];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].ba(w);const y=m?v.K().qo(h):0;u.push(yield*p.apply(v.od[r+
y].pa,n))}return Promise.all(u)}return this.BS()}async MF(){try{await this.La()}catch(g){console.error(`Unhandled exception running script %c${this.ae.bd.Ca()}, event ${this.ae.Or}, action ${this.mN()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.wg&&self.wg.Pca(this),d.oy.X0()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.oy.R5())}}*$Y(){if(this.Ua.hd||
this.g.vc())yield this;return this.MF()}ma(){return this.Gb&&this.Gb.size?{ex:d.oG(this.Gb)}:null}qa(g){this.Gb&&(this.Gb.clear(),this.Gb=null);g&&(g=g.ex)&&(this.Gb=d.qE(g))}}}
{"use strict";const d=self.D,b=new d.fb;function a(L,O){return d.compare(this.m().ka(),L,O)}function e(L,O){return d.compare(this.m().la(),L,O)}function c(){const L=this.m(),O=L.ea();return O.Eq()?L.Iq(O.mr()):L.jO(O.rg,L.kc().TN(),L.kc().zf)}function g(){var L=this.m();const O=L.kc();L=L.Vc();return 0>L.ia||0>L.ca||L.Z>O.fa()||L.S>O.aa()}function m(L,O,U){const aa=this.V(),ha=aa.oa();if(!ha.length)return!1;let fa=ha[0];var ja=fa.m();let ua=fa,ka=d.pW(ja.ka(),ja.la(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.m(),ja=d.pW(ja.ka(),ja.la(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.Nm(ua);return!0}function h(L){const O=this.m();O.ka()!==L&&(O.Ng(L),O.Ia())}function l(L){const O=this.m();O.la()!==L&&(O.Kh(L),O.Ia())}function n(L,O){const U=this.m();U.m_(L,O)||(U.Og(L,O),U.Ia())}function p(L,O){if(L&&(L=L.E0(this.X))){var [U,aa]=L.so(O);O=this.m();if(O.ka()!==U||O.la()!==aa)O.Og(U,aa),O.Ia()}}function r(L){if(0!==L){var O=this.m();O.eu(O.wE()*L,O.LE()*L);O.Ia()}}function u(L,
O){if(0!==O){var U=this.m();L=d.nb(L);U.eu(Math.cos(L)*O,Math.sin(L)*O);U.Ia()}}function w(){return this.m().ka()}function q(){return this.m().la()}function v(){return this.g.Cy(this.X)}function y(L,O){return d.compare(this.m().fa(),L,O)}function A(L,O){return d.compare(this.m().aa(),L,O)}function G(L){const O=this.m();O.fa()!==L&&(O.Jh(L),O.Ia())}function z(L){const O=this.m();O.aa()!==L&&(O.Fh(L),O.Ia())}function F(L,O){const U=this.m();if(U.fa()!==L||U.aa()!==O)U.Xc(L,O),U.Ia()}function H(){return this.m().fa()}
function J(){return this.m().aa()}function M(){return this.m().Vc().Z}function Q(){return this.m().Vc().S}function R(){return this.m().Vc().ia}function T(){return this.m().Vc().ca}function Z(L,O){return d.Ws(this.m().Na(),d.nb(O))<=d.nb(L)}function X(L){return d.Gf(this.m().Na(),d.nb(L))}function ba(L,O){L=d.nb(L);O=d.nb(O);const U=this.m().Na();return d.Gf(O,L)?d.Gf(U,L)&&!d.Gf(U,O):!(!d.Gf(U,L)&&d.Gf(U,O))}function Y(L){const O=this.m();L=d.Be(d.nb(L));isNaN(L)||O.Na()===L||(O.Jc(L),O.Ia())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.m();O.Jc(O.Na()+d.nb(L));O.Ia()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.m();O.Jc(O.Na()-d.nb(L));O.Ia()}}function ya(L,O){const U=this.m(),aa=U.Na();L=d.hL(aa,d.nb(O),d.nb(L));isNaN(L)||aa===L||(U.Jc(L),U.Ia())}function Na(L,O,U){const aa=this.m(),ha=aa.Na();O-=aa.ka();U-=aa.la();L=d.hL(ha,Math.atan2(U,O),d.nb(L));isNaN(L)||ha===L||(aa.Jc(L),aa.Ia())}function Sa(L,O){const U=this.m(),aa=U.Na();L-=U.ka();O-=U.la();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Jc(O),U.Ia())}function Ta(){return d.Mf(this.m().Na())}
function Ua(L,O){return d.compare(d.DD(100*this.m().Vd()),L,O)}function Wa(){return this.m().kd()}function eb(L){const O=this.m();L=2===L?!O.kd():0!==L;O.kd()!==L&&(O.Ih(L),this.g.ga())}function fb(L){L=d.da(L/100,0,1);const O=this.m();O.Vd()!==L&&(O.Lg(L),this.g.ga())}function Pa(L){b.ht(L);L=this.m();L.hb.tm(b)||(L.dQ(b),this.g.ga())}function Va(){const L=this.m().hb;return d.rz(L.Xa,L.ab,L.$a,L.Za)}function ib(){return d.DD(100*this.m().Vd())}function Ya(L){return L?this.m().ea()===L:!1}function vb(L){const O=
this.V(),U=O.oa();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.m(),ka=aa.m(),wa=ua.ea().Ka(),Ga=ka.ea().Ka();if(0===L){if(wa>Ga||wa===Ga&&ua.ak()>ka.ak())aa=ja}else if(wa<Ga||wa===Ga&&ua.ak()<ka.ak())aa=ja}O.Nm(aa);return!0}function wb(L,O,U){const aa=this.m();L=0===L?aa.gb():aa.nf();return d.compare(L,O,U)}function jb(){this.m().C7()}function xb(){this.m().A7()}function yb(L){L&&this.m().B7(L)}function zb(L,O){L=0===L;O&&(O=O.sN(this.Ea()))&&this.m().z7(O,
L)}function Ab(L){const O=this.m();O.gb()!==L&&(O.sf(L),this.g.ga())}function Bb(){return this.m().ea().Ka()}function Cb(){return this.m().ea().Ca()}function Db(){return this.m().ak()}function kb(){return this.m().gb()}function Eb(){return this.m().nf()}function Fb(L,O){if(O=this.K().Qa.dl(O)){O=O.Ka();L=1===L;var U=this.m().jg;U.Zt(O)!==L&&(U.GP(O,L),U.Lh(),this.g.ga())}}function Gb(L,O,U){var aa=this.K().Qa.dl(L);if(aa){L=aa.Ka();var ha=this.m().jg,fa=ha.cl(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Uf().Ny(O);if("color"===aa){b.ht(U);O=fa[O];if(b.tm(O))return;O.Bj(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Zt(L)&&this.g.ga()}}}const lb=d.A(d.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.fd<U.fd?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.fd<U.fd?L.mo(O,U):L.mo(U,O)}function qa(L,O,U){return O.fd<U.fd?L.ba(O,U):L.ba(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.Ea();const ha=0!==U||0!==aa,fa=L.m(),ja=L.J(),ua=ja.Ph;var ka=ja.Pf();
const wa=ka.Ge().Pd;var Ga=ka.K();ka=ka.pj;const Ia=O.V();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.$b?(lb.ta(fa.Vc()),lb.offset(U,aa),ua.xy(fa.ea(),O,lb,mb),O=mb):wa?ja.dO()&&!Ia.hc.length&&Ia.G.length?O=Ia.G:(O=Ia.hc,ob=!0):O=Ia.G;ha&&(db=fa.ka(),Ha=fa.la(),fa.eu(U,aa),fa.Ia());for(const da of O)if(ua.Vo(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.Og(db,Ha),fa.Ia());d.F(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.J().Ib().Pd;O=Za.V();const U=O.G,aa=O.hc;O.$b?(O.wu(Qa),L&&(d.F(aa),
O.mM(Qa,Za.oa()))):L?ob?O.W6(Qa):(O.mM(Qa,U),O.wu(Qa)):O.wu(Qa);Za.jc()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.se)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.Ph,aa=O.na(),ha=aa.jd();var fa=aa.Pf();const ja=fa.K();var ua=fa.Hi(),ka=fa.Ut();fa=ha.jf();const wa=O.Nk,Ga=wa-1,Ia=fa.Ib(),db=ha.Ta(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.A(d.fu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Rb().addEventListener("instancedestroy",
Ra=>{Ha.TM(Ra.instance)}));O=L.V();ua=ja.V().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.xy(Ea.m().ea(),L,Ea.m().Vc(),Xa),ka=Xa,U.qM(Ea,L,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Vo(Ea,La)||U.zM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Cd(),aa.Ke(ma),na=ja.V(),da=L.V(),na.oe(!1),da.oe(!1),ja===L?(da=na.G,d.F(da),da.push(Ea),da.push(La),ja.jc()):(na=na.G,da=da.G,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.jc(),L.jc()),Ia.Ig(fa,db),aa.Tb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Pa();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.Ph,aa=O.na(),ha=aa.jd();var fa=aa.Pf();const ja=fa.K();var ua=fa.Hi(),ka=fa.Ut();fa=ha.jf();const wa=O.Nk,Ga=wa-1,Ia=fa.Ib(),db=ha.Ta(Ia);let Ha=ua.get("collmemory");Ha||(Ha=d.A(d.fu),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Rb().addEventListener("instancedestroy",Ra=>
{Ha.TM(Ra.instance)}));O=L.V();ua=ja.V().oa();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.$b?(U.xy(Ea.m().ea(),L,Ea.m().Vc(),Xa),ka=Xa,U.qM(Ea,L,ka)):ka=O.oa();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.Vo(Ea,La)||U.zM(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.Cd(),aa.Ke(ma),na=ja.V(),da=L.V(),na.oe(!1),da.oe(!1),ja===L?(da=na.G,d.F(da),da.push(Ea),da.push(La),ja.jc()):(na=na.G,da=da.G,d.F(na),d.F(da),
na.push(Ea),da.push(La),ja.jc(),L.jc()),yield*Ia.yg(fa,db),aa.Tb(ma))}else qb(Ha,Ea,La)}d.F(Xa)}ha.Pa();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.m().bk()}function rb(){return this.m().pf()}function sb(L,O){const U=this.V().oa();if(0===U.length)return!1;const aa=L.V();var ha=aa.oa();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.Kx())wa.nq(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ha(),null===ja)continue}else ja=ja.Vy();ja.nq(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.wu(fa);L.jc();return!0}function tb(L,O){const U=this.V().oa();if(0===U.length)return!1;const aa=L.V();var ha=aa.oa();if(aa.$b){var fa=[...this.g.BL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.pf()&&ka.nq(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.Wk())2===O&&wa.pf()||wa.nq(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.wu(fa);L.jc();return!0}function ub(L,O){const U=this.V().oa();if(0===U.length)return!1;const aa=L.V();var ha=aa.oa();if(aa.$b){var fa=[...this.g.BL(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].vE(O);null!==ka&&ka.nq(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.mu(fa);L.jc();return!0}function gb(L,O){return d.compare(this.X.wy(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.X,wa=this.g.Gt().K();for(const Ga of L.dW(ka,wa)){if(!Ga.Ab().IV)break;ka.zm(Ga,{kt:O,lt:U,kq:aa,jq:ha,jt:fa,mt:ja,xx:ua})}}function k(L){const O=this.X,U=this.g.Gt().K();for(const aa of L.dW(O,U))O.gk(aa)}function t(){this.X.bk()&&this.X.Ha().gk(this.X)}function x(){return this.X.wy()}function B(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.yz(),U.Ia()):U.gE(L,O)}function C(L,O,U,aa,ha,fa,ja,ua){const ka=
this.m();ka.UP(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,Sx:fa,lX:ja,pX:ua})&&ka.Ia()}function E(){const L=this.m();return L.Vf()?L.Yj().Dk:0}function I(){const L=this.m();return L.Vf()?L.Yj().Rk:0}function K(L){const O=this.m();L=2===L?!O.kd():0!==L;O.kd()!==L&&O.Ih(L)}function N(L,O){this.K5(L,O)}function P(L,O){this.J5(L,""+O)}function S(L){this.L4(L)}function W(){this.eN()}function V(){this.tM()}function ea(){return this.BI}function ia(L){this.Yu(0!==L)}function ca(){return this.dh}function oa(L,
O,U){return d.compare(this.Ea().He(L),O,U)}function la(L){return!!this.Ea().He(L)}function ra(L,O){const U=this.V(),aa=U.oa();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.He(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.He(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.Nm(fa);return!0}function sa(L){if(this.g.Pf().pj){{const aa=this.V();if(aa.$b){aa.oe(!1);aa.cy();var O=this.oa();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.fd===L?aa.Al(U):aa.cp(U)}this.jc();L=!!aa.G.length}else{O=
aa.G;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.fd===L?aa.Al(ja):++U}d.ff(O,U);this.jc();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.J().Qj(O);if(!O)return!1;const U=L.V();if(!U.$b&&!U.G.includes(O))return!1;if(L.bb){if(O.K().WD(L))return U.Nm(O),L.jc(),!0}else if(O.K()===L)return U.Nm(O),L.jc(),!0;return!1}function za(){this.g.no(this.X)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.Ea().Tm(L,O)}function Fa(L,O){const U=this.Ea(),aa=
U.He(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.Tm(L,aa+O)}function Ja(L,O){const U=this.Ea(),aa=U.He(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.Tm(L,aa-O))}function Ka(L,O){this.Ea().Tm(L,O?1:0)}function Da(L){const O=this.Ea();O.Tm(L,0===O.He(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.Ea();L.dA("state");L.ud(O,"state")}
function Ib(){return JSON.stringify(this.Ea().Fd("state"))}function nc(){return this.Ea().K().Ca()}function oc(){const L=this.g.hf().HI;let O=L.G.length;for(const U of this.g.BL(L))++O;return O}function pc(){return this.g.hf().HI.V().oa().length}function qc(){return this.X.ro()}function rc(){return this.X.fd}d.yX=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.I,da=O.Ya,na=O.kb;L[3]&&(ma.Xia=a,ma.Yia=e,ma.hla=c,ma.lla=g,
ma.Vma=m,da.Ng=h,da.Kh=l,da.f6=n,da.Wpa=p,da.bma=r,da.ama=u,na.Rz=w,na.tG=q,na.uL=v);aa&&(ma.Wia=y,ma.Oia=A,da.Jh=G,da.Fh=z,da.Xc=F,na.s7=H,na.o1=J,na.YX=M,na.eia=Q,na.ZX=R,na.XX=T);ha&&(ma.MX=Z,ma.q2=X,ma.p2=ba,da.Jc=Y,da.Eoa=va,da.Foa=ta,da.Goa=ya,da.Hoa=Na,da.Zpa=Sa,na.Vha=Ta);fa&&(ma.kd=Wa,ma.Pia=Ua,da.Ih=eb,da.Lg=fb,da.hpa=Pa,na.Opacity=ib,na.Iia=Va);ja&&(ma.cla=Ya,ma.cna=vb,ma.Zia=wb,da.k3=jb,da.cma=xb,da.dma=yb,da.Kra=zb,da.sf=Ab,na.Fla=Bb,na.M2=Cb,na.Jra=Db,na.Ira=kb,na.Sqa=Eb);ua&&(da.jpa=
Fb,da.kpa=Gb);Ia&&(ma.bk=Rb,ma.pf=rb,ma.ana=sb,ma.Uma=tb,ma.Zma=ub,ma.Mia=gb,da.zm=f,da.gk=k,da.Fna=t,na.Aia=x);db&&(da.Spa=B,da.UP=C,na.Xla=E,na.Yla=I);ka&&(ma.kd=Wa,da.Ih=K,da.dpa=N,da.lpa=P,da.Ena=S);wa&&(ma.Nka=ea,da.opa=W,da.cpa=V);Ga&&(ma.Gm=ca,da.L5=ia);Ha&&(ma.vma=Nb,ma.mla=Pb,ma.nla=Qb,O.x_=Mb);U||(ma.BM=oa,ma.$N=la,ma.Wma=ra,ma.Tma=sa,da.OP=Ca,da.Qha=Fa,da.Eqa=Ja,da.A5=Ka,da.Nqa=Da,ma.JO=Aa,ma.A3=Ba,da.VM=za,da.tF||(da.tF=Hb),na.TX||(na.TX=Ib),na.gja=oc,na.dna=pc,na.kka=qc,na.$qa=rc,na.qma=
nc)}}
{"use strict";const d=self.D;d.OF=class extends d.ja{constructor(b){super();this.za=b;this.Ba="";this.ic=-1;this.Ow="";this.QB=!1;this.jj=null;this.ag=0;this.Ze=[];this.Wp=new Map;this.Gl=null;this.kv=-1;this.OI=this.ah=null;this.Nw=!1}j(){this.Ba="";this.ic=-1;this.Ow="";this.OI=this.ah=this.Gl=this.jj=null;this.kv=-1;d.F(this.Ze);for(const b of this.Wp.values())b.j();this.Wp.clear()}Tg(){var b=this.za,a=b.J().Yc;const e=b.hf();this.jj=e.Ib();this.ag=e.ag+1;if(b=b.pE(this.jj))this.Gl=b,this.ah=b.rY(),
this.OI=b.dJ.map(c=>c.H()),b.Fg()&&(this.kv=b.k4());for(const c of a)if(a=c.V(),!a.$b||this.jj.l1(c))this.Ze.push(c),this.Wp.set(c,d.A(d.hQ,a))}h2(b){this.Ba="timer";this.Tg();this.ic=this.za.J().fl()+b}f2(b){this.Ba="signal";this.Tg();this.Ow=b.toLowerCase()}T1(b){this.Ba="promise";this.Tg();b.then(()=>this.$F()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.$F()})}F2(){return"timer"===this.Ba}D2(){return"signal"===this.Ba}z2(){return"promise"===
this.Ba}$F(){this.QB=!0}ZS(){return this.F2()?this.ic<=this.za.J().fl():this.QB}yS(b){b.nH(this.jj,this.ag);for(const [a,e]of this.Wp.entries())e.nH(a.V());if(b=this.Gl)b.ru(this.ah),b.dJ.map((a,e)=>a.Me(this.OI[e])),b.Fg()&&b.d5(this.kv)}Kba(b){this.yS(b);this.jj.Jba(b);this.Gl&&this.Gl.Fg()&&this.Gl.bu(this.kv);this.za.oq(this.Ze);this.Nw=!0}async F8(b){this.yS(b);for(const a of this.jj.E8(b))await this.za.J().pq(a);this.Gl&&this.Gl.Fg()&&this.Gl.bu(this.kv);this.za.oq(this.Ze);this.Nw=!0}No(b){for(const a of this.Wp.values())a.No(b)}ma(){const b=
{},a={t:this.ic,st:this.Ow,s:this.QB,ev:this.jj.lb,sm:this.Ze.map(e=>e.lb),sols:b};this.jj.l$(this.ag)&&(a.act=this.jj.hN(this.ag).lb);for(const [e,c]of this.Wp)b[e.lb.toString()]=c.ma();return a}static k8(b,a){const e=b.J();var c=b.U_(a.ev);if(!c)return null;let g=0;if(a.hasOwnProperty("act")){var m=b.D_(a.act);if(!m)return null;g=m.Ka()}m=d.A(d.OF,b);m.ic=a.t;m.Ba=-1===m.ic?"signal":"timer";m.Ow=a.st;m.QB=a.s;m.jj=c;m.ag=g;for(var h of a.sm)(c=e.My(h))&&m.Ze.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
e.My(parseInt(l,10)))h=d.A(d.hQ,null),h.qa(b,n),m.Wp.set(a,h);return m}}}{"use strict";const d=self.D;d.hQ=class extends d.ja{constructor(b){super();this.O=null;this.PB=!0;this.G=[];b&&(this.O=b.K(),this.PB=b.$b,d.Tc(this.G,b.G))}j(){this.O=null;d.F(this.G)}nH(b){b.oe(this.PB);d.Tc(b.G,this.G)}No(b){d.tg(this.G,b)}ma(){return{sa:this.PB,insts:this.G.map(b=>b.fd)}}qa(b,a){b=b.J();this.PB=!!a.sa;d.F(this.G);for(const e of a.insts)(a=b.Qj(e))&&this.G.push(a)}}}
{"use strict";const d=self.D;function b(a,e){let c=a.get(e);c||(c=new Map,a.set(e,c));return c}d.Pm=class extends d.ja{constructor(a){super();this.g=a.Lf;this.qn=!!a.DW;this.Af=!!a.tga;this.Hea=!!a.sga;this.Rea=!!a.Fga;this.tea=!!a.hga;this.IV=!!a.dha;this.kfa=!!a.cha;this.wV=null;this.uT=new Map;this.Xda=new Map;this.Yda=new Map;this.Zda=new Map}j(){this.g=null}J(){return this.g}vd(){}Fo(){return this.Hea}Mq(){return this.Rea}UE(){return this.tea}pk(a,e){if(!e)throw Error("missing 'this' binding");
let c=this.uT.get(a);if(c)return c;c=a.bind(e);this.uT.set(a,c);return c}oR(a,e,c){if(!e)throw Error("missing 'this' binding");const g=b(this.Xda,a);let m=g.get(c);if(m)return m;m=a.bind(e,c);g.set(c,m);return m}pR(a,e,c,g){if(!e)throw Error("missing 'this' binding");var m=b(this.Yda,a);m=b(m,c);let h=m.get(g);if(h)return h;h=a.bind(e,c,g);m.set(g,h);return h}qR(a,e,c,g,m){if(!e)throw Error("missing 'this' binding");var h=b(this.Zda,a);h=b(h,c);h=b(h,g);let l=h.get(m);if(l)return l;l=a.bind(e,c,g,
m);h.set(m,l);return l}Xca(a){if(!this.qn)throw Error("must be single-global plugin");this.wV=a}Ii(){if(!this.qn)throw Error("must be single-global plugin");return this.wV.Ii()}}}
{"use strict";const d=self.D;d.Moa=class extends d.Pm{constructor(b,a){super(b);this.kn=a;this.Uea=0;this.eJ=new Map;this.lM("elem-focused",e=>e.Faa());this.lM("elem-blurred",e=>{e&&e.Eaa()})}j(){super.j()}H7(b){const a=this.Uea++;this.eJ.set(a,b);return a}Aba(b){this.eJ.delete(b)}lM(b,a){this.g.xi(this.kn,b,e=>{const c=this.eJ.get(e.elementId);a(c,e)})}}}{"use strict";const d=self.D;d.Uq=class extends d.ja{constructor(b){super();this.O=b;this.g=b.J();this.fi=b.Ab()}j(){this.fi=this.g=this.O=null}K(){return this.O}J(){return this.g}Ab(){return this.fi}kf(){return this.O.kf()}yt(){}Lq(){}Mo(){}qz(){}BF(){}Xj(){return null}}}
{"use strict";const d=self.D;d.Tq=class extends d.ja{constructor(b,a){super();this.X=b;this.kn=a;this.g=b.J();this.O=this.X.K();this.Rc=this.O.Rc;this.Is=this.km=null;this.cw=this.Ul=!1;this.wd=null;this.tx=!1}j(){this.tx=!0;this.xr();this.DH();this.Is=this.km=null;this.wd&&(this.wd.j(),this.wd=null);this.Rc=this.O=this.g=this.X=null}Pz(){return this.tx}Ea(){return this.X}J(){return this.g}K(){return this.O}Ab(){return this.Rc.Ab()}Cq(){return this.X.zh()}xa(b){return this.g.xa(b,this.X,null)}md(b){return this.g.md(b,
this.X,null)}PD(b,a){this.g.xi(this.kn,b,a)}kM(b){for(const [a,e]of b)this.PD(a,e)}Ch(b,a){this.g.fk(this.kn,b,a)}sz(b,a){return this.g.Io(this.kn,b,a)}qk(b,a){this.g.te?this.Ch(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.kn,handler:b,data:a,responseId:null})}Oe(){}wk(){this.Ul||(this.km||(this.km=()=>this.Oe()),this.g.Rb().addEventListener("tick",this.km),this.Ul=!0)}xr(){this.Ul&&(this.g.Rb().removeEventListener("tick",this.km),this.Ul=!1)}DH(){this.cw&&(this.g.Rb().removeEventListener("tick2",
this.Is),this.cw=!1)}Fd(){return null}ud(){}Ic(){}Gh(){}vF(b,a){if(0!==a){var e=this.Ic(b);if("number"!==typeof e)throw Error("expected number");this.Gh(b,e+a)}}Xj(){return null}kE(b,a,e){const c=this.Cq();b=d.A(d.Event,b,a);b.instance=c;e&&Object.assign(b,e);c.dispatchEvent(b)}}}
{"use strict";const d=self.D;d.NF=class extends d.Tq{constructor(b,a){super(b,a);this.Va=b.m();this.hD=this.Ss=null}j(){if(this.Ss){const b=this.g.Rb();b.removeEventListener("webglcontextlost",this.Ss);b.removeEventListener("webglcontextrestored",this.hD);this.hD=this.Ss=null}this.Va=null;super.j()}Y0(){if(!this.Ss){this.Ss=()=>this.Nq();this.hD=()=>this.XO();var b=this.g.Rb();b.addEventListener("webglcontextlost",this.Ss);b.addEventListener("webglcontextrestored",this.hD)}}Nq(){}XO(){}m(){return this.Va}Eo(){return!1}Tj(){if(!this.Eo())throw Error("original size not known");
const b=this.yh();if(b)return b.fa()}Sj(){if(!this.Eo())throw Error("original size not known");const b=this.yh();if(b)return b.aa()}yh(){return null}yy(){var b=this.yh();return b&&(b=b.Yd())?[b.fa(),b.aa()]:[100,100]}zy(){const b=this.yh();return b?b.Ji():null}fz(){const b=this.yh();return b?b.Hp:!1}so(){const b=this.X.m();return[b.ka(),b.la()]}Rq(){return!0}}}
{"use strict";const d=self.D,b=d.A(d.Rect);d.Loa=class extends d.NF{constructor(a,e){super(a,e);this.XA=this.Ab().H7(this);this.wU=!0;this.Tda=this.BI=!1;this.hs=d.A(d.Rect,0,0,-1,-1);a=this.g.P;this.OU=a.Aj;this.NU=a.zj;this.wk()}j(){this.Ab().Aba(this.XA);this.Oq("destroy");this.XA=-1;super.j()}Oq(a,e){e||(e={});e.elementId=this.XA;this.Ch(a,e)}oS(a){a||(a={});a.elementId=this.XA;this.qk("focus",a)}Ez(a){a=!!a;this.wU!==a&&(this.wU=a,this.Oq("set-visible",{isVisible:a}))}Oe(){this.Ada()}gda(){const a=
this.g.P.Fy();return"Android"===d.Sb.Bh&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Ada(){var a=this.m();const e=a.ea();var c=a.ka(),g=a.la();let [m,h]=e.Ho(c,g),[l,n]=e.Ho(c+a.fa(),g+a.aa());c=this.g.P;g=c.Mc;const p=c.Cc;if(a.kd()&&e.kd()){if(!this.gda()){if(0>=l||0>=n||m>=g||h>=p){this.Ez(!1);return}1>m&&(m=1);1>h&&(h=1);l>=g&&(l=g-1);n>=p&&(n=p-1)}b.set(m,h,l,n);a=c.Aj;g=c.zj;b.rd(this.hs)&&this.OU===a&&this.NU===g?this.Ez(!0):(this.hs.ta(b),this.OU=a,this.NU=g,this.Ez(!0),a=null,this.Tda&&
(a=e.Mj()-.2),this.Oq("update-position",{left:Math.round(this.hs.Z)+c.Et(),top:Math.round(this.hs.S)+c.Ft(),width:Math.round(this.hs.width()),height:Math.round(this.hs.height()),fontSize:a}))}else this.Ez(!1)}eN(){this.oS({focus:!0})}tM(){this.oS({focus:!1})}Faa(){this.BI=!0}Eaa(){this.BI=!1}K5(a,e){this.Oq("set-css-style",{prop:d.iY(a),val:e})}J5(a,e){this.Oq("set-attribute",{name:a,val:e})}L4(a){this.Oq("remove-attribute",{name:a})}}}
{"use strict";const d=self.D,b=self.t1;d.j5=class extends d.ja{constructor(a){super();this.g=a.Lf;this.VJ=d.A(d.UD);this.nC=d.A(d.UD);this.Pv=null;this.efa=a.Lua||null}j(){this.nC.j();this.VJ.j();this.g=null}J(){return this.g}vd(){}I7(a){this.VJ.Uc(a)}HE(){return this.VJ.sE()}Sg(a){this.nC.Uc(a)}ep(a){this.nC.mo(a)}oa(){return this.nC.sE()}i0(){if(null===this.Pv){const a=this.efa;if(a){if(this.Pv=new a(this),!(this.Pv instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.Pv=new b(this)}return this.Pv}}}{"use strict";const d=self.D;d.l5=class extends d.ja{constructor(b){super();this.g=b.J();this.Zc=b;this.O=b.K();this.bj=b.Bm();this.bj.I7(this.O)}j(){this.bj=this.O=this.Zc=this.g=null}Ag(){return this.Zc}K(){return this.O}J(){return this.g}Bm(){return this.bj}}}
{"use strict";const d=self.D;d.k5=class extends d.ja{constructor(b,a){super();this.EA=b;this.kn=a;this.X=b.X;this.g=b.J();this.Zc=b.Ag();this.Rc=this.Zc.Rc;this.AU=this.cw=this.Ul=!1;this.wd=null}j(){this.xr();this.DH();this.mda();this.wd&&(this.wd.j(),this.wd=null);this.Rc=this.Zc=this.g=this.X=this.EA=null}Bm(){return this.Zc.Bm()}K(){return this.X.K()}m(){return this.X.m()}J(){return this.g}Ag(){return this.Zc}Cq(){return this.EA.Cq()}xa(b){return this.g.xa(b,this.X,this.Zc)}md(b){return this.g.md(b,
this.X,this.Zc)}Oe(){}wk(){this.Ul||(this.g.D7(this),this.Ul=!0)}xr(){this.Ul&&(this.g.xba(this),this.Ul=!1)}DH(){this.cw&&(this.g.yba(this),this.cw=!1)}mda(){this.AU&&(this.g.wba(this),this.AU=!1)}PD(b,a){this.g.xi(this.kn,b,a)}Fd(){return null}ud(){}Ic(){}Gh(){}vF(b,a){if(0!==a){var e=this.Ic(b);if("number"!==typeof e)throw Error("expected number");this.Gh(b,e+a)}}Xj(){return null}kE(b,a,e){const c=this.Cq();b=d.A(d.Event,b,a);b.Vra=c;b.instance=c.instance;e&&Object.assign(b,e);c.dispatchEvent(b)}}}
{"use strict";const d=self.D;d.B={};d.vg={};d.l4=class extends d.ja{constructor(b){super();this.g=b;this.Qda=[];this.iV=new Map;this.Id=null;this.Nda=[];this.dI=new Map;this.GU=this.yK=null}RY(b){const a=this.g.Ah(b[0]);if(!a)throw Error("missing plugin");d.yX(b,a);b=d.A(a,{Lf:this.g,DW:b[1],tga:b[2],sga:b[5],hga:b[8],Fga:b[9],dha:b[13],cha:b[14]});b.vd();this.Qda.push(b);this.iV.set(a,b)}TY(){this.Id=d.A(d.B.Ga,{Lf:this.g,DW:!0});this.Id.vd()}NY(b){b=this.g.Ah(b[1]);if(!b)throw Error("missing behavior");
const a=d.A(b,{Lf:this.g});a.vd();this.Nda.push(a);this.dI.set(b,a);!this.yK&&d.vg.aha&&a instanceof d.vg.aha?this.yK=a:!this.GU&&d.vg.vga&&a instanceof d.vg.vga&&(this.GU=a)}G0(b){return this.iV.get(b)||null}e1(b){return this.dI.has(b)}H_(b){return this.dI.get(b)||null}Rt(){return this.Id}ME(){return this.yK}}}
{"use strict";const d=self.D,b=new Set;d.cz=class extends d.ja{constructor(){super();this.Qk="";this.U=this.Y=this.zw=this.yw=this.Bs=0;this.Mv=this.Hp=!1;this.wf=null;this.jm="";this.lg=d.A(d.Rect);this.Sp=d.A(d.Ed);new self.VN(this);b.add(this)}j(){this.Pi();this.wf=null;b.delete(this)}static Nq(){for(const a of b)a.jm="",a.lg.set(0,0,0,0),a.Sp.Gj(a.lg)}vO(a){this.Qk=a[0];this.Bs=a[1];this.yw=a[2];this.zw=a[3];this.Y=a[4];this.U=a[5];this.Hp=a[6];this.Mv=!0}T2(a,e){if(this.wf)throw Error("already loaded asset");
this.Qk=e;const c={};d.dF(e)&&(c.Hx="remote");this.uO(a,c);return this.wf.tO()}U4(a){if(a===this)throw Error("cannot replace with self");this.Pi();this.Qk=a.Qk;this.Bs=a.Bs;this.yw=a.yw;this.zw=a.zw;this.Y=a.Y;this.U=a.U;this.Hp=a.Hp;this.Mv=a.Mv;this.wf=a.wf;this.jm=a.jm;this.lg=a.lg;this.Sp=a.Sp}Fm(){return this.Bs}fa(){return this.Y}aa(){return this.U}uO(a,e){if(this.wf)throw Error("already got asset");e=Object.assign({},e,{url:this.Qk,size:this.Fm()});this.wf=a.pz(e)}nF(){return this.wf&&this.wf.nF()}async au(a,
e){if(!this.wf)throw Error("no asset");if(this.jm)throw Error("already loaded texture");this.jm="loading";a=await this.wf.au(a,e);if(!a)return this.jm="",null;this.jm="loaded";this.Mv||(this.Y=a.fa(),this.U=a.aa(),this.Mv=!0);this.lg.set(this.yw,this.zw,this.yw+(this.Hp?this.U:this.Y),this.zw+(this.Hp?this.Y:this.U));this.lg.rm(a.fa(),a.aa());this.Sp.Gj(this.lg);this.Hp&&this.Sp.Sga();return a}Pi(){this.jm&&(this.wf&&this.wf.Pi(),this.jm="",this.lg.set(0,0,0,0),this.Sp.Gj(this.lg))}Yd(){return this.wf?
this.wf.Yd():null}Ji(){return this.lg}Ty(){return this.Sp}}}
{"use strict";const d=self.D;d.OX=class extends d.ja{constructor(b){super();this.Ja=b[0];this.gfa=b[1];this.LB=!!b[2];this.zs=b[3];this.sV=b[4];this.Gea=!!b[5];this.lb=b[6];this.Gd=b[7].map(a=>d.A(d.NX,a));this.uea=new self.q1(this)}j(){for(const b of this.Gd)b.j();d.F(this.Gd)}Q2(b){for(const a of this.Gd)a.kf().uO(b)}R2(b,a){return Promise.all(this.Gd.map(e=>e.kf().au(b,a)))}G4(){for(const b of this.Gd)b.kf().Pi()}Ca(){return this.Ja}Em(b){b=Math.floor(b);if(0>b||b>=this.Gd.length)throw new RangeError("invalid frame");
return this.Gd[b]}Zj(){return this.gfa}Dg(){return this.zs}}}
{"use strict";const d=self.D;d.NX=class extends d.ja{constructor(b){super();this.ig=d.A(d.cz);this.ig.vO(b);this.VA=b[7];this.fV=d.A(d.Du,b[8],b[9]);this.tB=b[10].map(a=>d.A(d.D1,this,a));this.mU=new Map;for(const a of this.tB)this.mU.set(a.Ca().toLowerCase(),a);this.mp=null;b=b[11];6<=b.length&&(this.mp=d.A(d.lo,b));this.vea=new self.r1(this)}j(){this.mp&&(this.mp.j(),this.mp=null);this.ig.j();this.ig=null}kf(){return this.ig}hl(){return this.fV.T}il(){return this.fV.R}k0(b){return this.mU.get(b.toLowerCase())||null}j0(b){b=
Math.floor(b);return 0>b||b>=this.tB.length?null:this.tB[b]}EE(){return this.tB.length}}}{"use strict";const d=self.D;d.D1=class extends d.ja{constructor(b,a){super();this.Ja=a[0];this.iK=d.A(d.Du,a[1],a[2])}j(){}Ca(){return this.Ja}ka(){return this.iK.T}la(){return this.iK.R}}}
{"use strict";const d=self.D,b=self.wg,a=self.ZE;d.uF=class extends d.ja{constructor(e,c,g){super();const m=e.Ah(g[1]);this.g=e;this.fi=e.zn.G0(m);this.Rc=null;this.xB=m.Instance;this.Ra=c;this.lb=g[11];this.Ja=g[0];this.hw=this.g.Fi(g[14]);this.Eea=!!g[9];this.bb=!!g[2];this.uJ=!!g[10];this.nj=g[3].map(h=>({aX:h[0],type:h[1],name:h[2],uga:e.Fi(h[3])}));this.Vda=g[4];this.pea=g[5];this.Af=this.fi.Af;this.Qa=null;this.NA=d.A(d.J6,e.hh,e.gh);this.YH=!0;this.ZH=!1;this.LI=this.up=null;this.Vh=-1;this.KI=
this.bB=this.cB=this.JI=this.Uh=null;this.oJ=!1;this.Xg=null;this.sT=g[8].map(h=>d.rM.Sa(this,h));this.FA=[];this.eI=new Map;this.cI=new Map;this.RV=new Set;this.Dn=d.A(d.G6,this);this.zA=this.yA=this.Md=this.ig=this.Xg=this.Nr=null;this.Hs=0;this.Gb=new Map;this.oi=new Map;this.G=[];this.$I=!0;this.fi.UE()&&(this.Qa=d.A(d.Zk,this,g[12]));g[6]&&(this.ig=d.A(d.cz),this.ig.vO(g[6]));if(g[7]){this.Md=g[7].map(h=>d.A(d.OX,h));this.yA=new Map;this.zA=new Map;for(const h of this.Md)this.yA.set(h.Ca().toLowerCase(),
h),this.zA.set(h.lb,h)}this.bb?(this.up=[],this.LI=new Set,this.Vh=this.g.X9()):(this.Uh=[],this.JI=new Set,this.cB=[],this.bB=[],this.KI=[]);this.Rc=d.A(m.tl,this,g[15]);this.tU=this.Rv=null;this.ke=d.A(d.Event.Rb);if(c=this.Rc.Xj()){if(this.Rv=new c(this),!(this.Rv instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.Rv=new a(this);this.g.dD&&!this.bb&&!this.uJ&&this.Af||this.vd();this.fi.qn&&(this.fi.Xca(this),this.t8(g))}static Sa(e,c,g){return d.A(d.uF,
e,c,g)}j(){this.ig&&(this.ig.j(),this.ig=null);if(this.Md){for(const e of this.Md)e.j();d.F(this.Md);this.yA.clear();this.zA.clear()}this.Dn.j();this.Dn=null;this.Gb.clear();this.oi.clear();this.g=this.Xg=null}S$(e){for(let c=1,g=e.length;c<g;++c){const m=this.g.lf(e[c]);this.up.push(m);this.LI.add(m);m.Uh.push(this);m.JI.add(this)}}uca(e){this.oJ=!0;this.Xg=e}cc(){return this.oJ}vaa(){var e=0;if(!this.bb)for(var c of this.Uh)for(var g of c.sT){const l=g.Ca().toLowerCase();this.eI.set(l,g);this.cI.set(l,
e);this.FA.push(g);++e}for(var m of this.sT)c=m.Ca().toLowerCase(),this.eI.set(c,m),this.cI.set(c,e),this.FA.push(m),++e;for(var h of this.FA)this.RV.add(h.Bm().constructor);if(!this.bb&&this.Uh.length){e=this.g.PT;d.qD(this.cB,e,0);d.qD(this.bB,e,0);d.qD(this.KI,e,0);e=[];c=h=m=0;for(const l of this.Uh)if(g=l.Vh,this.cB[g]=m,m+=l.nj.length,this.bB[g]=h,h+=l.Vda,this.KI[g]=c,c+=l.pea,(g=l.Qa)&&this.Qa)for(const n of g.zg())e.push(n.zY(this.Qa));this.Qa&&this.Qa.t4(e)}}t8(e){const c=this.g.W9(),g=
d.A(d.Instance,{Lf:this.g,OL:this,uid:c});g.Tz(e[16],[]);this.g.iaa(c,g);this.G.push(g)}vd(){this.bb||this.Rc.vd()}i1(){return 0<this.Hs}Lq(e){if(this.bb)return Promise.resolve();this.Hs++;return 1===this.Hs?this.Rc.Lq(e)||Promise.resolve():Promise.resolve()}Mo(){if(!this.bb){this.Hs--;if(0>this.Hs)throw Error("released textures too many times");0===this.Hs&&this.Rc.Mo()}}qz(){if(this.bb)throw Error("not applicable to family");this.Rc.qz()}BF(e){return this.bb?Promise.resolve():this.Rc.BF(e)}J(){return this.g}Ab(){return this.fi}Ca(){return this.Ja}Fi(){return this.hw}Ka(){return this.Ra}Xf(){return this.Eea}sQ(e){return e&&
this.RV.has(e)}p0(){return this.nj.map(e=>e.aX)}o0(e){return this.nj.findIndex(c=>c.aX===e)}n0(e){return this.nj.findIndex(c=>c.name===e)}M9(){return this.nj.map(e=>e.uga)}Mt(e){e=Math.floor(e);if(0>e||e>=this.nj.length)throw new RangeError("invalid instance variable index");return this.nj[e].type}wN(e){e=Math.floor(e);if(0>e||e>=this.nj.length)throw new RangeError("invalid instance variable index");return this.nj[e].name}uy(e){return this.eI.get(e.toLowerCase())||null}Ct(e){e=this.cI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}UE(){return this.fi.UE()}tQ(){return this.Qa&&this.Qa.$0()}V(){return this.Dn.V()}kf(){return this.ig}EP(e){this.Nr=e}WD(e){return this.JI.has(e)}bN(e){return this.LI.has(e)}qo(e){return this.bB[e]}BE(e){return this.cB[e]}iN(e){if(!this.Md)throw Error("no animations");return this.yA.get(e.toLowerCase())||null}G_(e){if(!this.Md)throw Error("no animations");return this.zA.get(e)||null}c0(){if(!this.Md)throw Error("no animations");return this.Md[0].Em(0)}Q_(){if(this.Md){const e=
this.c0().kf();return[e.fa(),e.aa()]}return this.ig?[this.ig.fa(),this.ig.aa()]:[100,100]}Ii(){if(!this.fi.qn)throw Error("not a single-global plugin");return this.G[0]}oa(){return this.G}*yW(){yield*this.G}*lga(){yield*this.G;for(const e of this.g.Ql)e.K()===this&&(yield e)}Sg(e){this.G.push(e)}Zu(){this.$I=!0}sA(){if(this.$I&&!this.bb){var e=this.G,c=0;for(let g=e.length;c<g;++c)e[c].PS(c);e=this.g.Ql;for(const g of e)g.K()===this&&g.PS(c++);this.$I=!1}}vN(e){var c=this.G;if(e<c.length)return c[e];
e-=c.length;c=this.g.Ql;for(const g of c)if(g.K()===this){if(0===e)return g;--e}return null}sN(e){if(e&&e.cc()&&e.K()!==this)for(const c of e.Hd)if(c.K()===this)return c;e=this.V().oa();return e.length?e[0]:null}E0(e){const c=this.V().oa();return 0<c.length?c[e.ro()%c.length]:null}*dW(e,c){const g=this.V().oa();var m=g.length;const h=c.V(),l=c.V().oa(),n=l.length;var p=e.ro();if(c.bb||!h.$b)p=l.indexOf(e);e=Math.ceil(m/n);m%=n;0===m||p<m?(p*=e,m=e):(p=m*e+(p-m)*(e-1),m=e-1);for(let r=p,u=p+m;r<u;++r)yield g[r]}yt(e){this.Rc.yt(e)}jc(){if(this.oJ&&
!this.bb){this.sA();var e=this.V(),c=e.G,g=e.$b,m=this.g.hf();m=m&&m.Ib()&&m.Ib().Pd;for(const n of this.Xg.dm)if(n!==this){n.sA();var h=n.V();h.oe(g);if(!g){var l=h.G;d.F(l);for(const p of c)l.push(n.vN(p.ro()));if(m){l=e.hc;h=h.hc;d.F(h);for(const p of l)h.push(n.vN(p.ro()))}}}}}uda(e,c){for(const g of this.Xg.dm){const m=g.V();e?d.ff(m.hc,c):d.ff(m.G,c)}}JS(){this.YH=!0}tH(e){this.ZH=!!e}hT(){if(this.YH&&this.Af){for(const e of this.G)e.m().kT();for(const e of this.g.Ql)e.K()===this&&e.m().kT();
this.YH=!1}}Hi(){this.Gb||(this.Gb=new Map);return this.Gb}Ut(){this.oi||(this.oi=new Map);return this.oi}RN(){return this.sQ(d.vg.mma)}VE(){return this.sQ(d.vg.Oma)}ma(){const e={instances:this.G.map(c=>c.Fd())};this.Gb&&this.Gb.size&&(e.ex=d.oG(this.Gb));return e}qa(e){this.Gb&&(this.Gb.clear(),this.Gb=null);var c=e.ex;c&&(this.Gb=d.qE(c));c=this.G;e=e.instances;for(let g=0,m=Math.min(c.length,e.length);g<m;++g)c[g].ud(e[g]);for(let g=e.length,m=c.length;g<m;++g)this.g.no(c[g]);for(let g=c.length,
m=e.length;g<m;++g){c=e[g];let h=null;if(this.Af&&(h=this.g.Wb().Jy(c.w.l),!h))continue;this.g.Bi(this.Nr||this,h,!1,0,0,!0).ud(c)}this.Zu()}wh(e){var c=this.g;(c=c.yb&&!c.na().$t())&&b.kG();this.ke.dispatchEvent(e);c&&b.SD()}}}{"use strict";const d=self.D;d.HY=class extends d.ja{constructor(b,a){super();this.g=b;this.dm=a;for(const e of this.dm)e.uca(this)}j(){this.g=null}J(){return this.g}d1(){return this.dm.some(b=>b.Af)}}}
{"use strict";const d=self.D,b=self.wg,a=self.Xt,e=[];let c=0;const g=new WeakMap,m=new WeakMap;d.Instance=class extends d.ja{constructor(h){super();this.g=h.Lf;this.de=h.OL;this.re=this.pa=this.Va=null;this.kU=0;this.fd=h.uid;this.nV=c++;this.Aa=0;this.od=this.Xe=e;var l=this.de.FA;0<l.length&&(this.od=l.map((n,p)=>d.A(d.Vx,{Lf:this.g,jL:n,instance:this,index:p})));this.Hd=this.de.cc()?[]:null;this.je=-1;this.Yb=null;l=this.Ab();l.Mq()&&(this.Aa|=4);if(l.Af)if(this.Va=d.A(d.x7,this,h.GW),h.qX)this.Va.nl(h.qX);
else{this.Va.S1();const [n,p]=this.de.Q_();this.Va.Xc(n,p);this.K().tQ()&&this.Va.jg.S2()}h.xW?this.V$(h.xW):this.Q$()}j(){this.re&&(this.re.Xu(),this.re=null);if(0<this.od.length){for(var h of this.od)h.j();d.F(this.od)}this.pa.j();this.pa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Hd&&d.F(this.Hd);this.Yb&&(this.Yb.j(),this.Yb=null);this.de=this.g=null;0<this.Xe.length&&d.F(this.Xe);this.Va&&(this.Va.j(),this.Va=null)}V$(h){0<h.length&&(this.Xe=
[],d.Tc(this.Xe,h))}Q$(){const h=this.de.nj.length;if(0!==h){this.Xe=[];var l=[0,0,""];for(let n=0;n<h;++n)this.Xe.push(l[this.de.Mt(n)])}}Tz(h,l){if(this.pa)throw Error("already got sdk instance");for(let n=0,p=this.od.length;n<p;++n)this.od[n].Tz(l?l[n]:null);this.pa=d.A(this.de.xB,this,h);if(!(this.pa instanceof d.Tq))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.od.length;n<p;++n);this.de.tU&&this.OR()}m(){return this.Va}J(){return this.g}E_(){const h=this.je;return-1===
h?this.J().je:h}cG(h){h=+h;if(0>h||!isFinite(h))h=0;this.je=h}c5(){this.je=-1}Rb(){this.Yb||(this.Yb=d.A(d.Event.Rb));return this.Yb}xh(h){this.pa.xh(h)}vd(h){this.pa.vd(h)}Kca(){this.Aa|=2}ll(){return 0!==(this.Aa&2)}cH(){this.Aa|=1}Yt(){return 0!==(this.Aa&1)}Mq(){return 0!==(this.Aa&4)}BO(){return 0!==(this.Aa&32)}I$(){return 0!==(this.Aa&8)}qu(h,l){h<<=16;this.Aa=l?this.Aa|h:this.Aa&~h}CE(h){return 0!==(this.Aa&h<<16)}yh(){return this.pa.yh()}yy(){return this.pa.yy()}zy(){return this.pa.zy()}fz(){return this.pa.fz()}so(h){return this.pa.so(h)}K(){return this.de}Rq(){return this.pa.Rq()}nq(h){return h.bb?
h.bN(this.K()):this.K()===h}uQ(){if(!this.Ab().IV)throw Error("object does not support scene graph");}bk(){return null!==this.Ha()}Ha(){var h=this.m();return h?(h=h.Ha())?h.Ea():null:null}Vy(){var h=this.m();return h?(h=h.Vy())?h.Ea():null:null}*Kx(){const h=this.m();if(h)for(const l of h.Kx())yield l.Ea()}pf(){const h=this.m();return h?h.pf():!1}gf(){const h=this.m();return h?h.gf().map(l=>l.Ea()):[]}*children(){const h=this.m();if(h)for(const l of h.children())yield l.Ea()}*Wk(){const h=this.m();
if(h)for(const l of h.Wk())yield l.Ea()}wy(){const h=this.m();return h?h.wy():0}vE(h){const l=this.m();return l?(h=l.vE(h))?h.Ea():null:null}zm(h,l){this.uQ();h.uQ();this.m().zm(h.m(),l||{})}gk(h){const l=this.m();l&&l.gk(h.m())}By(){const h=this.m();return h?h.By():!1}C6(){var h=this.m();if(h&&(h=h.DN()))for(const l of h)if(h=this.g.Qj(l[2])){const n=l[3];this.zm(h,{kt:!!(n>>0&1),lt:!!(n>>1&1),kq:!!(n>>2&1),jq:!!(n>>3&1),jt:!!(n>>4&1),xx:!!(n>>5&1),mt:!!(n>>6&1)})}}cc(){return null!==this.Hd}ir(h){this.Hd.push(h)}k1(h){return!!this.JN(h)}JN(h){const l=
this.Hd;if(null===l||0===l.length)return!1;for(const n of l)if(n.K()===h)return n;return null}Ui(){for(const h of this.Hd)h.K().V().kk(h)}lba(){for(const h of this.Hd)h.K().V().cp(h)}Wca(h){for(const l of this.Hd)l.K().V().G[h]=l}kba(){for(const h of this.Hd)h.K().V().Al(h)}Vca(h){for(const l of this.Hd)l.K().V().hc[h]=l}Ab(){return this.de.Ab()}PS(h){this.kU=h}ro(){this.de.sA();return this.kU}jN(h){const l=this.od;for(let n=0,p=l.length;n<p;++n)if(l[n].Ag().lb===h)return n;return-1}He(h){h|=0;const l=
this.Xe;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}vR(h){return this.Xe[h]}T9(h){const l=this.Xe[h];return 0===this.de.Mt(h)?!!l:l}Tm(h,l){h|=0;const n=this.Xe;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.de.Mt(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}V5(h,l){if(0!==l){h|=0;
var n=this.Xe;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Hi(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Ut(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,
h);return h}IR(h){const l=this.K();if(l.ke.SE(h))return!0;for(const n of l.Uh)if(n.ke.SE(h))return!0;return this.g.ke.SE(h)?!0:!1}rA(){const h=new Set;h.add(this);const l=this.m();if(l&&l.pf())for(const n of this.Wk())if(h.add(n),n.cc())for(const p of n.Hd)h.add(p);if(this.cc())for(const n of this.Hd)h.add(n);for(const n of h.values())n.dT()}dT(){if(this.IR("instancecreate")){const h=this.K(),l=new d.Event("instancecreate");l.instance=this.zh();h.wh(l);for(const n of h.Uh)n.wh(l);this.g.wh(l)}this.g.xa(this.Ab().constructor.I.JO,
this,null)}sda(){this.g.xa(this.Ab().constructor.I.A3,this,null)}D9(h){if(this.re){var l=new d.Event("destroy");l.qga=h;this.wh(l)}if(this.IR("instancedestroy")){l=this.K();var n=new d.Event("instancedestroy");n.instance=this.zh();n.qga=h;l.wh(n);for(const p of l.Uh)p.wh(n);this.g.wh(n)}}Fd(h="full"){const l={};"full"===h?l.uid=this.fd:l.c3=!0;if("visual-state"!==h){var n=g.get(this);n&&n.size&&(l.ex=d.oG(n));-1!==this.je&&(l.mts=this.je);if(0<this.de.nj.length){n={};var p=this.de.p0();for(let r=
0,u=this.Xe.length;r<u;++r)n[p[r].toString()]=this.Xe[r];l.ivs=n}if(this.od.length){n={};for(const r of this.od)(p=r.Fd())&&(n[r.Ag().lb.toString()]=p);l.behs=n}}this.Va&&(l.w=this.Va.ma(h));(h=this.pa.Fd())&&(l.data=h);return l}dA(h="full"){this.Va&&this.Va.dA(h)}ud(h,l="full"){if("full"===l)this.fd=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);n&&(n.clear(),g.delete(this));if(n=h.ex)n=d.qE(n),g.set(this,n);this.je=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,w]of Object.entries(n))if(n=
this.de.o0(parseInt(u,10)),!(0>n||n>=this.Xe.length)){var p=w;null===p&&(p=NaN);this.Xe[n]=p}}if(this.Ab().Af){n=h.w;var r=n.l;this.Va.ea().lb!==r&&(p=this.Va.ea(),(r=p.kc().Jy(r))?(this.Va.$u(r),p.ep(this,!0),r.Sg(this,!0),r.Pg(),this.Va.Ia()):"full"===l&&this.g.no(this));this.Va.qa(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,w]of Object.entries(l))l=this.jN(parseInt(u,10)),0>l||l>=this.od.length||this.od[l].ud(w);(h=h.data)&&this.pa.ud(h)}zh(){return this.re||this.OR()}OR(){var h=this.Va?
self.az:a;const l=this.pa.Xj(),n=this.de.tU,p=n||l||h;a.Tg(this);this.re=new p;a.Tg(null);if(l&&!(this.re instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.re instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.re}S9(h){if(0!==this.Xe.length){var l={},n=this.de.M9();for(let p=0,r=n.length;p<r;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.T9.bind(this,p),set:d.Instance.prototype.Tm.bind(this,p)};l=Object.create(Object.prototype,l);h.gta={value:l,writable:!1}}}N9(h){var l=this.od;if(0!==l.length){var n={};for(const p of l)n[p.Ag().Fi()]={value:p.Cq(),writable:!1};l=Object.create(Object.prototype,n);h.vx={value:l,writable:!1}}}wh(h){h.instance=this.zh();var l=this.g;(l=l.yb&&!l.na().$t())&&b.kG();this.zh().dispatchEvent(h);l&&b.SD()}}}
{"use strict";const d=self.D;d.o5=class extends d.ja{constructor(b){super();this.Zb=b;this.Ec=null;this.LA=[];this.OC=b.fa();this.NC=b.aa();this.HK=this.GK=1;this.sC=0}j(){this.Ec=null;d.F(this.LA)}YP(b){this.sC=(this.Ec=b)?b.Na():0}Ha(){return this.Ec}pf(){return 0<this.LA.length}gf(){return this.LA}j6(b){this.GK=b}k6(b){this.HK=b}Uj(){return this.Zb.wo()?this.Ec.fa()/this.Ec.Pb.OC:1}Vj(){return this.Zb.vo()?this.Ec.aa()/this.Ec.Pb.NC:1}ma(){return{sw:this.OC,sh:this.NC,sx:this.GK,sy:this.HK,psa:this.sC,
c:this.LA.map(b=>{let a="";b.xo()&&(a+="x");b.yo()&&(a+="y");b.wo()&&(a+="w");b.vo()&&(a+="h");b.Wy()&&(a+="a");b.Xy()&&(a+="z");b.By()&&(a+="d");return{uid:b.Ea().fd,f:a}})}}qa(b){this.OC=b.sw;this.NC=b.sh;this.GK=b.sx;this.HK=b.sy;this.sC=b.psa}gH(b){const a=this.Zb,e=a.J();for(const c of b.c){b=e.Qj(c.uid).m();const g=c.f,m={};m.kt=g.includes("x");m.lt=g.includes("y");m.kq=g.includes("w");m.jq=g.includes("h");m.jt=g.includes("a");m.mt=g.includes("z");m.xx=g.includes("d");a.zm(b,m)}}}}
{"use strict";const d=self.D,b=d.A(d.Rect),a=d.A(d.Ed),e=d.A(d.Event,"bboxchange",!1),c=d.A(d.fb,0,0,0,0),g=d.A(d.lo),m=d.A(d.fb,1,1,1,1),h=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),p=[];let r=!0;const u=new WeakMap,w=new WeakMap;d.x7=class extends d.ja{constructor(q,v){super();this.X=q;this.O=q.K();this.g=q.J();this.Jk=v;this.Vk=-1;this.Aa=196635;this.O.Ab().Fo()&&(this.Aa|=128);this.ts=this.ss=this.sI=this.vK=this.Za=this.$c=this.bh=this.qh=this.gd=this.R=
this.T=NaN;this.jI=d.A(d.Rect);this.kI=d.A(d.Ed);this.MA=l;this.Ew=h;this.li=this.Ns=this.KC=null;this.op=this.hb=m;this.jg=this.Yp=null;this.X.K().tQ()&&(this.jg=d.A(d.j2,this.X,this));this.ei=this.Pb=null}cH(){this.Aa|=256}j(){this.Yp&&(this.g.jb().gP(this.Yp),this.Yp=null);this.KC=null;this.Ns&&(this.Ns.NW.j(),this.Ns=null);this.li&&(this.li.clear(),this.li=null);this.yz();this.bk()&&this.Ha().gk(this);if(this.pf()){const q=[...this.gf()];for(const v of q)this.gk(v)}this.gA();this.Jk=this.g=this.O=
this.X=null}nl(q){r=!1;this.Og(q[0],q[1]);this.sf(q[2]);this.Xc(q[3],q[4]);this.$c=0;this.Fo()?this.Jc(q[6]):this.Za=0;c.wm(q[7]);this.iA(c);this.br(q[8]);this.cr(q[9]);this.Zf(q[10]);this.jg&&this.jg.R$(q[12]);q[14]&&u.set(this,{Cfa:q[14][1],vha:q[14][2]});if(q[15]){var v=q[15];this.gE(v[0],v[1]);q=this.Yj();v=v[2];for(let y=0,A=v.length;y<A;++y){const G=v[y];for(let z=0,F=G.length;z<F;++z){const H=G[z],J=q.xq(z,y);J.Ng(H[0]);J.Kh(H[1]);J.sf(H[2]);J.dG(H[3]);J.eG(H[4])}}}r=!0;this.yr()}S1(){this.vK=
this.Za=this.$c=this.bh=this.qh=this.gd=this.R=this.T=0;this.sI=1;this.ts=this.ss=0;this.yr()}J(){return this.g}K(){return this.O}Ea(){return this.X}Ku(){return this.Wy()?this.Ha().Na()-this.Pb.sC:0}Ng(q){q=+q;if(this.xo()){const v=this.Pb;q-=this.ka();const y=-this.Ku();0===y?this.T+=q/v.Uj():(this.T+=Math.cos(y)*q/v.Uj(),this.yo()&&(this.R+=Math.sin(y)*q/v.Vj()))}else this.T=q}GO(q){q=+q;this.xo()?this.Ng(this.ka()+q):this.T+=q}ka(){if(this.xo()){let q=this.T;const v=this.Pb,y=this.Ha(),A=this.Ku();
0===A?q*=v.Uj():(q=q*v.Uj()*Math.cos(A),this.yo()&&(q-=this.R*v.Vj()*Math.sin(A)));return y.ka()+q}return this.T}Kh(q){q=+q;if(this.yo()){const v=this.Pb;q-=this.la();const y=-this.Ku();0===y?this.R+=q/v.Vj():(this.xo()&&(this.T-=Math.sin(y)*q/v.Uj()),this.R+=Math.cos(y)*q/v.Vj())}else this.R=q}HO(q){q=+q;this.yo()?this.Kh(this.la()+q):this.R+=q}la(){if(this.yo()){let q=this.R;const v=this.Pb,y=this.Ha(),A=this.Ku();0===A?q*=v.Vj():(q=q*v.Vj()*Math.cos(A),this.xo()&&(q+=this.T*v.Uj()*Math.sin(A)));
return y.la()+q}return this.R}Og(q,v){q=+q;v=+v;if(this.NN()){const A=this.xo(),G=this.yo(),z=this.Pb,F=q-this.ka(),H=v-this.la();var y=-this.Ku();if(0===y)this.T=A?this.T+F/z.Uj():q,this.R=G?this.R+H/z.Vj():v;else{const J=Math.sin(y);y=Math.cos(y);this.T=A?G?this.T+(y*F-J*H)/z.Uj():this.T+y*F/z.Uj():q;this.R=G?A?this.R+(J*F+y*H)/z.Vj():this.R+y*H/z.Vj():v}}else this.T=q,this.R=v}eu(q,v){q=+q;v=+v;this.NN()?this.Og(this.ka()+q,this.la()+v):(this.T+=q,this.R+=v)}m_(q,v){return this.ka()===q&&this.la()===
v}sf(q){q=+q;this.Xy()&&(q-=this.Ha().gb());this.gd!==q&&(this.gd=q,this.nT(),q=this.ea(),0!==this.gd&&q.KS(),q.Pg())}nT(){this.yr();if(this.pf()){const q=this.gf();for(let v=0,y=q.length;v<y;v++){const A=q[v];A.Xy()&&A.nT()}}}u3(q){this.sf(this.gb()+q)}gb(){return this.Xy()?this.Ha().gb()+this.gd:this.gd}nf(){return this.ea().gb()+this.gb()}Jh(q){q=+q;if(this.wo()){const v=this.fa();this.qh=0===v?1E-6:q/v*this.qh}else this.qh=q}FO(q){q=+q;this.wo()?this.Jh(this.fa()+q):this.qh+=q}fa(){return this.wo()?
this.Ha().fa()*this.qh:this.qh}Fh(q){q=+q;if(this.vo()){const v=this.aa();this.bh=0===v?1E-6:q/v*this.bh}else this.bh=q}EO(q){q=+q;this.vo()?this.Fh(this.aa()+q):this.bh+=q}aa(){return this.vo()?this.Ha().aa()*this.bh:this.bh}Xc(q,v){q=+q;v=+v;if(this.wo()){const y=this.fa();this.qh=0===y?1E-6:q/y*this.qh}else this.qh=q;this.vo()?(q=this.aa(),this.bh=0===q?1E-6:v/q*this.bh):this.bh=v}L0(){if(this.bk()){const q=this.Pb;return Math.min(q.Uj(),q.Vj())}return 1}Fo(){return 0!==(this.Aa&128)}Jc(q){q=+q;
this.Fo()&&(this.Wy()&&(q-=this.Ha().Na()),q=d.Be(q),this.Za!==q&&(this.Za=q,this.dH()))}q3(q){q=+q;0!==q&&this.Fo()&&(this.Za=d.Be(this.Za+q),this.dH())}dH(){this.Aa|=262144;if(this.pf()){const q=this.gf();for(let v=0,y=q.length;v<y;v++)q[v].dH()}}Na(){return this.Wy()?d.Be(this.Ha().Na()+this.Za):this.Za}eS(){const q=this.Aa;if(0!==(q&262144)){var v=this.Na();this.vK=Math.sin(v);this.sI=Math.cos(v);this.Aa=q&-262145}}LE(){this.eS();return this.vK}wE(){this.eS();return this.sI}br(q){this.ss=+q}s3(q){this.ss+=
+q}hl(){return this.ss}cr(q){this.ts=+q}t3(q){this.ts+=+q}il(){return this.ts}iA(q){this.hb.rd(q)||(this.hb===m?(this.hb=d.A(d.fb,q),this.op=d.A(d.fb,q),this.op.VL()):q.pD(1,1,1,1)?this.op=this.hb=m:(this.hb.set(q),this.op.set(q),this.op.VL()),this.yr())}Lg(q){q=d.da(+q,0,1);this.hb.iq!==q&&(c.Bj(this.hb),c.iq=q,this.iA(c))}r3(q){this.Lg(this.Vd()+q)}Vd(){return this.hb.iq}dQ(q){this.hb.tm(q)||(c.Bj(q),c.iq=this.hb.iq,this.iA(c))}v6(q,v,y){c.it(q,v,y);this.dQ(c)}IE(){return this.op}By(){return 0!==
(this.Aa&512)}F5(q){this.Re(512,q)}xo(){return 0!==(this.Aa&1024)}q6(q){this.Re(1024,q)}yo(){return 0!==(this.Aa&2048)}NN(){return 0!==(this.Aa&3072)}r6(q){this.Re(2048,q)}wo(){return 0!==(this.Aa&4096)}p6(q){this.Re(4096,q)}vo(){return 0!==(this.Aa&8192)}o6(q){this.Re(8192,q)}Wy(){return 0!==(this.Aa&16384)}n6(q){this.Re(16384,q)}Xy(){return 0!==(this.Aa&32768)}s6(q){this.Re(32768,q)}NQ(){this.Aa&=-65025}zm(q,v){if(q!==this&&!q.bk()&&!this.KR(q)&&!this.JR(q)){var y=q.ka(),A=q.la(),G=q.fa(),z=q.aa(),
F=q.Na(),H=q.gb();q.TS(this);q.q6(v.kt);q.r6(v.lt);q.p6(v.kq);q.o6(v.jq);q.n6(v.jt);q.s6(v.mt);q.F5(v.xx);v.kt&&(q.T=y-this.ka(),v.kq&&(q.T/=this.fa()/this.Pb.OC));v.lt&&(q.R=A-this.la(),v.jq&&(q.R/=this.aa()/this.Pb.NC));v.kq&&(q.qh=G/this.fa(),q.Pb.j6(q.qh));v.jq&&(q.bh=z/this.aa(),q.Pb.k6(q.bh));v.jt&&(q.Za=F-this.Na());v.mt&&(q.gd=H-this.gb());this.E7(q);this.Ia()}}gk(q){if(q.Ha()===this){var v=q.ka(),y=q.la(),A=q.fa(),G=q.aa(),z=q.Na(),F=q.gb();q.TS(null);q.NQ();q.Og(v,y);q.Xc(A,G);q.Jc(z);q.sf(F);
this.zba(q);this.Ia()}}Hba(){for(var q of this.children())this.gk(q);(q=this.Ha())&&q.gk(this);this.NQ()}bk(){return null!==this.Ha()}Ha(){const q=this.Pb;return null!==q?q.Ha():null}Vy(){let q=this;for(;q.bk();)q=q.Ha();return q}*Kx(){let q=this.Ha();for(;q;)yield q,q=q.Ha()}f1(q){return this.gf().includes(q)}pf(){const q=this.Pb;return null!==q?q.pf():!1}gf(){const q=this.Pb;return null!==q?q.gf():p}children(){return this.gf()}*Wk(){for(const q of this.children())yield q,yield*q.Wk()}wy(){return this.gf().length}vE(q){const v=
this.gf();q=Math.floor(+q);return 0>q||q>=v.length?null:v[q]}CG(q){this.Pb||(this.Pb=d.A(d.o5,this));q&&this.Pb.YP(q)}gA(){this.Pb&&(this.Pb.j(),this.Pb=null)}TS(q){q?(q.CG(null),this.CG(q)):(this.Pb&&this.Pb.YP(null),this.pf()||this.gA())}JR(q){if(!this.bk())return!1;const v=this.Ha();return v===q?!0:v.JR(q)}KR(q){if(this.f1(q))return!0;for(const v of this.gf())if(v.KR(q))return!0;return!1}E7(q){this.Pb.gf().push(q)}zba(q){const v=this.Pb.gf(),y=v.indexOf(q);-1!==y&&v.splice(y,1);0!==v.length||this.bk()||
this.gA();q.pf()||q.gA()}DN(){const q=u.get(this);return q?q.Cfa:null}M0(){const q=u.get(this);return q?q.vha:NaN}Aq(){const q=w.get(this);return d.Wf(q)?q:NaN}ZF(q){w.set(this,q)}yr(){if(r){var q=this.g.jb();this.Yp&&q.gP(this.Yp);this.Yp=q.wX(0!==(this.Aa&524288)?q.LC||"<point>":q.MC||"<default>",this.Kj(),this.op,this.gb())}}Fq(){return this.hb===m}Zf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.Kj()!==q&&(this.Aa=this.Aa&-2080374785|q<<26,this.yr())}Kj(){return(this.Aa&
2080374784)>>26}$u(q){this.Jk=q;0!==this.gb()&&this.Jk.KS()}ea(){return this.Jk}kc(){return this.ea().kc()}pA(q){this.Vk=q|0}ak(){this.Jk.dv();return this.Vk}Re(q,v){this.Aa=v?this.Aa|q:this.Aa&~q}kd(){return 0!==(this.Aa&1)}Ih(q){this.Re(1,q)}Gg(){return 0!==(this.Aa&8)}nu(q){q=!!q;this.Gg()!==q&&(this.Re(8,q),q?this.Ia():this.tS())}aG(q,v){this.Re(32,q);this.li&&this.li.clear();if(v.trim()){this.li||(this.li=new Set);for(const y of v.split(" "))y&&this.li.add(y.toLowerCase())}else this.li=null}qF(q){const v=
0!==(this.Aa&32),y=this.li;if(!q||!y)return!v;for(const A of y)if(q.has(A))return v;return!v}Ia(){this.Aa|=65554;this.O.JS();this.g.ga();this.Jk.Yo()&&(this.Zx(this.jI,this.kI,!0),this.Aa&=-3,this.Bda());0!==(this.Aa&4)&&this.X.Rb().dispatchEvent(e);if(null!==this.Pb){const q=this.Pb.gf();for(let v=0,y=q.length;v<y;++v)q[v].Ia()}}Zx(q,v,y){const A=this.ka(),G=this.la(),z=this.fa(),F=this.aa(),H=this.Na();q.rh(A-this.ss*z,G-this.ts*F,z,F);y&&this.Vf()&&this.v9(q);0===H?v.Gj(q):(q.offset(-A,-G),v.YW(q,
this.LE(),this.wE()),v.offset(A,G),v.zL(q));q.normalize()}jT(){const q=this.Aa;0!==(q&2)&&(this.Zx(this.jI,this.kI,!0),this.Aa=q&-3)}Vc(){this.jT();return this.jI}Lj(){this.jT();return this.kI}ZO(q){var v=this.ka(),y=this.la();v=Math.round(v)-v;y=Math.round(y)-y;if(0===v&&0===y)return q;a.ta(q);a.offset(v,y);return a}z5(q){this.Re(4,q)}ZN(){return 0!==(this.Aa&4)}jO(q,v,y){return v&&0!==this.$c?this.Iq(this.ea().mr()):0===this.gb()||y?q.wD(this.Vc()):this.G$()}G$(){const q=this.ea(),v=this.nf();if(v>=
q.Dt())return!1;q.PN(v,b);return b.wD(this.Vc())}Iq(q){var v=this.Vc();const y=v.Z,A=v.ia,G=v.S;v=v.ca;const z=this.nf();return q.IY(y,G,z,A,v,z+this.$c)}jA(q){this.Re(1048576,q)}lA(q){this.Re(2097152,q)}bG(q){this.KC=q;this.JG();this.Vf()&&(this.ei.KL=null)}Zy(){return null!==this.KC||this.Vf()}jl(){return this.P9(this.fa(),this.aa(),this.Na(),this.LE(),this.wE())}P9(q,v,y,A,G){let z=this.Ns;null===z&&(this.Ns=z={NW:d.A(d.lo),width:NaN,height:NaN,angle:NaN});const F=z.NW;if(z.width===q&&z.height===
v&&z.angle===y)return F;const H=this.KC;if(this.Vf()){const J=this.hl(),M=this.il(),Q=this.Yj();let R=this.ei.KL;R||(H?(g.ta(H),g.offset(J,M)):g.Wga(),R=Q.i2(g),this.ei.KL=R);Q.X6(R,F);F.offset(-J,-M);F.iM(q,v,A,G)}else H?(F.ta(H),F.iM(q,v,A,G)):F.bM(this.Lj(),-this.ka(),-this.la());z.width=q;z.height=v;z.angle=y;return F}JG(){this.d6();const q=this.Ns;null!==q&&(q.width=NaN)}gE(q,v){q=Math.floor(q);v=Math.floor(v);if(!this.Ea().Ab().kfa)throw Error("object does not support mesh");this.yz();this.ei=
{dM:d.A(d.M.AO,q,v),hX:d.A(d.M.AO,q,v),KL:null}}Vf(){return null!==this.ei}Yj(){if(!this.Vf())throw Error("no mesh");return this.ei.dM}ON(){if(!this.Vf())throw Error("no mesh");return this.ei.hX}WF(q){this.Re(65536,q)}mO(){return 0!==(this.Aa&65536)}d6(){this.Re(131072,!0)}v9(q){const v=this.ei.dM,y=Math.min(v.B0(),0),A=Math.min(v.C0(),0),G=Math.max(v.y0(),1),z=Math.max(v.z0(),1),F=q.width(),H=q.height();q.offsetLeft(y*F);q.offsetTop(A*H);q.Jga((G-1)*F);q.Iga((z-1)*H);this.$c=v.A0()}yz(){this.ei&&
(this.ei.dM.j(),this.ei.hX.j(),this.ei=null,this.JG())}UP(q,v,y){q=Math.floor(q);v=Math.floor(v);var A=y.mode||"absolute";if(!n.has(A))throw Error("invalid mode");A="relative"===A;let G=y.x,z=y.y;const F=y.Sx;let H="number"===typeof y.lX?y.lX:A?0:-1;y="number"===typeof y.pX?y.pX:A?0:-1;if(!this.Vf())return!1;const J=this.Yj(),M=J.xq(q,v);if(null===M)return!1;let Q=!1;"number"===typeof F&&M.gb()!==F&&(M.sf(F),Q=!0);A&&(G+=q/(J.Dk-1),z+=v/(J.Rk-1));-1!==H||A?(A&&(H+=q/(J.Dk-1)),H=d.da(H,0,1)):H=M.nh;
-1!==y||A?(A&&(y+=v/(J.Rk-1)),y=d.da(y,0,1)):y=M.ph;if(M.ka()===G&&M.la()===z&&M.nh===H&&M.ph===y)return Q;M.Ng(G);M.Kh(z);M.dG(H);M.eG(y);this.JG();return!0}ll(){return this.X.ll()}qt(q,v){return this.Vc().If(q,v)&&this.Lj().If(q,v)?this.ll()?void 0:this.Zy()?this.jl().If(q-this.ka(),v-this.la()):!0:!1}E$(){return 0!==(this.Aa&16)}kT(){if(this.E$()&&this.Gg()&&0===(this.Aa&256)){var q=this.Vc(),v=this.O.NA,y=this.MA;b.set(v.Vi(q.Z),v.Wi(q.S),v.Vi(q.ia),v.Wi(q.ca));y.rd(b)||(q=this.X,y===l?(v.ul(q,
null,b),this.MA=d.A(d.Rect,b)):(v.ul(q,y,b),y.ta(b)),this.Aa&=-17)}}tS(){const q=this.MA;q!==l&&(this.O.NA.ul(this.X,q,null),this.MA=l)}Bda(){const q=this.ea();if(q.Yo()&&0===(this.Aa&256)){var v=q.ys,y=this.Vc(),A=this.Ew;b.set(v.Vi(y.Z),v.Wi(y.S),v.Vi(y.ia),v.Wi(y.ca));A.rd(b)||(y=this.X,A===h?(v.ul(y,null,b),this.Ew=d.A(d.Rect,b)):(v.ul(y,A,b),A.ta(b)),q.g6())}}uS(){const q=this.Ew;q!==h&&(this.ea().ys.ul(this.X,q,null),this.Ew=h)}C7(){const q=this.X,v=this.Jk,y=v.G;y.length&&y.le(-1)===q||(v.ep(q,
!1),v.Sg(q,!1),this.g.ga())}A7(){const q=this.X,v=this.Jk,y=v.G;y.length&&y[0]===q||(v.ep(q,!1),v.hba(q),this.g.ga())}B7(q){const v=this.X,y=this.Jk;if(y.kc()!==q.kc())throw Error("layer from different layout");q!==y&&(y.ep(v,!0),this.$u(q),q.Sg(v,!0),this.g.ga())}z7(q,v){const y=this.X;let A=!1;const G=this.Jk;if(q.fd!==y.fd){var z=q.m();if(!z)throw Error("expected world instance");z=z.ea();G.Ka()!==z.Ka()&&(G.ep(y,!0),this.$u(z),z.Sg(y,!0),A=!0);q=z.j3(y,q,!!v);(A||q)&&this.g.ga()}}Jca(q){this.Re(64,
q)}Vt(){return 0!==(this.Aa&64)}ma(q){const v={x:this.ka(),y:this.la(),w:this.fa(),h:this.aa(),l:this.ea().lb,zi:this.ak()};0!==this.gb()&&(v.ze=this.gb());0!==this.Na()&&(v.a=this.Na());this.Fq()||(v.c=this.hb.toJSON());.5!==this.hl()&&(v.oX=this.hl());.5!==this.il()&&(v.oY=this.il());0!==this.Kj()&&(v.bm=this.Kj());this.kd()||(v.v=this.kd());this.Gg()||(v.ce=this.Gg());this.ZN()&&(v.be=this.ZN());this.jg&&(v.fx=this.jg.ma());const y=0!==(this.Aa&32);y&&(v.sfi=y);this.li&&(v.sft=[...this.li].join(" "));
this.Pb&&"visual-state"!==q&&(v.sgi=this.Pb.ma());this.Vf()&&(v.mesh=this.Yj().Fd());return v}dA(q){"visual-state"!==q&&this.Hba()}qa(q,v){r=!1;this.Ng(q.x);this.Kh(q.y);this.Jh(q.w);this.Fh(q.h);this.pA(q.zi);this.sf(q.hasOwnProperty("ze")?q.ze:0);this.Jc(q.hasOwnProperty("a")?q.a:0);q.hasOwnProperty("c")?c.wm(q.c):q.hasOwnProperty("o")?(c.Bj(this.hb),c.iq=q.o):c.bo(1,1,1,1);this.iA(c);this.br(q.hasOwnProperty("oX")?q.oX:.5);this.cr(q.hasOwnProperty("oY")?q.oY:.5);this.Zf(q.hasOwnProperty("bm")?
q.bm:0);this.Ih(q.hasOwnProperty("v")?q.v:!0);this.nu(q.hasOwnProperty("ce")?q.ce:!0);this.z5(q.hasOwnProperty("be")?q.be:!1);this.aG(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.jg&&q.hasOwnProperty("fx")&&this.jg.qa(q.fx);if(q.hasOwnProperty("sgi")&&"visual-state"!==v){this.CG(null);const y=this.Pb,A=q.sgi;y.qa(A);const G=this.J().Rb(),z=()=>{G.removeEventListener("afterload",z);0===(this.Aa&256)&&y.gH(A)};G.addEventListener("afterload",z)}q.hasOwnProperty("mesh")?(q=
q.mesh,this.gE(q.cols,q.rows),this.Yj().ud(q)):this.yz();this.Ia();r=!0;this.yr()}}}{"use strict";const d=self.D;d.rM=class extends d.ja{constructor(b,a){super();const e=b.J(),c=e.zn,g=e.Ah(a[1]);c.e1(g)||c.NY(a);this.g=e;this.O=b;this.bj=c.H_(g);this.Rc=null;this.xB=g.Instance;this.lb=a[2];this.Ja=a[0];this.hw=this.g.Fi(a[3]);this.Rc=d.A(g.tl,this);this.vd()}static Sa(b,a){return d.A(d.rM,b,a)}j(){this.bj=this.g=null;this.Rc.j();this.xB=this.Rc=null}vd(){this.Rc.vd()}J(){return this.g}K(){return this.O}Bm(){return this.bj}Ca(){return this.Ja}Fi(){return this.hw}}}
{"use strict";const d=self.D,b=self.UN;d.Vx=class extends d.ja{constructor(a){super();this.g=a.Lf;this.Zc=a.jL;this.bj=this.Zc.Bm();this.X=a.instance;this.Ra=a.index;this.re=this.pa=null;this.bj.Sg(this.X)}j(){this.re&&(this.re.Xu(),this.re=null);this.bj.ep(this.X);this.pa.j();this.X=this.bj=this.Zc=this.g=this.re=this.pa=null}Tz(a){if(this.pa)throw Error("already got sdk instance");this.pa=d.A(this.Zc.xB,this,a);this.v$()}J(){return this.g}Ag(){return this.Zc}Bm(){return this.bj}Qe(){return this.Ra}Fd(){return this.pa.Fd()}ud(a){return this.pa.ud(a)}static iG(a,
e){var c=a.X,g=e.X;const m=c.K().Ka(),h=g.K().Ka();if(m!==h)return m-h;c=c.nV;g=g.nV;return c!==g?c-g:a.EA.Qe()-e.EA.Qe()}v$(){const a=this.pa.Xj(),e=a||b;b.Tg(this);this.re=new e;b.Tg(null);if(a&&!(this.re instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Cq(){return this.re}}}
{"use strict";const d=self.D;d.Zk=class extends d.ja{constructor(b,a){super();this.Zb=b;this.Ug=[];this.bg=[];this.WA=new Map;this.Th=[];this.us=!0;for(const e of a)b=d.A(d.YM,this,e,this.Ug.length),this.Ug.push(b),this.WA.set(b.Ca().toLowerCase(),b),3<=e.length&&this.Th.push(this.$G(e[2]));this.J().G7(this)}j(){d.F(this.Ug);d.F(this.bg);this.WA.clear();d.F(this.Th);this.Zb=null}t4(b){if(b.length){this.Ug=b.concat(this.Ug);for(const a of b)this.WA.set(a.Ca().toLowerCase(),a);for(let a=0,e=this.Ug.length;a<
e;++a)this.Ug[a].wH(a)}}$G(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const g=d.A(d.fb);g.wm(c);b[a]=g}}return b}J(){return this.Zb.J()}Lh(){d.F(this.bg);let b=!0;for(const a of this.Ug)a.Mb&&(this.bg.push(a),a.Uf().us||(b=!1));this.us=b}zg(){return this.Ug}$0(){return 0<this.Ug.length}dl(b){return this.WA.get(b.toLowerCase())||null}oN(b){b=Math.floor(+b);if(0>b||b>=this.Ug.length)throw new RangeError("invalid effect type index");return this.Ug[b]}Zt(b){return this.oN(b).Mb}GP(b,
a){this.oN(b).Bz(a)}Vt(){return 0<this.bg.length}cl(b){return this.Th[b]}static m5(b){return b&&b instanceof d.fb?{t:"color",v:b.toJSON()}:b}static V2(b){if("object"===typeof b){if("color"===b.t){const a=d.A(d.fb);a.wm(b.v);return a}throw Error("invalid effect parameter type");}return b}static wP(b){return b.map(d.Zk.m5)}static wO(b){return b.map(d.Zk.V2)}Fd(){return this.Ug.map(b=>({name:b.Ca(),active:b.Mb,params:d.Zk.wP(this.Th[b.Ka()])}))}ud(b){for(const a of b)if(b=this.dl(a.name))b.Bz(a.active),
this.Th[b.Ka()]=d.Zk.wO(a.params);this.Lh()}}}
{"use strict";const d=self.D;d.YM=class extends d.ja{constructor(b,a,e){super();this.Qa=b;this.We=a[0];this.Ja=a[1];this.Ra=e;this.ed=null;this.Mb=!0}j(){this.ed=this.Qa=null}zY(b){b=d.A(d.YM,b,[this.We,this.Ja],-1);b.ed=this.ed;b.Mb=this.Mb;return b}MR(b){b=b.IN(this.We);if(!b)throw Error("failed to find shader program '"+this.We+"'");this.ed=b}Ca(){return this.Ja}wH(b){this.Ra=b}Ka(){return this.Ra}J(){return this.Qa.J()}Bz(b){this.Mb=!!b}Uf(){return this.ed}R_(){const b=[];for(let a=0,e=this.ed.gq.length;a<
e;++a){const c=this.ed.Ny(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.A(d.fb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.D;d.j2=class extends d.ja{constructor(b,a){super();this.X=b;this.aW=a;this.Qa=b.K().Qa;this.rx=this.ZJ=!0;this.$V=this.ZV=this.XV=!1;this.Sh=d.A(d.M.Ee,b.J().P.AI,{oD:(e,c)=>{c=c.dn;const g=c.m();e.Rm(g.IE());e.ou(g.nf());c.xh(e);e.ou(0)},wW:e=>{const c=e.zy(),[g,m]=e.yy();return{eX:c,fX:g,dX:m}},tD:e=>this.cl(e)});this.gp=[];this.bg=[];this.us=!0;this.Th=[];for(const e of this.Qa.zg())this.gp.push(!0);this.Lh()}j(){this.Sh.j();this.Sh=null;d.F(this.gp);d.F(this.bg);d.F(this.Th);
this.Qa=this.X=null}R$(b){for(const a of b)this.Th.push(this.$G(a))}$G(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const g=d.A(d.fb);g.wm(c);b[a]=g}}return b}S2(){for(const b of this.Qa.zg())this.Th.push(b.R_())}Ci(){this.Su();return this.Sh}J(){return this.X.J()}Lh(){d.F(this.bg);const b=this.aW,a=this.Qa.zg(),e=this.bg,c=this.gp;let g=!0;for(let m=0,h=a.length;m<h;++m)if(c[m]){const l=a[m];e.push(l);l.Uf().us||(g=!1)}this.us=g;b.Jca(!!e.length);this.ZJ=!0}Su(){const b=
this.X;var a=this.aW;const e=a.Fq(),c=0<a.$c;a=0!==a.Na()||0>a.fa()||0>a.aa();const g=b.fz();if(this.ZJ||e!==this.rx||c!==this.XV||a!==this.ZV||g!==this.$V)this.Sh.YD(this.bg.map(m=>m.Uf()),{Ys:this.bg.map(m=>m.Ka()),rD:!e||b.Mq(),EL:c,IL:g,BW:a}),this.ZJ=!1,this.rx=e,this.XV=c,this.ZV=a,this.$V=g}cl(b){return this.Th[b]}Zt(b){return this.gp[b]}GP(b,a){this.gp[b]=!!a}zg(){return this.Qa.zg()}ma(){return this.Qa.zg().map(b=>({name:b.Ca(),active:this.gp[b.Ka()],params:d.Zk.wP(this.Th[b.Ka()])}))}qa(b){for(const a of b)if(b=
this.Qa.dl(a.name))this.gp[b.Ka()]=a.active,this.Th[b.Ka()]=d.Zk.wO(a.params);this.Lh()}}}
{"use strict";const d=self.D,b=[],a=[],e=d.A(d.lo),c=d.A(d.lo),g=d.A(d.Ed);d.A(d.Rect);d.A(d.Rect);let m=null,h=null,l=null;d.AY=class extends d.ja{constructor(n){super();this.g=n;this.Dw=[]}j(){this.g=null}xz(n,p){const r=n.m(),u=p.m();r&&u&&r.Gg()&&u.Gg()&&this.Dw.push([n,p])}qM(n,p,r){for(const [u,w]of this.Dw){let q;if(n===u)q=w;else if(n===w)q=u;else continue;q.nq(p)&&(r.includes(q)||r.push(q))}}zM(n,p){if(!this.Dw.length)return!1;for(const [r,u]of this.Dw)if(n===r&&p===u||n===u&&p===r)return!0;
return!1}AM(){d.F(this.Dw)}Vo(n,p){if(!n||!p||n===p)return!1;n=n.m();p=p.m();if(!n.Gg()||!p.Gg())return!1;const r=n.ea(),u=p.ea();return r.H2(u)?this.pda(n,p):this.oda(n,p)}pda(n,p){if(!n.Vc().wD(p.Vc())||!n.Lj().CL(p.Lj())||n.ll()&&p.ll())return!1;if(n.ll())return this.nG(n,p);if(p.ll())return this.nG(p,n);if(!n.Zy()&&!p.Zy())return!0;const r=n.jl(),u=p.jl();return r.Cx(u,p.ka()-n.ka(),p.la()-n.la())}oda(n,p){var r=n.ll(),u=p.ll();if(r&&!u)return this.jQ(n,p);if(u&&!r)return this.jQ(p,n);if(u||r)return!1;
u=n.ea();r=p.ea();e.ta(n.jl());c.ta(p.jl());var w=e.Rd;for(let q=0,v=w.length;q<v;q+=2){const y=q+1,A=w[y],[G,z]=u.Ho(w[q]+n.ka(),A+n.la());w[q]=G;w[y]=z}n=c.Rd;for(let q=0,v=n.length;q<v;q+=2){u=q+1;w=n[u];const [y,A]=r.Ho(n[q]+p.ka(),w+p.la());n[q]=y;n[u]=A}e.aM();c.aM();return e.Cx(c,0,0)}jQ(n,p){var r=n.ea(),u=p.ea();m||(m=d.A(d.lo));h||(h=d.A(d.Rect));l||(l=d.A(d.Ed));var w=p.ka(),q=p.la();const [v,y]=u.Ho(w,q),[A,G]=r.uh(v,y);r=A-w;q=G-q;h.ta(p.Vc());h.offset(r,q);if(!n.Vc().wD(h))return!1;
l.ta(p.Lj());l.offset(r,q);if(!n.Lj().CL(l))return!1;m.ta(p.jl());u=m.Rd;for(let z=0,F=u.length;z<F;z+=2)w=z+1,u[z]+=r,u[w]+=q;m.aM();return this.nG(n,p,A,G,m,h,l)}nG(n,p,r,u,w,q,v){q=void 0!==q?q:p.Vc();const y=n.ka(),A=n.la();var G=n.Ea().pa;r=void 0!==r?r:p.ka();u=void 0!==u?u:p.la();n=p.Zy();v=void 0!==v?v:p.Lj();G.Sja(q,a);for(let H=0,J=a.length;H<J;++H){var z=a[H];G=z.Xja();if(q.nga(G,y,A)&&(g.Gj(G),g.offset(y,A),g.CL(v)))if(n){var F=void 0!==w?w:p.jl();if(z=z.H0()){if(z.Cx(F,r-(y+G.Z),u-(A+
G.S)))return d.F(a),!0}else if(e.bM(g,0,0),e.Cx(F,r,u))return d.F(a),!0}else if(F=z.H0()){if(e.bM(v,0,0),F.Cx(e,-(y+G.Z),-(A+G.S)))return d.F(a),!0}else return d.F(a),!0}d.F(a);return!1}Jz(n,p,r){const u=n.V();var w=this.g.Ib();if(!w)throw Error("cannot call outside event");w=w.Pd;if(u.$b){u.oe(!1);d.F(u.G);for(var q of n.oa()){var v=q.m(),y=v.ea();const [A,G]=y.uh(p,r,v.nf());y.jz()&&v.qt(A,G)?u.cp(q):w&&u.Al(q)}}else{v=!1;w?this.g.dO()&&!u.hc.length&&u.G.length?q=u.G:(q=u.hc,v=!0):q=u.G;y=0;for(let A=
0,G=q.length;A<G;++A){const z=q[A],F=z.m(),H=F.ea(),[J,M]=H.uh(p,r,F.nf());H.jz()&&F.qt(J,M)?v?u.cp(z):q[y++]=z:v?q[y++]=z:w&&u.Al(z)}q.length=y}n.jc();return u.TE()}xy(n,p,r,u){n=n?1!==n.ee||1!==n.fe:!1;if(p.bb)for(const w of p.up)n||w.ZH?d.Un(u,w.oa()):(w.hT(),w.NA.vz(r,u));else n||p.ZH?d.Un(u,p.oa()):(p.hT(),p.NA.vz(r,u))}D0(n,p,r,u){for(const w of p)this.xy(n,w,r,u)}N0(n,p,r){const u=this.g.ME();u&&this.D0(n,u.HE(),p,r)}qF(n,p){return n.I$()&&(!p||p.m().qF(n.Hi().get("solidTags")))}Vm(n){const p=
n.m();this.N0(p.ea(),p.Vc(),b);for(const r of b)if(this.qF(r,n)&&this.Vo(n,r))return d.F(b),r;d.F(b);return null}dP(n,p,r,u){u=u||50;const w=n.m(),q=w.ka(),v=w.la();let y=null,A=null;for(let G=0;G<u;++G)if(w.Og(q+p*G,v+r*G),w.Ia(),!this.Vo(n,y))if(y=this.Vm(n))A=y;else if(!y)return A&&this.z4(n,p,r,A),!0;w.Og(q,v);w.Ia();return!1}z4(n,p,r,u){let w=2,q=!1;var v=!1;const y=n.m();let A=y.ka(),G=y.la();for(;16>=w;)v=1/w,w*=2,y.eu(p*v*(q?1:-1),r*v*(q?1:-1)),y.Ia(),this.Vo(n,u)||this.Vm(n)?v=q=!0:(v=q=
!1,A=y.ka(),G=y.la());v&&(y.Og(A,G),y.Ia())}A4(n){let p=0;const r=n.m(),u=r.ka(),w=r.la();let q=0,v=this.Vm(n);if(!v)return!0;for(;100>=p;){let y=0,A=0;switch(q){case 0:y=0;A=-1;p++;break;case 1:y=1;A=-1;break;case 2:y=1;A=0;break;case 3:A=y=1;break;case 4:y=0;A=1;break;case 5:y=-1;A=1;break;case 6:y=-1;A=0;break;case 7:A=y=-1}q=(q+1)%8;r.Og(Math.floor(u+y*p),Math.floor(w+A*p));r.Ia();if(!this.Vo(n,v)&&(v=this.Vm(n),!v))return!0}r.Og(u,w);r.Ia();return!1}}}
{"use strict";const d=self.D;d.J6=class extends d.ja{constructor(b,a){super();this.nI=b;this.mI=a;this.ej=d.A(d.fu)}j(){this.ej.j();this.ej=null}Cm(b,a,e){let c=this.ej.ba(b,a);return c?c:e?(c=d.A(d.W0,this,b,a),this.ej.Set(b,a,c),c):null}Vi(b){b=Math.floor(b/this.nI);return isFinite(b)?b:0}Wi(b){b=Math.floor(b/this.mI);return isFinite(b)?b:0}ul(b,a,e){if(a)for(let c=a.Z,g=a.ia;c<=g;++c)for(let m=a.S,h=a.ca;m<=h;++m){if(e&&e.If(c,m))continue;const l=this.Cm(c,m,!1);l&&(l.Dh(b),l.Do()&&this.ej.mo(c,
m))}if(e)for(let c=e.Z,g=e.ia;c<=g;++c)for(let m=e.S,h=e.ca;m<=h;++m)a&&a.If(c,m)||this.Cm(c,m,!0).bF(b)}vz(b,a){let e=this.Vi(b.Z);const c=this.Wi(b.S),g=this.Vi(b.ia);b=this.Wi(b.ca);if(isFinite(g)&&isFinite(b))for(;e<=g;++e)for(let m=c;m<=b;++m){const h=this.Cm(e,m,!1);h&&h.lE(a)}}}}
{"use strict";const d=self.D;d.W0=class extends d.ja{constructor(b,a,e){super();this.T=a;this.R=e;this.G=d.A(d.UD)}j(){this.G.j();this.G=null}Do(){return this.G.Do()}bF(b){this.G.Uc(b)}Dh(b){this.G.mo(b)}lE(b){d.Un(b,this.G.sE())}}}{"use strict";const d=self.D;d.Ana=class{constructor(){this.Ufa=this.Tfa=0;this.rect=new d.Rect;this.yx=0}Set(b,a,e,c){this.Tfa=e-b;this.Ufa=c-a;this.rect.set(b,a,e,c);this.rect.normalize();this.yx=0;return this}}}
{"use strict";const d=self.D,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),e=self.Ej.um,c=e.create(),g=d.A(d.Ed),m=d.A(d.Rect);d.bE=class extends d.ja{constructor(h){super();this.g=h;this.dj=null;this.CU=!1;this.yj=this.ib=null;this.TI="high-performance";this.cn=this.bn=this.dg=this.eg=this.Cc=this.Mc=this.zj=this.Aj=0;this.Vs="normalized";this.ST=0;this.Sr=!0;this.Nc=this.ad=this.JV=0;this.KT=this.UT="letterbox-scale";this.nea=
this.mea=0;this.TA=e.create();this.Xh=this.bL="high";this.Fp=!1;this.mv=[];this.$C=new Set;this.EC=self.C3_Shaders;this.AI=d.A(d.M.j_,{uW:()=>[this.Oj(),this.Nj()],vW:()=>this.S_(),SW:l=>this.H4(l),getTime:()=>this.J().fl(),RW:()=>this.J().ga()});this.hg=this.mn=0;this.Zr=NaN;this.mB=null;this.GJ=new Map;this.Kv=NaN;this.iD=new Map;this.IC="";this.wK=1;this.xV=d.A(d.Rect);this.xK="";this.yV=this.Tw=null;this.ow=0;this.we=-1;this.un=0;this.MJ=l=>this.un=l.progress;this.Df=null;this.Ff={Ix:null,Lx:null,
Rx:null};this.BK=this.DV=this.CK=0;this.wj="fade-in";this.AK=null;this.CV=new Promise(l=>this.AK=l)}Hca(h){this.TI=h}bda(h){this.CU=!!h}dda(h){this.Vs=h}Bca(h){this.ST=h}async vh(h){this.dj=h.canvas;this.g.xi("runtime","window-resize",p=>this.Wu(p));this.g.xi("runtime","fullscreenchange",p=>this.Gaa(p));this.g.xi("runtime","fullscreenerror",p=>this.Haa(p));this.dj.addEventListener("webglcontextlost",p=>this.Vu(p));this.dj.addEventListener("webglcontextrestored",()=>this.kH());this.Fp=!!h.isFullscreen;
var l=navigator.gpu&&this.CU;let n=!1;if(l)try{await this.QR(!0)}catch(p){this.yj=null}if(!this.jb())try{await this.PR(!0)}catch(p){this.ib=null}this.jb()||(n=!0);if(!this.jb()&&l)try{await this.QR(!1)}catch(p){this.yj=null}if(!this.jb())try{await this.PR(!1)}catch(p){this.ib=null}l=this.jb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.S5(n);"normalized"===this.Vs?l.z6():(l.A6(),l.UF(this.ST));this.Xc(h.windowInnerWidth,h.windowInnerHeight,!0);this.yj?
await this.y$():this.ib&&await this.x$();l.XF(this.Sr);l.mk()&&(this.Zr=0);for(const p of this.g.SH){for(const r of p.zg())r.MR(l);p.Lh()}}async QR(h){h={powerPreference:this.TI,depth:this.g.om,failIfMajorPerformanceCaveat:h,$ra:this.g.aD,nL:this.g.ZK};this.yj=d.A(d.M.wra);await this.yj.Sa(this.dj,h)}async PR(h){h={powerPreference:this.TI,sW:!0,depth:this.g.om,nL:this.g.ZK,failIfMajorPerformanceCaveat:h};"Android"===d.Sb.Bh&&"Chromium"===d.Sb.Yx&&75>d.Sb.XD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),
h.HW=1);"standard"===this.g.Ir?h.alpha=!0:(h.alpha=!1,h.JL=!0);this.ib=d.A(d.M.q7,this.dj,h);await this.ib.dz()}async y$(){if(this.EC){const h=[];for(const [l,n]of Object.entries(this.EC))n.src=n.wva,h.push(this.yj.hE(n,d.M.xra.Ay(),l));await Promise.all(h)}}async x$(){if(this.EC){const h=[];for(const [l,n]of Object.entries(this.EC))n.src=n.Zsa,h.push(this.ib.hE(n,d.M.Eu.Ay(),l));await Promise.all(h);this.ib.Z4();this.ib.lk()}this.ib.mk()&&(this.mB=d.A(d.M.xQ,this.ib))}j(){this.dj=this.ib=this.g=
null}Wu(h){const l=this.g;if(!l.Hm()){var n=h.devicePixelRatio;l.te&&(self.devicePixelRatio=n);l.xca(n);this.Fp=!!h.isFullscreen;this.Xc(h.innerWidth,h.innerHeight);l.ga();l.yb&&(l.Wt()||self.wg.Gka())&&l.Oo()}}Gaa(h){this.Fp=!!h.isFullscreen;this.Xc(h.innerWidth,h.innerHeight,!0);this.g.ga()}Haa(h){this.Fp=!!h.isFullscreen;this.Xc(h.innerWidth,h.innerHeight,!0);this.g.ga()}Xc(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Aj!==h||this.zj!==l||n){this.Aj=
h;this.zj=l;n=this.Ht();"letterbox-scale"===n?this.W7(h,l):"letterbox-integer-scale"===n?this.V7(h,l):"off"===n?this.T7(h,l):this.U7(h,l);this.zda(n);this.dj.width=this.eg;this.dj.height=this.dg;this.g.fk("canvas","update-size",{marginLeft:this.bn,marginTop:this.cn,styleWidth:this.Mc,styleHeight:this.Cc});h=this.jb();h.Xc(this.eg,this.dg,!0);for(var p of this.mv)h.dZ(p);d.F(this.mv);h.io(this.TA,this.Oj()/this.Nj());p=this.g.eb;p.Qo();p.Po()}}W7(h,l){const n=this.g.bl(),p=this.g.hh,r=this.g.gh,u=
p/r;h/l>u?(this.Mc=Math.round(l*u),this.Cc=l,this.bn=Math.floor((h-this.Mc)/2),this.cn=0):(this.Mc=h,this.Cc=Math.round(h/u),this.bn=0,this.cn=Math.floor((l-this.Cc)/2));this.eg=Math.round(this.Mc*n);this.dg=Math.round(this.Cc*n);this.g.Au(p,r)}V7(h,l){const n=this.g.bl();1!==n&&(h+=1,l+=1);const p=this.g.hh,r=this.g.gh;var u=p/r;u=h/l>u?l*u*n/p:h/u*n/r;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.eg=Math.round(p*u);this.dg=Math.round(r*u);this.Mc=this.eg/n;this.Cc=this.dg/n;this.bn=Math.max(Math.floor((h-
this.Mc)/2),0);this.cn=Math.max(Math.floor((l-this.Cc)/2),0);this.g.Au(p,r)}U7(h,l){const n=this.g.bl();this.Mc=h;this.Cc=l;this.eg=Math.round(this.Mc*n);this.dg=Math.round(this.Cc*n);this.cn=this.bn=0;h=this.Mj();this.g.Au(this.Mc/h,this.Cc/h)}T7(h,l){const n=this.g.bl();this.Mc=this.g.sg;this.Cc=this.g.ef;this.eg=Math.round(this.Mc*n);this.dg=Math.round(this.Cc*n);this.Fp?(this.bn=Math.floor((h-this.Mc)/2),this.cn=Math.floor((l-this.Cc)/2)):this.cn=this.bn=0;this.g.Au(this.g.sg,this.g.ef)}zda(h){if("high"===
this.bL)this.ad=this.eg,this.Nc=this.dg,this.Xh="high";else{let n;if("off"===this.Ht()){var l=this.g.sg;n=this.g.ef}else l=this.g.hh,n=this.g.gh;this.eg<l||this.dg<n?(this.ad=this.eg,this.Nc=this.dg,this.Xh="high"):(this.ad=l,this.Nc=n,this.Xh="low","scale-inner"===h?(h=l/n,l=this.Aj/this.zj,l<h?this.ad=this.Nc*l:l>h&&(this.Nc=this.ad/l)):"scale-outer"===h&&(h=l/n,l=this.Aj/this.zj,l>h?this.ad=this.Nc*l:l<h&&(this.Nc=this.ad/l)))}}J(){return this.g}IP(h){if(!b.has(h))throw Error("invalid fullscreen mode");
this.UT=h;h=this.g.eb;h.Qo();h.Po()}Fy(){return this.UT}H5(h){if(!b.has(h))throw Error("invalid fullscreen mode");this.KT=h;h=this.g.eb;h.Qo();h.Po()}Ht(){return this.Fp?this.KT:this.Fy()}JP(h){if(!a.has(h))throw Error("invalid fullscreen scaling quality");this.bL=h;this.g.eb.Qo()}static lR(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}Oj(){return this.ad}Nj(){return this.Nc}XF(h){this.Sr=!!h}Yca(h){this.JV=h}A2(){return this.jb().Bo()}Vu(h){console.log("[Construct 3] WebGL context lost");h.preventDefault();this.mv=[];this.$C.clear();this.ib.pl();this.g.Vu()}async kH(){await this.ib.xF();await this.Mra();for(const h of this.g.SH)for(const l of h.zg())l.MR(this.ib);await this.g.kH();console.log("[Construct 3] WebGL context restored")}kl(){return this.ib}Dq(){return this.yj}jb(){return this.yj||this.ib}zq(){return"low"===this.Xh?
1/this.g.bl():this.Mj()}Mj(){const h=this.Ht();if("off"===h||"crop"===h)return 1;const l=this.g.hh,n=this.g.gh,p=l/n,r=this.eg/this.dg;return"scale-inner"!==h&&r>p||"scale-inner"===h&&r<p?this.Cc/n:this.Mc/l}Kt(){return"low"===this.Xh?1:this.Mj()}Jt(){return"low"===this.Xh?1:this.g.bl()}G5(h,l,n){l=l||this.ad;n=n||this.Nc;const p=l/2+this.mea,r=n/2+this.nea;{let u=this.TA;if(l!==this.ad||n!==this.Nc)h.io(c,l/n),u=c;h.Ro(u)}l=h.ot(p,r,h.Qf(n),p,r,n);h.$q(l)}D5(h){var l=this.Cc;const n=this.Mc/2,p=
l/2;h.Ro(this.TA);l=h.ot(n,p,h.Qf(l),n,p,l);h.$q(l)}Et(){return this.bn}Ft(){return this.cn}At(h){h.depth=this.g.om;const l=this.mv,n=l.findIndex(r=>r.r2(h));let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.jb().SY(h);this.$C.add(p);return p}Lo(h){if(!this.$C.has(h))throw Error("render target not in use");this.$C.delete(h);this.mv.push(h)}S_(){const h={Fj:this.g.yd};"low"===this.Xh&&(h.width=this.Oj(),h.height=this.Nj());return this.At(h)}H4(h){this.Lo(h)}*jD(){for(const h of this.g.eb.Ox())for(const l of h.ec){const n=
this.GJ.get(l);n&&(yield n)}}yN(h){if(!this.jb().mk())return null;let l=this.GJ.get(h);l||(l={name:h.Ca(),eM:d.A(d.M.xQ,this.ib),lD:0,FW:0},this.GJ.set(h,l));return l.eM}wda(){const h=this.jb();if(h.mk()&&0===this.hg){this.hg=h.Wh;this.Kv=NaN;for(const l of this.jD())l.lD=NaN}}Dda(){this.ib&&this.ib.mk()&&this.Eda();this.yj&&this.yj.mk()&&this.Fda()}Eda(){if(isNaN(this.Kv)&&(this.Kv=this.mB.uN(this.mn,this.hg),!isNaN(this.Kv))){if(this.g.yb)for(const h of this.jD())if(h.lD=h.eM.uN(this.mn,this.hg),
isNaN(h.lD))return;this.mB.SM(this.hg);this.Zr=Math.min(this.Kv,1);if(this.g.yb){for(const h of this.jD())h.eM.SM(this.hg),h.FW=Math.min(h.lD,1);self.wg.g7(this.Zr,[...this.jD()])}this.mn=this.hg;this.hg=0}}Fda(){if(0!==this.hg){for(var h=this.mn;h<this.hg;++h){var l=this.iD.get(h);if(l&&!l.$y())return}l=this.g.Wb();h=d.b3(l.ec.length+1);for(var n=this.mn;n<this.hg;++n){var p=this.iD.get(n);if(p){p=p.Sy();for(let r=0,u=Math.min(h.length,p.length/2);r<u;++r){const w=p[2*r],q=p[2*r+1];h[r]=0===Number(w)||
0===Number(q)?NaN:h[r]+Number(q-w)/1E9}}}this.Zr=d.da(h[0],0,1);if(this.g.yb){n=[];l=l.ec;for(let r=0,u=Math.min(l.length,h.length-1);r<u;++r)n.push({name:l[r].Ca(),FW:d.da(h[r+1],0,1)});self.wg.g7(this.Zr,n)}for(h=this.mn;h<this.hg;++h)this.iD.delete(h);this.mn=this.hg;this.hg=0}}P7(h){this.iD.set(this.yj.Wh,h)}Hy(){return this.Zr}gQ(h,l,n,p,r,u){this.IC=h;this.wK=l;this.xV.rh(n,p,r,u);return this.Tw?this.Tw:this.Tw=new Promise(w=>{this.yV=w})}maa(){if(this.IC){var h=this.dj,l=this.xV,n=d.da(Math.floor(l.Z),
0,h.width),p=d.da(Math.floor(l.S),0,h.height),r=l.width();r=0===r?h.width-n:d.da(Math.floor(r),0,h.width-n);l=l.height();l=0===l?h.height-p:d.da(Math.floor(l),0,h.height-p);(0!==n||0!==p||r!==h.width||l!==h.height)&&0<r&&0<l&&(h=d.vh(r,l),h.getContext("2d").drawImage(this.dj,n,p,r,l,0,0,r,l));d.$x(h,this.IC,this.wK).then(u=>{this.xK=URL.createObjectURL(u);this.Tw=null;this.yV(this.xK)});this.IC="";this.wK=1}}R1(h){this.ib&&(2===h?(this.Df=d.A(d.M.FF,this.jb()),this.Df.PP(),this.Df.TF("Arial"),this.Df.Fz(16),
this.Df.LP("center"),this.Df.fQ("center"),this.Df.Xc(300,200)):0===h?(h=this.g.ns)&&h.au(this.ib).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===h&&(this.caa().then(l=>{"done"===this.wj?this.ib.Ij(l):this.Ff.Ix=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.VR("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.wj?this.ib.Ij(l):this.Ff.Lx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.VR("splash-images/splash-website-512.png").then(l=>
{"done"===this.wj?this.ib.Ij(l):this.Ff.Rx=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async caa(){var h=(new URL("splash-images/splash-logo.svg",this.g.uE())).toString();h=await d.al(h);h=await this.g.E4(h);return await this.ib.iE(h,{Jx:"high"})}async VR(h){h=(new URL(h,this.g.uE())).toString();h=await d.al(h);return await this.ib.iE(h,{Jx:"high"})}WE(){this.g.fk("runtime","hide-cordova-splash")}L6(){this.ow=Date.now();this.g.Rb().addEventListener("loadingprogress",this.MJ);this.we=
requestAnimationFrame(()=>this.dR());3!==this.g.ls&&this.WE()}async l_(){if(this.ib){this.un=1;var h=this.g.ls;4===h&&await this.CV;this.CV=this.AK=null;-1!==this.we&&(cancelAnimationFrame(this.we),this.we=-1);this.g.Rb().removeEventListener("loadingprogress",this.MJ);this.MJ=null;this.Df&&(this.Df.j(),this.Df=null);this.g.I4();this.ib.Bu();this.Ff.Ix&&(this.ib.Ij(this.Ff.Ix),this.Ff.Ix=null);this.Ff.Lx&&(this.ib.Ij(this.Ff.Lx),this.Ff.Lx=null);this.Ff.Rx&&(this.ib.Ij(this.Ff.Rx),this.Ff.Rx=null);
this.ib.ko();this.ib.tq();this.wj="done";this.mn=this.ib.Wh;3===h&&this.WE()}}dR(){if(-1!==this.we){var h=this.ib;if(h){h.Bu();this.we=-1;var l=this.g.nd.WI,n=this.g.ls;3!==n&&(this.D5(h),h.ko(),h.ku(),h.lk(),h.$f(null));if(0===n)this.n9(l);else if(1===n)this.Wz(l,120,0);else if(2===n)this.m9(l);else if(3!==n)if(4===n)this.o9(l);else throw Error("invalid loader style");h.tq();this.we=requestAnimationFrame(()=>this.dR())}}}m9(h){h?this.Df.CP(1,0,0):this.Df.CP(.6,.6,.6);this.Df.zu(Math.round(100*this.un)+
"%");h=this.Mc/2;const l=this.Cc/2;g.$W(h-150,l-100,h+150,l+100);this.ib.$f(this.Df.Yd());this.ib.Pq(g,this.Df.Ji())}Wz(h,l,n){const p=this.ib;p.BP();h?p.rf(1,0,0,1):p.rf(.118,.565,1,1);h=this.Mc/2;const r=this.Cc/2,u=l/2;m.rh(h-u,r-4+n,Math.floor(l*this.un),8);p.Rect(m);m.rh(h-u,r-4+n,l,8);m.offset(-.5,-.5);m.vD(.5,.5);p.rf(0,0,0,1);p.sO(m);m.vD(1,1);p.rf(1,1,1,1);p.sO(m)}n9(h){var l=this.g.ns;if(l)if(l=l.Yd()){var n=l.fa(),p=l.aa(),r=this.Mc/2,u=this.Cc/2,w=n/2;p/=2;g.$W(r-w,u-p,r+w,u+p);this.ib.$f(l);
this.ib.Ed(g);this.Wz(h,n,p+16)}else this.Wz(h,120,0);else this.Wz(h,120,0)}o9(h){const l=this.ib,n=this.Ff.Ix,p=this.Ff.Lx,r=this.Ff.Rx,u=Date.now();0===this.CK&&(this.ow=u);const w=this.g.Kq()||this.g.Cea&&!this.g.cO(),q=w?0:200,v=w?0:3E3;let y=1;"fade-in"===this.wj?y=Math.min((u-this.ow)/300,1):"fade-out"===this.wj&&(y=Math.max(1-(u-this.BK)/300,0));l.BP();l.rf(.231*y,.251*y,.271*y,y);m.set(0,0,this.Mc,this.Cc);l.Rect(m);const A=Math.ceil(this.Mc),G=Math.ceil(this.Cc);let z;256<this.Cc?(l.rf(.302*
y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.rh(0,.8*G-z/2,A,z),l.Rect(m),h?l.rf(y,0,0,y):l.rf(.161*y,.953*y,.816*y,y),h=A*this.un,m.rh(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),l.rf(y,y,y,y),l.lk(),p&&(h=1.5*d.da(.22*G,105,.6*A),z=h/8,m.rh(.5*A-h/2,.2*G-z/2,h,z),l.$f(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.rh(.5*A-h/2,.485*G-z/2,h,z),l.$f(n),l.Rect(m)),r&&(h=1.5*d.da(.22*G,105,.6*A),z=h/8,m.rh(.5*A-h/2,.868*G-z/2,h,z),l.$f(r),l.Rect(m))):(l.rf(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.rh(0,.85*G-
z/2,A,z),l.Rect(m),h?l.rf(y,0,0,y):l.rf(.161*y,.953*y,.816*y,y),h=A*this.un,m.rh(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.rf(y,y,y,y),l.lk(),n&&(z=h=.55*G,m.rh(.5*A-h/2,.45*G-z/2,h,z),l.$f(n),l.Rect(m)));this.CK++;"fade-in"===this.wj&&300<=u-this.ow&&2<=this.CK&&(this.wj="wait",this.DV=u);"wait"===this.wj&&u-this.DV>=v&&1<=this.un&&(this.wj="fade-out",this.BK=u);("fade-out"===this.wj&&u-this.BK>=300+q||w&&1<=this.un&&500>u-this.ow)&&this.AK()}}}
{"use strict";const d=self.D,b=self.wg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.vP=class extends d.ja{constructor(c){c=Object.assign({},a,c);super();this.uw=c.messagePort;this.Uda=c.baseUrl;this.te=!!c.isInWorker;e=c.ife;this.Ue=c.exportType;this.DU=!!c.isiOSCordova;this.Cea=!!c.isFBInstantAvailable;this.Xea=c.opusWasmScriptUrl;this.eV=c.opusWasmBinaryUrl;this.se=this.aea=this.yb=!("preview"!==this.Ue||!c.isDebug);this.vI=
0;this.vA=[];this.Mda=[];this.kK=this.mV=this.zC="";this.gh=this.hh=0;this.gn=self.devicePixelRatio;this.ls=this.ef=this.sg=this.rC=this.qC=0;this.dD=!1;this.Gk=!0;this.ZK=this.aD=!1;this.ns=null;this.nd=d.A(d.VX,this,c);this.eb=d.A(d.O2,this);this.za=d.A(d.q_,this);this.zn=d.A(d.l4,this);this.Ph=d.A(d.AY,this);this.Hb=d.A(d.U6,this);this.LK=d.A(d.Y6,this);this.Yc=[];this.$J=new Map;this.aK=new Map;this.PT=0;this.Oda=[];this.SH=[];this.Av=[];this.Ql=[];this.zB=new Map;this.pB=!1;this.xw=this.bK=0;
this.Bp=new Map;this.Cp=new Set;this.AB=new Set;this.oC=[];this.FU=[];this.P=null;this.om=!1;this.jB="vsync";this.Ir="standard";this.yd="trilinear";this.Sl=!1;this.XJ=!0;this.vJ=this.hV=!1;this.ln=null;this.lfa={KW:g=>{this.hm=this.we=-1;this.Oe(g)},gha:g=>{this.hm=-1;this.Oe(g,!1,"skip-render")},Rga:()=>{this.we=-1;this.Oo()}};this.hm=this.we=-1;this.Ur=this.Nk=0;this.iU=this.JB=this.qB=!1;this.rJ=!0;this.Fs=0;this.bfa=()=>Math.random();this.Gv=this.Rr=this.aC=this.En=0;this.je=1;this.$U=30;this.RI=
d.A(d.lz);this.SI=d.A(d.lz);this.aL=d.A(d.lz);this.iB=-1;this.jC=this.Wl=this.hB=this.wp=0;this.Zh=!1;this.mw=this.Hw="";this.ks=null;this.Lp="";this.sK=this.jK=null;this.Yb=d.A(d.Event.Rb);this.zI=new Map;this.gK=new Map;this.Tea=0;this.BU=this.HT=this.IT=!1;this.$K=[];this.tp={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,
"layoutchange",!1)};this.tp.instancedestroy.instance=null;this.ke=d.A(d.Event.Rb);this.SV=null;this.an=d.A(d.Ko,d.Vx.iG);this.kp=d.A(d.Ko,d.Vx.iG);this.lp=d.A(d.Ko,d.Vx.iG);this.fw=d.A(d.J2,this,c.jobScheduler);c.canvas&&(this.P=d.A(d.bE,this));this.uw.onmessage=g=>this._OnMessageFromDOM(g.data);this.xi("runtime","visibilitychange",g=>this.Yaa(g));this.xi("runtime","opus-decode",g=>this.Ida(g.arrayBuffer));this.xi("runtime","get-remote-preview-status-info",()=>this.c$());this.xi("runtime","js-invoke-function",
g=>this.cA(g));this.xi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Yb.addEventListener("window-blur",g=>this.bba(g));this.Yb.addEventListener("window-focus",()=>this.cba());this.Hb.JX();this.mj=null;this.yea=new WeakMap;this.xv={keyboard:null,IW:null,gM:null}}static Sa(c){return d.A(d.vP,c)}j(){d.F(this.Yc);this.$J.clear();this.aK.clear();this.eb.j();this.eb=null;this.za.j();this.za=null;this.zn.j();this.zn=null;this.nd.j();this.nd=null;this.Ph.j();this.Ph=null;this.Hb.j();
this.Hb=null;this.LK.j();this.LK=null;this.P&&(this.P.j(),this.P=null);this.Yb.j();this.Yb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.hS(c);else if("result"===g)this.Saa(c);else throw Error(`unknown message '${g}'`);}hS(c){if(this.BU){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new d.Event(m),c.data=h,this.Yb.Qfa(c)),l)){c=new d.Event(m,!0);for(const [r,
u]of Object.entries(h))c[r]=u;this.wh(c)}if(c=this.zI.get(g))if(c=c.get(m)){n=null;try{n=c(h)}catch(r){console.error(`Exception in '${g}' handler '${m}':`,r);null!==p&&this.fA(p,!1,""+r);return}null!==p&&(n&&n.then?n.then(r=>this.fA(p,!0,r)).catch(r=>{console.error(`Rejection from '${g}' handler '${m}':`,r);this.fA(p,!1,""+r)}):this.fA(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.$K.push(c)}fA(c,
g,m){this.uw.postMessage({type:"result",responseId:c,isOk:g,result:m})}Saa(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.gK.get(g);m?h.resolve(c):h.reject(c);this.gK.delete(g)}xi(c,g,m){let h=this.zI.get(c);h||(h=new Map,this.zI.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}fk(c,g,m){this.uw.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}Io(c,g,m){const h=this.Tea++,l=new Promise((n,p)=>{this.gK.set(h,{resolve:n,
reject:p})});this.uw.postMessage({type:"event",component:c,handler:g,data:m,responseId:h});return l}q4(){if(!this.yb)throw Error("not in debug mode");this.fk("runtime","post-to-debugger",{type:"reload"})}async nl(c){this.yb?await b.nl(this):self.wg&&self.wg.uka(this);var [g]=await Promise.all([this.nd.cN("data.json"),this.laa(),this.fw.nl()]);this.P$(g);await this.z$(c);this.Kq()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.kl()?(g=this.kl(),console.info(`[C3 runtime] Hosted in ${this.te?
"worker":"DOM"}, rendering with WebGL ${g.Sc} [${g.Rs}] (${g.s2()?"desynchronized":"standard"} compositing)`)):this.Dq()&&console.info(`[C3 runtime] Hosted in ${this.te?"worker":"DOM"}, rendering with experimental WebGPU`);this.jb().nB&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.BU=!0;for(const m of this.$K)this.hS(m);d.F(this.$K);this.P&&this.P.L6();for(const m of c.runOnStartupFunctions)this.vA.push(this.Qba(m));
await Promise.all([this.nd.vQ(),...this.vA]);d.F(this.vA);if(this.nd.WI)this.P&&this.P.WE();else return this.P&&await this.P.l_(),await this.Yb.tL(new d.Event("beforeruntimestart")),await this.Bu(),this.uw.postMessage({type:"runtime-ready"}),this}async Qba(c){try{await c(this.mj)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}P$(c){c=c.project;this.zC=c[0];this.mV=c[16];this.kK=c[31];const g=c[39]||"loading-logo.png";this.Sl=!!c[9];this.hh=this.sg=c[10];this.gh=this.ef=
c[11];this.qC=this.hh/2;this.rC=this.gh/2;this.Ir=c[36];this.jB=c[37];"low-latency"===this.Ir&&this.m2()&&77>=d.Sb.XD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Ir="standard");this.om=!!c[40];this.yd=c[14];this.aD=c[15];this.ZK=c[17];this.dD=!!c[18];this.ls=c[19];this.xw=c[21];this.hV=c[22];const m=this.nd;m.rca(c[7]);m.Gca(c[32]);m.Lca(c[28]);
m.ada(c[29]);if(0===this.ls){let u="";this.Kq()?m.WG(g)&&(u=m.zN(g)):u=m.jU+g;u&&(this.ns=m.pz({url:u}))}this.P&&(this.P.IP(d.bE.lR(c[12])),this.P.JP(c[23]?"high":"low"),this.P.XF(0!==c[24]),this.P.Hca(c[34]),this.P.Yca(c[41]),this.P.bda(c[13]),this.P.dda(c[30]),this.P.Bca(c[26]));this.zn.TY();this.oC=self.uM();for(var h of c[2])this.zn.RY(h);this.oC=self.uM();this.W$();for(var l of c[3])h=d.uF.Sa(this,this.Yc.length,l),this.Yc.push(h),this.$J.set(h.Ca().toLowerCase(),h),this.aK.set(h.lb,h);for(const u of c[4])this.Yc[u[0]].S$(u);
for(var n of c[27])l=n.map(u=>this.Yc[u]),this.Oda.push(d.A(d.HY,this,l));for(const u of this.Yc)u.vaa();for(const u of c[5])this.eb.Sa(u);(n=c[1])&&(n=this.eb.wq(n))&&this.eb.N5(n);for(var p of c[33])this.Hb.Sa(p);for(var r of c[35])this.LK.Sa(r);this.w$();for(const u of c[6])this.za.Sa(u);this.za.Ub();this.s$();d.F(this.oC);this.Kd();p="any";r=c[20];1===r?p="portrait":2===r&&(p="landscape");this.fk("runtime","set-target-orientation",{targetOrientation:p});if(c=c[42])this.ln=new self.qia(this,c),
this.jB="unlimited-frame",this.P.IP("off"),this.gn=1,self.devicePixelRatio=1,this.fk("runtime","set-exporting-to-video",{message:this.ln.Uja(0)})}Hm(){return null!==this.ln}X_(){return this.ln.Wja()}r$(){return this.ln.nl({width:this.P.eg,height:this.P.dg})}w9(){return this.ln.Pha(this.P.dj,this.fl())}x9(){this.ln.tq()}oM(c){this.vA.push(c)}X9(){return this.PT++}G7(c){this.SH.push(c)}async z$(c){this.P&&(await this.P.vh(c),this.P.R1(this.ls))}async laa(){if(!this.nd.n2()){var c=null;try{c=this.DU&&
this.nd.Zv?await this.nd.JM(this.eV):await this.nd.wt(this.eV)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.DX(c):this.CX();await this.EX([this.Xea])}}async Ida(c){return await this.QD("OpusDecode",{arrayBuffer:c},[c])}async Bu(){this.qB=!0;this.En=Date.now();if(this.dD){for(var c of this.Yc)c.bb||c.uJ||!c.Af||c.vd();this.nd.vQ().then(()=>{this.Gk=!1;this.kS()})}else this.Gk=!1;this.nd.T5();this.yb&&b.Koa(e);for(const g of this.eb.aj)g.m8();
this.Hm()&&await this.r$();c=this.eb.d0();await c.ZG(null,this.jb());await c.aT(!0);this.wp=performance.now();this.dD||this.kS();(await this.Io("runtime","before-start-ticking")).isSuspended&&!this.Hm()?this.Fs++:this.Oe()}kS(){this.xa(d.B.Ga.I.M3,null,null);this.fk("runtime","register-sw")}Ah(c){c=Math.floor(c);const g=this.oC;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}W$(){for(const c of self.hY){const g=d.first(Object.keys(c));this.FU.push(g)}}Fi(c){c=Math.floor(c);
const g=this.FU;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}uE(){return this.Uda}na(){return this.za}jd(){return this.za.jd()}hf(){return this.za.hf()}Ib(){return this.za.Ib()}Pf(){return this.za.Pf()}dO(){return 0===this.hf().Hl}Gt(){return this.za.Gt()}Rt(){return this.zn.Rt()}lf(c){c=Math.floor(c);if(0>c||c>=this.Yc.length)throw new RangeError("invalid index");return this.Yc[c]}Ly(c){return this.$J.get(c.toLowerCase())||null}My(c){return this.aK.get(c)||null}*rfa(){for(const c of this.Yc)c.bb||
(yield*c.yW())}Rb(){return this.Yb}wh(c){c.Lf=this.mj;const g=this.yb&&!this.za.$t();g&&b.kG();this.ke.dispatchEvent(c);g&&b.SD()}oo(c){c.Lf=this.mj;return this.ke.tL(c)}b6(c,g){if(this.hh!==c||this.gh!==g)this.hh=c,this.gh=g,c=this.eb,c.Qo(),c.Po()}Au(c,g){if(this.sg!==c||this.ef!==g)this.sg=c,this.ef=g,c=this.eb,c.Qo(),c.Po()}xca(c){this.Hm()||(this.gn=c)}bl(){return this.gn}Oj(){return this.P?this.P.Oj():this.sg}Nj(){return this.P?this.P.Nj():this.ef}zq(){return this.P?this.P.zq():1}Mj(){return this.P?
this.P.Mj():1}Kt(){return this.P?this.P.Kt():1}Jt(){return this.P?this.P.Jt():1}Et(){return this.P?this.P.Et():0}Ft(){return this.P?this.P.Ft():0}M_(){return this.P?this.P.Mc:0}L_(){return this.P?this.P.Cc:0}Fy(){return this.P?this.P.Fy():"off"}At(c){return this.P?this.P.At(c):null}Lo(c){this.P&&this.P.Lo(c)}Hy(){return this.P?this.P.Hy():NaN}mF(){return"nearest"!==this.yd}I4(){this.ns&&(this.ns.j(),this.ns=null)}Wb(){return this.eb.Wb()}pz(c){return this.nd.pz(c)}fE(c,g,m,h,l){return this.Bi(c,g,
!1,m,h,!1,l,void 0,l)}Bi(c,g,m,h,l,n,p,r,u){var w=null;let q=null;c instanceof d.uF?(q=c,q.bb&&(w=q.up,q=w[Math.floor(this.Qq()*w.length)]),w=q.Nr):(w=c,q=this.lf(w[1]));c=q.Ab().Af;if(this.Gk&&c&&!q.uJ)return null;const v=g;c||(g=null);var y=m&&!n&&w&&!this.Bp.has(w[2])?w[2]:this.xw++;const A=w?w[0]:null,G=d.A(d.Instance,{Lf:this,OL:q,GW:g,qX:A,xW:w?w[3]:null,uid:y});this.Bp.set(y,G);y=null;c&&(y=G.m(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.Ng(h),y.Kh(l)),q.JS());g&&(u||g.Sg(G,!0),1===
g.ee&&1===g.fe||q.tH(!0),g.kc().zO(q));this.bK++;let z=!0;r&&(r=r.K(),r.cc()&&q.cc()&&q.Xg===r.Xg&&(z=!1));if(q.cc()&&!m&&!n&&z){for(var F of q.Xg.dm)F!==q&&(r=this.Bi(F,v,!1,y?y.ka():h,y?y.la():l,!0,!1,void 0,u),G.ir(r));for(var H of G.Hd){H.ir(G);for(const J of G.Hd)H!==J&&H.ir(J)}}c&&!m&&p&&this.AG(G,A,y,g,h,l,u);if(q.cc()&&!m&&!n&&p)for(const J of G.Hd)if(m=J.m())F=J.Ab(),H=J.K().Nr[0],F.Af?this.AG(J,H,m,g,m.ka(),m.la(),u):this.AG(J,H,m,g,void 0,void 0,u);!n&&p&&("undefined"===typeof h&&(h=A[0]),
"undefined"===typeof l&&(l=A[1]),g=y.Vy(),h=h-y.ka()+g.ka(),l=l-y.la()+g.la(),g.Og(h,l));q.Zu();l=w?d.pL(w[5]):null;w=w?w[4].map(J=>d.pL(J)):null;c&&A&&A[13]&&G.Kca();G.Tz(l,w);this.Ql.push(G);this.pB=!0;this.yb&&b.vka(G);return G}AG(c,g,m,h,l,n,p){var r=m.M0(),u=m.DN();c.m().ZF(r);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof n&&(n=g[1]);r=new Set;m=g[0];g=g[1];for(const A of u){var w=A[1],q=A[2];u=A[3];var v=!!A[4];const G=A[5];q=this.eb.FE(A[0]).ea(w).l0(q);w=this.lf(q[1]);var y=
c.k1(w);const z=r.has(w);y&&!z&&v?(v=c.JN(w),y=l+q[0][0]-m,q=n+q[0][1]-g,v.m().Og(y,q),v.m().ZF(G),c.zm(v,{kt:!!(u>>0&1),lt:!!(u>>1&1),kq:!!(u>>2&1),jq:!!(u>>3&1),jt:!!(u>>4&1),xx:!!(u>>5&1),mt:!!(u>>6&1)}),r.add(w)):(w=this.Bi(q,h,!1,l+q[0][0]-m,n+q[0][1]-g,!1,!0,c,p),w.m().ZF(G),c.zm(w,{kt:!!(u>>0&1),lt:!!(u>>1&1),kq:!!(u>>2&1),jq:!!(u>>3&1),jt:!!(u>>4&1),xx:!!(u>>5&1),mt:!!(u>>6&1)}))}}}no(c){if(!this.Cp.has(c)){var g=c.K(),m=this.zB.get(g);if(m){if(m.has(c))return;m.add(c)}else m=new Set,m.add(c),
this.zB.set(g,m);this.yb&&b.wka(c);c.cH();this.pB=!0;if(c.cc())for(const h of c.Hd)this.no(h);for(const h of c.children())h.By()&&this.no(h);this.eb.gO()||this.Zh||(g=this.na(),g.Ce(!0),c.sda(),g.Ce(!1));c.D9(this.eb.gO())}}Kd(){this.pB&&(this.F9(),this.G9(),this.pB=!1,this.ga())}F9(){for(const c of this.Ql){const g=c.K();g.Sg(c);for(const m of g.Uh)m.Sg(c),m.Zu()}d.F(this.Ql)}G9(){this.Yb.Xq(!0);for(const [c,g]of this.zB.entries())this.H9(c,g),g.clear();this.zB.clear();this.Yb.Xq(!1)}H9(c,g){for(const h of g){var m=
this.tp.instancedestroy;m.instance=h;this.Yb.dispatchEvent(m);this.Bp.delete(h.fd);if(m=h.m())m.tS(),m.uS(),m.cH();this.Cp.add(h);this.bK--}d.tg(c.oa(),g);c.Zu();this.AB.add(c);0===c.oa().length&&c.tH(!1);for(const h of c.Uh)d.tg(h.oa(),g),h.Zu(),this.AB.add(h);if(c.Ab().Af){c=new Set([...g].map(h=>h.m().ea()));for(const h of c)h.vba(g)}}*BL(c){for(const g of this.Ql)c.bb?g.K().WD(c)&&(yield g):g.K()===c&&(yield g)}W9(){return this.xw++}iaa(c,g){this.Bp.set(c,g)}Vu(){this.Yb.dispatchEvent(d.A(d.Event,
"webglcontextlost"));this.yu(!0);for(var c of this.Yc)!c.bb&&c.i1()&&c.Mo();(c=this.Wb())&&c.Vu();d.cz.Nq();d.WN.Nq()}async kH(){await this.Wb().ZG(null,this.kl());this.Yb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.yu(!1);this.ga()}Yaa(c){this.yu(c.hidden)}bba(c){this.Kq()&&this.hV&&!d.Sb.hz&&!c.data.parentHasFocus&&(this.yu(!0),this.vJ=!0)}cba(){this.vJ&&(this.yu(!1),this.vJ=!1)}vS(){const c=this.lfa;"vsync"===this.jB?-1===this.we&&(this.we=self.requestAnimationFrame(c.KW)):"unlimited-tick"===
this.jB?(-1===this.hm&&(this.hm=d.HF(c.gha)),-1===this.we&&(this.we=self.requestAnimationFrame(c.Rga))):-1===this.hm&&(this.hm=d.HF(c.KW))}a8(){-1!==this.we&&(self.cancelAnimationFrame(this.we),this.we=-1);-1!==this.hm&&(d.pY(this.hm),this.hm=-1)}Mm(){return 0<this.Fs}yu(c){if(!this.Hm()){var g=this.Mm();this.Fs+=c?1:-1;0>this.Fs&&(this.Fs=0);c=this.Mm();!g&&c?(console.log("[Construct 3] Suspending"),this.a8(),this.Yb.dispatchEvent(d.A(d.Event,"suspend")),this.xa(d.B.Ga.I.b4,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.wp=this.aC=g=performance.now(),this.Wl=this.jC=this.hB=this.iB=0,this.Yb.dispatchEvent(d.A(d.Event,"resume")),this.xa(d.B.Ga.I.Y3,null,null),this.Wt()||this.Oe(g))}}D7(c){this.an.Uc(c)}xba(c){this.an.Dh(c)}wba(c){this.kp.Dh(c)}yba(c){this.lp.Dh(c)}R7(){this.an.Hh(!0);for(const c of this.an)c.Oe();this.an.Hh(!1)}Q7(){this.kp.Hh(!0);for(const c of this.kp);this.kp.Hh(!1)}S7(){this.lp.Hh(!0);for(const c of this.lp);this.lp.Hh(!1)}*w8(){this.an.Hh(!0);for(const c of this.an){const g=c.Oe();d.Km(g)&&
(yield*g)}this.an.Hh(!1)}*v8(){this.kp.Hh(!0);for(const c of this.kp)d.Km(void 0)&&(yield*void 0);this.kp.Hh(!1)}*x8(){this.lp.Hh(!0);for(const c of this.lp)d.Km(void 0)&&(yield*void 0);this.lp.Hh(!1)}async Oe(c,g,m){this.iU=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;if(this.qB&&(!this.Mm()||g||h)){g=performance.now();this.JB=!0;this.oaa(c||0);c=this.N6();this.se&&await c;c=this.Yb.Rfa(this.tp.pretick);c instanceof Promise&&await c;c=this.M6();this.se&&await c;this.taa()&&
await this.k$();this.eb.Jq()&&await this.kaa();c=this.O6();this.se&&await c;m&&this.Oo();if(this.Hm()&&(await this.w9(),this.fl()>=this.ln.VA)){this.x9();return}this.Mm()||h||this.vS();this.Nk++;this.Ur++;this.JB=!1;this.Wl+=performance.now()-g}}async N6(){const c=this.za,g=this.yb;this.Kd();c.Ce(!0);this.hu(this.Wb());g&&b.hr();this.se?await c.ZY():c.i5();g&&b.BX();this.gu();c.Ce(!1);this.Kd();c.Ce(!0)}async M6(){const c=this.yb,g=this.se,m=this.Yb,h=this.tp,l=this.SV;c&&b.hr();g?await this.ky(this.w8()):
this.R7();g?await this.ky(this.v8()):this.Q7();c&&b.xX();c&&b.hr();g?await this.QM(h.tick):m.dispatchEvent(h.tick);c&&b.GX();this.za.Ce(!1);this.wh(l.tick)}async O6(){const c=this.za,g=this.Yb,m=this.tp,h=this.yb,l=this.se;h&&b.hr();l?await c.XY(this.eb):c.g5(this.eb);h&&b.BX();this.Ph.AM();this.rS();this.rJ=!1;c.Ce(!0);h&&b.hr();l?await this.ky(this.x8()):this.S7();h&&b.xX();h&&b.hr();l?await this.QM(m.tick2):g.dispatchEvent(m.tick2);h&&b.GX();c.Ce(!1);l&&await c.uP()}rS(){if(0!==this.Cp.size){var c=
this.Yb;c.Xq(!0);for(const g of this.AB)g.Dn.No(this.Cp);this.AB.clear();this.za.M4(this.Cp);for(const g of this.Cp)g.j();this.Cp.clear();c.Xq(!1)}}async kaa(){const c=this.eb;let g=0;for(;c.Jq()&&10>g++;)await this.YQ(c.Aw)}oaa(c){let g=0;this.Hm()?this.Rr=g=1/this.X_():0!==this.aC&&(g=Math.max(c-this.aC,0)/1E3,.5<g&&(g=0),this.Rr=Math.min(g,1/this.$U));this.aC=c;this.Gv=this.Rr*this.je;this.RI.Uc(this.Gv);this.SI.Uc(g*this.je);this.aL.Uc(this.Rr);this.P&&this.P.Dda();1E3<=c-this.wp&&(this.wp+=1E3,
1E3<=c-this.wp&&(this.wp=c),this.hB=this.iB,this.iB=0,this.jC=Math.min(this.Wl/1E3,1),this.Wl=0,this.P&&this.P.wda(),this.yb&&b.fra());this.iB++}async YQ(c){const g=this.Yb,m=this.eb.Wb();await m.nda();m.vda(c,this.jb());m===c&&this.za.by();this.Ph.AM();this.rS();g.dispatchEvent(this.tp.beforelayoutchange);d.fo.KP(!0);await c.ZG(m,this.jb());d.fo.KP(!1);await c.aT(!1);g.dispatchEvent(this.tp.layoutchange);this.ga();this.rJ=!0;this.Kd()}ga(){this.XJ=!0}kl(){return this.P?this.P.kl():null}Dq(){return this.P?
this.P.Dq():null}jb(){return this.P?this.P.jb():null}Oo(){const c=this.P;if(c&&!c.A2()){var g=this.jb(),m=g.mk(),h=m&&g.Ni();m=m&&!1;h&&g.sY();if(this.XJ||this.Hm()){var l=this.eb.Wb();g.Bu();var n=this.yb;n&&b.hr();this.XJ=!1;var p=null;h&&(p=c.mB.TD(),g.lG(p));h=null;m&&(h=g.qqa(2*(1+l.ec.length)),g.y7(0));this.om&&"low"===c.Xh?g.O5(c.Oj(),c.Nj()):g.w5();this.Eba(this.jb(),l);p&&g.nE(p);m&&(g.y7(1),this.P.P7(h));g.tq();n&&(b.Oha(),b.gra());c&&c.maa()}else g.F1()}}Eba(c,g){c.lk();c.zP();c.rf(1,1,
1,1);c.Mg(null);c.$f(null);c.Kg(this.om);g.xh(c)}xa(c,g,m){if(!this.qB)return!1;var h=!this.JB&&!this.za.lF();let l=0;h&&(l=performance.now());const n=this.yb;n&&this.Dz(!1);c=this.za.cv(this.eb,c,g,m);h&&(h=performance.now()-l,this.Wl+=h,n&&b.Sha(h));n&&this.Dz(!0);return c}async md(c,g,m){if(!this.se)return this.xa(c,g,m);if(!this.qB)return!1;if(this.Wt())return this.za.D4(c,g,m);if(!this.Wb())return this.za.DF(c,g,m);const h=performance.now();c=this.za.Hu(this.eb,c,g,m);for(g=c.next();!g.done;)await this.pq(g.value),
g=c.next();this.Mm()||this.za.lF()||(await this.za.uP(),this.iU&&!this.JB&&this.vS());this.Wl+=performance.now()-h;return g.value}hu(c){this.Av.push(c)}gu(){if(!this.Av.length)throw Error("layout stack empty");this.Av.pop()}Oa(){return this.Av.length?this.Av.le(-1):this.Wb()}Cy(c){return c&&-1!==c.je?this.Rr*c.je:this.Gv}cG(c){if(isNaN(c)||0>c)c=0;this.je=c}VP(c){this.$U=d.da(c,1,120)}fl(){return this.RI.ba()}h0(){return this.SI.ba()}QE(){return this.aL.ba()}ml(){++this.Ur}Qj(c){if(this.Zh)throw Error("cannot call while loading state - wait until afterload event");
return this.Bp.get(c)||null}pS(){this.Bp.clear();for(const c of this.Yc)if(!c.bb)for(const g of c.oa())this.Bp.set(g.fd,g)}Kq(){return"preview"===this.Ue}cO(){return"cordova"===this.Ue}m2(){return"Android"===d.Sb.Bh&&("cordova"===this.Ue||"playable-ad"===this.Ue||"instant-games"===this.Ue)}ME(){return this.zn.ME()}Qf(){return this.jb().Qf(this.ef)}e6(c){c=!!c;this.Sl!==c&&(this.Sl=c,this.eb.Po(),this.ga())}n5(c){this.Hw=c}U2(c){this.mw=c}tF(c){this.ks=c}taa(){return!(!this.Hw&&!this.mw&&null===this.ks)}async k$(){this.Hw&&
(this.Kd(),await this.a9(this.Hw),this.yG());this.mw&&(await this.Z8(this.mw),this.yG(),this.yb&&b.sqa());if(null!==this.ks){this.Kd();try{await this.ZQ(this.ks),this.Lp=this.ks,await this.md(d.B.Ga.I.OO,null),this.Lp=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.md(d.B.Ga.I.AF,null)}this.yG()}}yG(){this.mw=this.Hw="";this.ks=null}b$(){this.jK||(this.jK=localforage.qL({name:"c3-localstorage-"+this.kK,description:this.zC}));return this.jK}BR(){this.sK||
(this.sK=localforage.qL({name:"c3-savegames-"+this.kK,description:this.zC}));return this.sK}async a9(c){const g=await this.jca();try{await this.BR().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Lp=g,await this.md(d.B.Ga.I.Z3,null),this.Lp=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.md(d.B.Ga.I.a4,null)}}async Z8(c){try{const g=await this.BR().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
g.length+" chars)");await this.ZQ(g);this.Lp=g;await this.md(d.B.Ga.I.OO,null);this.Lp=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.md(d.B.Ga.I.AF,null)}}async jca(){const c={c3save:!0,version:1,rt:{time:this.fl(),timeRaw:this.h0(),walltime:this.QE(),timescale:this.je,tickcount:this.Nk,execcount:this.Ur,next_uid:this.xw,running_layout:this.Wb().lb,start_time_offset:Date.now()-this.En},types:{},layouts:{},events:this.za.ma(),timelines:this.Hb.ma(),user_script_data:null};
for(var g of this.Yc)g.bb||g.RN()||(c.types[g.lb.toString()]=g.ma());for(const m of this.eb.aj)c.layouts[m.lb.toString()]=m.ma();g=this.DG("save");g.saveData=null;await this.oo(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async ZQ(c){var g=this.eb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Yb.dispatchEvent(d.A(d.Event,"beforeload"));
for(var m of this.rfa())m.dA();this.Zh=!0;m=c.rt;this.RI.Set(m.time);m.hasOwnProperty("timeRaw")&&this.SI.Set(m.timeRaw);this.aL.Set(m.walltime);this.je=m.timescale;this.Nk=m.tickcount;this.Ur=m.execcount;this.En=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Wb().lb)if(h=g.FE(h))await this.YQ(h);else return;for(const [l,n]of Object.entries(c.types))h=this.My(parseInt(l,10)),!h||h.bb||h.RN()||h.qa(n);this.Kd();this.pS();this.Zh=!1;this.xw=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=
g.FE(parseInt(l,10)))&&m.qa(n);this.za.qa(c.events);for(const l of this.Yc)if(!l.bb&&l.cc())for(const n of l.oa()){m=n.ro();for(const p of l.Xg.dm)if(p!==l){h=p.oa();if(0>m||m>=h.length)throw Error("missing sibling instance");n.ir(h[m])}}this.Hb.qa(c.timelines);g.Qo();g.Po();this.Yb.dispatchEvent(d.A(d.Event,"afterload"));g=this.DG("load");g.saveData=c.user_script_data;await this.oo(g);this.ga()}async EX(c){c=(await Promise.all(c.map(g=>this.nd.al(g)))).map(g=>URL.createObjectURL(g));this.fw.E1(c)}CX(){this.fw.r5()}DX(c){this.fw.s5(c)}QD(c,
g,m){return this.fw.QD(c,g,m)}cF(c,g){this.fk("runtime","invoke-download",{url:c,filename:g})}async E4(c){var g=g||2048;var m=m||2048;return this.te?(await this.Io("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}Sq(){this.IT||(this.IT=!0,this.fk("runtime","enable-device-orientation"))}Om(){this.HT||(this.HT=!0,this.fk("runtime","enable-device-motion"))}Qq(){return this.bfa()}c$(){const c=
this.kl();return{fps:this.hB,cpu:this.jC,gpu:this.Hy(),layout:this.Wb()?this.Wb().Ca():"",renderer:c?c.Rs:"<unavailable>"}}Wt(){return this.yb?b.Wt():!1}pq(c){return this.se?b.pq(c):Promise.resolve()}vc(){return this.se?b.mia():!1}Dz(c){c?this.vI--:this.vI++;this.yda()}yda(){this.se=this.yb&&this.aea&&0===this.vI}eF(){return this.yb&&b.eF()}iF(){return this.yb&&this.jb().mk()&&b.iF()}async ky(c){if(c)for(const g of c)await this.pq(g)}QM(c){return this.ky(this.Yb.Sfa(c))}cA(c){return this.za.cA(c.name,
c.params)}DG(c){c=d.A(d.Event,c,!1);c.Lf=this.mj;return c}w$(){var c={};for(const g of this.Yc)c[g.Fi()]={value:g.Rv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.mj=new self.x1(this,c);this.SV={tick:this.DG("tick")}}s$(){const c={};for(const g of this.na().TH)c[g.Fi()]=g.CR();this.mj.t$(c)}WR(c,g){this.yea.set(c,g)}};self.C3_CreateRuntime=d.vP.Sa;self.C3_InitRuntime=(c,g)=>c.nl(g)}
{"use strict";const d=self.D;d.J2=class extends d.ja{constructor(b,a){super();this.g=b;this.Ip=new Map;this.Vea=0;this.Uv=a.inputPort;a.outputPort.onmessage=e=>this.jS(e);this.TU=a.maxNumWorkers;this.gw=1;this.bU=this.Yv=!1}async nl(){}E1(b){this.Uv.postMessage({type:"_import_scripts",scripts:b})}r5(){this.Uv.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}s5(b){this.Uv.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}QD(b,a,e){e||(e=[]);const c=this.Vea++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:e};a=new Promise((g,m)=>{this.Ip.set(c,{resolve:g,progress:void 0,reject:m,oL:!1})});this.Uv.postMessage(b,e);this.YR();return a}jS(b){b=b.data;const a=b.type,e=b.jobId;switch(a){case "result":this.Laa(e,b.result);break;case "progress":this.Kaa(e,b.progress);break;case "error":this.Jaa(e,b.error);break;case "ready":this.Maa();break;default:throw Error(`unknown message from worker '${a}'`);}}Laa(b,a){const e=this.Ip.get(b);if(!e)throw Error("invalid job ID");
e.oL||e.resolve(a);this.Ip.delete(b)}Kaa(b,a){b=this.Ip.get(b);if(!b)throw Error("invalid job ID");!b.oL&&b.progress&&b.progress(a)}Jaa(b,a){const e=this.Ip.get(b);if(!e)throw Error("invalid job ID");e.oL||e.reject(a);this.Ip.delete(b)}Maa(){this.Yv&&(this.Yv=!1,this.gw++,this.gw<this.TU?this.YR():this.Uv.postMessage({type:"_no_more_workers"}))}async YR(){if(!(this.gw>=this.TU||this.Yv||this.bU||this.Ip.size<=this.gw))try{this.Yv=!0,(await this.g.Io("runtime","create-job-worker")).outputPort.onmessage=
b=>this.jS(b)}catch(b){this.bU=!0,this.Yv=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.gw} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.D;let b=null,a="",e="",c=[],g="",m="",h="";const l=d.A(d.SX);function n(p,r){p=p[1];r=r[1];if("number"===typeof p&&"number"===typeof r)return p-r;p=""+p;r=""+r;return p<r?-1:p>r?1:0}d.B.Ga=class extends d.Pm{constructor(p){super(p);this.Cf=this.g.na().Cf;this.Od=this.g.na().jd();this.Sv=this.zp=0;this.WT=new Map}j(){super.j()}ga(){this.g.ga()}xa(p){this.g.xa(p,null,null)}Ry(p,r){b&&p===a&&r===e||(b=new RegExp(p,r),a=p,e=r);b.lastIndex=0;return b}CN(p,r,u){if(p===g&&r===
m&&u===h)return c;const w=this.Ry(r,u);c=p.match(w);g=p;m=r;h=u;return c}async aH(p,r){if(r.length){this.zp+=r.length;var u=[];for(const w of r)u.push(p.zO(w));await d.v4(u,()=>{this.Sv++});this.Sv++;this.Sv===this.zp&&(this.g.xa(d.B.Ga.I.H3,null,null),this.zp=this.Sv=0)}}fT(p,r){for(const u of r)0===u.G.length&&p.h3(u)}tR(){return l}Gba(p){var r=this.g.na();const u=r.jd(),w=u.jf(),q=w.Ib(),v=q.Cd();var y=w.ck();const A=u.Ta(q),G=r.Cf,z=G.Ta();if(y)for(y=0;y<p&&!z.yc;++y)r.Ke(v),z.Kc(y),q.Ig(w,A),
r.Tb(v);else for(r=0;r<p&&!z.yc;++r)z.Kc(r),q.Ig(w,A);u.Pa();G.Pa();return!1}*D8(p){var r=this.g.na();const u=r.jd(),w=u.jf(),q=w.Ib(),v=q.Cd();var y=w.ck();const A=u.Ta(q),G=r.Cf,z=G.Ta();if(y)for(y=0;y<p&&!z.yc;++y)r.Ke(v),z.Kc(y),yield*q.yg(w,A),r.Tb(v);else for(r=0;r<p&&!z.yc;++r)z.Kc(r),yield*q.yg(w,A);u.Pa();G.Pa();return!1}Jda(){var p=this.g.na();const r=p.jd(),u=r.jf(),w=u.Ib(),q=w.Cd();var v=u.ck();const y=r.Ta(w),A=p.Cf,G=A.Ta();if(v)for(v=0;!G.yc;++v)p.Ke(q),G.Kc(v),w.Ig(u,y)||G.Ne(),p.Tb(q);
else for(p=0;!G.yc;++p)G.Kc(p),w.Ig(u,y)||G.Ne();r.Pa();A.Pa();return!1}*X8(){var p=this.g.na();const r=p.jd(),u=r.jf(),w=u.Ib(),q=w.Cd();var v=u.ck();const y=r.Ta(w),A=p.Cf,G=A.Ta();if(v)for(v=0;!G.yc;++v)p.Ke(q),G.Kc(v),(yield*w.yg(u,y))||G.Ne(),p.Tb(q);else for(p=0;!G.yc;++p)G.Kc(p),(yield*w.yg(u,y))||G.Ne();r.Pa();A.Pa();return!1}I9(p,r,u){var w=this.g.na();const q=w.jd(),v=q.jf(),y=v.Ib(),A=y.Cd(),G=v.ck(),z=q.Ta(y),F=w.Cf,H=F.Ta();H.Hz(p);if(u<r)if(G)for(p=r;p>=u&&!H.yc;--p)w.Ke(A),H.Kc(p),
y.Ig(v,z),w.Tb(A);else for(w=r;w>=u&&!H.yc;--w)H.Kc(w),y.Ig(v,z);else if(G)for(p=r;p<=u&&!H.yc;++p)w.Ke(A),H.Kc(p),y.Ig(v,z),w.Tb(A);else for(w=r;w<=u&&!H.yc;++w)H.Kc(w),y.Ig(v,z);q.Pa();F.Pa();return!1}*A8(p,r,u){var w=this.g.na();const q=w.jd(),v=q.jf(),y=v.Ib(),A=y.Cd(),G=v.ck(),z=q.Ta(y),F=w.Cf,H=F.Ta();H.Hz(p);if(u<r)if(G)for(p=r;p>=u&&!H.yc;--p)w.Ke(A),H.Kc(p),yield*y.yg(v,z),w.Tb(A);else for(w=r;w>=u&&!H.yc;--w)H.Kc(w),yield*y.yg(v,z);else if(G)for(p=r;p<=u&&!H.yc;++p)w.Ke(A),H.Kc(p),yield*y.yg(v,
z),w.Tb(A);else for(w=r;w<=u&&!H.yc;++w)H.Kc(w),yield*y.yg(v,z);q.Pa();F.Pa();return!1}J9(p){var r=this.g.na();const u=r.jd(),w=u.jf(),q=w.Ib(),v=q.Cd();var y=w.ck();const A=u.Ta(q),G=r.Cf,z=G.Ta(),F=p.cc(),H=p.V(),J=l.Ta();d.Tc(J,H.oa());if(y)for(let M=0,Q=J.length;M<Q&&!z.yc;++M)r.Ke(v),y=J[M],p.V().kk(y),F&&y.Ui(),z.Kc(M),q.Ig(w,A),r.Tb(v);else{H.oe(!1);p=H.G;d.F(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.yc;++M)r=J[M],p[0]=r,F&&r.Ui(),z.Kc(M),q.Ig(w,A)}u.Pa();G.Pa();d.F(J);l.Pa();return!1}*B8(p){var r=
this.g.na();const u=r.jd(),w=u.jf(),q=w.Ib(),v=q.Cd();var y=w.ck();const A=u.Ta(q),G=r.Cf,z=G.Ta(),F=p.cc(),H=p.V(),J=l.Ta();d.Tc(J,H.oa());if(y)for(let M=0,Q=J.length;M<Q&&!z.yc;++M)r.Ke(v),y=J[M],p.V().kk(y),F&&y.Ui(),z.Kc(M),yield*q.yg(w,A),r.Tb(v);else{H.oe(!1);p=H.G;d.F(p);p.push(null);for(let M=0,Q=J.length;M<Q&&!z.yc;++M)r=J[M],p[0]=r,F&&r.Ui(),z.Kc(M),yield*q.yg(w,A)}u.Pa();G.Pa();d.F(J);l.Pa();return!1}K9(p,r){var u=this.g.na();const w=u.jd(),q=u.Pf(),v=w.jf(),y=v.Ib(),A=y.Cd(),G=v.ck(),
z=w.Ta(y),F=u.Cf,H=F.Ta(),J=p.cc(),M=p.V(),Q=l.Ta();d.F(Q);const R=M.oa();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],q.ju(1,T)]);Q.sort(n);1===r&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.yc;++T)u.Ke(A),r=Q[T][0],p.V().kk(r),J&&r.Ui(),H.Kc(T),y.Ig(v,z),u.Tb(A);else{M.oe(!1);p=M.G;d.F(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.yc;++T)u=Q[T][0],p[0]=u,J&&u.Ui(),H.Kc(T),y.Ig(v,z)}w.Pa();F.Pa();d.F(Q);l.Pa();return!1}*C8(p,r){var u=this.g.na();const w=u.jd(),q=u.Pf(),v=w.jf(),y=v.Ib(),A=y.Cd(),
G=v.ck(),z=w.Ta(y),F=u.Cf,H=F.Ta(),J=p.cc(),M=p.V(),Q=l.Ta();d.F(Q);const R=M.oa();for(let T=0,Z=R.length;T<Z;++T)Q.push([R[T],q.ju(1,T)]);Q.sort(n);1===r&&Q.reverse();if(G)for(let T=0,Z=Q.length;T<Z&&!H.yc;++T)u.Ke(A),r=Q[T][0],p.V().kk(r),J&&r.Ui(),H.Kc(T),yield*y.yg(v,z),u.Tb(A);else{M.oe(!1);p=M.G;d.F(p);p.push(null);for(let T=0,Z=Q.length;T<Z&&!H.yc;++T)u=Q[T][0],p[0]=u,J&&u.Ui(),H.Kc(T),yield*y.yg(v,z)}w.Pa();F.Pa();d.F(Q);l.Pa();return!1}Yz(p,r){let u=this.WT.get(p);if(u)return u;if(!r)return null;
u={Wn:null,ID:new Map};this.WT.set(p,u);return u}Y8(p,r,u,w,q){r.Ge().f5(u);w&&p.Tb(q)}*y8(p,r,u,w,q){yield*r.Ge().WY(u);w&&p.Tb(q)}}}{"use strict";const d=self.D;d.B.Ga.tl=class extends d.ja{constructor(b){super();this.O=b;this.g=b.J();this.fi=b.Ab()}vd(){}j(){this.fi=this.g=this.O=null}}}{"use strict";const d=self.D;d.B.Ga.Instance=class extends d.ja{constructor(b){super();this.X=b;this.O=this.X.K();this.Rc=this.O.Rc;this.g=this.X.J()}j(){this.g=this.Rc=this.O=this.X=null}}}
{"use strict";const d=self.D,b=[];d.B.Ga.I={Aja(){return!0},NO(){return!0},J3(){return!0},b4(){return!0},Y3(){return!0},Mm(){return this.g.Mm()},ZM(){const a=this.g.hf();return a.CI?!1:!a.Jp},Z6(){const a=this.g.Pf().Hi();let e=a.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Nk;a.set("TriggerOnce_lastTick",c);return this.g.rJ||e!==c-1},zja(a){const e=this.g.Pf().Hi(),c=e.get("Every_lastTime")||0,g=this.g.fl();e.has("Every_seconds")||e.set("Every_seconds",
a);const m=e.get("Every_seconds");if(g>=c+m)return e.set("Every_lastTime",c+m),g>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",g),e.set("Every_seconds",a),!0;g<c-.1&&e.set("Every_lastTime",g);return!1},Hq(a){return(a=this.g.na().pN(a))&&a.Hq()},Kq(){return this.g.Kq()},hz(){return d.Sb.hz},M3(){return!0},z3(){return!0},uja(){return!0},Z3(){return!0},a4(){return!0},OO(){return!0},AF(){return!0},rma(a){return!!this.g.Qj(a)},gla(a){switch(a){case 0:return"browser"===d.Sb.dE;case 1:return"iOS"===
d.Sb.Bh;case 2:return"Android"===d.Sb.Bh;case 8:return"cordova"===d.Sb.dE;case 9:return"scirra-arcade"===this.g.Ue;case 10:return"nwjs"===d.Sb.dE;case 13:return"windows-uwp"===this.g.Ue;default:return!1}},Cna(a,e,c){return this.Ry(e,c).test(a)},CY(a,e,c){return d.compare(a,e,c)},Lia(a,e,c){return a>=e&&a<=c},EY(a,e,c){return d.compare(a.H(),e,c)},DY(a){return!!a.H()},Tia(a,e){const c=this.g.fl();return 0===a?(a=this.g.Pf().Hi(),!a.get("CompareTime_executed")&&c>=e?(a.set("CompareTime_executed",!0),
!0):!1):d.compare(c,a,e)},Zka(a){return isNaN(a)},MX(a,e,c){return d.Ws(d.nb(a),d.nb(c))<=d.nb(e)},q2(a,e){return d.Gf(d.nb(a),d.nb(e))},p2(a,e,c){a=d.nb(a);e=d.nb(e);c=d.nb(c);return d.Gf(c,e)?d.Gf(a,e)&&!d.Gf(a,c):!(!d.Gf(a,e)&&d.Gf(a,c))},sla(a,e){return"number"===typeof a?0===e:1===e},yja(a){return!!a},Rma(a,e,c,g){if(!a)return!1;const m=this.tR(),h=m.Ta(),l=a.V();d.Tc(h,l.oa());l.$b&&d.F(l.hc);const n=this.g.Pf();let p=0;for(let r=0,u=h.length;r<u;++r){const w=h[r];h[p]=w;e=n.ju(1,r);g=n.ju(3,
r);d.compare(e,c,g)?++p:l.Al(w)}d.ff(h,p);l.mu(h);e=!!h.length;d.F(h);m.Pa();a.jc();return e},Sma(a,e){if(!a)return!1;const c=this.tR(),g=c.Ta(),m=a.V();d.Tc(g,m.oa());m.$b&&d.F(m.hc);const h=this.g.Pf();let l=0;for(let n=0,p=g.length;n<p;++n){const r=g[n];g[l]=r;(e=h.ju(1,n))?++l:m.Al(r)}d.ff(g,l);m.mu(g);e=!!g.length;d.F(g);c.Pa();a.jc();return e},Yma(a,e){if(!a)return!1;const c=a.V(),g=c.oa();e=Math.floor(e);if(e>=g.length)return!1;c.Nm(g[e]);a.jc();return!0},bna(a){if(!a)return!1;const e=a.V(),
c=e.oa(),g=Math.floor(this.g.Qq()*c.length);if(g>=c.length)return!1;e.Nm(c[g]);a.jc();return!0},Qma(a){if(!a||!a.G.length)return!1;a.V().oe(!0);a.jc();return!0},$ma(a,e,c){if(!a)return!1;const g=a.V();var m=g.oa();const h=this.g.Ib().Pd,l=this.g.Pf().pj;g.$b?(d.Tc(b,m),g.cy(),g.oe(!1)):h?(d.Tc(b,g.hc),d.F(g.hc)):(d.Tc(b,g.G),d.F(g.G));for(let n=0,p=b.length;n<p;++n)m=b[n],d.xor(m.m().qt(e,c),l)?g.cp(m):g.Al(m);a.jc();return d.xor(!!g.G.length,l)},Xma(a){if(!a)return!1;var e=a.bb;let c=null;const g=
this.g.Ql;for(let m=g.length-1;0<=m;--m){const h=g[m];if(e){if(h.K().WD(a)){c=h;break}}else if(h.K()===a){c=h;break}}c||(e=a.oa(),e.length&&(c=e.le(-1)));if(!c)return!1;a.V().Nm(c);a.jc();return!0},Ina(a){return this.g.se?this.D8(a):this.Gba(a)},Bra(){return this.g.se?this.X8():this.Jda()},A_(a,e,c){return this.g.se?this.A8(a,e,c):this.I9(a,e,c)},fN(a){return this.g.se?this.B8(a):this.J9(a)},Lja(a,e,c){return this.g.se?this.C8(a,c):this.K9(a,c)},Gla(a){return a?a.kd():!1},Ela(a){return a?a.jz():!1},
Dla(a){return a?!a.G.length:!1},Cla(a,e,c){return a?d.compare(100*a.Vd(),e,c):!1},H3(){return!0},Tka(){return 0<this.zp}}}
{"use strict";const d=self.D;function b(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function a(h,l){return h[1]-l[1]}const e=[],c=[],g=d.A(d.Rect),m=d.A(d.fb);d.B.Ga.Ya={x6(h,l){h.Me(l)},KX(h,l){h.Lm()&&"number"!==typeof l&&(l=parseFloat(l));h.Me(h.H()+l)},Fqa(h,l){h.Lm()&&h.Me(h.H()-l)},B5(h,l){h.Me(!!l)},Oqa(h){h.Me(!h.H())},yoa(){this.g.na().V4()},MM(h,l,n,p,r){h&&l&&(n=this.g.fE(h,l,n,p,r))&&(r&&l.hG(n),l=this.g.na(),l.Ce(!0),n.rA(),l.Ce(!1),h.V().kk(n),n.cc()&&n.Ui())},ija(h,l,n,p,r){h&&
l&&(h=this.g.Ly(h))&&d.B.Ga.Ya.MM.call(this,h,l,n,p,r)},iu(h,l,n,p,r,u,w,q,v,y){if(h){var A=this.g.Oa();if(u&&(A=this.g.eb.wq(u),!A))return;u=null;if("number"!==typeof w||0<=w)if(u=A.ea(w),!u)return;g.set(l,n,p,r);l=A.iu(h,g,u,q,v,y);h.V().mu(l);h.jc()}},P6(){const h=this.Cf;h.iO()&&h.uq().Ne()},Zq(h,l){(h=this.g.na().pN(h))&&(0===l?h.Zq(!1):1===l?h.Zq(!0):h.Zq(!h.Hq()))},Ypa(h){this.g.cG(h)},Upa(h,l){0>l&&(l=0);if(h){h=h.V().oa();for(const n of h)n.cG(l)}},Coa(h){if(h){h=h.V().oa();for(const l of h)l.c5()}},
rG(h){if(!(0>h))return this.g.na().RD().h2(h),!0},rra(h){this.g.na().RD().f2(h);return!0},qra(){const h=this.g.na();h.RD().T1(h.J0());return!0},eqa(h){h=h.toLowerCase();for(const l of this.g.na().ng)l.D2()&&l.Ow===h&&l.$F()},async gQ(h,l,n,p,r,u){const w=this.g.P;w&&(this.ga(),await w.gQ(0===h?"image/png":"image/jpeg",l/100,n,p,r,u),await this.g.md(d.B.Ga.I.z3,null))},epa(h,l){if(!(0>=h||0>=l)){this.g.Au(h,l);var n=this.g.Oa();n.Xx();for(const p of n.ec)p.qG();if(n=this.g.P)"off"!==n.Ht()&&this.g.b6(h,
l),n.Xc(n.Aj,n.zj,!0),this.g.ga()}},rpa(h){const l=this.g.P;l&&"off"!==l.Ht()&&(l.JP(0!==h?"high":"low"),l.Xc(l.Aj,l.zj,!0))},Qm(h){this.g.n5(h)},X2(h){this.g.U2(h)},Mla(h){this.g.tF(h)},tpa(){},zoa(){for(const h of this.g.eb.aj)h.a5()},Vpa(h){this.g.e6(0!==h)},VP(h){this.g.VP(h)},lqa(h,l){if(h){var n=h.V().oa(),p=this.g.Oa(),r=h.bb;h=h.Vh;for(let w=0,q=n.length;w<q;++w){var u=n[w];const v=u.m();if(!v)continue;let y;y=r?u.He(l+u.K().BE(h)):u.He(l);e.push([v.ea().Ka(),v.ak()]);c.push([u,y])}if(e.length){e.sort(b);
c.sort(a);l=!1;for(let w=0,q=e.length;w<q;++w)n=c[w][0],r=p.Iy(e[w][0]),h=e[w][1],u=r.G,u[h]!==n&&(u[h]=n,n.m().$u(r),r.Pg(),l=!0);l&&this.g.ga();d.F(e);d.F(c)}}},V0(h){if(!this.g.Gk){var l=this.g.eb;l.Jq()||l.ay(h)}},aka(h){if(!this.g.Gk){var l=this.g.eb;l.Jq()||(h=l.wq(h))&&l.ay(h)}},lma(h){if(!this.g.Gk){var l=this.g.eb;if(!l.Jq()){var n=l.aj,p=n.indexOf(l.Wb());h&&0===p||(h||p!==n.length-1)&&l.ay(n[p+(h?-1:1)])}}},Aoa(){if(!this.g.Gk){var h=this.g.eb;h.Jq()||(h.ay(h.Wb()),this.g.na().W4())}},
Jpa(h,l){h&&h.Ih(l)},Cpa(h,l){h&&h.W5(l)},Dpa(h,l){h&&h.Lg(l/100)},Fpa(h,l){h&&h.XP(l)},Gpa(h,l){h&&h.h6(l)},wpa(h,l){h&&h.Jc(d.nb(+l))},Hpa(h,l,n){h&&(h.uu(!0),h.Si(l),h.Ti(n))},Boa(h){h&&h.uu(!1)},Epa(h,l,n){h&&h.c6(l/100,n/100)},Kpa(h,l){h&&h.sf(+l)},xpa(h,l){h&&(m.ht(l),m.da(),h=h.Fl,h.tm(m)||(h.Bj(m),this.ga()))},Ipa(h,l){h&&h.t6(l)},ypa(h,l){h&&h.Zf(l)},zpa(h,l,n){h&&(n=h.Qa.dl(n))&&(l=1===l,n.Mb!==l&&(n.Bz(l),h.Lh(),this.g.ga()))},Apa(h,l,n,p){if(h&&(h=h.Qa,l=h.dl(l))&&(h=h.cl(l.Ka()),n=Math.floor(n),
!(0>n||n>=h.length))){var r=l.Uf().Ny(n);if("color"===r){m.ht(p);n=h[n];if(m.tm(n))return;n.Bj(m)}else{"percent"===r&&(p/=100);if(h[n]===p)return;h[n]=p}l.Mb&&this.g.ga()}},Bpa(h,l){h&&h.Q5(l)},Ppa(h){this.g.Oa().YF(+h)},Lpa(h){this.g.Oa().Jc(d.nb(+h))},Mpa(h,l){const n=this.g.Oa();if(l=n.Qa.dl(l))h=1===h,l.Mb!==h&&(l.Bz(h),n.Lh(),this.g.ga())},Npa(h,l,n){var p=this.g.Oa().Qa;if(h=p.dl(h))if(p=p.cl(h.Ka()),l=Math.floor(l),!(0>l||l>=p.length)){var r=h.Uf().Ny(l);if("color"===r){m.ht(n);l=p[l];if(m.tm(l))return;
l.Bj(m)}else{"percent"===r&&(n/=100);if(p[l]===n)return;p[l]=n}h.Mb&&this.g.ga()}},Qpa(h,l){this.g.Oa().w6(h/100,l/100)},Opa(h){const l=this.g.Oa();0===h?l.ZP():l.WP()},Voa(h){this.g.Oa().Si(h)},Woa(h){this.g.Oa().Ti(h)},Toa(h,l){const n=this.g.Oa();n.Si(h);n.Ti(l)},Uoa(h){if(h&&(h=h.sN())&&(h=h.m())){var l=this.g.Oa();l.Si(h.ka());l.Ti(h.la())}},async W2(h){const l=this.g.Wb();l&&h&&!this.g.Gk&&await this.aH(l,h.bb?h.up:[h])},async Lla(h){await d.B.Ga.Ya.W2.call(this,this.g.Ly(h))},b7(h){const l=
this.g.Wb();l&&h&&this.fT(l,h.bb?h.up:[h])},bra(h){d.B.Ga.Ya.b7.call(this,this.g.Ly(h))},cra(){const h=this.g.Wb();if(h){var l=h.j$();this.fT(h,l)}},async Jla(h){const l=this.g.Wb();h&&l&&!this.g.Gk&&await this.aH(l,h.uR())},async Kla(h){const l=this.g.Wb();(h=this.g.eb.wq(h))&&l&&!this.g.Gk&&await this.aH(l,h.uR())},su(h){const l=this.Od.P_();if(l)switch(l.XT){case 1:"number"===typeof h&&l.su(h);break;case 2:"string"===typeof h&&l.su(h);break;case 3:l.su(h)}},Rla(h,l,n){var p=this.Yz(h.toLowerCase(),
!0);const r=p.ID,u=l.toLowerCase();r.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=d.first(r.values())||p.Wn)&&0!==p.gm!==(0!==n.gm)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(u,n)},Sla(h,l){const n=this.Yz(h.toLowerCase(),!0);n.Wn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=
d.first(n.ID.values())||n.Wn;p&&0!==p.gm!==(0!==l.gm)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.Wn=l},ria(h,l,n){n=Math.floor(n);var p=this.Yz(h.toLowerCase(),!1);if(p){var r=p.ID.get(l.toLowerCase());if(!r)if(p.Wn)r=p.Wn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(r.Gm())if(0!==
r.gm)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);else{h=this.g;l=h.na();var u=l.Ib();p=u.Dd();var w=0<p.length;w&&l.Hg(p);var q=[];if(u=l.pE(u)){u=u.ah;for(let v=n,y=u.length;v<y;++v)q.push(u[v].H())}n=r.ah;for(let v=q.length,y=n.length;v<y;++v)q.push(n[v].Ap);return h.se?this.y8(l,r,q,w,p):this.Y8(l,r,q,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.B.Ga.kb={mga:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Yfa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},xm(b){return b.toString()},Gx(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.Qq()*b:this.g.Qq()*(a-b)+b},Dfa(...b){return b[Math.floor(this.g.Qq()*b.length)]},gua(){return Math.PI},fta(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Jua(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.nb(b))},cos(b){return Math.cos(d.nb(b))},tan(b){return Math.tan(d.nb(b))},asin(b){return d.Mf(Math.asin(b))},acos(b){return d.Mf(Math.acos(b))},atan(b){return d.Mf(Math.atan(b))},exp(b){return Math.exp(b)},yga(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let g=b[e];"number"===typeof g&&a<g&&(a=g)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let g=b[e];"number"===typeof g&&a>g&&(a=g)}return a},da(b,a,e){return d.da(b,a,e)},yx(b,a,e,c){return d.Xs(b,a,e,c)},angle(b,a,e,c){return d.Mf(d.iL(b,a,e,c))},Ud(b,a,e){return d.Ud(b,a,e)},nt(b,a,e){return d.nt(b,a,e)},CD(b,a,e,c){return d.CD(b,a,e,c)},nW(b,a,e,c,g){return d.nW(b,
a,e,c,g)},mW(b,a,e){return d.mW(b,a,e)},Pra(b,a){return d.Mf(d.Ws(d.nb(b),d.nb(a)))},Qra(b,a,e){return d.Mf(d.gL(d.nb(b),d.nb(a),e))},Rra(b,a,e){return d.Mf(d.hL(d.nb(b),d.nb(a),d.nb(e)))},Vua(b,a,e){a|=0;return(b|0)&~(1<<a)|(0!==e?1:0)<<a},fva(b,a){return(b|0)^1<<(a|0)},Ysa(b,a){return(b|0)&1<<(a|0)?1:0},Qta(){return"\n"},rha(b){return"string"===typeof b?b.toUpperCase():""},Hta(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,e){return"string"!==
typeof b?"":0>e?b.substr(a):b.substr(a,e)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},jha(b,a,e){if("string"!==typeof b||"string"!==typeof e)return"";b=b.split(e);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},kha(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.ut(a),"i")):-1},zsa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(d.ut(a),"")):-1},replace(b,a,e){return"string"===typeof b&&"string"===typeof a&&"string"===typeof e?b.replace(new RegExp(d.ut(a),"gi"),e):"string"===typeof b?b:""},sua(b,a,e){a=this.Ry(a,e);return b?b.search(a):-1},rua(b,a,e,c){a=this.Ry(a,e);return b?b.replace(a,c):""},qua(b,a,e){return(b=this.CN(b.toString(),a,e))?b.length:0},pua(b,a,e,c){c=Math.floor(c);b=this.CN(b.toString(),a,e);return!b||0>c||c>=b.length?"":b[c]},wha(b,a){let e=0>b?"-":"";0>b&&(b=-b);
e+="0".repeat(Math.max(a-b.toString().length,0));return e+b.toString()},lva(b){return encodeURIComponent(b)},kva(b){return decodeURIComponent(b)},uL(){return this.g.Gv},dva(){return this.g.je},vva(){return(Date.now()-this.g.En)/1E3},iva(){return Date.now()},time(){return this.g.fl()},cva(){return this.g.Nk},Vta(){return this.g.bK},Csa(){return this.g.hB},hsa(){return this.g.jC},$sa(){return this.g.Hy()},yva(){return this.g.P.eg},xva(){return this.g.P.dg},$ta(){return this.g.hh},Zta(){return this.g.gh},
Yta(){return this.g.hh},Xta(){return this.g.gh},Mua(){return this.g.Oa().Sf()},Nua(){return this.g.Oa().Tf()},Ata(){return this.g.Oa().Ca()},Bta(){return this.g.Oa().zd},yta(){return d.Mf(this.g.Oa().Na())},Cta(){return this.g.Oa().fa()},zta(){return this.g.Oa().aa()},rva(b){return(b=this.g.Oa().ea(b))?b.Sn.Z:0},tva(b){return(b=this.g.Oa().ea(b))?b.Sn.S:0},sva(b){return(b=this.g.Oa().ea(b))?b.Sn.ia:0},pva(b){return(b=this.g.Oa().ea(b))?b.Sn.ca:0},uva(b){return(b=this.g.Oa().ea(b))?b.Sn.width():0},
qva(b){return(b=this.g.Oa().ea(b))?b.Sn.height():0},bsa(b,a,e){return(b=this.g.Oa().ea(b))?b.uh(a,e)[0]:0},csa(b,a,e){return(b=this.g.Oa().ea(b))?b.uh(a,e)[1]:0},vta(b,a,e){return(b=this.g.Oa().ea(b))?b.Ho(a,e)[0]:0},wta(b,a,e){return(b=this.g.Oa().ea(b))?b.Ho(a,e)[1]:0},rta(b){return(b=this.g.Oa().ea(b))?b.zd:0},mta(b){return(b=this.g.Oa().ea(b))?d.Mf(b.qe):0},ota(b){return(b=this.g.Oa().ea(b))?100*b.Vd():0},sta(b){return(b=this.g.Oa().ea(b))?b.vj:0},tta(b){return(b=this.g.Oa().ea(b))?b.Sf():0},
uta(b){return(b=this.g.Oa().ea(b))?b.Tf():0},pta(b){return(b=this.g.Oa().ea(b))?100*b.ee:0},qta(b){return(b=this.g.Oa().ea(b))?100*b.fe:0},xta(b){return(b=this.g.Oa().ea(b))?b.gb():0},nta(b){return(b=this.g.Oa().ea(b))?b.Ka():-1},asa(){const b=this.g.P;return b?b.xK:""},Aga(b){const a=this.Cf;return a.iO()?b?(b=a.w_(b))?b.Ka():0:a.uq().Ka():0},Kua(){return this.g.Lp},Zra(b,a,...e){var c=this.Yz(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),
0;var g=c.ID.get(a.toLowerCase());if(!g)if(c.Wn)g=c.Wn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=g.gm;const m=g.It();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.Gm())return m;b=this.g.na();a=b.Ib().Dd();const h=0<a.length;h&&b.Hg(a);const l=g.ah;for(let n=
e.length,p=l.length;n<p;++n)e.push(l[n].Ap);g=g.Ge();e=g.LF(g.Dd(),c,m,...e);h&&b.Tb(a);return e},Gta(){return this.g.nd.YB},dta(){return 0===this.zp?1:this.Sv/this.zp},ao(){return this.g.Dq()?"webgpu":"webgl"},vua(){return this.g.Dq()?"<unavailable>":this.g.kl().Rs},eta(){let b=this.g.jb().T_();return Math.round(100*b/1048576)/100},xua(b,a,e){return d.i4(b,a,e)},Aua(b,a,e){return d.YO(b/100,a/100,e/100)},yua(b,a,e,c){return d.rz(b/100,a/100,e/100,c/100)},Bua(b,a,e){return d.YO(b/255,a/255,e/255)},
zua(b,a,e,c){return d.rz(b/255,a/255,e/255,c/255)},Lga(){return this.g.zC},Mga(){return this.g.mV},ksa(){return this.g.Ib().bd.Ca()},jsa(){return this.g.Ib().Or}}}{"use strict";const d=self.D;d.B.Touch=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const d=self.D,b=self.xg;d.B.Touch.tl=class extends d.Uq{constructor(e){super(e)}j(){super.j()}vd(){}Xj(){return self.B1}};let a=null;self.B1=class extends self.ZE{constructor(e){super(e);a=e;e.J().xv.gM=this}requestPermission(e){b.Ld(e);const c=a.Ii().pa;if("orientation"===e)return c.lH(0);if("motion"===e)return c.lH(1);throw Error("invalid type");}}}
{"use strict";const d=self.D;d.B.Touch.Instance=class extends d.Tq{constructor(b,a){super(b,"touch");this.qd=new Map;this.MB=this.QV=!1;this.lB=this.Rh=this.Qh=this.MK=this.XC=this.Os=this.LH=this.KH=this.JH=this.OH=this.NH=this.MH=this.eK=this.dK=this.cK=this.pC=0;this.tC=[];a&&(this.QV=a[0]);this.PD("permission-result",e=>this.Paa(e));b=this.J().Rb();this.wd=new d.pt(d.Hc.Bd(b,"pointerdown",e=>this.Qaa(e.data)),d.Hc.Bd(b,"pointermove",e=>this.Raa(e.data)),d.Hc.Bd(b,"pointerup",e=>this.lS(e.data,
!1)),d.Hc.Bd(b,"pointercancel",e=>this.lS(e.data,!0)),d.Hc.Bd(b,"deviceorientation",e=>this.Caa(e.data)),d.Hc.Bd(b,"deviceorientationabsolute",e=>this.Daa(e.data)),d.Hc.Bd(b,"devicemotion",e=>this.Baa(e.data)),d.Hc.Bd(b,"tick2",()=>this.jH()))}j(){this.qd.clear();super.j()}Qaa(b){if("mouse"===b.pointerType)if(this.QV)this.MB=!0;else return;const a=b.pointerId;if(!this.qd.has(a)){var e=b.pageX-this.g.Et();b=b.pageY-this.g.Ft();var c=performance.now(),g=this.qd.size;this.Os=g;this.XC=a;var m=d.A(d.B.Touch.V6);
m.nl(c,e,b,a,g);this.qd.set(a,m);this.xa(d.B.Touch.I.P3);this.xa(d.B.Touch.I.SO);this.Qh=e;this.Rh=b;this.xa(d.B.Touch.I.d4)}}Raa(b){if("mouse"!==b.pointerType||this.MB){var a=this.qd.get(b.pointerId);if(a){var e=performance.now();2>e-a.Da()||a.ul(e,b.pageX-this.g.Et(),b.pageY-this.g.Ft(),b.width,b.height,b.pressure)}}}lS(b,a){if("mouse"===b.pointerType)if(this.MB)this.MB=!1;else return;const e=performance.now();b=b.pointerId;const c=this.qd.get(b);c&&(this.Os=c.Sd,this.XC=c.Pj(),this.xa(d.B.Touch.I.O3),
this.xa(d.B.Touch.I.RO),a||(a=c.F6(e),"single-tap"===a?(this.xa(d.B.Touch.I.c4),this.Qh=c.ka(),this.Rh=c.la(),this.xa(d.B.Touch.I.QO)):"double-tap"===a&&(this.xa(d.B.Touch.I.C3),this.Qh=c.ka(),this.Rh=c.la(),this.xa(d.B.Touch.I.KO))),c.j(),this.qd.delete(b))}lH(b){this.qk("request-permission",{type:b});return new Promise((a,e)=>{this.tC.push({type:b,resolve:a,reject:e})})}Paa(b){const a=b.result,e=b.type;this.MK=e;b=this.tC.filter(c=>c.type===e);for(const c of b)c.resolve(a?"granted":"denied");this.tC=
this.tC.filter(c=>c.type!==e);a?(this.xa(d.B.Touch.I.W3),0===e?this.g.Sq():this.g.Om()):this.xa(d.B.Touch.I.V3)}Caa(b){"number"===typeof b.webkitCompassHeading?this.pC=b.webkitCompassHeading:b.absolute&&(this.pC=b.alpha);this.cK=b.alpha;this.dK=b.beta;this.eK=b.gamma}Daa(b){this.pC=b.alpha}Baa(b){const a=b.acceleration;a&&(this.MH=a.x,this.NH=a.y,this.OH=a.z);if(b=b.accelerationIncludingGravity)this.JH=b.x,this.KH=b.y,this.LH=b.z}jH(){const b=performance.now();let a=0;for(const e of this.qd.values())e.Da()<=
b-50&&e.Qca(b),e.E6(b)&&(this.Os=e.Sd,this.XC=e.Pj(),this.lB=a,this.xa(d.B.Touch.I.F3),this.Qh=e.ka(),this.Rh=e.la(),this.xa(d.B.Touch.I.G3),this.lB=0),++a}Yi(b){b=Math.floor(b);for(const a of this.qd.values()){if(0===b)return a;--b}return null}Mu(b,a){return 0<=b&&0<=a&&b<this.g.M_()&&a<this.g.L_()}}}
{"use strict";const d=self.D,b=[];d.B.Touch.I={SO(){return!0},RO(){return!0},v2(){return 0<this.qd.size},d4(a){return a&&this.Mu(this.Qh,this.Rh)?this.g.Ph.Jz(a,this.Qh,this.Rh):!1},G2(a){if(!a)return!1;const e=a.V();var c=e.oa();for(const g of c){c=g.m();const m=c.ea();for(const h of this.qd.values()){if(!this.Mu(h.ka(),h.la()))continue;const [l,n]=m.uh(h.ka(),h.la(),c.nf());if(m.jz()&&c.qt(l,n)){b.push(g);break}}}return b.length?(e.mu(b),a.jc(),d.F(b),!0):!1},Uia(a,e,c){return(a=this.Yi(a))?d.compare(a.Zj(),
e,c):!1},Hma(){return!0},$la(){return!0},Qia(a,e,c){this.g.Sq();return d.compare(0===a?this.cK:1===a?this.dK:this.eK,e,c)},Jia(a,e,c){this.g.Om();return d.compare(0===a?this.JH:1===a?this.KH:2===a?this.LH:3===a?this.MH:4===a?this.NH:this.OH,e,c)},P3(a){a=Math.floor(a);return a===this.Os},O3(a){a=Math.floor(a);return a===this.Os},fka(a){a=Math.floor(a);return this.qd.size>=a+1},F3(){return!0},c4(){return!0},C3(){return!0},G3(a){return a&&this.Mu(this.Qh,this.Rh)?this.g.Ph.Jz(a,this.Qh,this.Rh):!1},
QO(a){return a&&this.Mu(this.Qh,this.Rh)?this.g.Ph.Jz(a,this.Qh,this.Rh):!1},KO(a){return a&&this.Mu(this.Qh,this.Rh)?this.g.Ph.Jz(a,this.Qh,this.Rh):!1},W3(a){return this.MK===a},V3(a){return this.MK===a}}}"use strict";self.D.B.Touch.Ya={Nna(d){this.lH(d)}};
{"use strict";const d=self.D;d.B.Touch.kb={Tqa(){return this.qd.size},Rz(b){const a=this.Yi(this.lB);return a?a.yq(this.g.Oa(),b,!0):0},tG(b){const a=this.Yi(this.lB);return a?a.yq(this.g.Oa(),b,!1):0},Era(b,a){return(b=this.Yi(b))?b.yq(this.g.Oa(),a,!0):0},Gra(b,a){return(b=this.Yi(b))?b.yq(this.g.Oa(),a,!1):0},Fra(b,a){return(b=this.qd.get(b))?b.yq(this.g.Oa(),a,!0):0},Hra(b,a){return(b=this.qd.get(b))?b.yq(this.g.Oa(),a,!1):0},zha(){const b=this.Yi(0);return b?b.ka():0},Cha(){const b=this.Yi(0);
return b?b.la():0},Aha(b){return(b=this.Yi(b))?b.ka():0},Dha(b){return(b=this.Yi(b))?b.la():0},Bha(b){return(b=this.qd.get(b))?b.ka():0},Eha(b){return(b=this.qd.get(b))?b.la():0},nqa(b){return(b=this.Yi(b))?b.Zj():0},oqa(b){return(b=this.qd.get(b))?b.Zj():0},Wha(b){return(b=this.Yi(b))?d.Mf(b.Na()):0},Xha(b){return(b=this.qd.get(b))?d.Mf(b.Na()):0},$ia(){this.g.Sq();return this.pC},Uha(){this.g.Sq();return this.cK},iia(){this.g.Sq();return this.dK},Qja(){this.g.Sq();return this.eK},Hha(){this.g.Om();
return this.JH},Jha(){this.g.Om();return this.KH},Lha(){this.g.Om();return this.LH},Gha(){this.g.Om();return this.MH},Iha(){this.g.Om();return this.NH},Kha(){this.g.Om();return this.OH},Uqa(){return this.Os},kQ(){return this.XC},Dra(b){return(b=this.qd.get(b))?b.fa():0},hka(b){return(b=this.qd.get(b))?b.aa():0},qna(b){return(b=this.qd.get(b))?b.lV:0}}}
{"use strict";const d=self.D;let b=-1E3,a=-1E3,e=-1E4;d.B.Touch.V6=class extends d.ja{constructor(){super();this.lV=this.U=this.Y=this.dC=this.cC=this.R=this.T=this.QC=this.PC=this.bC=this.ic=this.En=this.Sd=this.kV=0;this.SB=this.XI=!1}j(){}nl(c,g,m,h,l){this.kV=h;this.Sd=l;this.En=this.bC=this.ic=c;this.PC=g;this.QC=m;this.T=g;this.R=m;this.cC=g;this.dC=m}ul(c,g,m,h,l,n){this.bC=this.ic;this.ic=c;this.cC=this.T;this.dC=this.R;this.T=g;this.R=m;this.Y=h;this.U=l;this.lV=n;!this.SB&&15<=d.Xs(this.PC,
this.QC,this.T,this.R)&&(this.SB=!0)}Pj(){return this.kV}Da(){return this.ic}Qca(c){this.bC=c}ka(){return this.T}la(){return this.R}Zj(){const c=d.Xs(this.T,this.R,this.cC,this.dC),g=(this.ic-this.bC)/1E3;return 0<g?c/g:0}Na(){return d.iL(this.cC,this.dC,this.T,this.R)}fa(){return this.Y}aa(){return this.U}E6(c){return this.XI?!1:500<=c-this.En&&!this.SB&&15>d.Xs(this.PC,this.QC,this.T,this.R)?this.XI=!0:!1}F6(c){if(this.XI)return"";if(333>=c-this.En&&!this.SB&&15>d.Xs(this.PC,this.QC,this.T,this.R)){if(666>=
c-e&&25>d.Xs(b,a,this.T,this.R))return a=b=-1E3,e=-1E4,"double-tap";b=this.T;a=this.R;e=c;return"single-tap"}return""}yq(c,g,m){return"undefined"===typeof g?c.Iy(0).qY(this.T,this.R)[m?0:1]:(c=c.ea(g))?c.uh(this.T,this.R)[m?0:1]:0}}}{"use strict";const d=self.D;d.B.zc=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const d=self.D;d.B.zc.tl=class extends d.Uq{constructor(b){super(b)}j(){super.j()}vd(){}}}
{"use strict";const d=self.D;d.B.zc.Instance=class extends d.Tq{constructor(b){super(b,"browser");this.Ek="";this.$v=!1;this.JT=this.pV="";this.vU=!1;this.ux=this.hq=this.Jw=this.Kw=0;this.Xv=!1;this.kM([["online-state",a=>this.Oaa(a)],["backbutton",()=>this.zaa()],["sw-message",a=>this.Uaa(a)],["hashchange",a=>this.Iaa(a)]]);b=this.J().Rb();this.wd=new d.pt(d.Hc.Bd(b,"afterfirstlayoutstart",()=>this.yaa()),d.Hc.Bd(b,"window-resize",()=>this.Wu()),d.Hc.Bd(b,"suspend",()=>this.Vaa()),d.Hc.Bd(b,"resume",
()=>this.Taa()));this.g.oM(this.sz("get-initial-state",{exportType:this.g.Ue}).then(a=>{this.Ek=a.location;this.$v=a.isOnline;this.pV=a.referrer;this.JT=a.title;this.vU=a.isCookieEnabled;this.Kw=a.screenWidth;this.Jw=a.screenHeight;this.hq=a.windowOuterWidth;this.ux=a.windowOuterHeight;this.Xv=a.isConstructArcade}))}j(){super.j()}yaa(){this.Ch("ready-for-sw-messages")}async Oaa(b){b=!!b.isOnline;this.$v!==b&&((this.$v=b)?await this.md(d.B.zc.I.S3):await this.md(d.B.zc.I.Q3))}async Wu(){await this.md(d.B.zc.I.X3)}Vaa(){this.xa(d.B.zc.I.T3)}Taa(){this.xa(d.B.zc.I.U3)}async zaa(){await this.md(d.B.zc.I.y3)}Uaa(b){b=
b.type;"downloading-update"===b?this.xa(d.B.zc.I.VO):"update-ready"===b||"update-pending"===b?this.xa(d.B.zc.I.WO):"offline-ready"===b&&this.xa(d.B.zc.I.R3)}Iaa(b){this.Ek=b.location;this.xa(d.B.zc.I.E3)}}}"use strict";
self.D.B.zc.I={kla(){return this.$v},S3(){return!0},Q3(){return!0},X3(){return!0},fja(){return this.vU},Oka(){return this.g.P.Fp},y3(){return!0},ola(d){return(this.g.P.Aj<=this.g.P.zj?0:1)===d},VO(){return!0},WO(){return!0},R3(){return!0},E3(){return!0},Jma(){return!this.g.Mm()},T3(){return!0},U3(){return!0},eka(){return!1},Kka(){return!1},wma(){return!1},xma(){return!1},Vka(){return!1},Cka(){return!0},Gqa(){return!0}};
{"use strict";const d=self.D,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.B.zc.Ya={Tha(a){this.Ch("alert",{message:a.toString()})},Fia(){this.Xv||(this.g.yb?self.wg.Gia():this.Ch("close"))},Jja(){this.Ch("set-focus",{isFocus:!0})},lia(){this.Ch("set-focus",{isFocus:!1})},Yja(){this.Xv||this.Ch("navigate",{type:"back"})},Zja(){this.Xv||this.Ch("navigate",{type:"forward"})},$ja(){},K4(){this.Xv||(this.g.yb?this.g.q4():this.Ch("navigate",
{type:"reload"}))},bka(a,e){this.qk("navigate",{type:"url",url:a,target:e,exportType:this.g.Ue})},cka(a,e){this.qk("navigate",{type:"new-window",url:a,tag:e,exportType:this.g.Ue})},Lna(a,e){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.bE.lR(a);this.g.P.H5(a);this.qk("request-fullscreen",{navUI:e})},sia(){this.qk("exit-fullscreen")},ora(a){a=a.split(",");for(let e=0,c=a.length;e<c;++e)a[e]=parseInt(a[e],10);this.qk("vibrate",{pattern:a})},async cF(a,e){a&&e&&(a=await this.g.nd.JE(a),this.g.cF(a,e))},
xka(a,e,c){c&&(a=`data:${e},${encodeURIComponent(a)}`,this.g.cF(a,c))},eja(a,e){e=e.toString();0===a?console.log(e):1===a?console.warn(e):2===a&&console.error(e)},cja(a){console.group(a)},dja(){console.groupEnd()},Cja(a){try{eval(a)}catch(e){console.error("Error executing JavaScript: ",e)}},Pla(a){a=Math.floor(a);0>a||a>=b.length||this.qk("lock-orientation",{orientation:b[a]})},dra(){this.qk("unlock-orientation")},xO(a){this.g.nd.xO(a)},upa(a){this.Ch("set-hash",{hash:a})}}}"use strict";
self.D.B.zc.kb={URL(){return this.g.te?this.Ek:location.toString()},una(){return this.g.te?(new URL(this.Ek)).protocol:location.protocol},qja(){return this.g.te?(new URL(this.Ek)).hostname:location.hostname},mna(){return this.g.te?(new URL(this.Ek)).port:location.port},Lma(){return this.g.te?(new URL(this.Ek)).pathname:location.pathname},gka(){return this.g.te?(new URL(this.Ek)).hash:location.hash},CF(){return this.g.te?(new URL(this.Ek)).search:location.search},wna(d){const b=this.g.te?(new URL(this.Ek)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Bna(){return this.pV},Mqa(){return this.JT},Ala(){return navigator.language},Sb(){return navigator.platform},ira(){return navigator.userAgent},Bja(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},l3(){return navigator.appName},nra(){return navigator.appVersion},sna(){return navigator.product},
mra(){return navigator.vendor},gia(){return 1},hia(){return Infinity},fia(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},eZ(){return self.devicePixelRatio},q5(){return this.Kw},p5(){return this.Jw},u7(){return this.g.P.Aj},t7(){return this.g.P.zj},w7(){return this.hq},v7(){return this.hq}};{"use strict";const d=self.D;d.B.Text=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const d=self.D;d.B.Text.tl=class extends d.Uq{constructor(b){super(b)}j(){super.j()}vd(){}Lq(){}Mo(){}}}
{"use strict";const d=self.D,b=self.xg,a=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],g=new d.Rect,m=new d.Ed;new d.fb;d.B.Text.Instance=class extends d.NF{constructor(n,p){super(n);this.pd="";this.Ll=!0;this.kj="Arial";this.Lk=12;this.bi=0;this.yf=this.xf=!1;this.hb=d.A(d.fb);this.df=this.vf=0;this.Uk=!0;this.Pk=this.Ps=-1;this.kx=0;this.Fc=d.A(d.M.FF,this.g.jb(),{timeout:5});this.Fc.BD=()=>this.g.ga();this.Fc.PP();p&&(this.pd=p[0],this.Ll=!!p[1],this.kj=p[2],this.Lk=p[3],this.bi=
p[4],this.xf=!!p[5],this.yf=!!p[6],this.vf=p[8],this.df=p[9],this.Uk=0===p[10],n=p[7],this.hb.it(n[0],n[1],n[2]),this.m().Ih(p[11]));this.pe()}j(){this.Wm();this.Fc.j();this.Fc=null;super.j()}pe(){const n=this.Fc;n.zu(this.pd);n.x5(this.Ll);n.TF(this.kj);n.TP(this.bi);n.AP(this.xf);n.RP(this.yf);n.Rm(this.hb);n.LP(e[this.vf]);n.fQ(c[this.df]);n.y6(this.Uk?"word":"character")}HH(){const n=this.m();this.Fc.Fz(this.Lk);this.Fc.P5(n.L0());var p=n.ea();p=p.zq()*p.gN(n.nf());this.Fc.Xc(n.fa(),n.aa(),p)}xh(n){var p=
this.m();this.HH();const r=this.Fc.Yd();if(r){var u=p.ea();if(0===p.Na()&&0===u.Na()&&0===p.nf()&&!p.Vf()&&u.iP()){p=p.Lj();const [w,q]=u.dk(p.Db,p.Eb),[v,y]=u.dk(p.oc,p.pc);p=w-Math.round(w);const A=q-Math.round(q);g.set(w,q,v,y);g.offset(-p,-A);m.Gj(g);const [G,z]=n.Ot(n.Wj());this.g.P.G5(n,G,z);n.$f(r);n.Pq(m,this.Fc.Ji());u.nA(n)}else n.$f(r),p.Vf()?this.NG(p,n):this.OG(p,n)}}OG(n,p){n=n.Lj();this.g.Sl&&(n=this.nS(n));p.Pq(n,this.Fc.Ji())}NG(n,p){const r=n.ON();if(n.mO()){n.Zx(g,m,!1);let u=m;
this.g.Sl&&(u=this.nS(u));r.wM(n.Yj(),u,this.Fc.Ji());n.WF(!1)}r.xh(p)}nS(n){const p=n.Db-Math.round(n.Db),r=n.Eb-Math.round(n.Eb);if(0===p&&0===r)return n;m.ta(n);m.offset(-p,-r);return m}yy(){const n=this.Fc.Yd();return n?[n.fa(),n.aa()]:[100,100]}zy(){return this.Fc.Ji()}fz(){return!1}Fd(){const n={t:this.pd,c:this.hb.toJSON(),fn:this.kj,ps:this.Lk};this.Ll&&(n.bbc=this.Ll);0!==this.vf&&(n.ha=this.vf);0!==this.df&&(n.va=this.df);this.Uk||(n.wr=this.Uk);0!==this.bi&&(n.lho=this.bi);this.xf&&(n.b=
this.xf);this.yf&&(n.i=this.yf);-1!==this.Pk&&(n.tw={st:this.Ps,en:this.Pk,l:this.kx});return n}ud(n){this.Wm();this.pd=n.t;this.hb.wm(n.c);this.kj=n.fn;this.Lk=n.ps;this.Ll=n.hasOwnProperty("bbc")?n.bbc:!1;this.vf=n.hasOwnProperty("ha")?n.ha:0;this.df=n.hasOwnProperty("va")?n.va:0;this.Uk=n.hasOwnProperty("wr")?n.wr:!0;this.bi=n.hasOwnProperty("lho")?n.lho:0;this.xf=n.hasOwnProperty("b")?n.b:!1;this.yf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Ps=n.st,this.Pk=n.en,this.kx=
n.l);this.pe();-1!==this.Pk&&this.wk()}Ic(n){switch(n){case 0:return this.pd;case 1:return this.Ll;case 2:return this.kj;case 3:return this.Lk;case 4:return this.bi;case 5:return this.xf;case 6:return this.yf;case 7:return a[0]=this.hb.Xa,a[1]=this.hb.ab,a[2]=this.hb.$a,a;case 8:return this.vf;case 9:return this.df;case 10:return this.Uk?1:0}}Gh(n,p){switch(n){case 0:if(this.pd===p)break;this.pd=p;this.pe();break;case 1:if(this.Ll===!!p)break;this.Ll=!!p;this.pe();break;case 2:if(this.kj===p)break;
this.kj=p;this.pe();break;case 3:if(this.Lk===p)break;this.Lk=p;this.pe();break;case 4:if(this.bi===p)break;this.bi=p;this.pe();break;case 5:if(this.xf===!!p)break;this.xf=!!p;this.pe();break;case 6:if(this.yf===!!p)break;this.yf=!!p;this.pe();break;case 7:n=this.hb;if(n.Xa===p[0]&&n.ab===p[1]&&n.$a===p[2])break;this.hb.it(p[0],p[1],p[2]);this.pe();break;case 8:if(this.vf===p)break;this.vf=p;this.pe();break;case 9:if(this.df===p)break;this.df=p;this.pe();break;case 10:this.Uk!==(0===p)&&(this.Uk=
0===p,this.pe())}}mA(n){this.pd!==n&&(this.pd=n,this.Fc.zu(n),this.g.ga())}lda(n,p){this.mA(n);this.Ps=this.g.QE();this.Pk=this.Ps+p/this.Ea().E_();this.kx=d.Am.iQ(n).length;this.Fc.SF(0);this.wk()}Wm(){this.Pk=this.Ps=-1;this.kx=0;this.Fc.SF(-1);this.xr()}y9(){-1!==this.Pk&&(this.Wm(),this.xa(d.B.Text.I.TO),this.g.ga())}Eca(n){this.kj!==n&&(this.kj=n,this.Fc.TF(n),this.g.ga())}sca(n){n=!!n;this.xf!==n&&(this.xf=n,this.Fc.AP(n),this.g.ga())}Oca(n){n=!!n;this.yf!==n&&(this.yf=n,this.Fc.RP(n),this.g.ga())}Fca(n){this.Lk!==
n&&(this.Lk=n,this.g.ga())}Dca(n){this.hb.tm(n)||(this.hb.Bj(n),this.Fc.Rm(this.hb),this.g.ga())}QS(n){this.bi!==n&&(this.bi=n,this.pe(),this.g.ga())}Ica(n){this.vf!==n&&(this.vf=n,this.pe(),this.g.ga())}WS(n){this.df!==n&&(this.df=n,this.pe(),this.g.ga())}cda(n){n=!!n;this.Uk!==n&&(this.Uk=n,this.pe(),this.g.ga())}i$(){this.HH();return this.Fc.Q0()}h$(){this.HH();return this.Fc.P0()}Oe(){var n=this.g.QE();n>=this.Pk?(this.Wm(),this.xa(d.B.Text.I.TO),this.g.ga()):(n=d.Qga(this.Ps,this.Pk,n,this.kx),
n=Math.floor(n),n!==this.Fc.qp&&(this.Fc.SF(n),this.g.ga()))}Xj(){return self.A1}};const h=new WeakMap,l=new Map([["top",0],["center",1],["bottom",2]]);self.A1=class extends self.az{constructor(){super();h.set(this,self.Xt.lr().pa)}get text(){return h.get(this).pd}set text(n){b.Ld(n);const p=h.get(this);p.Wm();p.mA(n)}set lineHeight(n){b.Eh(n);h.get(this).QS(n)}get lineHeight(){return h.get(this).bi}set verticalAlign(n){b.Ld(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).WS(n)}get verticalAlign(){return c[h.get(this).df]}}}
{"use strict";const d=self.D;d.B.Text.I={Sia(b,a){return a?this.pd===b:d.Yn(this.pd,b)},pla(){return-1!==this.Pk},TO(){return!0}}}
{"use strict";const d=self.D,b=d.A(d.fb);d.B.Text.Ya={zu(a){this.Wm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.mA(a.toString())},bia(a){this.Wm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.mA(this.pd+a)},Zqa(a,e){this.Wm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.lda(a.toString(),e)},qpa(a,e){let c=!1,g=!1;switch(e){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(a!==this.kj||c!==this.xf||g!==this.yf)this.Eca(a),this.sca(c),
this.Oca(g)},Fz(a){this.Fca(a)},ppa(a){b.ht(a);b.da();this.Dca(b)},cqa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},I5(a){this.m().Zf(a);this.g.ga()},Yqa(){this.y9()},TP(a){this.QS(a)},spa(a){this.Ica(a)},$pa(a){this.WS(a)},dqa(a){this.cda(0===a)}}}{"use strict";const d=self.D;d.B.Text.kb={Text(){return this.pd},ena(){return this.Ll?d.Am.iQ(this.pd):this.pd},Dja(){return this.kj},s_(){return this.Lk},R6(){return this.i$()},Jqa(){return this.h$()},Ila(){return this.bi}}}
{"use strict";const d=self.D;d.B.qb=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const d=self.D;d.B.qb.tl=class extends d.Uq{constructor(b){super(b);this.Md=b.Md}j(){d.F(this.Md);super.j()}vd(){for(const b of this.Md)b.Q2(this.g)}Lq(b){const a={Fj:this.g.yd};return Promise.all(this.Md.map(e=>e.R2(b,a)))}Mo(){for(const b of this.Md)b.G4()}qz(){this.iT()}iT(){for(const b of this.O.lga())b.pa.FH()}yt(b){d.B.qb.x_(this,b)}}}
{"use strict";const d=self.D,b=self.xg,a=d.A(d.Rect),e=d.A(d.Ed),c=d.A(d.Du);d.B.qb.Instance=class extends d.NF{constructor(m,h){super(m);let l=!0,n="",p=0,r=!0;h&&(l=!!h[0],n=h[1],p=h[2],r=h[3]);this.Jb=this.O.iN(n)||this.O.Md[0];this.wb=d.da(p,0,this.Jb.Gd.length-1);this.Te=this.Jb.Em(this.wb);h=this.Te.kf();this.Mr=h.Yd();this.uI=h.Ji();this.Bv=h.Ty();this.Y0();m.qu(2,!0);m.qu(1,0<=this.Jb.Zj());this.Ak=Math.abs(this.Jb.Zj());this.Lr=this.Jb.sV;this.xA=d.A(d.lz);this.xk=this.lj=0;this.WH="";this.wv=
-1;this.Fr="";this.yT=0;m=this.m();this.$da=m.Lj();m.Ih(l);m.nu(r);m.br(this.Te.hl());m.cr(this.Te.il());m.bG(this.Te.mp);m.Ia();1===this.O.Md.length&&1===this.O.Md[0].Gd.length||0===this.Ak||this.wk()}j(){this.xA=this.Mr=this.Te=this.Jb=null;super.j()}yh(){return this.Te.kf()}Eo(){return!0}Nq(){this.Mr=null}XO(){this.FH()}xh(m){var h=this.Mr;null!==h&&(m.$f(h),h=this.m(),h.Vf()?this.NG(h,m):this.OG(h,m))}OG(m,h){let l=this.$da;this.g.Sl&&(l=m.ZO(l));h.C4(l,this.Bv)}NG(m,h){const l=m.ON();if(m.mO()){m.Zx(a,
e,!1);let n=e;this.g.Sl&&(n=m.ZO(n));l.wM(m.Yj(),n,this.Bv);m.WF(!1)}l.xh(h)}Bt(){return this.xA.ba()}ez(){return this.X.CE(2)}Vq(m){this.X.qu(2,m)}iz(){return this.X.CE(1)}vu(m){this.X.qu(1,m)}kF(){return this.X.CE(4)}MP(m){this.X.qu(4,m)}Oe(){this.Fr&&this.XQ();0<=this.wv&&this.KG();const m=this.Ak;if(this.ez()&&0!==m){this.xA.Uc(this.g.Cy(this.X));var h=this.Bt(),l=this.Te,n=l.VA/m;if(!(h<this.lj+n)){var p=this.Jb,r=this.Lr,u=p.Gd.length,w=p.Dg(),q=p.LB,v=p.Gea;this.iz()?this.wb++:this.wb--;this.lj+=
n;this.wb>=u&&(v?(this.vu(!1),this.wb=u-2):q?this.wb=r:(this.xk++,this.xk>=w?this.QG(!1):this.wb=r));0>this.wb&&(v?(this.wb=1,this.vu(!0),q||(this.xk++,this.xk>=w&&this.QG(!0))):q?this.wb=r:(this.xk++,this.xk>=w?this.QG(!0):this.wb=r));this.wb=d.da(this.wb,0,u-1);n=p.Em(this.wb);h>this.lj+n.VA/m&&(this.lj=h);this.eA(l,n)}}else this.xr()}QG(m){this.wb=m?0:this.Jb.Gd.length-1;this.Vq(!1);this.WH=this.Jb.Ca();this.MP(!0);this.kE("animationend",!1,{animationName:this.WH});this.xa(d.B.qb.I.w3);this.xa(d.B.qb.I.v3);
this.MP(!1);this.xk=0}eA(m,h){if(m!==h){var l=this.m(),n=m.kf();m=h.kf();var p=n.fa();n=n.aa();var r=m.fa(),u=m.aa();p!==r&&l.Jh(l.fa()*(r/p));n!==u&&l.Fh(l.aa()*(u/n));l.br(h.hl());l.cr(h.il());l.bG(h.mp);l.Ia();this.Te=h;this.Mr=m.Yd();this.uI=m.Ji();this.Bv=m.Ty();h=this.Ea().od;for(let w=0,q=h.length;w<q;++w);this.kE("framechange",!1,{animationName:this.Jb.Ca(),eW:this.wb});this.xa(d.B.qb.I.D3);this.g.ga()}}kda(m){this.Vq(!0);this.lj=this.Bt();1===m&&0!==this.wb&&(this.wv=0,this.kF()||this.KG());
this.wk()}oca(m,h){this.Fr=m;this.yT=h;this.wk();this.kF()||this.XQ()}rR(){return this.Fr?this.Fr:this.Jb.Ca()}IS(m){isFinite(m)&&(this.wv=m,this.kF()||this.KG())}qca(m){this.Ak=Math.abs(m);this.vu(0<=m);0<this.Ak&&this.wk()}nR(){return this.iz()?this.Ak:-this.Ak}pca(m){this.Lr=m=d.da(Math.floor(m),0,this.Jb.Gd.length-1)}XQ(){const m=this.Te;var h=this.O.iN(this.Fr);this.Fr="";!h||h===this.Jb&&this.ez()||(this.Jb=h,this.vu(0<=h.Zj()),this.Ak=Math.abs(h.Zj()),this.Lr=h.sV,this.wb=d.da(this.wb,0,this.Jb.Gd.length-
1),1===this.yT&&(this.wb=0),this.Vq(!0),this.lj=this.Bt(),h=this.Jb.Em(this.wb),this.eA(m,h))}KG(){const m=this.Te;var h=this.wb;this.wb=d.da(Math.floor(this.wv),0,this.Jb.Gd.length-1);this.wv=-1;h!==this.wb&&(h=this.Jb.Em(this.wb),this.eA(m,h),this.lj=this.Bt())}FH(){const m=this.Te.kf();this.Mr=m.Yd();this.uI=m.Ji();this.Bv=m.Ty();this.m().WF(!0)}Yd(){return this.Mr}Ji(){return this.uI}Ty(){return this.Bv}EE(){return this.Te.EE()}so(m){const h=this.Te,l=this.m();if("string"===typeof m)m=h.k0(m);
else if("number"===typeof m)m=h.j0(m-1);else throw new TypeError("expected string or number");if(!m)return[l.ka(),l.la()];c.ta(m.iK);if(l.Vf()){const [n,p]=l.Yj().mQ(c.T,c.R);c.set(n,p)}c.offset(-h.hl(),-h.il());c.scale(l.fa(),l.aa());c.rotate(l.Na());c.offset(l.ka(),l.la());return[c.T,c.R]}N_(){return this.m().jl().MW()}kN(m){m=Math.floor(m);const h=this.m();var l=h.jl();const n=l.MW();m===n&&(m=0);if(0>m||m>=n)return[0,0];l=l.Rd;return[l[2*m]+h.ka(),l[2*m+1]+h.la()]}Fd(){const m={a:this.Jb.lb};
0!==this.lj&&(m.fs=this.lj);var h=this.Bt();0!==h&&(m.at=h);0!==this.wb&&(m.f=this.wb);0!==this.Ak&&(m.cas=this.Ak);1!==this.xk&&(m.ar=this.xk);0!==this.Lr&&(m.rt=this.Lr);this.ez()||(m.ap=this.ez());this.iz()||(m.af=this.iz());h=this.m();h.Gg()&&(m.ce=h.Gg());return m}ud(m){var h=this.K().G_(m.a);h&&(this.Jb=h);this.lj=m.hasOwnProperty("fs")?m.fs:0;this.xA.Set(m.hasOwnProperty("at")?m.at:0);h=m.hasOwnProperty("f")?m.f:0;this.wb=d.da(h,0,this.Jb.Gd.length-1);this.Ak=m.hasOwnProperty("cas")?m.cas:
0;this.xk=m.hasOwnProperty("ar")?m.ar:1;h=m.hasOwnProperty("rt")?m.rt:0;this.Lr=d.da(h,0,this.Jb.Gd.length-1);this.Vq(m.hasOwnProperty("ap")?!!m.ap:!0);this.vu(m.hasOwnProperty("af")?!!m.af:!0);this.Te=h=this.Jb.Em(this.wb);this.FH();const l=this.m();l.br(h.hl());l.cr(h.il());l.bG(h.mp);l.nu(!!m.ce)}Ic(m){const h=this.m();switch(m){case 3:return h.Gg();case 2:return d.da(this.wb,0,this.Jb.Gd.length-1)}}Gh(m,h){var l=this.m();switch(m){case 3:l.nu(!!h);break;case 2:this.Vq(!1);m=this.Jb.Gd.length-
1;l=h=d.da(h,0,m);h=this.Jb.Em(this.wb);const n=this.Jb.Em(l);this.eA(h,n);this.wb=d.da(l,0,m)}}Xj(){return self.y1}};const g=new WeakMap;self.y1=class extends self.az{constructor(){super();g.set(this,self.Xt.lr().pa)}get animation(){return g.get(this).Jb.uea}get animationName(){return g.get(this).rR()}set eW(m){b.Eh(m);g.get(this).IS(m)}get eW(){return g.get(this).wb}get imageWidth(){return g.get(this).yh().fa()}get imageHeight(){return g.get(this).yh().aa()}}}
{"use strict";const d=self.D;d.B.qb.I={yka(b){return d.Yn(this.rR(),b)},Nia(b,a){return d.compare(this.wb,b,a)},Kia(b,a){return d.compare(this.nR(),b,a)},v3(b){return d.Yn(this.WH,b)},w3(){return!0},D3(){return!0},Wka(){return 0>this.m().fa()},Mka(){return 0>this.m().aa()},UO(){return!0},e4(){return!0},Gg(){return this.m().Gg()}}}
{"use strict";const d=self.D;d.B.qb.Ya={K6(b,a,e,c){if(b&&a){var [g,m]=this.so(e);if(e=this.g.fE(b,a,g,m,c)){c&&a.hG(e);b.Ab().Fo()&&(a=e.m(),a.Jc(this.m().Na()),a.Ia());a=this.g.na();a.Ce(!0);e.rA();a.Ce(!1);c=this.g.Gt().Hi();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Ur)a=!0,c.set("Spawn_LastExec",this.g.Ur);if(b!==this.K()&&(b=b.V(),b.oe(!1),b=b.G,a&&d.F(b),b.push(e),e.cc()))for(const h of e.Hd)e=h.K().V(),a?e.kk(h):(e.oe(!1),e.cp(h))}}},tqa(){this.Vq(!1)},pqa(b){this.kda(b)},
v5(b,a){this.oca(b,a)},$oa(b){this.IS(b)},bpa(b){this.qca(b)},apa(b){this.pca(b)},Tpa(b){const a=this.m(),e=a.fa();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Jh(b),a.Ia())},npa(b){const a=this.m(),e=a.aa();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Fh(b),a.Ia())},YF(b){const a=this.Te.kf(),e=this.m();var c=0>e.fa()?-1:1;const g=0>e.aa()?-1:1;c*=a.fa()*b;b=a.aa()*b*g;if(e.fa()!==c||e.aa()!==b)e.Xc(c,b),e.Ia()},async Nla(b,a){const e=this.Te.kf(),c=this.m(),g=this.g;if(e.Qk===b)0===a&&(c.Xc(e.fa(),e.aa()),c.Ia()),
this.xa(d.B.qb.I.UO);else{var m=d.A(d.cz);try{await m.T2(g,b);if(!m.nF())throw Error("image failed to load");await m.au(g.jb(),{Fj:this.g.yd})}catch(h){console.error("Load image from URL failed: ",h);this.xa(d.B.qb.I.e4);return}e.U4(m);this.Rc.iT();this.Pz()||0!==a||(c.Xc(e.fa(),e.aa()),c.Ia());g.ga();this.Pz()||await this.md(d.B.qb.I.UO)}},fpa(b){this.m().nu(b)},aG(b,a){this.m().aG(0===b,a)},I5(b){this.m().Zf(b);this.g.ga()}}}"use strict";
self.D.B.qb.kb={Yha(){return this.wb},Zha(){return this.Jb.Gd.length},$ha(){return this.Jb.Ca()},aia(){return this.nR()},Ima(){return this.Jb.Zj()},qka(d){return this.so(d)[0]},rka(d){return this.so(d)[1]},pka(){return this.EE()},ska(){return this.yh().fa()},oka(){return this.yh().aa()},jna(d){return this.kN(d)[0]},kna(d){return this.kN(d)[1]},ina(){return this.N_()}};{"use strict";const d=self.D;d.B.Keyboard=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const d=self.D;d.B.Keyboard.tl=class extends d.Uq{constructor(b){super(b)}j(){super.j()}vd(){}Xj(){return self.u1}};self.u1=class extends self.ZE{constructor(b){super(b);b.J().xv.keyboard=this}}}
{"use strict";const d=self.D;d.B.Keyboard.Instance=class extends d.Tq{constructor(b){super(b);this.es=new Set;this.gs=new Set;this.Ok=0;this.jx=this.YC="";b=this.J().Rb();this.wd=new d.pt(d.Hc.Bd(b,"keydown",a=>this.hH(a.data)),d.Hc.Bd(b,"keyup",a=>this.iH(a.data)),d.Hc.Bd(b,"window-blur",()=>this.tr()),d.Hc.Bd(b,"keyboard-blur",()=>this.tr()))}j(){super.j()}hH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.es.has(e)||(this.es.add(e),this.gs.add(a),this.YC=e,this.Ok=a,this.jx=b,this.xa(d.B.Keyboard.I.x3),
this.xa(d.B.Keyboard.I.LO),this.xa(d.B.Keyboard.I.K3),this.xa(d.B.Keyboard.I.I3))}iH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.es.delete(e);this.gs.delete(a);this.YC=e;this.Ok=a;this.jx=b;this.xa(d.B.Keyboard.I.IO);this.xa(d.B.Keyboard.I.yF);this.xa(d.B.Keyboard.I.L3);this.xa(d.B.Keyboard.I.MO)}tr(){for(const b of this.gs)this.gs.delete(b),this.Ok=b,this.xa(d.B.Keyboard.I.IO),this.xa(d.B.Keyboard.I.yF),this.xa(d.B.Keyboard.I.MO);this.es.clear()}lO(b){return this.es.has(b)}Fd(){return{tk:this.Ok,
tkk:this.jx}}ud(b){this.Ok=b.tk;b.hasOwnProperty("tkk")&&(this.jx=b.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.B.Keyboard.I={lO(b){return this.gs.has(b)},LO(b){return this.Ok===b},x3(){return!0},IO(){return!0},yF(b){return this.Ok===b},Qka(b){b=Math.floor(b);return this.gs.has(b)},I3(b){return this.Ok===b},MO(b){return this.Ok===b},K3(b){return this.YC===d[b]},L3(b){return this.YC===d[b]},Rka(b){return this.es.has(d[b])}}}"use strict";
self.D.B.Keyboard.Ya={};
{"use strict";function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.D.B.Keyboard.kb={Bla(){return this.Ok},vqa(b){return d(b)},Xqa(){return this.jx}}}{"use strict";const d=self.D;d.B.Oi=class extends d.Pm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const d=self.D;d.B.Oi.tl=class extends d.Uq{constructor(b){super(b)}j(){super.j()}vd(){}}}
{"use strict";const d=self.D;d.B.Oi.Instance=class extends d.Tq{constructor(b){super(b,"platform-info");this.ux=this.hq=this.Jw=this.Kw=0;this.As=[0,0,0,0];this.ew=this.SC=!1;this.kM([["window-resize",a=>this.Wu(a)],["wake-lock-acquired",()=>this.Zaa()],["wake-lock-error",()=>this.$aa()],["wake-lock-released",()=>this.aba()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.Naa());this.g.oM(this.sz("get-initial-state").then(a=>{this.Kw=a.screenWidth;this.Jw=a.screenHeight;
this.hq=a.windowOuterWidth;this.ux=a.windowOuterHeight;this.As=a.safeAreaInset;this.SC=a.supportsWakeLock}))}j(){super.j()}Wu(b){this.hq=b.windowOuterWidth;this.ux=b.windowOuterHeight;this.As=b.safeAreaInset}async Naa(){await this.md(d.B.Oi.I.N3)}async Zaa(){this.ew=!0;await this.md(d.B.Oi.I.f4)}async $aa(){this.ew=!1;await this.md(d.B.Oi.I.g4)}async aba(){this.ew=!1;await this.md(d.B.Oi.I.h4)}}}
{"use strict";const d=self.D;d.B.Oi.I={fla(){return d.Sb.hz},ila(){return"Windows"===d.Sb.Bh},ela(){return"Mac OS X"===d.Sb.Bh},dla(){return"Linux"===d.Sb.Bh},bla(){return"Chrome OS"===d.Sb.Bh},$ka(){return"Android"===d.Sb.Bh},jla(){return"iOS"===d.Sb.Bh},vla(){const b=this.g.Ue;return"html5"===b||"scirra-arcade"===b||"preview"===b||"instant-games"===b},Eka(){return this.g.cO()},Yka(){return"nwjs"===this.g.Ue},wla(){return"windows-uwp"===this.g.Ue},xla(){return"windows-webview2"===this.g.Ue},Uka(){return"macos-wkwebview"===
this.g.Ue},N3(){return!0},f4(){return!0},g4(){return!0},h4(){return!0},tla(){return this.ew},ula(){return this.SC}}}"use strict";self.D.B.Oi.Ya={Pna(){this.SC&&this.qk("request-wake-lock")},Dna(){this.SC&&(this.ew=!1,this.Ch("release-wake-lock"))}};"use strict";
self.D.B.Oi.kb={Gna(){let d;d=this.g.Dq()?"webgpu":"webgl"+this.g.kl().Sc;this.g.jb().nB&&(d+="-software");return d},Hna(){return this.g.kl().Rs},eZ(){return self.devicePixelRatio},q5(){return this.Kw},p5(){return this.Jw},u7(){return this.g.P.Aj},t7(){return this.g.P.zj},w7(){return this.hq},v7(){return this.ux},via(){return this.g.P.Mc},uia(){return this.g.P.Cc},xia(){return this.g.P.eg},wia(){return this.g.P.dg},rja(){return navigator.connection?navigator.connection.downlink||0:0},sja(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},aja(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},bja(){return navigator.connection?navigator.connection.rtt||0:0},dka(){return navigator.hardwareConcurrency||0},nja(){return navigator.deviceMemory||0},Soa(){return this.As[0]},Roa(){return this.As[1]},Poa(){return this.As[2]},Qoa(){return this.As[3]}};
{"use strict";const d=self.D;d.vg.rq=class extends d.j5{constructor(b){super(b)}j(){super.j()}}}{"use strict";const d=self.D;d.vg.rq.tl=class extends d.l5{constructor(b){super(b)}j(){super.j()}vd(){}}}
{"use strict";const d=self.D,b=self.xg,a=self.UN;d.vg.rq.Instance=class extends d.k5{constructor(c,g){super(c);this.Rw=this.Qw=this.Pw=this.Sw=this.sB=this.Gw=this.kw=this.Fv=this.lx=!1;this.Lb=this.Kb=0;this.rj=200;this.tf=600;this.gg=500;this.Zm=this.jn=3;this.dh=this.Kl=!0;g&&(this.rj=g[0],this.tf=g[1],this.gg=g[2],this.jn=g[3],this.Zm=g[4],this.Kl=!!g[5],this.dh=!!g[6]);this.dh&&this.wk();this.Kl&&this.vG()}vG(){if(!this.wd){var c=this.g.Rb();this.wd=new d.pt(d.Hc.Bd(c,"keydown",g=>this.hH(g.data)),
d.Hc.Bd(c,"keyup",g=>this.iH(g.data)),d.Hc.Bd(c,"window-blur",()=>this.tr()),d.Hc.Bd(c,"keyboard-blur",()=>this.tr()))}}eT(){this.wd&&(this.wd.j(),this.wd=null)}j(){super.j()}Fd(){return{dx:this.Kb,dy:this.Lb,e:this.dh,ms:this.rj,acc:this.tf,dec:this.gg,d:this.jn,am:this.Zm,dc:this.Kl,ii:this.sB}}ud(c){this.Kb=c.dx;this.Lb=c.dy;this.Yu(c.e);this.rj=c.ms;this.tf=c.acc;this.gg=c.dec;this.jn=c.d;this.Zm=c.am;this.Kl=c.dc;this.sB=c.ii;this.Rw=this.Qw=this.Pw=this.Sw=this.Gw=this.kw=this.Fv=this.lx=!1;
this.Kl?this.vG():this.eT()}hH(c){switch(c.key){case "ArrowLeft":this.kw=!0;break;case "ArrowUp":this.lx=!0;break;case "ArrowRight":this.Gw=!0;break;case "ArrowDown":this.Fv=!0}}iH(c){switch(c.key){case "ArrowLeft":this.kw=!1;break;case "ArrowUp":this.lx=!1;break;case "ArrowRight":this.Gw=!1;break;case "ArrowDown":this.Fv=!1}}tr(){this.Gw=this.kw=this.Fv=this.lx=!1}Oe(){var c=this.g.Cy(this.X);const g=this.g.Ph;var m=this.kw||this.Qw,h=this.Gw||this.Rw,l=this.lx||this.Sw,n=this.Fv||this.Pw;this.Pw=
this.Sw=this.Rw=this.Qw=!1;if(this.dh){var p=g.Vm(this.X);if(p&&(g.xz(this.X,p),!g.A4(this.X)))return;this.sB&&(m=h=l=n=!1);0===this.jn?m=h=!1:1===this.jn&&(l=n=!1);2===this.jn&&(l||n)&&(m=h=!1);m===h&&(0>this.Kb?this.Kb=Math.min(this.Kb+this.gg*c,0):0<this.Kb&&(this.Kb=Math.max(this.Kb-this.gg*c,0)));l===n&&(0>this.Lb?this.Lb=Math.min(this.Lb+this.gg*c,0):0<this.Lb&&(this.Lb=Math.max(this.Lb-this.gg*c,0)));var r=p=0;m&&!h&&(p=0<this.Kb?-(this.tf+this.gg):-this.tf);h&&!m&&(p=0>this.Kb?this.tf+this.gg:
this.tf);l&&!n&&(r=0<this.Lb?-(this.tf+this.gg):-this.tf);n&&!l&&(r=0>this.Lb?this.tf+this.gg:this.tf);this.Kb+=p*c;this.Lb+=r*c;if(0!==this.Kb||0!==this.Lb){h=Math.atan2(this.Lb,this.Kb);m=this.rj*Math.cos(h);h=this.rj*Math.sin(h);Math.sqrt(this.Kb*this.Kb+this.Lb*this.Lb)>this.rj&&(this.Kb=m,this.Lb=h);var u=Math.abs(m)*c;n=Math.abs(h)*c;m=this.X.m();const w=m.ka();l=m.la();h=m.Na();u=d.da(this.Kb*c+.5*p*c*c,-u,u);m.GO(u);m.Ia();if(p=g.Vm(this.X))g.dP(this.X,0>this.Kb?1:-1,0,Math.max(Math.abs(Math.floor(u)),
1))||(m.Ng(w),m.Ia()),this.Kb=0,g.xz(this.X,p);c=d.da(this.Lb*c+.5*r*c*c,-n,n);m.HO(c);m.Ia();if(p=g.Vm(this.X))g.dP(this.X,0,0>this.Lb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(m.Kh(l),m.Ia()),this.Lb=0,g.xz(this.X,p);c=d.DD(this.Kb);r=d.DD(this.Lb);0===c&&0===r||!this.X.Ab().Fo()||(1===this.Zm?m.Jc(d.nb(90*Math.round(d.Mf(Math.atan2(r,c))/90))):2===this.Zm?m.Jc(d.nb(45*Math.round(d.Mf(Math.atan2(r,c))/45))):3===this.Zm&&m.Jc(Math.atan2(r,c)));m.Ia();m.Na()!=h&&(p=g.Vm(this.X))&&(m.Jc(h),m.Ia(),
g.xz(this.X,p))}}}Ic(c){switch(c){case 0:return this.rj;case 1:return this.tf;case 2:return this.gg;case 3:return this.jn;case 4:return this.Zm;case 5:return this.Kl;case 6:return this.dh}}Gh(c,g){switch(c){case 0:this.SS(g);break;case 1:this.sH(g);break;case 2:this.LS(g);break;case 3:this.jn=g;break;case 4:this.Zm=g;break;case 5:this.MS(!!g);break;case 6:this.Yu(!!g)}}bT(){this.Lb=this.Kb=0}zS(){this.Kb*=-1;this.Lb*=-1}XR(){const c=Math.hypot(this.Kb,this.Lb);c>this.rj&&this.zH(c)}zH(c){c=d.da(c,
0,this.rj);const g=Math.atan2(this.Lb,this.Kb);this.Kb=c*Math.cos(g);this.Lb=c*Math.sin(g)}bA(){return Math.hypot(this.Kb,this.Lb)}SS(c){this.rj=Math.max(c,0)}sH(c){this.tf=Math.max(c,0)}LS(c){this.gg=Math.max(c,0)}V9(){return Math.atan2(this.Lb,this.Kb)}Zca(c){this.Kb=c;this.XR()}$ca(c){this.Lb=c;this.XR()}ida(c){if(this.dh)switch(c){case 0:this.Qw=!0;break;case 1:this.Rw=!0;break;case 2:this.Sw=!0;break;case 3:this.Pw=!0}}MS(c){c=!!c;this.Kl!==c&&((this.Kl=c)?this.vG():(this.eT(),this.tr()))}Mca(c){this.sB=
!!c}Yu(c){(this.dh=!!c)?this.wk():(this.Pw=this.Sw=this.Rw=this.Qw=!1,this.xr())}Xj(){return self.p1}};const e=new WeakMap;self.p1=class extends a{constructor(){super();e.set(this,a.lr().pa)}stop(){e.get(this).bT()}reverse(){e.get(this).zS()}get speed(){return e.get(this).bA()}set speed(c){b.Eh(c);e.get(this).zH(c)}get acceleration(){return e.get(this).tf}set acceleration(c){b.Eh(c);e.get(this).sH(c)}get isEnabled(){return e.get(this).dh}set isEnabled(c){e.get(this).Yu(!!c)}}}
{"use strict";const d=self.D;d.vg.rq.I={Xka(){return 1E-10<this.bA()},Ria(b,a){return d.compare(this.bA(),b,a)},Gm(){return this.dh}}}"use strict";self.D.vg.rq.Ya={Ne(){this.bT()},Doa(){this.zS()},vpa(d){this.Mca(d)},Xpa(d){this.zH(d)},Rpa(d){this.SS(d)},Zoa(d){this.sH(d)},gpa(d){this.LS(d)},fqa(d){this.ida(d)},L5(d){this.Yu(d)},aqa(d){this.Zca(d)},bqa(d){this.$ca(d)},ipa(d){this.MS(!!d)}};
{"use strict";const d=self.D;d.vg.rq.kb={mqa(){return this.bA()},Vla(){return this.rj},Fha(){return this.tf},lja(){return this.gg},ema(){return d.Mf(this.V9())},kra(){return this.Kb},lra(){return this.Lb}}}
{const d=self.D;self.uM=function(){return[d.B.Touch,d.B.zc,d.B.Text,d.B.qb,d.vg.rq,d.B.Keyboard,d.B.Oi,d.B.Ga.I.NO,d.B.Text.Ya.zu,d.B.Ga.kb.Lga,d.B.Ga.kb.Mga,d.B.Ga.Ya.rG,d.B.qb.Ya.Ng,d.B.Text.kb.Rz,d.B.Text.kb.R6,d.B.Ga.I.Hq,d.B.Keyboard.I.lO,d.B.Touch.I.v2,d.B.Touch.I.RO,d.B.qb.Ya.f6,d.B.Touch.kb.Rz,d.B.Touch.kb.tG,d.B.Keyboard.I.LO,d.B.qb.Ya.k3,d.B.qb.I.$N,d.B.qb.Ya.Ih,d.B.Ga.I.ZM,d.B.Keyboard.I.yF,d.B.qb.Ya.A5,d.B.Ga.I.A_,d.B.Ga.kb.kha,d.B.Ga.I.CY,d.B.Ga.kb.trim,d.B.Ga.kb.jha,d.B.Ga.kb.Aga,d.B.Ga.Ya.su,
d.B.Ga.Ya.P6,d.B.Ga.Ya.x6,d.B.Ga.kb.random,d.B.Ga.kb.rha,d.B.Ga.kb.Yfa,d.B.qb.Ya.VM,d.B.qb.kb.Rz,d.B.qb.kb.tG,d.B.qb.Ya.Jc,d.B.qb.Ya.Jh,d.B.qb.Ya.Fh,d.B.qb.kb.o1,d.B.qb.kb.XX,d.B.Ga.Ya.MM,d.B.qb.Ya.Xc,d.B.qb.Ya.OP,d.B.qb.Ya.v5,d.B.Ga.kb.wha,d.B.Ga.kb.mid,d.B.qb.I.BM,d.B.Ga.kb.mga,d.B.Ga.Ya.Qm,d.B.Ga.I.DY,d.B.Ga.I.EY,d.B.Ga.Ya.KX,d.B.Ga.kb.uL,d.B.Touch.I.QO,d.B.Touch.I.KO,d.B.Ga.Ya.B5,d.B.qb.Ya.Lg,d.B.Text.Ya.Lg,d.B.Ga.I.fN,d.B.zc.I.VO,d.B.zc.I.WO,d.B.zc.Ya.K4,d.B.Text.kb.Text,d.B.Text.I.JO,d.B.Text.Ya.OP,
d.B.Text.kb.s_,d.B.Touch.I.G2,d.B.Text.I.BM,d.B.Text.I.$N,d.B.Ga.I.Z6,d.B.Text.Ya.Fz,d.B.Text.Ya.VM,d.B.qb.Ya.K6,d.B.qb.kb.M2,d.B.Text.Ya.Xc,d.B.qb.kb.s7,d.B.Touch.I.SO,d.B.Touch.kb.kQ,d.B.qb.kb.YX,d.B.qb.kb.ZX,d.B.Ga.Ya.X2,d.B.Ga.I.AF,d.B.Ga.Ya.V0]};self.hY=[{Touch:0},{zc:0},{Wta:0},{Nha:0},{pia:0},{Bia:0},{Qqa:0},{tna:0},{Qla:0},{Xoa:0},{"8Direction":0},{hna:0},{Keyboard:0},{Oi:0},{l3:0},{iqa:0},{Wla:0},{Zla:0},{Qg:0},{pna:0},{nna:0},{jra:0},{Kja:0},{kQ:0},{Mha:0},{mja:0},{gqa:0},{hqa:0},{Ioa:0},
{cta:0},{Yoa:0},{Ara:0},{String:0},{yra:0},{zra:0},{Hia:0},{ona:0},{zla:0},{oia:0},{Pqa:0},{yna:0},{Lqa:0},{jua:0},{qsa:0},{Joa:0},{Kqa:0},{Gua:0},{pja:0},{Hla:0},{ika:0},{Ula:0},{Wqa:0},{Mja:0},{index:0},{Ija:0},{jja:0},{Rqa:0},{kma:0},{jma:0},{fma:0},{cua:0},{Kna:0},{Fta:0},{bva:0},{Eta:0},{Mta:0},{ava:0},{yia:0},{zia:0},{Cia:0},{Dia:0},{gma:0},{$ua:0},{Hqa:0},{Iqa:0}]}
{const d=self.D;function b(a,e){return"string"===typeof a||"string"===typeof e?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof e?(Math.round(1E10*e)/1E10).toString():e):a&&e?1:0}self.gY=[a=>{const e=a.C(0).ua(),c=a.C(1).ua();return()=>e()+" - "+c()+" - (C) Wild Haired Science Teacher - Find more at whscience.org"},()=>0,a=>{const e=a.C(0),c=a.C(1);return()=>e.Of()+c.Of()/2+2},()=>"Pointer",a=>{const e=a.C(0).ua();return()=>e()},()=>"StringListLibrary",()=>"",a=>{const e=
a.C(0).ua(),c=a.C(1).L,g=a.C(2).L;return()=>e(c.H(),g.H())-1},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).ua(),h=a.C(4).L;return()=>e(c(g.H(),m(),h.H()))},a=>{const e=a.C(0).ua(),c=a.C(1).L;return()=>e(c.H())},a=>{const e=a.C(0).L;return()=>e.H()},a=>{const e=a.C(0).ua(),c=a.C(1).L,g=a.C(2).L;return()=>e(c.H(),g.H())},a=>{const e=a.C(0).L,c=a.C(1).L,g=a.C(2).L;return()=>e.H()+c.H()+g.H()},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).L;return()=>Math.floor(e(c(g.H(),m.H())))},
a=>{const e=a.C(0).ua(),c=a.C(1).L,g=a.C(2).L,m=a.C(3).L;return()=>e(c.H(),g.H(),m.H())},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).L,h=a.C(4).L,l=a.C(5).L,n=a.C(6).L;return()=>e(c(g.H(),m.H(),h.H()),l.H(),n.H())},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).ua(),h=a.C(4).L,l=a.C(5).L,n=a.C(6).L;return()=>e(c(g.H(),m(),h.H()),l.H(),n.H())},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).ua(),h=a.C(4).L,l=a.C(5).ua(),n=a.C(6).L;return()=>e(c(g.H()),m(h.H()),l(n.H()))},
a=>{const e=a.C(0).ua(),c=a.C(1).L,g=a.C(2).L,m=a.C(3).ua(),h=a.C(4).L,l=a.C(5).L,n=a.C(6).L,p=a.C(7).L;return()=>e(c.H(),g.H(),m(h.H(),l.H(),n.H()),p.H())},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).L,h=a.C(4).ua(),l=a.C(5).L,n=a.C(6).L,p=a.C(7).L;return()=>e(c(g.H(),m.H()-h(),l.H()),n.H(),p.H())},a=>{const e=a.C(0).L;return()=>e.H()-1},a=>{const e=a.C(0).L,c=a.C(1).ua(),g=a.C(2).ua(),m=a.C(3).L,h=a.C(4).ua(),l=a.C(5).L;return()=>e.H()+c(g(m.H(),h(),l.H()))},a=>{const e=a.C(0).L,c=
a.C(1).L;return()=>e.H()/c.H()},a=>{const e=a.C(0).L,c=a.C(1).ua(),g=a.C(2).ua(),m=a.C(3).L,h=a.C(4).ua(),l=a.C(5).L,n=a.C(6).L;return()=>e.H()+Math.pow(c(g(m.H(),h(),l.H()))-n.H(),2)},a=>{const e=a.C(0).L,c=a.C(1).L;return()=>Math.sqrt(e.H()/(c.H()+1))},a=>{const e=a.C(0).L;return()=>360/e.H()/2+90},a=>{const e=a.C(0),c=a.C(1).L,g=a.C(2).L;return()=>e.Of()+c.H()*g.H()},a=>{const e=a.C(0);return()=>e.Of()},()=>90,()=>2,a=>{const e=a.C(0),c=a.C(1).L,g=a.C(2).L,m=a.C(3);return()=>e.Of()+c.H()*g.H()-
m.Of()/2},a=>{const e=a.C(0);return()=>e.Of()-1},a=>{const e=a.C(0).ua(),c=a.C(1).L;return()=>e()/c.H()*360},a=>{const e=a.C(0).L,c=a.C(1).L,g=a.C(2).L;return()=>e.H()+c.H()*Math.cos(d.nb(g.H()))},a=>{const e=a.C(0).L,c=a.C(1).L,g=a.C(2).L;return()=>e.H()+c.H()*Math.sin(d.nb(g.H()))},a=>{const e=a.C(0).L,c=a.C(1).L;return()=>2*Math.PI*(e.H()/c.H())},a=>{const e=a.C(0).L,c=a.C(1).L;return()=>e.H()+c.H()},a=>{const e=a.C(0).ua();return()=>e()%2},()=>"Grey",a=>{const e=a.C(0).ua(),c=a.C(1).ua();return()=>
e(Math.floor(c(1E5)),5)},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).ua(),m=a.C(3).L;return()=>b(e("ABCDEFGHJKLMNPQRSTUVWXY",Math.floor(c(20)),1),Math.floor(g(10)))+m.H()},()=>"Distance",a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L;return()=>1+.1*e(c(g.H(),0,1))},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L;return()=>2+.1*e(c(g.H(),0,1))},()=>"Weight",a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).L;return()=>10+Math.round(10*(e(c(g.H(),3,1))/2))},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),
g=a.C(2).L;return()=>b("Solar Panel Power: ",1500+10*(e(c(g.H(),1,2))/2))},a=>{const e=a.C(0).L;return()=>"[background=#ff0]Test Code: "+e.H()+" [/background]"},a=>{const e=a.C(0).ua(),c=a.C(1).ua(),g=a.C(2).ua(),m=a.C(3).ua(),h=a.C(4).ua(),l=a.C(5).ua(),n=a.C(6).ua();return()=>e()+"save"+c(g(),0,".")+"."+m(h(),1,".")+"."+l(n(),2,".")},()=>-1,a=>{const e=a.C(0);return()=>e.Ac()},a=>{const e=a.C(0).L;return()=>24*Math.pow(e.H()/50,1/3)},()=>"Radius",()=>"Mass",a=>{const e=a.C(0),c=a.C(1).L;return()=>
36*(e.Ac()/100/c.H())},a=>{const e=a.C(0).L;return()=>b("Pulling Force: ",e.H())+"N"},a=>{const e=a.C(0).L,c=a.C(1).L;return()=>e.H()*c.H()},a=>{const e=a.C(0).L;return()=>Math.round(72*Math.pow(e.H()/4,.5))},a=>{const e=a.C(0).L,c=a.C(1).L;return()=>e.H()*c.H()*2*(Math.PI/360)},a=>{const e=a.C(0).L,c=a.C(1).L,g=a.C(2).L;return()=>Math.pow(e.H()*c.H()/g.H()*2,.5)*(360/(2*Math.PI))},a=>{const e=a.C(0).L,c=a.C(1).L,g=a.C(2).L,m=a.C(3).ua();return()=>e.H()*(c.H()/g.H())*m()*(360/(2*Math.PI))},a=>{const e=
a.C(0).L,c=a.C(1).L,g=a.C(2).L;return()=>e.H()*c.H()+g.H()},a=>{const e=a.C(0).L,c=a.C(1).ua(),g=a.C(2).L;return()=>e.H()+c()*g.H()},a=>{const e=a.C(0).L,c=a.C(1).ua(),g=a.C(2).L,m=a.C(3).L;return()=>b("Rotation Speed: ",Math.floor(e.H()/60))+"."+c(Math.floor(100*(g.H()/60-Math.floor(m.H()/60))),2)+"rpm"},()=>"Start",()=>100,()=>"Reset",()=>25,()=>75,a=>{const e=a.C(0),c=a.C(1).L,g=a.C(2).L,m=a.C(3),h=a.C(4).L;return()=>e.Of()+c.H()*Math.cos(d.nb(g.H()+m.Ac()))*h.H()},a=>{const e=a.C(0),c=a.C(1).L,
g=a.C(2).L,m=a.C(3),h=a.C(4).L;return()=>e.Of()+c.H()*Math.sin(d.nb(g.H()+m.Ac()))*h.H()},a=>{const e=a.C(0).L,c=a.C(1),g=a.C(2).L;return()=>e.H()+c.Ac()+g.H()},()=>"ToggleButton",a=>{const e=a.C(0).ua(),c=a.C(1);return()=>e(c.sq(),";")-1},a=>{const e=a.C(0).ua(),c=a.C(1),g=a.C(2).ua();return()=>e(c.sq(),g(),";")},a=>{const e=a.C(0).ua(),c=a.C(1),g=a.C(2).L,m=a.C(3).ua(),h=a.C(4);return()=>e(c.sq(),(g.H()+1)%m(h.sq(),";"),";")},()=>"Button",a=>{const e=a.C(0);return()=>Math.floor(.875*e.sq())},a=>
{const e=a.C(0);return()=>e.sq()},a=>{const e=a.C(0),c=a.C(1),g=a.C(2),m=a.C(3);return()=>d.nt(e.Ac(),c.Ac(),g.Ac())*m.Of()},a=>{const e=a.C(0),c=a.C(1),g=a.C(2);return()=>b(e.Ac(),c.Ac())+g.Ac()},a=>{const e=a.C(0),c=a.C(1),g=a.C(2);return()=>b(e.Ac(),Math.round(c.Ac()))+g.Ac()},a=>{const e=a.C(0),c=a.C(1),g=a.C(2).ua(),m=a.C(3),h=a.C(4),l=a.C(5),n=a.C(6),p=a.C(7);return()=>b(e.Ac(),Math.floor(c.Ac()))+"."+g(Math.floor((m.Ac()-Math.floor(h.Ac()))*Math.pow(10,l.Ac())),n.Ac())+p.Ac()},a=>{const e=
a.C(0),c=a.C(1),g=a.C(2),m=a.C(3),h=a.C(4).ua(),l=a.C(5),n=a.C(6),p=a.C(7),r=a.C(8);return()=>Math.round(d.Ud(e.Ac(),c.Ac(),d.nt(g.Of(),m.Of(),d.da(h(),l.Of(),n.Of())))/p.Ac())*r.Ac()}]};
